{"version":3,"sources":["./node_modules/bcdice/lib/bcdice/game_system/Paranoia.js","./node_modules/bcdice/lib/bcdice/game_system/HarnMaster.js","./node_modules/bcdice/lib/bcdice/game_system/YearZeroEngine.js","./node_modules/bcdice/lib/bcdice/game_system/DarkSouls.js","./node_modules/bcdice/lib/bcdice/game_system/DiceBot.js","./node_modules/bcdice/lib/bcdice/game_system/TokyoNova.js","./node_modules/bcdice/lib/bcdice/game_system/RecordOfLodossWar.js","./node_modules/bcdice/lib/bcdice/game_system/BBN.js","./node_modules/bcdice/lib/bcdice/game_system/OrgaRain.js","./node_modules/bcdice/lib/bcdice/game_system/WARPS.js","./node_modules/bcdice/lib/bcdice/game_system/Airgetlamh.js","./node_modules/bcdice/lib/bcdice/game_system/Arianrhod.js","./node_modules/bcdice/lib/bcdice/game_system/ZettaiReido.js","./node_modules/bcdice/lib/bcdice/game_system/NjslyrBattle.js","./node_modules/bcdice/lib/bcdice/game_system/RecordOfSteam.js","./node_modules/bcdice/lib/bcdice/game_system/RuneQuest.js","./node_modules/bcdice/lib/bcdice/game_system/WaresBlade.js","./node_modules/bcdice/lib/bcdice/game_system/Ainecadette.js","./node_modules/bcdice/lib/bcdice/game_system/JamesBond.js","./node_modules/bcdice/lib/bcdice/game_system/InfiniteFantasia.js","./node_modules/bcdice/lib/bcdice/game_system/StrangerOfSwordCity.js","./node_modules/bcdice/lib/bcdice/game_system/EclipsePhase.js","./node_modules/bcdice/lib/bcdice/game_system/SamsaraBallad.js","./node_modules/bcdice/lib/bcdice/game_system/Illusio.js","./node_modules/bcdice/lib/bcdice/game_system/Hieizan.js","./node_modules/bcdice/lib/bcdice/game_system/CodeLayerd.js","./node_modules/bcdice/lib/bcdice/game_system/WorldOfDarkness.js","./node_modules/bcdice/lib/bcdice/game_system/CrashWorld.js","./node_modules/bcdice/lib/bcdice/game_system/Emoklore.js","./node_modules/bcdice/lib/bcdice/game_system/DungeonsAndDragons.js","./node_modules/bcdice/lib/bcdice/game_system/EndBreaker.js","./node_modules/bcdice/lib/bcdice/game_system/ShinMegamiTenseiKakuseihen.js","./node_modules/bcdice/lib/bcdice/game_system/RokumonSekai2.js","./node_modules/bcdice/lib/bcdice/game_system/RoleMaster.js","./node_modules/bcdice/lib/bcdice/game_system/VampireTheMasquerade5th.js","./node_modules/bcdice/lib/bcdice/game_system/PhantasmAdventure.js","./node_modules/bcdice/lib/bcdice/game_system/Elric.js","./node_modules/bcdice/lib/bcdice/game_system/GeishaGirlwithKatana.js","./node_modules/bcdice/lib/bcdice/game_system/Comes.js","./node_modules/bcdice/lib/bcdice/game_system/Chill.js","./node_modules/bcdice/lib/bcdice/game_system/StratoShout.js","./node_modules/bcdice/lib/bcdice/game_system/IthaWenUa.js","./node_modules/bcdice/lib/bcdice/game_system/Alsetto.js","./node_modules/bcdice/lib/bcdice/game_system/TokyoGhostResearch.js","./node_modules/bcdice/lib/bcdice/game_system/Pendragon.js","./node_modules/bcdice/lib/bcdice/game_system/Fiasco.js","./node_modules/bcdice/lib/bcdice/game_system/ShadowRun4.js","./node_modules/bcdice/lib/bcdice/game_system/LostRecord.js","./node_modules/bcdice/lib/bcdice/game_system/Avandner.js","./node_modules/bcdice/lib/bcdice/game_system/AFF2e.js","./node_modules/bcdice/lib/bcdice/game_system/Pathfinder.js","./node_modules/bcdice/lib/bcdice/game_system/ShadowRun5.js","./node_modules/bcdice/lib/bcdice/game_system/TokumeiTenkousei.js","./node_modules/bcdice/lib/bcdice/game_system/DiceOfTheDead.js","./node_modules/bcdice/lib/bcdice/game_system/GoldenSkyStories.js","./node_modules/bcdice/lib/bcdice/game_system/StratoShout_Korean.js","./node_modules/bcdice/lib/bcdice/game_system/SharedFantasia.js","./node_modules/bcdice/lib/bcdice/game_system/TherapieSein.js","./node_modules/bcdice/lib/bcdice/game_system/Chill3.js","./node_modules/bcdice/lib/bcdice/game_system/Gorilla.js","./node_modules/bcdice/lib/bcdice/game_system/Gundog.js","./node_modules/bcdice/lib/bcdice/game_system/ParanoiaRebooted.js","./node_modules/bcdice/lib/bcdice/game_system/ShadowRun.js"],"names":["require","Opal","$rb_plus","lhs","rhs","self","top","$nesting","nil","$$$","$$","$module","module","$klass","klass","$send2","send2","$truthy","truthy","$base","$parent_nesting","concat","$super","$Paranoia_initialize$1","$Paranoia_eval_game_system_specific_command$2","$Paranoia_getaRoll$3","$$prototype","randomizer","const_set","$register_prefix","def","$$initialize","command","$iter","$$p","$yield","find_super_dispatcher","enabled_upcase_input","$$arity","$$eval_game_system_specific_command","result","$case","$debug","$getaRoll","$$getaRoll","dice","getaString","$roll_once","$rb_le","$HarnMaster_result_1d100$1","$HarnMaster_eval_game_system_specific_command$2","$HarnMaster_getCheckShockResult$3","$HarnMaster_getStrikeLocationHuman$4","$HarnMaster_getLocationSide$5","$HarnMaster_getFaceLocation$6","$HarnMaster_getStrikeLocationHumanUpperTable$7","$HarnMaster_getStrikeLocationHumanNormalTable$8","$HarnMaster_getStrikeLocationHumanDownTable$9","$$result_1d100","total","_dice_total","cmp_op","target","$nothing","$critical","$success","$fumble","$failure","toughness","damage","type","e","$last_match","$to_i","$getCheckShockResult","$getStrikeLocationHuman","$err","rescue","$message","pop_exception","$$getCheckShockResult","dice_list","diceText","text","$roll_barabara","$sum","$join","$$getStrikeLocationHuman","typeName","table","number","part","$getStrikeLocationHumanUpperTable","$getStrikeLocationHumanDownTable","$getStrikeLocationHumanNormalTable","$raise","$get_table_by_number","$getLocationSide","$getFaceLocation","$$getLocationSide","side","$sub","$$getFaceLocation","faceLocation","$$getStrikeLocationHumanUpperTable","$$getStrikeLocationHumanNormalTable","$$getStrikeLocationHumanDownTable","$rb_minus","$rb_gt","$rb_ge","$YearZeroEngine_dice_info_init$1","$YearZeroEngine_eval_game_system_specific_command$2","$YearZeroEngine_make_result_text$3","$YearZeroEngine_make_result_with_yze$4","$YearZeroEngine_make_result_with_myz$5","$YearZeroEngine_make_dice_roll$6","total_success_dice","total_botch_dice","base_botch_dice","push_dice","skill_botch_dice","gear_botch_dice","difficulty","$$dice_info_init","$a","$b","m","command_type","dice_pool","ability_dice_text","success_dice","botch_dice","dice_count_text","dice_text","skill_dice_text","modified_dice_text","$match","$dice_info_init","$make_dice_roll","to_ary","$make_result_text","$$make_result_text","$make_result_with_yze","$make_result_with_myz","$$make_result_with_yze","result_text","$$make_result_with_myz","$$make_dice_roll","$count","$rb_times","$rb_lt","$send","send","$DarkSouls_eval_game_system_specific_command$1","$DarkSouls_checkRoll$2","$DarkSouls_getValue$4","$DarkSouls_getValueText$5","diceCount","$ret_or_1","isActive","modify","$ret_or_2","output","$upcase","$getValue","$checkRoll","$$checkRoll","$$3","successValue","modifyText","targetText","diceArray","focusDamage","focusText","$getValueText","$split","$to_proc","i","$$s","$to_s","$$getValue","$ret_or_3","$eval","$$getValueText","value","$rb_divide","$hash2","hash2","$RecordOfLodossWar_eval_game_system_specific_command$1","parser","cmd","auto_failure","critical","dice_value","sequence","$new","$round_type","$restrict_cmp_op_to","$parse","$cmp_op","$command","$target_number","$to_f","$ceil","$compact","$BBN_eval_game_system_specific_command$1","$BBN_parse$2","$BBN_critical_base$3","$BBN_critical_$ques$4","$BBN_fumble_$ques$5","$BBN_additional_roll$6","roll_times","modify_str","fumble","dice_str","to_a","$additional_roll","$push","$private","$$parse","base","$critical_base","$$critical_base","$$additional_roll","additional_dice","reroll_count","dice_total","$OrgaRain_initialize$1","$OrgaRain_eval_game_system_specific_command$2","$OrgaRain_check_roll$3","sort_add_dice","dice_count","count_no","$each_char","$sort","$check_roll","$$check_roll","$$4","$$5","dice_array","result_array","success","count_text","x","multiple","$WARPS_result_2d6$1","$$result_2d6","_dice_list","$Airgetlamh_initialize$1","$Airgetlamh_eval_game_system_specific_command$2","$Airgetlamh_checkRoll$3","criticalTrigger","criticalNumber","$ret_or_4","$ret_or_5","totalSuccessCount","totalCriticalCount","rollCount","successCount","criticalCount","isDamage","totalDamage","$Arianrhod_initialize$1","$Arianrhod_result_nd6$2","d66_sort_type","$$result_nd6","n_max","$size","$ZettaiReido_eval_game_system_specific_command$1","$ZettaiReido_roll2DR$2","$ZettaiReido_roll2DarkDice$3","$ZettaiReido_changeDiceToDarkDice$4","$ZettaiReido_getModInfo$5","$ZettaiReido_getDiffInfo$6","$ZettaiReido_getDarkPointResult$7","$ZettaiReido_getSuccessText$8","baseAvility","modText","diffValue","$roll2DR","$$roll2DR","diceTotal","darkPoint","mod","diff","diffText","successText","darkPointText","$roll2DarkDice","$getModInfo","$getDiffInfo","$getSuccessText","$getDarkPointResult","$$roll2DarkDice","dice1","dice2","darkDice1","darkPoint1","darkDice2","darkPoint2","darkTotal","darkDiceText","$changeDiceToDarkDice","$$changeDiceToDarkDice","darkDice","$$getModInfo","$$getDiffInfo","$$getDarkPointResult","_total","_diff","$$getSuccessText","successLevel","$NjslyrBattle_result_2d6$1","$NjslyrBattle_juuten$2","$writer","$text","$juuten","$$juuten","juuten","$RecordOfSteam_eval_game_system_specific_command$1","$RecordOfSteam_getDiceRollResult$2","$RecordOfSteam_getRoundCountText$4","$RecordOfSteam_getSuccessText$5","$RecordOfSteam_getSpecialText$6","$RecordOfSteam_getFumbleText$7","targetNumber","criticalValue","specialValue","rollResult","roundCount","specialCount","fumbleCount","roundCountText","specialText","fumbleText","$getDiceRollResult","$getRoundCountText","$getSpecialText","$getFumbleText","$$getDiceRollResult","specialFlag","fumbleFlag","diceList","diceListText","$uniq","$length","$first","diceValue","$$getRoundCountText","$$getSpecialText","$$getFumbleText","$RuneQuest_result_1d100$1","critical_value","$round","$WaresBlade_result_nd10$1","$$result_nd10","_target","$Ainecadette_eval_game_system_specific_command$1","$Ainecadette_roll_action$2","$roll_action","$$roll_action","is_senpai","times","sides","max","me","$max","$JamesBond_result_1d100$1","$floor","$InfiniteFantasia_result_1d20$1","$$result_1d20","$$2","r","$StrangerOfSwordCity_initialize$1","$StrangerOfSwordCity_eval_game_system_specific_command$2","$StrangerOfSwordCity_checkRoll$3","$StrangerOfSwordCity_getModifyText$4","$StrangerOfSwordCity_getCriticalResult$5","$StrangerOfSwordCity_isFumble$7","round_type","totalValue","criticalResult","$getModifyText","$getCriticalResult","$isFumble","$$getModifyText","$$getCriticalResult","$$6","dice6Count","$$isFumble","$$8","$EclipsePhase_result_1d100$1","dice_ten_place","dice_one_place","diff_threshold","$SamsaraBallad_eval_game_system_specific_command$1","$SamsaraBallad_compare$3","$SamsaraBallad_fumble_$ques$4","$SamsaraBallad_critical_$ques$5","places_text","a","b","places","cmp_result","$enable_critical","$enable_fumble","n","$compare","$$compare","$Illusio_initialize$1","$Illusio_eval_game_system_specific_command$2","$Illusio_check_roll$3","block_no","is_parry","block_text","block_text2","$Hieizan_result_1d100$1","$CodeLayerd_initialize$1","$CodeLayerd_eval_game_system_specific_command$2","$CodeLayerd_check_roll$3","sides_implicit_d","modifier1","critical_target","modifier2","modifier","success_count","critical_count","success_total","mod_text","success_text","$modifier","$WorldOfDarkness_initialize$1","$WorldOfDarkness_eval_game_system_specific_command$2","$WorldOfDarkness_roll_wod$3","successDice","botchDice","rerollDice","$c","auto_success","enabled_reroll","enabled_20th","md","total_success","total_botch","botch","$roll_wod","$$roll_wod","enabled_botch","auto_success_value","c","dice_now","d","Range","$min","$CrashWorld_eval_game_system_specific_command$1","$CrashWorld_getCrashWorldRoll$2","$getCrashWorldRoll","$$getCrashWorldRoll","isEnd","successness","num","$Emoklore_eval_game_system_specific_command$1","$Emoklore_dice_roll$2","$Emoklore_result_text$6","$Emoklore_roll_dm$7","$Emoklore_roll_da$8","$roll_dm","$roll_da","$$dice_roll","num_dice","success_threshold","values","values_without_critical","success_value","$result_text","$$result_text","$$roll_dm","ret_str","$dice_roll","$$roll_da","bonus","$range","range","$EndBreaker_initialize$1","$EndBreaker_eval_game_system_specific_command$2","$EndBreaker_checkRoll$3","$EndBreaker_getLifeAndDeathUnknownResult$7","tableName","$getLifeAndDeathUnknownResult","diceFullList","$concat","count","$$getLifeAndDeathUnknownResult","$get_table_by_d66","$ShinMegamiTenseiKakuseihen_check_1D100$1","$ShinMegamiTenseiKakuseihen_split_tens$2","$ShinMegamiTenseiKakuseihen_getCheckResultText$3","$ShinMegamiTenseiKakuseihen_getCheckResult$4","$ShinMegamiTenseiKakuseihen_getSuccessResult$5","$ShinMegamiTenseiKakuseihen_getFailResult$6","$$check_1D100","total1","total2","isRepdigit","$split_tens","$getCheckResultText","$$split_tens","ones","tens","$$getCheckResultText","checkResult","$getCheckResult","$format","$$getCheckResult","$getSuccessResult","$getFailResult","$$getSuccessResult","$$getFailResult","$RokumonSekai2_initialize$1","$RokumonSekai2_replace_text$2","$RokumonSekai2_eval_game_system_specific_command$5","$RokumonSekai2_rokumon2_roll$6","$RokumonSekai2_rokumon2_suc_rank$9","$$replace_text","string","abl","dstr","suc","sum","$replace_text","$rokumon2_roll","$rokumon2_suc_rank","$$rokumon2_roll","$$7","dicestr","cnt5","cnt2","$abs","_i","$shift","$pop","die1","$$rokumon2_suc_rank","suc_rank","$RoleMaster_initialize$1","upper_dice_reroll_threshold","$VampireTheMasquerade5th_eval_game_system_specific_command$1","$VampireTheMasquerade5th_get_critical_success$2","$VampireTheMasquerade5th_make_dice_roll$3","$VampireTheMasquerade5th_get_success_result$5","$VampireTheMasquerade5th_get_fail_result$6","ten_dice","hunger_dice_pool","hunger_dice_text","hunger_success_dice","hunger_ten_dice","hunger_botch_dice","judgment_result","$get_critical_success","$get_success_result","$get_fail_result","$$get_critical_success","$$get_success_result","is_critical","$$get_fail_result","$PhantasmAdventure_result_1d20$1","skill_mod","fum_num","fum_str","crit_num","$Elric_result_1d100$1","$hash","hash","$GeishaGirlwithKatana_eval_game_system_specific_command$1","$GeishaGirlwithKatana_isChomba$2","$GeishaGirlwithKatana_getChombaResultText$3","$GeishaGirlwithKatana_getYaku$4","$GeishaGirlwithKatana_getDemeZorome$5","$GeishaGirlwithKatana_getResultTextByDice$6","$GeishaGirlwithKatana_getResultText$7","chomba_counter","yakuResult","deme","zorome","yp","$getChombaResultText","$isChomba","$getYaku","$getResultTextByDice","$getDemeZorome","$$isChomba","chomba","$$getChombaResultText","$getResultText","$$getYaku","rule","yaku","$$getDemeZorome","$$getResultTextByDice","$$getResultText","$Comes_initialize$1","$Comes_eval_game_system_specific_command$2","$roll_tables","$class","$freeze","$keys","$Chill_result_1d100$1","$Chill_eval_game_system_specific_command$2","$Chill_roll_strike_rank_result$3","$Chill_check_strike_rank$4","$roll_strike_rank_result","$$roll_strike_rank_result","wounds","sta_loss","dice_add","strikeRank","dice_w","dice_wa","dice_ws","_dice","wounds_wk","$check_strike_rank","$$check_strike_rank","$StratoShout_initialize$1","$StratoShout_result_2d6$2","$StratoShout_eval_game_system_specific_command$3","$translate","$roll_command","$translate_tables$4","$translate_rtt$5","$$translate_tables","locale","$from_i18n","$$translate_rtt","get_singleton_class","$translate_tables","$translate_rtt","$prefixes","$IthaWenUa_result_1d100$1","$Alsetto_initialize$1","$Alsetto_eval_game_system_specific_command$2","$Alsetto_checkRoll$3","rapid","isCritical","$TokyoGhostResearch_eval_game_system_specific_command$1","$TokyoGhostResearch_getCheckResult$2","$TokyoGhostResearch_getCheckResultText$3","$TokyoGhostResearch_tgr_opening_table$4","$TokyoGhostResearch_tgr_common_trouble_table$5","$TokyoGhostResearch_get_1d10_table_result$6","$TokyoGhostResearch_get_table_result$7","$tgr_opening_table","$tgr_common_trouble_table","total_n","$$tgr_opening_table","name","$get_1d10_table_result","$$tgr_common_trouble_table","$$get_1d10_table_result","$get_table_result","$$get_table_result","$Pendragon_result_1d20$1","$Fiasco_eval_game_system_specific_command$1","$Fiasco_roll_fs$2","$Fiasco_roll_white_black_single$5","$Fiasco_roll_white_black$6","$Fiasco_color$7","$roll_fs","$roll_white_black","$roll_white_black_single","$$roll_fs","bucket","val","$$roll_white_black_single","$color","$roll","$total","$$roll_white_black","result_a","result_b","$diff","$$color","$Side_initialize$8","$Side_roll$9","$Side_diff$10","color","$$roll","$$diff","other","$attr_reader","$ShadowRun4_initialize$1","$ShadowRun4_grich_text$2","sort_barabara_dice","reroll_dice_reroll_threshold","default_cmp_op","default_target_number","$$grich_text","numberSpot1","dice_cnt_total","dice_cnt_total_half","$LostRecord_initialize$1","$Avandner_initialize$1","$Avandner_eval_game_system_specific_command$2","$Avandner_checkRoll$3","$AFF2e_explicit_sign$1","$AFF2e_eval_term$2","$AFF2e_parentheses$4","$AFF2e_successful_or_failed$5","$AFF2e_critical$6","$AFF2e_clamp$7","$AFF2e_eval_game_system_specific_command$8","$$explicit_sign","$$eval_term","term","fact","$$parentheses","str","$$successful_or_failed","$$critical","$$clamp","min","$$9","dice_command","expr","succ","corr","crit","damage_slots","slot_number","$post_match","$eval_term","$successful_or_failed","$parentheses","$explicit_sign","t","$clamp","modules","$require","$ShadowRun5_initialize$1","$ShadowRun5_eval_game_system_specific_command$2","$ShadowRun5_grich_text$3","b_dice","limit","output_before_limited","output_after_limited","before_suc_cnt","after_suc_cnt","over_suc_cnt","$gsub","$TokumeiTenkousei_initialize$1","$TokumeiTenkousei_eval_game_system_specific_command$2","$TokumeiTenkousei_same_all_dice$ques$3","$TokumeiTenkousei_interim_expr$4","$TokumeiTenkousei_epp$6","dice_list_flatten","count_one","$flatten","$modify_number","$interim_expr","$epp","$$interim_expr","ds","$$epp","$DiceOfTheDead_initialize$1","$DiceOfTheDead_eval_game_system_specific_command$2","$DiceOfTheDead_checkInfection$5","$DiceOfTheDead_rollZombie$7","$checkInfection","$rollZombie","$$checkInfection","d1","d2","index1","index2","$$rollZombie","minDice","maxDice","index","_number","$last","$assoc","$GoldenSkyStories_initialize$1","$GoldenSkyStories_eval_game_system_specific_command$2","$GoldenSkyStories_getaRoll$3","$StratoShout_Korean_initialize$1","$register_prefix_from_super_class","$SharedFantasia_change_text$1","$SharedFantasia_result_2d6$2","$$change_text","totalValueBonus","$TherapieSein_eval_game_system_specific_command$1","$TherapieSein_checkRoll$3","$TherapieSein_getValueText$4","hasCritical","modifyAddString","modify_list","$scan","$Chill3_result_1d100$1","$Gorilla_change_text$1","$Gorilla_result_2d6$3","_cmp_op","$Gundog_initialize$1","$Gundog_result_1d100$2","enabled_d9","dig10","dig1","$ParanoiaRebooted_eval_game_system_specific_command$1","$ParanoiaRebooted_generate_roll_results$2","$ParanoiaRebooted_get_node_dice_roll$3","$ParanoiaRebooted_get_mutant_power_roll$6","$get_node_dice_roll","$get_mutant_power_roll","$$generate_roll_results","dices","computer_dice_message","results","$dup","$$get_node_dice_roll","parameter_num","success_rate","$generate_roll_results","$$get_mutant_power_roll","failure_rate","message","$ShadowRun_initialize$1"],"mappings":";;;;;;;;;AAAAA,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASC,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAAA,MAAmJC,OAAO,GAAGhB,IAAI,CAACiB,MAAlK;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,UAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CG,sBAA/C;AAAA,YAAuEC,6CAAvE;AAAA,YAAsHC,oBAAtH;AAEApB,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,UAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,OAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,OAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,2CAAL,GAAmD,+BAA/F;AACAF,YAAI,CAACwB,gBAAL,CAAsB,MAAtB;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8BkB,sBAAsB,GAAG,SAASQ,YAAT,CAAsBC,OAAtB,EAA+B;AACpF,cAAIC,KAAK,GAAGV,sBAAsB,CAACW,GAAnC;AAAA,cAAwCC,MAAM,GAAGF,KAAK,IAAIzB,GAA1D;AAAA,cAA+DH,IAAI,GAAG,IAAtE;AAEA,cAAI4B,KAAJ,EAAWV,sBAAsB,CAACW,GAAvB,GAA6B,IAA7B;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+CkB,sBAA/C,EAAuE,KAAvE,EAA8E,IAA9E,CAAP,EAA4F,YAA5F,EAA0G,CAACS,OAAD,CAA1G,EAAqH,IAArH,CAAN;AACA,iBAAQ3B,IAAI,CAACgC,oBAAL,GAA4B,KAApC;AACD,SAPD,EAOGd,sBAAsB,CAACe,OAAvB,GAAiC,CAPpC;AASArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqDmB,6CAA6C,GAAG,SAASe,mCAAT,CAA6CP,OAA7C,EAAsD;AACzJ,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiBmC,MAAM,GAAGhC,GAA1B;AAAA,cAA+BiC,KAAK,GAAGjC,GAAvC;AAGAH,cAAI,CAACqC,MAAL,CAAY,2CAAZ,EAAyDV,OAAzD;AACAQ,gBAAM,GAAG,EAAT;AACAC,eAAK,GAAGT,OAAR;;AACA,cAAI,QAAQ,MAAR,EAAgBS,KAAhB,CAAJ,EAA4B;AAACD,kBAAM,GAAGnC,IAAI,CAACsC,SAAL,EAAT;AAA0B;;AAAA;;AACvD,cAAI1B,OAAO,CAACuB,MAAM,CAAC,SAAD,CAAN,EAAD,CAAX,EAAkC;AAChC,mBAAOhC,GAAP;AAAW;;AAAA;AACb,iBAAO,KAAMwB,OAAN,GAAiB,KAAjB,GAA0BQ,MAAjC;AACD,SAXD,EAWGhB,6CAA6C,CAACc,OAA9C,GAAwD,CAX3D;AAYA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,WAAf,EAA4BoB,oBAAoB,GAAG,SAASmB,UAAT,GAAsB;AAC/E,cAAIvC,IAAI,GAAG,IAAX;AAAA,cAAiBmC,MAAM,GAAGhC,GAA1B;AAAA,cAA+BqC,IAAI,GAAGrC,GAAtC;AAAA,cAA2CsC,UAAU,GAAGtC,GAAxD;AAAA,cAA6DiC,KAAK,GAAGjC,GAArE;AAGAgC,gBAAM,GAAG,EAAT;AACAK,cAAI,GAAGxC,IAAI,CAACsB,UAAL,CAAgBoB,UAAhB,CAA2B,CAA3B,CAAP;AACAP,gBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,WAAT,CAAjB;AACAM,oBAAU,GAAG,EAAb;AACAL,eAAK,GAAGI,IAAR;;AACA,cAAK,CAAD,CAAI,MAAJ,EAAYJ,KAAZ,CAAJ,EAAwB;AAACK,sBAAU,GAAG,MAAb;AAAoB,WAA7C,MACK,IAAK,CAAD,CAAI,MAAJ,EAAYL,KAAZ,CAAJ,EAAwB;AAACK,sBAAU,GAAG,WAAb;AAAyB;;AAAA;AACvDN,gBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAASM,UAAT,CAAjB;AACA,iBAAON,MAAP;AACD,SAbO,EAaLf,oBAAoB,CAACa,OAArB,GAA+B,CAb1B,GAa8B9B,GAb/B,KAauC,UAb9C;AAcD,OAhDD,EAgDGD,QAAQ,CAAC,CAAD,CAhDX,EAgDgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAhDlB,EAgDsCA,QAhDtC;AAiDD,KAtDD,EAsDGA,QAAQ,CAAC,CAAD,CAtDX,EAsDgBA,QAtDhB;AAuDD,GA5DM,CA4DJA,QAAQ,CAAC,CAAD,CA5DJ,EA4DSA,QA5DT,CAAP;AA6DD,CAnED,EAmEGN,IAnEH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS+C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,YAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C6B,0BAA/C;AAAA,YAA2EC,+CAA3E;AAAA,YAA4HC,iCAA5H;AAAA,YAA+JC,oCAA/J;AAAA,YAAqMC,6BAArM;AAAA,YAAoOC,6BAApO;AAAA,YAAmQC,8CAAnQ;AAAA,YAAmTC,+CAAnT;AAAA,YAAoWC,6CAApW;AAEApD,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,YAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,SAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,SAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,OAAL,GAAe,kCAAf,GAAoD,iBAApD,GAAwE,cAAxE,GAAyF,kDAArI;AACAF,YAAI,CAACwB,gBAAL,CAAsB,KAAtB,EAA6B,KAA7B,EAAoC,MAApC,EAA4C,MAA5C;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,eAAf,EAAgC4C,0BAA0B,GAAG,SAASS,cAAT,CAAwBC,KAAxB,EAA+BC,WAA/B,EAA4CC,MAA5C,EAAoDC,MAApD,EAA4D;AACvH,cAAIzD,IAAI,GAAG,IAAX;;AAGA,cAAIyD,MAAM,CAAC,KAAD,CAAN,CAAc,GAAd,CAAJ,EAAwB;AACtB,mBAAOpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBwD,QAAvB,EAAP;AAAyC;;AAAA;;AAC3C,cAAIF,MAAM,CAAC,KAAD,CAAN,CAAc,IAAd,CAAJ,EAAyB,CACxB,CADD,MACO;AACL,mBAAOrD,GAAP;AACD;;AAAA;;AACD,cAAIS,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQG,MAAR,CAAP,CAAX,EAAoC;AAClC,gBAAIH,KAAK,CAAC,IAAD,CAAL,CAAY,CAAZ,EAAe,KAAf,EAAsB,CAAtB,CAAJ,EAA8B;AAC5B,qBAAOjD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuByD,SAAvB,CAAiC,OAAjC,CAAP;AACD,aAFD,MAEO;AACL,qBAAOtD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,IAAhC,CAAP;AACD;AACF,WAND,MAMO,IAAIN,KAAK,CAAC,IAAD,CAAL,CAAY,CAAZ,EAAe,KAAf,EAAsB,CAAtB,CAAJ,EAA8B;AACnC,mBAAOjD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB2D,OAAvB,CAA+B,OAA/B,CAAP;AACD,WAFM,MAEA;AACL,mBAAOxD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4D,QAAvB,CAAgC,IAAhC,CAAP;AACD;;AAAA;AACF,SArBD,EAqBGlB,0BAA0B,CAACX,OAA3B,GAAqC,CArBxC;AAuBArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqD6C,+CAA+C,GAAG,SAASX,mCAAT,CAA6CP,OAA7C,EAAsD;AAC3J,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiBmC,MAAM,GAAGhC,GAA1B;AAAA,cAA+BiC,KAAK,GAAGjC,GAAvC;AAAA,cAA4C4D,SAAS,GAAG5D,GAAxD;AAAA,cAA6D6D,MAAM,GAAG7D,GAAtE;AAAA,cAA2E8D,IAAI,GAAG9D,GAAlF;AAAA,cAAuF+D,CAAC,GAAG/D,GAA3F;;AAEA,cAAI;AAEFgC,kBAAM,GAAGhC,GAAT;AACAiC,iBAAK,GAAGT,OAAR;;AACA,gBAAI,mBAAmB,MAAnB,EAA2BS,KAA3B,CAAJ,EAAuC;AACvC2B,uBAAS,GAAG1D,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,EAAsCC,KAAtC,EAAZ;AACAJ,oBAAM,GAAG3D,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,EAAsCC,KAAtC,EAAT;AACAjC,oBAAM,GAAGnC,IAAI,CAACqE,oBAAL,CAA0BL,MAA1B,EAAkCD,SAAlC,CAAT;AAAuD,aAHvD,MAIK,IAAI,aAAa,MAAb,EAAqB3B,KAArB,CAAJ,EAAiC;AACtC6B,kBAAI,GAAG5D,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAAP;AACAhC,oBAAM,GAAGnC,IAAI,CAACsE,uBAAL,CAA6BL,IAA7B,CAAT;AAA6C,aAFxC,MAGA;AAAC9B,oBAAM,GAAGhC,GAAT;AAAa;;AAAA;AACnB,mBAAOgC,MAAP;AACD,WAbD,CAaE,OAAOoC,IAAP,EAAa;AACb,gBAAI3E,IAAI,CAAC4E,MAAL,CAAYD,IAAZ,EAAkB,CAAClE,EAAE,CAACH,QAAD,EAAW,eAAX,CAAH,CAAlB,CAAJ,EAAwD;AAAEgE,eAAC,GAAGK,IAAL;;AACvD,kBAAI;AACF,uBAAOL,CAAC,CAACO,QAAF,EAAP;AACD,eAFD,SAEU;AAAE7E,oBAAI,CAAC8E,aAAL;AAAsB;AACnC,aAJD,MAIO;AAAE,oBAAMH,IAAN;AAAa;AACvB;AACF,SAvBD,EAuBG1B,+CAA+C,CAACZ,OAAhD,GAA0D,CAvB7D;AAyBArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,sBAAf,EAAuC8C,iCAAiC,GAAG,SAAS6B,qBAAT,CAA+BX,MAA/B,EAAuCD,SAAvC,EAAkD;AAC3H,cAAI/D,IAAI,GAAG,IAAX;AAAA,cAAiB4E,SAAS,GAAGzE,GAA7B;AAAA,cAAkCqC,IAAI,GAAGrC,GAAzC;AAAA,cAA8C0E,QAAQ,GAAG1E,GAAzD;AAAA,cAA8DgC,MAAM,GAAGhC,GAAvE;AAAA,cAA4E2E,IAAI,GAAG3E,GAAnF;AAGAyE,mBAAS,GAAG5E,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+Bf,MAA/B,EAAuC,CAAvC,CAAZ;AACAxB,cAAI,GAAGoC,SAAS,CAACI,IAAV,EAAP;AACAH,kBAAQ,GAAGD,SAAS,CAACK,KAAV,CAAgB,GAAhB,CAAX;;AACA9C,gBAAM,GAAI,YAAW;AAAC,gBAAIvB,OAAO,CAAC+B,MAAM,CAACH,IAAD,EAAOuB,SAAP,CAAP,CAAX,EAAsC;AAC1D,qBAAO,IAAP;AACD,aAFqB,MAEf;AACL,qBAAO,IAAP;AACD;;AAAA;AAAE,mBAAO5D,GAAP;AAAa,WAJP,EAAT;;AAKA2E,cAAI,GAAG,KAAK,cAAL,GAAuBd,MAAvB,GAAiC,QAAjC,GAA6CD,SAA7C,GAA0D,OAA1D,GAAqEvB,IAArE,GAA6E,GAA7E,GAAoFqC,QAApF,GAAgG,OAAhG,GAA2G1C,MAAlH;AACA,iBAAO2C,IAAP;AACD,SAdD,EAcGhC,iCAAiC,CAACb,OAAlC,GAA4C,CAd/C;AAgBArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,yBAAf,EAA0C+C,oCAAoC,GAAG,SAASmC,wBAAT,CAAkCjB,IAAlC,EAAwC;AACvH,cAAIjE,IAAI,GAAG,IAAX;AAAA,cAAiBmF,QAAQ,GAAGhF,GAA5B;AAAA,cAAiCiF,KAAK,GAAGjF,GAAzC;AAAA,cAA8CiC,KAAK,GAAGjC,GAAtD;AAAA,cAA2DkF,MAAM,GAAGlF,GAApE;AAAA,cAAyEmF,IAAI,GAAGnF,GAAhF;AAAA,cAAqFgC,MAAM,GAAGhC,GAA9F;AAGAgF,kBAAQ,GAAG,EAAX;AACAC,eAAK,GAAGjF,GAAR;AACAiC,eAAK,GAAG6B,IAAR;;AACA,cAAI,IAAI,MAAJ,EAAY7B,KAAZ,CAAJ,EAAwB;AACxB+C,oBAAQ,GAAG,aAAX;AACAC,iBAAK,GAAGpF,IAAI,CAACuF,iCAAL,EAAR;AAAkD,WAFlD,MAGK,IAAI,IAAI,MAAJ,EAAYnD,KAAZ,CAAJ,EAAwB;AAC7B+C,oBAAQ,GAAG,aAAX;AACAC,iBAAK,GAAGpF,IAAI,CAACwF,gCAAL,EAAR;AAAiD,WAF5C,MAGA,IAAIrF,GAAG,CAAC,MAAD,CAAH,CAAYiC,KAAZ,CAAJ,EAAwB;AAC7B+C,oBAAQ,GAAG,aAAX;AACAC,iBAAK,GAAGpF,IAAI,CAACyF,kCAAL,EAAR;AAAmD,WAF9C,MAGA;AAACzF,gBAAI,CAAC0F,MAAL,CAAY,KAAK,mBAAL,GAA4BzB,IAAxC;AAA+C;;AAAA;AACrDoB,gBAAM,GAAGrF,IAAI,CAACsB,UAAL,CAAgBoB,UAAhB,CAA2B,GAA3B,CAAT;AACA4C,cAAI,GAAGtF,IAAI,CAAC2F,oBAAL,CAA0BN,MAA1B,EAAkCD,KAAlC,CAAP;AACAE,cAAI,GAAGtF,IAAI,CAAC4F,gBAAL,CAAsBN,IAAtB,EAA4BD,MAA5B,CAAP;AACAC,cAAI,GAAGtF,IAAI,CAAC6F,gBAAL,CAAsBP,IAAtB,CAAP;AACAnD,gBAAM,GAAG,KAAMgD,QAAN,GAAkB,MAAlB,GAA4BE,MAA5B,GAAsC,GAAtC,GAA6CC,IAAtD;AACA,iBAAOnD,MAAP;AACD,SAvBD,EAuBGY,oCAAoC,CAACd,OAArC,GAA+C,CAvBlD;AAyBArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,kBAAf,EAAmCgD,6BAA6B,GAAG,SAAS8C,iBAAT,CAA2BR,IAA3B,EAAiCD,MAAjC,EAAyC;AAC1G,cAAIrF,IAAI,GAAG,IAAX;AAAA,cAAiB+F,IAAI,GAAG5F,GAAxB;;AAGA,cAAIS,OAAO,CAAC0E,IAAI,CAAC,KAAD,CAAJ,CAAY,KAAZ,CAAD,CAAX,EAAiC,CAChC,CADD,MACO;AAELtF,gBAAI,CAACqC,MAAL,CAAY,kBAAZ,EAAgCiD,IAAhC;AACA,mBAAOA,IAAP;AACD;;AAAA;AACDtF,cAAI,CAACqC,MAAL,CAAY,eAAZ,EAA6BiD,IAA7B;;AACAS,cAAI,GAAI,YAAW;AAAC,gBAAInF,OAAO,CAACyE,MAAM,CAAC,OAAD,CAAN,EAAD,CAAX,EAAgC;AAClD,qBAAO,GAAP;AACD,aAFmB,MAEb;AACL,qBAAO,GAAP;AACD;;AAAA;AAAE,mBAAOlF,GAAP;AAAa,WAJT,EAAP;;AAKA,iBAAOmF,IAAI,CAACU,IAAL,CAAU,IAAV,EAAgBD,IAAhB,CAAP;AACD,SAjBD,EAiBG/C,6BAA6B,CAACf,OAA9B,GAAwC,CAjB3C;AAmBArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,kBAAf,EAAmCiD,6BAA6B,GAAG,SAASgD,iBAAT,CAA2BX,IAA3B,EAAiC;AAClG,cAAItF,IAAI,GAAG,IAAX;AAAA,cAAiBoF,KAAK,GAAGjF,GAAzB;AAAA,cAA8BkF,MAAM,GAAGlF,GAAvC;AAAA,cAA4C+F,YAAY,GAAG/F,GAA3D;AAAA,cAAgEgC,MAAM,GAAGhC,GAAzE;AAGAH,cAAI,CAACqC,MAAL,CAAY,sBAAZ,EAAoCiD,IAApC;;AACA,cAAI1E,OAAO,CAAC0E,IAAI,CAAC,KAAD,CAAJ,CAAY,KAAZ,CAAD,CAAX,EAAiC,CAChC,CADD,MACO;AAELtF,gBAAI,CAACqC,MAAL,CAAY,aAAZ;AACA,mBAAOiD,IAAP;AACD;;AAAA;AACDtF,cAAI,CAACqC,MAAL,CAAY,SAAZ;AACA+C,eAAK,GAAG,CAAC,CAAC,EAAD,EAAK,GAAL,CAAD,EAAY,CAAC,EAAD,EAAK,IAAL,CAAZ,EAAwB,CAAC,EAAD,EAAK,IAAL,CAAxB,EAAoC,CAAC,EAAD,EAAK,GAAL,CAApC,EAA+C,CAAC,EAAD,EAAK,IAAL,CAA/C,EAA2D,CAAC,GAAD,EAAM,GAAN,CAA3D,CAAR;AACAC,gBAAM,GAAGrF,IAAI,CAACsB,UAAL,CAAgBoB,UAAhB,CAA2B,GAA3B,CAAT;AACAwD,sBAAY,GAAGlG,IAAI,CAAC2F,oBAAL,CAA0BN,MAA1B,EAAkCD,KAAlC,CAAf;AACApF,cAAI,CAACqC,MAAL,CAAY,cAAZ,EAA4B6D,YAA5B;AACAlG,cAAI,CAACqC,MAAL,CAAY,QAAZ,EAAsBgD,MAAtB;AACAa,sBAAY,GAAGlG,IAAI,CAAC4F,gBAAL,CAAsBM,YAAtB,EAAoCb,MAApC,CAAf;AACAlD,gBAAM,GAAGmD,IAAI,CAACU,IAAL,CAAU,KAAV,EAAiB,KAAK,MAAL,GAAeX,MAAf,GAAyB,GAAzB,GAAgCa,YAAjD,CAAT;AACA,iBAAO/D,MAAP;AACD,SApBD,EAoBGc,6BAA6B,CAAChB,OAA9B,GAAwC,CApB3C;AAsBArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,mCAAf,EAAoDkD,8CAA8C,GAAG,SAASiD,kCAAT,GAA8C;AACjJ,cAAInG,IAAI,GAAG,IAAX;AAAA,cAAiBoF,KAAK,GAAGjF,GAAzB;AAGAiF,eAAK,GAAG,CAAC,CAAC,EAAD,EAAK,IAAL,CAAD,EAAa,CAAC,EAAD,EAAK,IAAL,CAAb,EAAyB,CAAC,EAAD,EAAK,GAAL,CAAzB,EAAoC,CAAC,EAAD,EAAK,IAAL,CAApC,EAAgD,CAAC,EAAD,EAAK,KAAL,CAAhD,EAA6D,CAAC,EAAD,EAAK,IAAL,CAA7D,EAAyE,CAAC,EAAD,EAAK,KAAL,CAAzE,EAAsF,CAAC,EAAD,EAAK,IAAL,CAAtF,EAAkG,CAAC,EAAD,EAAK,IAAL,CAAlG,EAA8G,CAAC,GAAD,EAAM,IAAN,CAA9G,CAAR;AACA,iBAAOA,KAAP;AACD,SAND,EAMGlC,8CAA8C,CAACjB,OAA/C,GAAyD,CAN5D;AAQArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqDmD,+CAA+C,GAAG,SAASiD,mCAAT,GAA+C;AACpJ,cAAIpG,IAAI,GAAG,IAAX;AAAA,cAAiBoF,KAAK,GAAGjF,GAAzB;AAGAiF,eAAK,GAAG,CAAC,CAAC,CAAD,EAAI,IAAJ,CAAD,EAAY,CAAC,EAAD,EAAK,IAAL,CAAZ,EAAwB,CAAC,EAAD,EAAK,GAAL,CAAxB,EAAmC,CAAC,EAAD,EAAK,IAAL,CAAnC,EAA+C,CAAC,EAAD,EAAK,KAAL,CAA/C,EAA4D,CAAC,EAAD,EAAK,IAAL,CAA5D,EAAwE,CAAC,EAAD,EAAK,KAAL,CAAxE,EAAqF,CAAC,EAAD,EAAK,IAAL,CAArF,EAAiG,CAAC,EAAD,EAAK,IAAL,CAAjG,EAA6G,CAAC,EAAD,EAAK,IAAL,CAA7G,EAAyH,CAAC,EAAD,EAAK,IAAL,CAAzH,EAAqI,CAAC,EAAD,EAAK,KAAL,CAArI,EAAkJ,CAAC,EAAD,EAAK,IAAL,CAAlJ,EAA8J,CAAC,EAAD,EAAK,IAAL,CAA9J,EAA0K,CAAC,EAAD,EAAK,IAAL,CAA1K,EAAsL,CAAC,GAAD,EAAM,IAAN,CAAtL,CAAR;AACA,iBAAOA,KAAP;AACD,SAND,EAMGjC,+CAA+C,CAAClB,OAAhD,GAA0D,CAN7D;AAOA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,kCAAf,EAAmDoD,6CAA6C,GAAG,SAASiD,iCAAT,GAA6C;AACtJ,cAAIrG,IAAI,GAAG,IAAX;AAAA,cAAiBoF,KAAK,GAAGjF,GAAzB;AAGAiF,eAAK,GAAG,CAAC,CAAC,CAAD,EAAI,KAAJ,CAAD,EAAa,CAAC,EAAD,EAAK,IAAL,CAAb,EAAyB,CAAC,EAAD,EAAK,IAAL,CAAzB,EAAqC,CAAC,EAAD,EAAK,IAAL,CAArC,EAAiD,CAAC,EAAD,EAAK,IAAL,CAAjD,EAA6D,CAAC,EAAD,EAAK,KAAL,CAA7D,EAA0E,CAAC,EAAD,EAAK,IAAL,CAA1E,EAAsF,CAAC,EAAD,EAAK,IAAL,CAAtF,EAAkG,CAAC,EAAD,EAAK,IAAL,CAAlG,EAA8G,CAAC,GAAD,EAAM,IAAN,CAA9G,CAAR;AACA,iBAAOA,KAAP;AACD,SANO,EAMLhC,6CAA6C,CAACnB,OAA9C,GAAwD,CANnD,GAMuD9B,GANxD,KAMgE,iCANvE;AAOD,OArKD,EAqKGD,QAAQ,CAAC,CAAD,CArKX,EAqKgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CArKlB,EAqKsCA,QArKtC;AAsKD,KA3KD,EA2KGA,QAAQ,CAAC,CAAD,CA3KX,EA2KgBA,QA3KhB;AA4KD,GAjLM,CAiLJA,QAAQ,CAAC,CAAD,CAjLJ,EAiLSA,QAjLT,CAAP;AAkLD,CAxLD,EAwLGN,IAxLH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASC,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASuG,SAAT,CAAmBxG,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASwG,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,gBAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C0F,gCAA/C;AAAA,YAAiFC,mDAAjF;AAAA,YAAsIC,kCAAtI;AAAA,YAA0KC,sCAA1K;AAAA,YAAkNC,sCAAlN;AAAA,YAA0PC,gCAA1P;AAEA9G,YAAI,CAACqB,WAAL,CAAiB0F,kBAAjB,GAAsC/G,IAAI,CAACqB,WAAL,CAAiB2F,gBAAjB,GAAoChH,IAAI,CAACqB,WAAL,CAAiB4F,eAAjB,GAAmCjH,IAAI,CAACqB,WAAL,CAAiB6F,SAAjB,GAA6BlH,IAAI,CAACqB,WAAL,CAAiB8F,gBAAjB,GAAoCnH,IAAI,CAACqB,WAAL,CAAiB+F,eAAjB,GAAmCpH,IAAI,CAACqB,WAAL,CAAiBgG,UAAjB,GAA8BrH,IAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA7Q;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,gBAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,gBAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,WAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,sBAAL,GAA8B,uDAA9B,GAAwF,IAAxF,GAA+F,sBAA/F,GAAwH,iEAAxH,GAA4L,IAA5L,GAAmM,4BAA/O;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,kBAA5B,EAAgD,CAAhD;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,oBAA5B,EAAkD,CAAlD;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,eAA5B,EAA6C,CAA7C;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,aAA5B,EAA2C,CAA3C;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,gBAA5B,EAA8C,CAA9C;AACAF,YAAI,CAACwB,gBAAL,CAAsB,kBAAtB;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,iBAAf,EAAkCyG,gCAAgC,GAAG,SAASa,gBAAT,GAA4B;AAC/F,cAAItH,IAAI,GAAG,IAAX;AAGAA,cAAI,CAAC+G,kBAAL,GAA0B,CAA1B;AACA/G,cAAI,CAACgH,gBAAL,GAAwB,CAAxB;AACAhH,cAAI,CAACiH,eAAL,GAAuB,CAAvB;AACAjH,cAAI,CAACmH,gBAAL,GAAwB,CAAxB;AACAnH,cAAI,CAACoH,eAAL,GAAuB,CAAvB;AACApH,cAAI,CAACkH,SAAL,GAAiB,CAAjB;AACA,iBAAQlH,IAAI,CAACqH,UAAL,GAAkB,CAA1B;AACD,SAXD,EAWGZ,gCAAgC,CAACxE,OAAjC,GAA2C,CAX9C;AAaArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqD0G,mDAAmD,GAAG,SAASxE,mCAAT,CAA6CP,OAA7C,EAAsD;AAC/J,cAAI4F,EAAJ;AAAA,cAAQC,EAAR;AAAA,cAAYxH,IAAI,GAAG,IAAnB;AAAA,cAAyByH,CAAC,GAAGtH,GAA7B;AAAA,cAAkCuH,YAAY,GAAGvH,GAAjD;AAAA,cAAsDwH,SAAS,GAAGxH,GAAlE;AAAA,cAAuEyH,iBAAiB,GAAGzH,GAA3F;AAAA,cAAgG0H,YAAY,GAAG1H,GAA/G;AAAA,cAAoH2H,UAAU,GAAG3H,GAAjI;AAAA,cAAsI4H,eAAe,GAAG5H,GAAxJ;AAAA,cAA6J6H,SAAS,GAAG7H,GAAzK;AAAA,cAA8K8H,eAAe,GAAG9H,GAAhM;AAAA,cAAqM+H,kBAAkB,GAAG/H,GAA1N;AAGAsH,WAAC,GAAG,4CAA4CU,MAA5C,CAAmDxG,OAAnD,CAAJ;;AACA,cAAIf,OAAO,CAAC6G,CAAD,CAAX,EAAgB,CACf,CADD,MACO;AACL,mBAAO,EAAP;AACD;;AAAA;AACDzH,cAAI,CAACoI,eAAL;AACApI,cAAI,CAACqH,UAAL,GAAkBI,CAAC,CAAC,KAAD,CAAD,CAASpH,EAAE,CAACH,QAAD,EAAW,kBAAX,CAAX,EAA2CkE,KAA3C,EAAlB;AACAsD,sBAAY,GAAGD,CAAC,CAAC,KAAD,CAAD,CAASpH,EAAE,CAACH,QAAD,EAAW,oBAAX,CAAX,CAAf;AACAF,cAAI,CAAC+G,kBAAL,GAA0B,CAA1B;AACAY,mBAAS,GAAGF,CAAC,CAAC,KAAD,CAAD,CAASpH,EAAE,CAACH,QAAD,EAAW,eAAX,CAAX,EAAwCkE,KAAxC,EAAZ;AACAoD,YAAE,GAAGxH,IAAI,CAACqI,eAAL,CAAqBV,SAArB,CAAL,EAAsCJ,EAAE,GAAG3H,IAAI,CAAC0I,MAAL,CAAYd,EAAZ,CAA3C,EAA6DI,iBAAiB,GAAIL,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAA1G,EAAkHM,YAAY,GAAIN,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAA1J,EAAkKO,UAAU,GAAIP,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAxM,EAA+MC,EAA/M;AACAxH,cAAI,CAAC+G,kBAAL,GAA0BlH,QAAQ,CAACG,IAAI,CAAC+G,kBAAN,EAA0Bc,YAA1B,CAAlC;AACA7H,cAAI,CAACgH,gBAAL,GAAwBnH,QAAQ,CAACG,IAAI,CAACgH,gBAAN,EAAwBc,UAAxB,CAAhC;AACA9H,cAAI,CAACiH,eAAL,GAAuBpH,QAAQ,CAACG,IAAI,CAACiH,eAAN,EAAuBa,UAAvB,CAA/B;AACA9H,cAAI,CAACkH,SAAL,GAAiBrH,QAAQ,CAACG,IAAI,CAACkH,SAAN,EAAiBZ,SAAS,CAACqB,SAAD,EAAY9H,QAAQ,CAACgI,YAAD,EAAeC,UAAf,CAApB,CAA1B,CAAzB;AACAC,yBAAe,GAAG,KAAK,GAAL,GAAYJ,SAAZ,GAAyB,KAA3C;AACAK,mBAAS,GAAGJ,iBAAZ;;AACA,cAAIhH,OAAO,CAAC6G,CAAC,CAAC,KAAD,CAAD,CAASpH,EAAE,CAACH,QAAD,EAAW,aAAX,CAAX,CAAD,CAAX,EAAoD;AAElDyH,qBAAS,GAAGF,CAAC,CAAC,KAAD,CAAD,CAASpH,EAAE,CAACH,QAAD,EAAW,aAAX,CAAX,EAAsCkE,KAAtC,EAAZ;AACAoD,cAAE,GAAGxH,IAAI,CAACqI,eAAL,CAAqBV,SAArB,CAAL,EAAsCJ,EAAE,GAAG3H,IAAI,CAAC0I,MAAL,CAAYd,EAAZ,CAA3C,EAA6DS,eAAe,GAAIV,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAxG,EAAgHM,YAAY,GAAIN,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAxJ,EAAgKO,UAAU,GAAIP,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAtM,EAA6MC,EAA7M;AACAxH,gBAAI,CAAC+G,kBAAL,GAA0BlH,QAAQ,CAACG,IAAI,CAAC+G,kBAAN,EAA0Bc,YAA1B,CAAlC;AACA7H,gBAAI,CAACgH,gBAAL,GAAwBnH,QAAQ,CAACG,IAAI,CAACgH,gBAAN,EAAwBc,UAAxB,CAAhC;AACA9H,gBAAI,CAACmH,gBAAL,GAAwBtH,QAAQ,CAACG,IAAI,CAACmH,gBAAN,EAAwBW,UAAxB,CAAhC;AACA9H,gBAAI,CAACkH,SAAL,GAAiBrH,QAAQ,CAACG,IAAI,CAACkH,SAAN,EAAiBZ,SAAS,CAACqB,SAAD,EAAYE,YAAZ,CAA1B,CAAzB;AACAE,2BAAe,GAAGlI,QAAQ,CAACkI,eAAD,EAAkB,KAAK,IAAL,GAAaJ,SAAb,GAA0B,KAA5C,CAA1B;AACAK,qBAAS,GAAGnI,QAAQ,CAACmI,SAAD,EAAY,KAAK,GAAL,GAAYC,eAAxB,CAApB;AAA+D;;AAAA;;AACjE,cAAIrH,OAAO,CAAC6G,CAAC,CAAC,KAAD,CAAD,CAASpH,EAAE,CAACH,QAAD,EAAW,gBAAX,CAAX,CAAD,CAAX,EAAuD;AAErDyH,qBAAS,GAAGF,CAAC,CAAC,KAAD,CAAD,CAASpH,EAAE,CAACH,QAAD,EAAW,gBAAX,CAAX,EAAyCkE,KAAzC,EAAZ;AACAoD,cAAE,GAAGxH,IAAI,CAACqI,eAAL,CAAqBV,SAArB,CAAL,EAAsCJ,EAAE,GAAG3H,IAAI,CAAC0I,MAAL,CAAYd,EAAZ,CAA3C,EAA6DU,kBAAkB,GAAIX,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAA3G,EAAmHM,YAAY,GAAIN,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAA3J,EAAmKO,UAAU,GAAIP,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAzM,EAAgNC,EAAhN;AACAxH,gBAAI,CAAC+G,kBAAL,GAA0BlH,QAAQ,CAACG,IAAI,CAAC+G,kBAAN,EAA0Bc,YAA1B,CAAlC;AACA7H,gBAAI,CAACgH,gBAAL,GAAwBnH,QAAQ,CAACG,IAAI,CAACgH,gBAAN,EAAwBc,UAAxB,CAAhC;AACA9H,gBAAI,CAACoH,eAAL,GAAuBvH,QAAQ,CAACG,IAAI,CAACoH,eAAN,EAAuBU,UAAvB,CAA/B;AACA9H,gBAAI,CAACkH,SAAL,GAAiBrH,QAAQ,CAACG,IAAI,CAACkH,SAAN,EAAiBZ,SAAS,CAACqB,SAAD,EAAY9H,QAAQ,CAACgI,YAAD,EAAeC,UAAf,CAApB,CAA1B,CAAzB;AACAC,2BAAe,GAAGlI,QAAQ,CAACkI,eAAD,EAAkB,KAAK,IAAL,GAAaJ,SAAb,GAA0B,KAA5C,CAA1B;AACAK,qBAAS,GAAGnI,QAAQ,CAACmI,SAAD,EAAY,KAAK,GAAL,GAAYE,kBAAxB,CAApB;AAAkE;;AAAA;AACpE,iBAAOlI,IAAI,CAACuI,iBAAL,CAAuBb,YAAvB,EAAqCK,eAArC,EAAsDC,SAAtD,CAAP;AACD,SA1CD,EA0CGtB,mDAAmD,CAACzE,OAApD,GAA8D,CA1CjE;AA4CArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,mBAAf,EAAoC2G,kCAAkC,GAAG,SAAS6B,kBAAT,CAA4Bd,YAA5B,EAA0CK,eAA1C,EAA2DC,SAA3D,EAAsE;AAC7I,cAAIhI,IAAI,GAAG,IAAX;;AAGA,cAAI0H,YAAY,CAAC,KAAD,CAAZ,CAAoB,KAApB,CAAJ,EAAgC;AAC9B,mBAAO1H,IAAI,CAACyI,qBAAL,CAA2BV,eAA3B,EAA4CC,SAA5C,CAAP;AACD,WAFD,MAEO,IAAIN,YAAY,CAAC,KAAD,CAAZ,CAAoB,KAApB,CAAJ,EAAgC;AACrC,mBAAO1H,IAAI,CAAC0I,qBAAL,CAA2BX,eAA3B,EAA4CC,SAA5C,CAAP;AAA8D;;AAAA;AAChE,iBAAO,OAAP;AACD,SATD,EASGrB,kCAAkC,CAAC1E,OAAnC,GAA6C,CAThD;AAWArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,uBAAf,EAAwC4G,sCAAsC,GAAG,SAAS+B,sBAAT,CAAgCZ,eAAhC,EAAiDC,SAAjD,EAA4D;AAC3I,cAAIhI,IAAI,GAAG,IAAX;AAAA,cAAiB4I,WAAW,GAAGzI,GAA/B;AAGAyI,qBAAW,GAAG,KAAMb,eAAN,GAAyB,KAAzB,GAAkCC,SAAlC,GAA+C,OAA/C,GAA0DhI,IAAI,CAAC+G,kBAA7E;;AACA,cAAInG,OAAO,CAAC2F,MAAM,CAACvG,IAAI,CAACqH,UAAN,EAAkB,CAAlB,CAAP,CAAX,EAAyC;AACvC,gBAAIzG,OAAO,CAAC4F,MAAM,CAACxG,IAAI,CAAC+G,kBAAN,EAA0B/G,IAAI,CAACqH,UAA/B,CAAP,CAAX,EAA+D;AAC7DuB,yBAAW,GAAG,KAAMA,WAAN,GAAqB,OAArB,GAAgC5I,IAAI,CAACqH,UAArC,GAAmD,QAAjE;AACD,aAFD,MAEO;AACLuB,yBAAW,GAAG,KAAMA,WAAN,GAAqB,OAArB,GAAgC5I,IAAI,CAACqH,UAArC,GAAmD,QAAjE;AACD;AAAC;;AAAA;AACJ,iBAAOuB,WAAP;AACD,SAZD,EAYGhC,sCAAsC,CAAC3E,OAAvC,GAAiD,CAZpD;AAcArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,uBAAf,EAAwC6G,sCAAsC,GAAG,SAASgC,sBAAT,CAAgCd,eAAhC,EAAiDC,SAAjD,EAA4D;AAC3I,cAAIhI,IAAI,GAAG,IAAX;AAAA,cAAiB4I,WAAW,GAAGzI,GAA/B;AAGAyI,qBAAW,GAAG5I,IAAI,CAACyI,qBAAL,CAA2BV,eAA3B,EAA4CC,SAA5C,CAAd;AACA,iBAAO,KAAMY,WAAN,GAAqB,YAArB,GAAqC5I,IAAI,CAACiH,eAA1C,GAA6D,MAA7D,GAAuEjH,IAAI,CAACmH,gBAA5E,GAAgG,QAAhG,GAA4GnH,IAAI,CAACoH,eAAjH,GAAoI,WAApI,GAAmJpH,IAAI,CAACkH,SAAxJ,GAAqK,KAA5K;AACD,SAND,EAMGL,sCAAsC,CAAC5E,OAAvC,GAAiD,CANpD;AAOA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,iBAAf,EAAkC8G,gCAAgC,GAAG,SAASgC,gBAAT,CAA0BnB,SAA1B,EAAqC;AAChH,cAAI3H,IAAI,GAAG,IAAX;AAAA,cAAiB4E,SAAS,GAAGzE,GAA7B;AAAA,cAAkC0H,YAAY,GAAG1H,GAAjD;AAAA,cAAsD2H,UAAU,GAAG3H,GAAnE;AAGAyE,mBAAS,GAAG5E,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+B4C,SAA/B,EAA0C,CAA1C,CAAZ;AACAE,sBAAY,GAAGjD,SAAS,CAACmE,MAAV,CAAiB,CAAjB,CAAf;AACAjB,oBAAU,GAAGlD,SAAS,CAACmE,MAAV,CAAiB,CAAjB,CAAb;AACA,iBAAO,CAAC,KAAK,GAAL,GAAYnE,SAAS,CAACK,KAAV,CAAgB,GAAhB,CAAZ,GAAoC,GAArC,EAA0C4C,YAA1C,EAAwDC,UAAxD,CAAP;AACD,SARO,EAQLhB,gCAAgC,CAAC7E,OAAjC,GAA2C,CARtC,GAQ0C9B,GAR3C,KAQmD,gBAR1D;AASD,OApHD,EAoHGD,QAAQ,CAAC,CAAD,CApHX,EAoHgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CApHlB,EAoHsCA,QApHtC;AAqHD,KA1HD,EA0HGA,QAAQ,CAAC,CAAD,CA1HX,EA0HgBA,QA1HhB;AA2HD,GAhIM,CAgIJA,QAAQ,CAAC,CAAD,CAhIJ,EAgISA,QAhIT,CAAP;AAiID,CAhJD,EAgJGN,IAhJH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASC,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASwG,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASiJ,SAAT,CAAmBlJ,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASkJ,MAAT,CAAgBnJ,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAAA,MAAqJqI,KAAK,GAAGtJ,IAAI,CAACuJ,IAAlK;AAEA,SAAQ,UAASrI,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,WAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CqI,8CAA/C;AAAA,YAA+FC,sBAA/F;AAAA,YAAuHC,qBAAvH;AAAA,YAA8IC,yBAA9I;AAEAvJ,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,WAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,YAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,YAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,sCAAL,GAA8C,kCAA9C,GAAmF,mBAAnF,GAAyG,6BAAzG,GAAyI,iCAAzI,GAA6K,qBAA7K,GAAqM,sBAArM,GAA8N,kCAA9N,GAAmQ,8BAA/S;AACAF,YAAI,CAACwB,gBAAL,CAAsB,iCAAtB;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqDoJ,8CAA8C,GAAG,SAASlH,mCAAT,CAA6CP,OAA7C,EAAsD;AAC1J,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiByH,CAAC,GAAGtH,GAArB;AAAA,cAA0BqJ,SAAS,GAAGrJ,GAAtC;AAAA,cAA2CsJ,SAAS,GAAGtJ,GAAvD;AAAA,cAA4DuJ,QAAQ,GAAGvJ,GAAvE;AAAA,cAA4EwJ,MAAM,GAAGxJ,GAArF;AAAA,cAA0FsD,MAAM,GAAGtD,GAAnG;AAAA,cAAwGyJ,SAAS,GAAGzJ,GAApH;AAAA,cAAyH0J,MAAM,GAAG1J,GAAlI;;AAGA,cAAIS,OAAO,CAAE6G,CAAC,GAAG,mCAAmCU,MAAnC,CAA0CxG,OAAO,CAACmI,OAAR,EAA1C,CAAN,CAAX,EAAiF,CAChF,CADD,MACO;AACL,mBAAO3J,GAAP;AACD;;AAAA;;AACDqJ,mBAAS,GAAI,YAAW;AAAC,gBAAI5I,OAAO,CAAE6I,SAAS,GAAGhC,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,CAAd,CAAX,EAAwC;AAC/D,qBAAOgC,SAAP;AACD,aAFwB,MAElB;AACL,qBAAO,CAAP;AACD;;AAAA;AAAE,mBAAOtJ,GAAP;AAAa,WAJJ,GAIQiE,KAJR,EAAZ;;AAKAsF,kBAAQ,GAAGjC,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,EAAY,OAAZ,IAAuB,IAAvB,GAAX;AACAkC,gBAAM,GAAG3J,IAAI,CAAC+J,SAAL,CAAetC,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,CAAf,CAAT;;AACAhE,gBAAM,GAAI,YAAW;AAAC,gBAAI7C,OAAO,CAAEgJ,SAAS,GAAGnC,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,CAAd,CAAX,EAAwC;AAC5D,qBAAOmC,SAAP;AACD,aAFqB,MAEf;AACL,qBAAO,CAAP;AACD;;AAAA;AAAE,mBAAOzJ,GAAP;AAAa,WAJP,GAIWiE,KAJX,EAAT;;AAKAyF,gBAAM,GAAG7J,IAAI,CAACgK,UAAL,CAAgBR,SAAhB,EAA2BE,QAA3B,EAAqCC,MAArC,EAA6ClG,MAA7C,CAAT;AACA,iBAAOoG,MAAP;AACD,SAtBD,EAsBGT,8CAA8C,CAACnH,OAA/C,GAAyD,CAtB5D;AAwBArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,YAAf,EAA6BqJ,sBAAsB,GAAG,SAASY,WAAT,CAAqBT,SAArB,EAAgCE,QAAhC,EAA0CC,MAA1C,EAAkDlG,MAAlD,EAA0D;AAC9G,cAAIyG,GAAJ;AAAA,cAASlK,IAAI,GAAG,IAAhB;AAAA,cAAsB4E,SAAS,GAAGzE,GAAlC;AAAA,cAAuCqC,IAAI,GAAGrC,GAA9C;AAAA,cAAmD0E,QAAQ,GAAG1E,GAA9D;AAAA,cAAmEgK,YAAY,GAAGhK,GAAlF;AAAA,cAAuFiK,UAAU,GAAGjK,GAApG;AAAA,cAAyGkK,UAAU,GAAGlK,GAAtH;AAAA,cAA2HmK,SAAS,GAAGnK,GAAvI;AAAA,cAA4IoK,WAAW,GAAGpK,GAA1J;AAAA,cAA+JqK,SAAS,GAAGrK,GAA3K;AAAA,cAAgLgC,MAAM,GAAGhC,GAAzL;;AAGAyE,mBAAS,GAAG5E,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+ByE,SAA/B,EAA0C,CAA1C,CAAZ;AACAhH,cAAI,GAAGoC,SAAS,CAACI,IAAV,EAAP;AACAH,kBAAQ,GAAGD,SAAS,CAACK,KAAV,CAAgB,GAAhB,CAAX;AACAkF,sBAAY,GAAGtK,QAAQ,CAAC2C,IAAD,EAAOmH,MAAP,CAAvB;AACAS,oBAAU,GAAGpK,IAAI,CAACyK,aAAL,CAAmBd,MAAnB,CAAb;;AACAU,oBAAU,GAAI,YAAW;AAAC,gBAAI5G,MAAM,CAAC,KAAD,CAAN,CAAc,CAAd,CAAJ,EAAsB;AAC9C,qBAAO,EAAP;AACD,aAFyB,MAEnB;AACL,qBAAO,KAAK,IAAL,GAAaA,MAApB;AACD;;AAAA;AAAE,mBAAOtD,GAAP;AAAa,WAJH,EAAb;;AAKA,cAAIS,OAAO,CAAC8I,QAAD,CAAX,EAAuB;AAErBY,qBAAS,GAAGpB,KAAK,CAACrE,QAAQ,CAAC6F,MAAT,CAAgB,GAAhB,CAAD,EAAuB,KAAvB,EAA8B,EAA9B,EAAkC,OAAOC,QAAP,EAAlC,CAAjB;AACAJ,uBAAW,GAAGrB,KAAK,CAACoB,SAAD,EAAY,OAAZ,EAAqB,EAArB,GAA0BJ,GAAG,GAAG,aAASU,CAAT,EAAW;AAAC,kBAAI5K,IAAI,GAAGkK,GAAG,CAACW,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyBX,GAAG,CAACW,GAAxC;;AAI7D,kBAAID,CAAC,IAAI,IAAT,EAAe;AACbA,iBAAC,GAAGzK,GAAJ;AACD;;AAAA;AACD,qBAAOyK,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,CAAP;AAAoB,aAPuB,EAOrBV,GAAG,CAACW,GAAJ,GAAU7K,IAPW,EAOLkK,GAAG,CAACjI,OAAJ,GAAc,CAPT,EAOYiI,GAPtC,EAAnB;;AAQA,gBAAItJ,OAAO,CAAC2F,MAAM,CAACgE,WAAD,EAAc,CAAd,CAAP,CAAX,EAAqC;AAEnCC,uBAAS,GAAGxB,SAAS,CAAC,GAAD,EAAMuB,WAAN,CAArB;AACAC,uBAAS,GAAG,KAAK,KAAL,GAAcA,SAAd,GAA2B,KAAvC;AAA8C;;AAAA;AAAE;;AAAA;AACpDrI,gBAAM,GAAG,KAAK,GAAL,GAAYqH,SAAZ,GAAyB,IAAzB,GAAiCY,UAAjC,GAAgDC,UAAhD,GAA8D,GAAvE;AACAlI,gBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,KAAL,GAAcK,IAAd,GAAsB,GAAtB,GAA6BqC,QAA7B,GAAyC,GAAzC,GAAgDuF,UAAzD,CAAjB;AACAjI,gBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,KAAL,GAAcgI,YAAd,GAA+BE,UAAxC,CAAjB;;AACA,cAAIzJ,OAAO,CAAC2F,MAAM,CAAC9C,MAAD,EAAS,CAAT,CAAP,CAAX,EAAgC;AAC9B,gBAAI7C,OAAO,CAAC4F,MAAM,CAAC2D,YAAD,EAAe1G,MAAf,CAAP,CAAX,EAA2C;AACzCtB,oBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,SAAT,CAAjB;AACD,aAFD,MAEO;AACLA,oBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,SAAT,CAAjB;AACD;AAAC;;AAAA;AACJA,gBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAASqI,SAAS,CAACM,KAAV,EAAT,CAAjB;AACA,iBAAO3I,MAAP;AACD,SAxCD,EAwCGkH,sBAAsB,CAACpH,OAAvB,GAAiC,CAxCpC;AA0CArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,WAAf,EAA4BsJ,qBAAqB,GAAG,SAASyB,UAAT,CAAoBjG,IAApB,EAA0B;AAC5E,cAAI9E,IAAI,GAAG,IAAX;AAAA,cAAiBgL,SAAS,GAAG7K,GAA7B;;AAGA2E,cAAI,GAAI,YAAW;AAAC,gBAAIlE,OAAO,CAAEoK,SAAS,GAAGlG,IAAd,CAAX,EAAiC;AACnD,qBAAOkG,SAAP;AACD,aAFmB,MAEb;AACL,qBAAO,EAAP;AACD;;AAAA;AAAE,mBAAO7K,GAAP;AAAa,WAJT,EAAP;;AAKA,iBAAOE,EAAE,CAACH,QAAD,EAAW,qBAAX,CAAF,CAAoC+K,KAApC,CAA0CnG,IAA1C,CAAP;AACD,SAVD,EAUGwE,qBAAqB,CAACrH,OAAtB,GAAgC,CAVnC;AAWA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,eAAf,EAAgCuJ,yBAAyB,GAAG,SAAS2B,cAAT,CAAwBC,KAAxB,EAA+B;AACjG,cAAInL,IAAI,GAAG,IAAX;;AAGA,cAAImL,KAAK,CAAC,KAAD,CAAL,CAAa,CAAb,CAAJ,EAAqB;AACnB,mBAAO,EAAP;AAAU;;AAAA;;AACZ,cAAIvK,OAAO,CAACqI,MAAM,CAACkC,KAAD,EAAQ,CAAR,CAAP,CAAX,EAA+B;AAC7B,mBAAOA,KAAK,CAACL,KAAN,EAAP;AAAqB;;AAAA;AACvB,iBAAO,KAAK,GAAL,GAAYK,KAAnB;AACD,SATO,EASL5B,yBAAyB,CAACtH,OAA1B,GAAoC,CAT/B,GASmC9B,GATpC,KAS4C,cATnD;AAUD,OApGD,EAoGGD,QAAQ,CAAC,CAAD,CApGX,EAoGgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CApGlB,EAoGsCA,QApGtC;AAqGD,KA1GD,EA0GGA,QAAQ,CAAC,CAAD,CA1GX,EA0GgBA,QA1GhB;AA2GD,GAhHM,CAgHJA,QAAQ,CAAC,CAAD,CAhHJ,EAgHSA,QAhHT,CAAP;AAiHD,CAnID,EAmIGN,IAnIH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,MAAII,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAEA,SAAQ,UAASK,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,SAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAGAnB,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,SAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,SAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,SAAxC;AACA,eAAON,IAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,8BAAL,GAAsC,iCAAtC,GAA0E,4CAA1E,GAAyH,oCAAzH,GAAgK,mCAAhK,GAAsM,uDAAtM,GAAgQ,4CAAhQ,GAA+S,mCAA/S,GAAqV,+CAArV,GAAuY,8CAAvY,GAAwb,mEAAxb,GAA8f,oDAA9f,GAAqjB,IAArjB,GAA4jB,uBAA5jB,GAAslB,4BAAloB,CAAP;AACD,OAVD,EAUGA,QAAQ,CAAC,CAAD,CAVX,EAUgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAVlB,EAUsCA,QAVtC;AAWD,KAhBD,EAgBGA,QAAQ,CAAC,CAAD,CAhBX,EAgBgBA,QAhBhB;AAiBD,GAtBM,CAsBJA,QAAQ,CAAC,CAAD,CAtBJ,EAsBSA,QAtBT,CAAP;AAuBD,CA1BD,EA0BGN,IA1BH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,MAAII,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAEA,SAAQ,UAASK,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,WAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAGAnB,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,WAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,WAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,SAAxC;AACA,eAAON,IAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,+BAA5C,CAAP;AACD,OAVD,EAUGA,QAAQ,CAAC,CAAD,CAVX,EAUgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAVlB,EAUsCA,QAVtC;AAWD,KAhBD,EAgBGA,QAAQ,CAAC,CAAD,CAhBX,EAgBgBA,QAhBhB;AAiBD,GAtBM,CAsBJA,QAAQ,CAAC,CAAD,CAtBJ,EAsBSA,QAtBT,CAAP;AAuBD,CA1BD,EA0BGN,IA1BH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASwL,UAAT,CAAoBtL,GAApB,EAAyBC,GAAzB,EAA8B;AAC5B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAAS4C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8H4K,MAAM,GAAGzL,IAAI,CAAC0L,KAA5I;AAAA,MAAmJ1K,OAAO,GAAGhB,IAAI,CAACiB,MAAlK;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,mBAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CwK,sDAA/C;AAEAvL,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,mBAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,YAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,cAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,OAAL,GAAe,kBAAf,GAAoC,gDAApC,GAAuF,yBAAvF,GAAmH,IAAnH,GAA0H,SAA1H,GAAsI,0CAAtI,GAAmL,IAAnL,GAA0L,sDAAtO;AACAF,YAAI,CAACwB,gBAAL,CAAsB,IAAtB;AACA,eAAO,CAAC5B,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqDuL,sDAAsD,GAAG,SAASrJ,mCAAT,CAA6CP,OAA7C,EAAsD;AAC1K,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiBwL,MAAM,GAAGrL,GAA1B;AAAA,cAA+BsL,GAAG,GAAGtL,GAArC;AAAA,cAA0CsJ,SAAS,GAAGtJ,GAAtD;AAAA,cAA2DuL,YAAY,GAAGvL,GAA1E;AAAA,cAA+EwL,QAAQ,GAAGxL,GAA1F;AAAA,cAA+FyL,UAAU,GAAGzL,GAA5G;AAAA,cAAiHgC,MAAM,GAAGhC,GAA1H;AAAA,cAA+H0L,QAAQ,GAAG1L,GAA1I;AAGAqL,gBAAM,GAAGpL,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,SAAX,CAAH,EAA0B,QAA1B,CAAH,CAAuC4L,IAAvC,CAA4C,KAA5C,EAAmD,IAAnD,EAAyDT,MAAM,CAAC,CAAC,YAAD,CAAD,EAAiB;AAAC,0BAAcrL,IAAI,CAAC+L,WAAL;AAAf,WAAjB,CAA/D,EAAqHC,mBAArH,CAAyI7L,GAAzI,EAA8I,IAA9I,CAAT;AACAsL,aAAG,GAAGD,MAAM,CAACS,MAAP,CAActK,OAAd,CAAN;;AACA,cAAIf,OAAO,CAAE,YAAW;AAAC,gBAAIA,OAAO,CAAE6I,SAAS,GAAGgC,GAAG,CAAC,OAAD,CAAH,EAAd,CAAX,EAA2C;AAClE,qBAAOhC,SAAP;AACD,aAFwB,MAElB;AACL,qBAAO,CAACtJ,GAAD,EAAM,IAAN,EAAY,WAAZ,EAAyBsL,GAAG,CAACS,OAAJ,EAAzB,EAAwC,IAAxC,GAAP;AACD;;AAAA;AAAE,mBAAO/L,GAAP;AAAa,WAJJ,EAAD,CAAX,EAIsB;AACpB,mBAAOA,GAAP;AAAW;;AAAA;;AACbuL,sBAAY,GAAI,YAAW;AAAC,gBAAID,GAAG,CAACU,QAAJ,GAAe,KAAf,EAAsB,KAAtB,CAAJ,EAAkC;AAC5D,qBAAO,EAAP;AACD,aAF2B,MAErB;AACL,qBAAO,EAAP;AACD;;AAAA;AAAE,mBAAOhM,GAAP;AAAa,WAJD,EAAf;;AAKAwL,kBAAQ,GAAGP,UAAU,CAACK,GAAG,CAACW,cAAJ,GAAqBC,KAArB,EAAD,EAA+B,EAA/B,CAAV,CAA6CC,KAA7C,EAAX;AACAV,oBAAU,GAAG5L,IAAI,CAACsB,UAAL,CAAgBoB,UAAhB,CAA2B,GAA3B,CAAb;;AACAP,gBAAM,GAAI,YAAW;AAAC,gBAAIvB,OAAO,CAAC4F,MAAM,CAACoF,UAAD,EAAaF,YAAb,CAAP,CAAX,EAA+C;AACnE,qBAAO,KAAK,OAAL,GAAgBA,YAAhB,GAAgC,GAAvC;AACD,aAFqB,MAEf,IAAI9K,OAAO,CAAC+B,MAAM,CAACiJ,UAAD,EAAaD,QAAb,CAAP,CAAX,EAA2C;AAChD,qBAAO,KAAK,MAAL,GAAeA,QAAf,GAA2B,GAAlC;AACD,aAFM,MAEA,IAAI/K,OAAO,CAAC+B,MAAM,CAACiJ,UAAD,EAAa,EAAb,CAAP,CAAX,EAAqC;AAC1C,qBAAO,MAAP;AACD,aAFM,MAEA,IAAIhL,OAAO,CAAC6K,GAAG,CAACS,OAAJ,EAAD,CAAX,EAA4B;AACjC,kBAAItL,OAAO,CAAC+B,MAAM,CAACiJ,UAAD,EAAaH,GAAG,CAACW,cAAJ,EAAb,CAAP,CAAX,EAAuD;AACrD,uBAAO,IAAP;AACD,eAFD,MAEO;AACL,uBAAO,IAAP;AACD;AACF,aANM,MAMA;AACL,qBAAOjM,GAAP;AACD;;AAAA;AAAE,mBAAOA,GAAP;AAAa,WAdP,EAAT;;AAeA0L,kBAAQ,GAAG,CAAC,KAAK,QAAL,GAAiBJ,GAAG,CAACS,OAAJ,EAAjB,GAAmCT,GAAG,CAACW,cAAJ,EAAnC,GAA2D,GAA5D,EAAiER,UAAU,CAACd,KAAX,EAAjE,EAAqF3I,MAArF,EAA6FoK,QAA7F,EAAX;AACA,iBAAOV,QAAQ,CAAC5G,KAAT,CAAe,KAAf,CAAP;AACD,SApCO,EAoCLsG,sDAAsD,CAACtJ,OAAvD,GAAiE,CApC5D,GAoCgE9B,GApCjE,KAoCyE,mCApChF;AAqCD,OAjDD,EAiDGD,QAAQ,CAAC,CAAD,CAjDX,EAiDgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAjDlB,EAiDsCA,QAjDtC;AAkDD,KAvDD,EAuDGA,QAAQ,CAAC,CAAD,CAvDX,EAuDgBA,QAvDhB;AAwDD,GA7DM,CA6DJA,QAAQ,CAAC,CAAD,CA7DJ,EA6DSA,QA7DT,CAAP;AA8DD,CA1ED,EA0EGN,IA1EH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASC,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASqL,UAAT,CAAoBtL,GAApB,EAAyBC,GAAzB,EAA8B;AAC5B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASwG,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASkJ,MAAT,CAAgBnJ,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAAA,MAAqJqI,KAAK,GAAGtJ,IAAI,CAACuJ,IAAlK;AAEA,SAAQ,UAASrI,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,KAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CyL,wCAA/C;AAAA,YAAyFC,YAAzF;AAAA,YAAuGC,oBAAvG;AAAA,YAA6HC,qBAA7H;AAAA,YAAoJC,mBAApJ;AAAA,YAAyKC,sBAAzK;AAEA7M,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BtB,IAAI,CAACqB,WAAL,CAAiByL,UAAjB,GAA8B9M,IAAI,CAACqB,WAAL,CAAiBsI,MAAjB,GAA0B3J,IAAI,CAACqB,WAAL,CAAiB0L,UAAjB,GAA8B/M,IAAI,CAACqB,WAAL,CAAiBgG,UAAjB,GAA8BrH,IAAI,CAACqB,WAAL,CAAiBsK,QAAjB,GAA4B3L,IAAI,CAACqB,WAAL,CAAiB2L,MAAjB,GAA0B7M,GAAxM;AAEAH,YAAI,CAACwB,gBAAL,CAAsB,QAAtB;AACA5B,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,KAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,SAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,YAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,sBAAL,GAA8B,mCAA9B,GAAoE,6CAApE,GAAoH,kCAApH,GAAyJ,sCAAzJ,GAAkM,mBAAlM,GAAwN,qBAAxN,GAAgP,sBAAhP,GAAyQ,oCAAzQ,GAAgT,mCAAhT,GAAsV,+DAAlY;AAEAN,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqDwM,wCAAwC,GAAG,SAAStK,mCAAT,CAA6CP,OAA7C,EAAsD;AACpJ,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiB4E,SAAS,GAAGzE,GAA7B;AAAA,cAAkCqC,IAAI,GAAGrC,GAAzC;AAAA,cAA8C8M,QAAQ,GAAG9M,GAAzD;AAAA,cAA8DmD,KAAK,GAAGnD,GAAtE;AAAA,cAA2E0L,QAAQ,GAAG1L,GAAtF;;AAGA,cAAIS,OAAO,CAACZ,IAAI,CAACiM,MAAL,CAAYtK,OAAZ,CAAD,CAAX,EAAmC,CAClC,CADD,MACO;AACL,mBAAOxB,GAAP;AACD;;AAAA;AACDyE,mBAAS,GAAG5E,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+B/E,IAAI,CAAC8M,UAApC,EAAgD,CAAhD,CAAZ;AACAtK,cAAI,GAAGoC,SAAS,CAACI,IAAV,EAAP;AACAiI,kBAAQ,GAAGrI,SAAS,CAACK,KAAV,CAAgB,GAAhB,CAAX;AACA3B,eAAK,GAAGzD,QAAQ,CAAC2C,IAAD,EAAOxC,IAAI,CAAC2J,MAAZ,CAAhB;AACAkC,kBAAQ,GAAG,CAAC,KAAK,GAAL,GAAYlK,OAAZ,GAAuB,GAAxB,EAA6B,KAAMa,IAAN,GAAc,GAAd,GAAqByK,QAArB,GAAiC,GAAjC,GAAwCjN,IAAI,CAAC+M,UAA1E,EAAuFzJ,KAAvF,CAAX;;AACA,cAAI1C,OAAO,CAACZ,IAAI,CAAC,aAAD,CAAJ,CAAoB4E,SAApB,CAAD,CAAX,EAA6C;AAC3CsE,iBAAK,CAAC2C,QAAD,EAAW,MAAX,EAAmB,CAAC,SAAD,EAAY7K,MAAZ,CAAmBpB,IAAI,CAACsN,IAAL,CAAUlN,IAAI,CAACmN,gBAAL,CAAsBvI,SAAS,CAACmE,MAAV,CAAiB,CAAjB,CAAtB,EAA2CzF,KAA3C,CAAV,CAAnB,CAAnB,CAAL;AACD,WAFD,MAEO,IAAI1C,OAAO,CAACZ,IAAI,CAAC,WAAD,CAAJ,CAAkB4E,SAAlB,CAAD,CAAX,EAA2C;AAChDiH,oBAAQ,CAACuB,KAAT,CAAe,QAAf;AACD,WAFM,MAEA,IAAIxM,OAAO,CAACZ,IAAI,CAACqH,UAAN,CAAX,EAA8B;AACnCwE,oBAAQ,CAACuB,KAAT,CAAgB,YAAW;AAAC,kBAAIxM,OAAO,CAAC4F,MAAM,CAAClD,KAAD,EAAQtD,IAAI,CAACqH,UAAb,CAAP,CAAX,EAA6C;AACvE,uBAAO,IAAP;AACD,eAF2B,MAErB;AACL,uBAAO,IAAP;AACD;;AAAA;AAAE,qBAAOlH,GAAP;AAAa,aAJD,EAAf;AAIqB;;AAAA;AACvB,iBAAO0L,QAAQ,CAAC5G,KAAT,CAAe,KAAf,CAAP;AACD,SAxBD,EAwBGuH,wCAAwC,CAACvK,OAAzC,GAAmD,CAxBtD;AAyBAjC,YAAI,CAACqN,QAAL;AAEAzN,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,QAAf,EAAyByM,YAAY,GAAG,SAASa,OAAT,CAAiB3L,OAAjB,EAA0B;AAChE,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiByH,CAAC,GAAGtH,GAArB;AAAA,cAA0BsJ,SAAS,GAAGtJ,GAAtC;AAAA,cAA2CoN,IAAI,GAAGpN,GAAlD;AAGAsH,WAAC,GAAG,sEAAsEU,MAAtE,CAA6ExG,OAA7E,CAAJ;;AACA,cAAIf,OAAO,CAAC6G,CAAD,CAAX,EAAgB,CACf,CADD,MACO;AACL,mBAAO,KAAP;AACD;;AAAA;AACDzH,cAAI,CAAC8M,UAAL,GAAkBrF,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,EAAYrD,KAAZ,EAAlB;;AACApE,cAAI,CAAC+M,UAAL,GAAmB,YAAW;AAAC,gBAAInM,OAAO,CAAE6I,SAAS,GAAGhC,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,CAAd,CAAX,EAAwC;AACrE,qBAAOgC,SAAP;AACD,aAF8B,MAExB;AACL,qBAAO,EAAP;AACD;;AAAA;AAAE,mBAAOtJ,GAAP;AAAa,WAJE,EAAlB;;AAKAH,cAAI,CAAC2J,MAAL,GAAclC,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,EAAYrD,KAAZ,EAAd;;AACApE,cAAI,CAACqH,UAAL,GAAmB,YAAW;AAAC,gBAAIzG,OAAO,CAAC6G,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,CAAD,CAAX,EAA0B;AACvD,qBAAOA,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,EAAYrD,KAAZ,EAAP;AACD,aAF8B,MAExB;AACL,qBAAOjE,GAAP;AACD;;AAAA;AAAE,mBAAOA,GAAP;AAAa,WAJE,EAAlB;;AAKAoN,cAAI,GAAGvN,IAAI,CAACwN,cAAL,CAAoBxN,IAAI,CAAC8M,UAAzB,CAAP;AACA9M,cAAI,CAAC2L,QAAL,GAAgB9L,QAAQ,CAAC0N,IAAD,EAAO9F,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,EAAYrD,KAAZ,EAAP,CAAxB;AACApE,cAAI,CAACgN,MAAL,GAAcnN,QAAQ,CAAC0N,IAAD,EAAO9F,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,EAAYrD,KAAZ,EAAP,CAAtB;AACA,iBAAO,IAAP;AACD,SAzBD,EAyBGqI,YAAY,CAACxK,OAAb,GAAuB,CAzB1B;AA2BArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,gBAAf,EAAiC0M,oBAAoB,GAAG,SAASe,eAAT,CAAyBX,UAAzB,EAAqC;AAC3F,cAAI9M,IAAI,GAAG,IAAX;AAAA,cAAiBoC,KAAK,GAAGjC,GAAzB;AAEA,iBAAQ,YAAW;AAACiC,iBAAK,GAAG0K,UAAR;;AACpB,gBAAK,CAAD,CAAI,MAAJ,EAAY1K,KAAZ,KAAuB,CAAD,CAAI,MAAJ,EAAYA,KAAZ,CAA1B,EAA8C;AAAC,qBAAO0K,UAAP;AAAkB,aAAjE,MACK;AAAC,qBAAO1B,UAAU,CAAC0B,UAAU,CAACT,KAAX,EAAD,EAAqB,CAArB,CAAV,CAAkCC,KAAlC,EAAP;AAAiD;AAAC,WAFjD,EAAP;AAGD,SAND,EAMGI,oBAAoB,CAACzK,OAArB,GAA+B,CANlC;AAQArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8B2M,qBAAqB,GAAG,+BAAS/H,SAAT,EAAoB;AACxE,cAAI5E,IAAI,GAAG,IAAX;AAEA,iBAAOwG,MAAM,CAAC5B,SAAS,CAACmE,MAAV,CAAiB,CAAjB,CAAD,EAAsB/I,IAAI,CAAC2L,QAA3B,CAAb;AACD,SAJD,EAIGgB,qBAAqB,CAAC1K,OAAtB,GAAgC,CAJnC;AAMArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,WAAf,EAA4B4M,mBAAmB,GAAG,6BAAShI,SAAT,EAAoB;AACpE,cAAI5E,IAAI,GAAG,IAAX;AAEA,iBAAOwG,MAAM,CAAC5B,SAAS,CAACmE,MAAV,CAAiB,CAAjB,CAAD,EAAsB/I,IAAI,CAACgN,MAA3B,CAAb;AACD,SAJD,EAIGJ,mBAAmB,CAAC3K,OAApB,GAA8B,CAJjC;AAKA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,kBAAf,EAAmC6M,sBAAsB,GAAG,SAASa,iBAAT,CAA2BC,eAA3B,EAA4CrK,KAA5C,EAAmD;AACrH,cAAIiE,EAAJ;AAAA,cAAQvH,IAAI,GAAG,IAAf;AAAA,cAAqB6L,QAAQ,GAAG1L,GAAhC;AAAA,cAAqCyN,YAAY,GAAGzN,GAApD;AAAA,cAAyDyJ,SAAS,GAAGzJ,GAArE;AAAA,cAA0EyE,SAAS,GAAGzE,GAAtF;AAAA,cAA2F0N,UAAU,GAAG1N,GAAxG;AAAA,cAA6G8M,QAAQ,GAAG9M,GAAxH;AAGA0L,kBAAQ,GAAG,EAAX;AACA+B,sBAAY,GAAG,CAAf;;AACA,iBAAOhN,OAAO,CAAE,YAAW;AAAC,gBAAIA,OAAO,CAAEgJ,SAAS,GAAGrD,MAAM,CAACoH,eAAD,EAAkB,CAAlB,CAApB,CAAX,EAAuD;AACjF,qBAAO1E,MAAM,CAAC2E,YAAD,EAAe,EAAf,CAAb;AACD,aAF2B,MAErB;AACL,qBAAOhE,SAAP;AACD;;AAAA;AAAE,mBAAOzJ,GAAP;AAAa,WAJD,EAAD,CAAd,EAIsB;AAEpByN,wBAAY,GAAG/N,QAAQ,CAAC+N,YAAD,EAAe,CAAf,CAAvB;AACAhJ,qBAAS,GAAG5E,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+B4I,eAA/B,EAAgD,CAAhD,CAAZ;AACAE,sBAAU,GAAGjJ,SAAS,CAACI,IAAV,EAAb;AACAiI,oBAAQ,GAAGrI,SAAS,CAACK,KAAV,CAAgB,GAAhB,CAAX;AACA0I,2BAAe,GAAG/I,SAAS,CAACmE,MAAV,CAAiB,CAAjB,CAAlB;AACA8C,oBAAQ,CAACuB,KAAT,CAAe,KAAM9J,KAAN,GAAe,GAAf,GAAsBuK,UAAtB,GAAoC,GAApC,GAA2CZ,QAA3C,GAAuD,GAAtE;;AACA,gBAAIrM,OAAO,CAAC2F,MAAM,CAACoH,eAAD,EAAkB,CAAlB,CAAP,CAAX,EAAyC;AACvC9B,sBAAQ,CAACuB,KAAT,CAAe,WAAf;AAA4B;;AAAA;AAC9B9J,iBAAK,GAAGzD,QAAQ,CAACyD,KAAD,EAAQuK,UAAR,CAAhB;AACD;;AAAA;;AACD,cAAIjN,OAAO,CAAC2F,MAAM,CAACoH,eAAD,EAAkB,CAAlB,CAAP,CAAX,EAAyC;AACvC9B,oBAAQ,CAACuB,KAAT,CAAe,cAAf;AAA+B;;AAAA;AACjCvB,kBAAQ,CAACuB,KAAT,CAAe9J,KAAf;;AACA,cAAI1C,OAAO,CAACZ,IAAI,CAACqH,UAAN,CAAX,EAA8B;AAC5BwE,oBAAQ,CAACuB,KAAT,CAAgB,YAAW;AAAC,kBAAIxM,OAAO,CAAC4F,MAAM,CAAClD,KAAD,EAAQtD,IAAI,CAACqH,UAAb,CAAP,CAAX,EAA6C;AACvE,uBAAO,IAAP;AACD,eAF2B,MAErB;AACL,uBAAO,IAAP;AACD;;AAAA;AAAE,qBAAOlH,GAAP;AAAa,aAJD,EAAf;AAIqB;;AAAA;AACvB,iBAAO0L,QAAP;AACD,SAhCO,EAgCLgB,sBAAsB,CAAC5K,OAAvB,GAAiC,CAhC5B,GAgCgC9B,GAhCjC,KAgCyC,iBAhChD;AAiCD,OAvHD,EAuHGD,QAAQ,CAAC,CAAD,CAvHX,EAuHgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAvHlB,EAuHsCA,QAvHtC;AAwHD,KA7HD,EA6HGA,QAAQ,CAAC,CAAD,CA7HX,EA6HgBA,QA7HhB;AA8HD,GAnIM,CAmIJA,QAAQ,CAAC,CAAD,CAnIJ,EAmISA,QAnIT,CAAP;AAoID,CAtJD,EAsJGN,IAtJH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS2G,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASF,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAAA,MAAmJC,OAAO,GAAGhB,IAAI,CAACiB,MAAlK;AAAA,MAA0KqI,KAAK,GAAGtJ,IAAI,CAACuJ,IAAvL;AAEA,SAAQ,UAASrI,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,UAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C+M,sBAA/C;AAAA,YAAuEC,6CAAvE;AAAA,YAAsHC,sBAAtH;AAEAhO,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,UAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,aAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,eAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,mBAAL,GAA2B,IAA3B,GAAkC,kBAAlC,GAAuD,wBAAvD,GAAkF,yCAAlF,GAA8H,IAA9H,GAAqI,SAArI,GAAiJ,gCAAjJ,GAAoL,oCAAhO;AAEAN,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8B8N,sBAAsB,GAAG,SAASpM,YAAT,CAAsBC,OAAtB,EAA+B;AACpF,cAAIC,KAAK,GAAGkM,sBAAsB,CAACjM,GAAnC;AAAA,cAAwCC,MAAM,GAAGF,KAAK,IAAIzB,GAA1D;AAAA,cAA+DH,IAAI,GAAG,IAAtE;AAEA,cAAI4B,KAAJ,EAAWkM,sBAAsB,CAACjM,GAAvB,GAA6B,IAA7B;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+C8N,sBAA/C,EAAuE,KAAvE,EAA8E,IAA9E,CAAP,EAA4F,YAA5F,EAA0G,CAACnM,OAAD,CAA1G,EAAqH,IAArH,CAAN;AACA,iBAAQ3B,IAAI,CAACiO,aAAL,GAAqB,IAA7B;AACD,SAPD,EAOGH,sBAAsB,CAAC7L,OAAvB,GAAiC,CAPpC;AAQAjC,YAAI,CAACwB,gBAAL,CAAsB,sBAAtB;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqD+N,6CAA6C,GAAG,SAAS7L,mCAAT,CAA6CP,OAA7C,EAAsD;AACzJ,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiByH,CAAC,GAAGtH,GAArB;AAAA,cAA0B+N,UAAU,GAAG/N,GAAvC;AAAA,cAA4CsJ,SAAS,GAAGtJ,GAAxD;AAAA,cAA6DgO,QAAQ,GAAGhO,GAAxE;AAAA,cAA6EyJ,SAAS,GAAGzJ,GAAzF;AAGAsH,WAAC,GAAG9F,OAAO,CAACwG,MAAR,CAAe,qBAAf,CAAJ;;AACA,cAAIvH,OAAO,CAAC6G,CAAD,CAAX,EAAgB,CACf,CADD,MACO;AACL,mBAAOtH,GAAP;AACD;;AAAA;;AACD+N,oBAAU,GAAI,YAAW;AAAC,gBAAItN,OAAO,CAAE6I,SAAS,GAAGhC,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,CAAd,CAAX,EAAwC;AAChE,qBAAOgC,SAAP;AACD,aAFyB,MAEnB;AACL,qBAAO,CAAP;AACD;;AAAA;AAAE,mBAAOtJ,GAAP;AAAa,WAJH,GAIOiE,KAJP,EAAb;;AAKA+J,kBAAQ,GAAGjF,KAAK,CAAE,YAAW;AAAC,gBAAItI,OAAO,CAAEgJ,SAAS,GAAGnC,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,CAAd,CAAX,EAAwC;AACpE,qBAAOmC,SAAP;AACD,aAF6B,MAEvB;AACL,qBAAO,EAAP;AACD;;AAAA;AAAE,mBAAOzJ,GAAP;AAAa,WAJC,GAIGiO,UAJH,EAAD,EAIkB,KAJlB,EAIyB,EAJzB,EAI6B,OAAOzD,QAAP,EAJ7B,CAAL,CAIqD0D,KAJrD,EAAX;AAKA,iBAAOrO,IAAI,CAACsO,WAAL,CAAiBJ,UAAjB,EAA6BC,QAA7B,CAAP;AACD,SApBD,EAoBGJ,6CAA6C,CAAC9L,OAA9C,GAAwD,CApB3D;AAqBA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8BgO,sBAAsB,GAAG,SAASO,YAAT,CAAsBL,UAAtB,EAAkCC,QAAlC,EAA4C;AACzG,cAAIK,GAAJ;AAAA,cAASC,IAAT;AAAA,cAAczO,IAAI,GAAG,IAArB;AAAA,cAA2B0O,UAAU,GAAGvO,GAAxC;AAAA,cAA6C6H,SAAS,GAAG7H,GAAzD;AAAA,cAA8DwO,YAAY,GAAGxO,GAA7E;AAAA,cAAkFyO,OAAO,GAAGzO,GAA5F;AAAA,cAAiG0O,UAAU,GAAG1O,GAA9G;AAAA,cAAmHyI,WAAW,GAAGzI,GAAjI;;AAGAuO,oBAAU,GAAG1O,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+BmJ,UAA/B,EAA2C,EAA3C,EAA+CG,KAA/C,EAAb;AACArG,mBAAS,GAAG0G,UAAU,CAACzJ,KAAX,CAAiB,GAAjB,CAAZ;AACA0J,sBAAY,GAAG,EAAf;AACAC,iBAAO,GAAG,CAAV;AACA1F,eAAK,CAACA,KAAK,CAACwF,UAAD,EAAa,KAAb,EAAoB,EAApB,GAAyBF,GAAG,GAAG,aAASM,CAAT,EAAW;AAAC,gBAAI9O,IAAI,GAAGwO,GAAG,CAAC3D,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyB2D,GAAG,CAAC3D,GAAxC;;AAIpD,gBAAIiE,CAAC,IAAI,IAAT,EAAe;AACbA,eAAC,GAAG3O,GAAJ;AACD;;AAAA;;AACD,gBAAI2O,CAAC,CAAC,KAAD,CAAD,CAAS,EAAT,CAAJ,EAAkB;AAChB,qBAAO,CAAP;AACD,aAFD,MAEO;AACL,qBAAOA,CAAP;AACD;;AAAA;AAAE,WAX+B,EAW7BN,GAAG,CAAC3D,GAAJ,GAAU7K,IAXmB,EAWbwO,GAAG,CAACvM,OAAJ,GAAc,CAXD,EAWIuM,GAX7B,EAAN,EAW0C,MAX1C,EAWkD,EAXlD,GAWuDC,IAAG,GAAG,aAAS7D,CAAT,EAAW;AAAC,gBAAI5K,IAAI,GAAGyO,IAAG,CAAC5D,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyB4D,IAAG,CAAC5D,GAAxC;AAAA,gBAA6CkE,QAAQ,GAAG5O,GAAxD;;AAI5E,gBAAIyK,CAAC,IAAI,IAAT,EAAe;AACbA,eAAC,GAAGzK,GAAJ;AACD;;AAAA;AACD4O,oBAAQ,GAAGZ,QAAQ,CAACpF,MAAT,CAAgB6B,CAAhB,CAAX;;AACA,gBAAIhK,OAAO,CAAC2F,MAAM,CAACwI,QAAD,EAAW,CAAX,CAAP,CAAX,EAAkC;AAEhCJ,0BAAY,CAACvB,KAAb,CAAmB,KAAMxC,CAAN,GAAW,IAAX,GAAmBmE,QAAnB,GAA+B,GAAlD;AACA,qBAAQH,OAAO,GAAG/O,QAAQ,CAAC+O,OAAD,EAAUG,QAAV,CAA1B;AACD,aAJD,MAIO;AACL,qBAAOJ,YAAY,CAACvB,KAAb,CAAmB,GAAnB,CAAP;AACD;;AAAA;AAAE,WAduD,EAcrDqB,IAAG,CAAC5D,GAAJ,GAAU7K,IAd2C,EAcrCyO,IAAG,CAACxM,OAAJ,GAAc,CAduB,EAcpBwM,IAzBnC,EAAL;AA0BAI,oBAAU,GAAGV,QAAQ,CAAClJ,KAAT,CAAe,GAAf,CAAb;AACA2D,qBAAW,GAAG+F,YAAY,CAAC1J,KAAb,CAAmB,GAAnB,CAAd;AACA,iBAAO,KAAMiJ,UAAN,GAAoB,SAApB,GAAiCW,UAAjC,GAA+C,MAA/C,GAAyD7G,SAAzD,GAAsE,KAAtE,GAA+EY,WAA/E,GAA8F,SAA9F,GAA2GgG,OAAlH;AACD,SArCO,EAqCLZ,sBAAsB,CAAC/L,OAAvB,GAAiC,CArC5B,GAqCgC9B,GArCjC,KAqCyC,YArChD;AAsCD,OAjFD,EAiFGD,QAAQ,CAAC,CAAD,CAjFX,EAiFgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAjFlB,EAiFsCA,QAjFtC;AAkFD,KAvFD,EAuFGA,QAAQ,CAAC,CAAD,CAvFX,EAuFgBA,QAvFhB;AAwFD,GA7FM,CA6FJA,QAAQ,CAAC,CAAD,CA7FJ,EA6FSA,QA7FT,CAAP;AA8FD,CAvGD,EAuGGN,IAvGH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS+C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASuG,SAAT,CAAmBxG,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,OAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CiO,mBAA/C;AAGApP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,OAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,MAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,MAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,qBAA5C;AACA,eAAO,CAACN,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8BgP,mBAAmB,GAAG,SAASC,YAAT,CAAsB3L,KAAtB,EAA6BuK,UAA7B,EAAyCqB,UAAzC,EAAqD1L,MAArD,EAA6DC,MAA7D,EAAqE;AAC/H,cAAIzD,IAAI,GAAG,IAAX;;AAGA,cAAIwD,MAAM,CAAC,KAAD,CAAN,CAAc,IAAd,CAAJ,EAAyB,CACxB,CADD,MACO;AACL,mBAAOrD,GAAP;AACD;;AAAA;;AACD,cAAIS,OAAO,CAAC+B,MAAM,CAACkL,UAAD,EAAa,CAAb,CAAP,CAAX,EAAoC;AAClC,mBAAOxN,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuByD,SAAvB,CAAiC,QAAjC,CAAP;AACD,WAFD,MAEO,IAAI/C,OAAO,CAAC4F,MAAM,CAACqH,UAAD,EAAa,EAAb,CAAP,CAAX,EAAqC;AAC1C,mBAAOxN,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB2D,OAAvB,CAA+B,OAA/B,CAAP;AACD,WAFM,MAEA,IAAIJ,MAAM,CAAC,KAAD,CAAN,CAAc,GAAd,CAAJ,EAAwB;AAC7B,mBAAOpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBwD,QAAvB,EAAP;AACD,WAFM,MAEA,IAAI9C,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQG,MAAR,CAAP,CAAX,EAAoC;AACzC,mBAAOpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,KAAM0C,SAAS,CAAC7C,MAAD,EAASH,KAAT,CAAf,GAAkC,IAAlE,CAAP;AACD,WAFM,MAEA;AACL,mBAAOjD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4D,QAAvB,CAAgC,IAAhC,CAAP;AACD;;AAAA;AACF,SAnBO,EAmBLkL,mBAAmB,CAAC/M,OAApB,GAA8B,CAnBzB,GAmB6B9B,GAnB9B,KAmBsC,YAnB7C;AAoBD,OA9BD,EA8BGD,QAAQ,CAAC,CAAD,CA9BX,EA8BgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CA9BlB,EA8BsCA,QA9BtC;AA+BD,KApCD,EAoCGA,QAAQ,CAAC,CAAD,CApCX,EAoCgBA,QApChB;AAqCD,GA1CM,CA0CJA,QAAQ,CAAC,CAAD,CA1CJ,EA0CSA,QA1CT,CAAP;AA2CD,CAvDD,EAuDGN,IAvDH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS2G,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAAS4C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASF,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASiJ,SAAT,CAAmBlJ,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAAA,MAAmJC,OAAO,GAAGhB,IAAI,CAACiB,MAAlK;AAAA,MAA0KqI,KAAK,GAAGtJ,IAAI,CAACuJ,IAAvL;AAEA,SAAQ,UAASrI,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,YAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CoO,wBAA/C;AAAA,YAAyEC,+CAAzE;AAAA,YAA0HC,uBAA1H;AAEArP,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,YAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,aAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,eAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,2BAAL,GAAmC,0BAAnC,GAAgE,oCAAhE,GAAuG,iBAAvG,GAA2H,0BAA3H,GAAwJ,4BAAxJ,GAAuL,4CAAvL,GAAsO,kBAAtO,GAA2P,IAA3P,GAAkQ,8BAAlQ,GAAmS,uBAAnS,GAA6T,0BAA7T,GAA0V,2BAA1V,GAAwX,iDAAxX,GAA4a,IAA5a,GAAmb,uCAAnb,GAA6d,iCAA7d,GAAigB,4BAAjgB,GAAgiB,IAAhiB,GAAuiB,SAAviB,GAAmjB,yBAAnjB,GAA+kB,mCAA/kB,GAAqnB,gDAArnB,GAAwqB,8CAAxqB,GAAytB,6CAArwB;AACAF,YAAI,CAACwB,gBAAL,CAAsB,WAAtB;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8BmP,wBAAwB,GAAG,SAASzN,YAAT,CAAsBC,OAAtB,EAA+B;AACtF,cAAIC,KAAK,GAAGuN,wBAAwB,CAACtN,GAArC;AAAA,cAA0CC,MAAM,GAAGF,KAAK,IAAIzB,GAA5D;AAAA,cAAiEH,IAAI,GAAG,IAAxE;AAEA,cAAI4B,KAAJ,EAAWuN,wBAAwB,CAACtN,GAAzB,GAA+B,IAA/B;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+CmP,wBAA/C,EAAyE,KAAzE,EAAgF,IAAhF,CAAP,EAA8F,YAA9F,EAA4G,CAACxN,OAAD,CAA5G,EAAuH,IAAvH,CAAN;AACA,iBAAQ3B,IAAI,CAACiO,aAAL,GAAqB,IAA7B;AACD,SAPD,EAOGkB,wBAAwB,CAAClN,OAAzB,GAAmC,CAPtC;AASArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqDoP,+CAA+C,GAAG,SAASlN,mCAAT,CAA6CP,OAA7C,EAAsD;AAC3J,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiBwJ,SAAS,GAAGrJ,GAA7B;AAAA,cAAkCsJ,SAAS,GAAGtJ,GAA9C;AAAA,cAAmDsD,MAAM,GAAGtD,GAA5D;AAAA,cAAiEyJ,SAAS,GAAGzJ,GAA7E;AAAA,cAAkF6D,MAAM,GAAG7D,GAA3F;AAAA,cAAgG6K,SAAS,GAAG7K,GAA5G;AAAA,cAAiHmP,eAAe,GAAGnP,GAAnI;AAAA,cAAwIoP,cAAc,GAAGpP,GAAzJ;AAAA,cAA8JqP,SAAS,GAAGrP,GAA1K;AAAA,cAA+KsP,SAAS,GAAGtP,GAA3L;;AAGA,cAAIS,OAAO,CAACe,OAAO,CAAC,KAAD,CAAP,CAAe,uDAAf,CAAD,CAAX,EAAsF;AAEpF6H,qBAAS,GAAI,YAAW;AAAC,kBAAI5I,OAAO,CAAE6I,SAAS,GAAGpJ,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAAd,CAAX,EAAkE;AACzF,uBAAOsF,SAAP;AACD,eAFwB,MAElB;AACL,uBAAO,CAAP;AACD;;AAAA;AAAE,qBAAOtJ,GAAP;AAAa,aAJJ,GAIQiE,KAJR,EAAZ;;AAKAX,kBAAM,GAAI,YAAW;AAAC,kBAAI7C,OAAO,CAAEgJ,SAAS,GAAGvJ,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAAd,CAAX,EAAkE;AACtF,uBAAOyF,SAAP;AACD,eAFqB,MAEf;AACL,uBAAO,CAAP;AACD;;AAAA;AAAE,qBAAOzJ,GAAP;AAAa,aAJP,GAIWiE,KAJX,EAAT;;AAKAJ,kBAAM,GAAI,YAAW;AAAC,kBAAIpD,OAAO,CAAEoK,SAAS,GAAG3K,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAAd,CAAX,EAAkE;AACtF,uBAAO6G,SAAP;AACD,eAFqB,MAEf;AACL,uBAAO,CAAP;AACD;;AAAA;AAAE,qBAAO7K,GAAP;AAAa,aAJP,GAIWiE,KAJX,EAAT;;AAKA,gBAAI/D,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,EAAsC,KAAtC,EAA6C,GAA7C,CAAJ,EAAuD;AAErDmL,6BAAe,GAAG,CAAlB;AACAC,4BAAc,GAAG,CAAjB;AACD,aAJD,MAIO;AAELD,6BAAe,GAAI,YAAW;AAAC,oBAAI1O,OAAO,CAAE4O,SAAS,GAAGnP,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAAd,CAAX,EAAkE;AAC/F,yBAAOqL,SAAP;AACD,iBAF8B,MAExB;AACL,yBAAO,CAAP;AACD;;AAAA;AAAE,uBAAOrP,GAAP;AAAa,eAJE,GAIEiE,KAJF,EAAlB;;AAKAmL,4BAAc,GAAI,YAAW;AAAC,oBAAI3O,OAAO,CAAE6O,SAAS,GAAGpP,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,EAAnC,CAAd,CAAX,EAAmE;AAC/F,yBAAOsL,SAAP;AACD,iBAF6B,MAEvB;AACL,yBAAO,CAAP;AACD;;AAAA;AAAE,uBAAOtP,GAAP;AAAa,eAJC,GAIGiE,KAJH,EAAjB;AAKD;;AAAA;;AACD,gBAAIxD,OAAO,CAAC2F,MAAM,CAACgJ,cAAD,EAAiB,CAAjB,CAAP,CAAX,EAAwC;AACtCA,4BAAc,GAAG,CAAjB;AAAmB;;AAAA;AACrB,mBAAOvP,IAAI,CAACgK,UAAL,CAAgBR,SAAhB,EAA2B/F,MAA3B,EAAmCO,MAAnC,EAA2CsL,eAA3C,EAA4DC,cAA5D,CAAP;AAAoF;;AAAA;AACtF,iBAAOpP,GAAP;AACD,SA1CD,EA0CGiP,+CAA+C,CAACnN,OAAhD,GAA0D,CA1C7D;AA2CA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,YAAf,EAA6BqP,uBAAuB,GAAG,SAASpF,WAAT,CAAqBT,SAArB,EAAgC/F,MAAhC,EAAwCO,MAAxC,EAAgDsL,eAAhD,EAAiEC,cAAjE,EAAiF;AAC9I,cAAIhI,EAAJ;AAAA,cAAQiH,GAAR;AAAA,cAAaC,IAAb;AAAA,cAAkBzO,IAAI,GAAG,IAAzB;AAAA,cAA+B0P,iBAAiB,GAAGvP,GAAnD;AAAA,cAAwDwP,kBAAkB,GAAGxP,GAA7E;AAAA,cAAkF2E,IAAI,GAAG3E,GAAzF;AAAA,cAA8FyP,SAAS,GAAGzP,GAA1G;AAAA,cAA+GmK,SAAS,GAAGnK,GAA3H;AAAA,cAAgI0E,QAAQ,GAAG1E,GAA3I;AAAA,cAAgJ0P,YAAY,GAAG1P,GAA/J;AAAA,cAAoK2P,aAAa,GAAG3P,GAApL;AAAA,cAAyLgC,MAAM,GAAGhC,GAAlM;AAAA,cAAuM4P,QAAQ,GAAG5P,GAAlN;AAAA,cAAuN6P,WAAW,GAAG7P,GAArO;;AAGAuP,2BAAiB,GAAG,CAApB;AACAC,4BAAkB,GAAG,CAArB;AACA7K,cAAI,GAAG,EAAP;AACA8K,mBAAS,GAAGpG,SAAZ;;AACA,iBAAO5I,OAAO,CAAC2F,MAAM,CAACqJ,SAAD,EAAY,CAAZ,CAAP,CAAd,EAAsC;AAEpCtF,qBAAS,GAAGtK,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+B6K,SAA/B,EAA0C,EAA1C,EAA8CvB,KAA9C,EAAZ;AACAxJ,oBAAQ,GAAGyF,SAAS,CAACrF,KAAV,CAAgB,GAAhB,CAAX;AACA4K,wBAAY,GAAG3G,KAAK,CAACoB,SAAD,EAAY,OAAZ,EAAqB,EAArB,GAA0BkE,GAAG,GAAG,aAAS5D,CAAT,EAAW;AAAC,kBAAI5K,IAAI,GAAGwO,GAAG,CAAC3D,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyB2D,GAAG,CAAC3D,GAAxC;;AAI9D,kBAAID,CAAC,IAAI,IAAT,EAAe;AACbA,iBAAC,GAAGzK,GAAJ;AACD;;AAAA;AACD,qBAAOwC,MAAM,CAACiI,CAAD,EAAInH,MAAJ,CAAb;AAA0B,aAPkB,EAOhB+K,GAAG,CAAC3D,GAAJ,GAAU7K,IAPM,EAOAwO,GAAG,CAACvM,OAAJ,GAAc,CAPd,EAOiBuM,GAP3C,EAApB;AAQAsB,yBAAa,GAAG5G,KAAK,CAACoB,SAAD,EAAY,OAAZ,EAAqB,EAArB,GAA0BmE,IAAG,GAAG,aAAS7D,CAAT,EAAW;AAAC,kBAAI5K,IAAI,GAAGyO,IAAG,CAAC5D,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyB4D,IAAG,CAAC5D,GAAxC;;AAI/D,kBAAID,CAAC,IAAI,IAAT,EAAe;AACbA,iBAAC,GAAGzK,GAAJ;AACD;;AAAA;AACD,qBAAOwC,MAAM,CAACiI,CAAD,EAAI2E,cAAJ,CAAb;AAAkC,aAPW,EAOTd,IAAG,CAAC5D,GAAJ,GAAU7K,IAPD,EAOOyO,IAAG,CAACxM,OAAJ,GAAc,CAPrB,EAOwBwM,IAPlD,EAArB;AAQAiB,6BAAiB,GAAG7P,QAAQ,CAAC6P,iBAAD,EAAoBG,YAApB,CAA5B;AACAF,8BAAkB,GAAG9P,QAAQ,CAAC8P,kBAAD,EAAqBG,aAArB,CAA7B;;AACA,gBAAIlP,OAAO,CAACkE,IAAI,CAAC,SAAD,CAAJ,EAAD,CAAX,EAAgC,CAC/B,CADD,MACO;AACLA,kBAAI,GAAGjF,QAAQ,CAACiF,IAAD,EAAO,GAAP,CAAf;AACD;;AAAA;AACDA,gBAAI,GAAGjF,QAAQ,CAACiF,IAAD,EAAO,KAAM+K,YAAN,GAAsB,GAAtB,GAA6BhL,QAA7B,GAAyC,GAAhD,CAAf;AACA+K,qBAAS,GAAGE,aAAZ;AACD;;AAAA;AACD3N,gBAAM,GAAG,EAAT;AACA4N,kBAAQ,GAAG/L,MAAM,CAAC,KAAD,CAAN,CAAc,CAAd,CAAX;;AACA,cAAIpD,OAAO,CAACmP,QAAD,CAAX,EAAuB;AAErBC,uBAAW,GAAGnQ,QAAQ,CAACmJ,SAAS,CAAC0G,iBAAD,EAAoB1L,MAApB,CAAV,EAAuCgF,SAAS,CAAC2G,kBAAD,EAAqBL,eAArB,CAAhD,CAAtB;AACAnN,kBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,GAAL,GAAYqH,SAAZ,GAAyB,OAAzB,GAAoC/F,MAApC,GAA8C,MAA9C,GAAwDqB,IAAxD,GAAgE,UAAhE,GAA8E4K,iBAA9E,GAAmG,GAAnG,GAA0G1L,MAAnH,CAAjB;;AACA,gBAAIpD,OAAO,CAAC2F,MAAM,CAAC+I,eAAD,EAAkB,CAAlB,CAAP,CAAX,EAAyC;AACvCnN,oBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,aAAL,GAAsBwN,kBAAtB,GAA4C,GAA5C,GAAmDL,eAA5D,CAAjB;AAA+F;;AAAA;AACjGnN,kBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,KAAL,GAAc6N,WAAd,GAA6B,MAAtC,CAAjB;AACD,WAPD,MAOO;AACL7N,kBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,GAAL,GAAYqH,SAAZ,GAAyB,OAAzB,GAAoC/F,MAApC,GAA8C,MAA9C,GAAwDqB,IAAxD,GAAgE,SAAhE,GAA6E4K,iBAAtF,CAAjB;AACD;;AAAA;;AACD,cAAI9O,OAAO,CAAC2F,MAAM,CAACoJ,kBAAD,EAAqB,CAArB,CAAP,CAAX,EAA4C;AAC1CxN,kBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,KAAL,GAAcwN,kBAAd,GAAoC,QAA7C,CAAjB;AAAwE;;AAAA;AAC1E,iBAAOxN,MAAP;AACD,SApDO,EAoDLkN,uBAAuB,CAACpN,OAAxB,GAAkC,CApD7B,GAoDiC9B,GApDlC,KAoD0C,WApDjD;AAqDD,OAtHD,EAsHGD,QAAQ,CAAC,CAAD,CAtHX,EAsHgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAtHlB,EAsHsCA,QAtHtC;AAuHD,KA5HD,EA4HGA,QAAQ,CAAC,CAAD,CA5HX,EA4HgBA,QA5HhB;AA6HD,GAlIM,CAkIJA,QAAQ,CAAC,CAAD,CAlIJ,EAkISA,QAlIT,CAAP;AAmID,CAlJD,EAkJGN,IAlJH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS4G,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAAA,MAAmJC,OAAO,GAAGhB,IAAI,CAACiB,MAAlK;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,WAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CkP,uBAA/C;AAAA,YAAwEC,uBAAxE;AAGAtQ,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,WAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,YAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,YAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,mDAAL,GAA2D,aAAvG;AAEAN,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8BiQ,uBAAuB,GAAG,SAASvO,YAAT,CAAsBC,OAAtB,EAA+B;AACrF,cAAIC,KAAK,GAAGqO,uBAAuB,CAACpO,GAApC;AAAA,cAAyCC,MAAM,GAAGF,KAAK,IAAIzB,GAA3D;AAAA,cAAgEH,IAAI,GAAG,IAAvE;AAEA,cAAI4B,KAAJ,EAAWqO,uBAAuB,CAACpO,GAAxB,GAA8B,IAA9B;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+CiQ,uBAA/C,EAAwE,KAAxE,EAA+E,IAA/E,CAAP,EAA6F,YAA7F,EAA2G,CAACtO,OAAD,CAA3G,EAAsH,IAAtH,CAAN;AACA3B,cAAI,CAACiO,aAAL,GAAqB,IAArB;AACA,iBAAQjO,IAAI,CAACmQ,aAAL,GAAqB/P,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,aAAX,CAAH,EAA8B,SAA9B,CAAhC;AACD,SARD,EAQG+P,uBAAuB,CAAChO,OAAxB,GAAkC,CARrC;AASA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8BkQ,uBAAuB,GAAG,SAASE,YAAT,CAAsB9M,KAAtB,EAA6BC,WAA7B,EAA0CqB,SAA1C,EAAqDpB,MAArD,EAA6DC,MAA7D,EAAqE;AACnI,cAAIzD,IAAI,GAAG,IAAX;AAAA,cAAiBqQ,KAAK,GAAGlQ,GAAzB;AAAA,cAA8BsJ,SAAS,GAAGtJ,GAA1C;AAGAkQ,eAAK,GAAGzL,SAAS,CAACmE,MAAV,CAAiB,CAAjB,CAAR;;AACA,cAAInE,SAAS,CAACmE,MAAV,CAAiB,CAAjB,EAAoB,KAApB,EAA2BnE,SAAS,CAAC0L,KAAV,EAA3B,CAAJ,EAAmD;AACjD,mBAAOjQ,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB2D,OAAvB,CAA+B,OAA/B,CAAP;AACD,WAFD,MAEO,IAAIjD,OAAO,CAAC4F,MAAM,CAAC6J,KAAD,EAAQ,CAAR,CAAP,CAAX,EAA+B;AACpC,mBAAOhQ,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuByD,SAAvB,CAAiC,KAAK,UAAL,GAAmB0M,KAAnB,GAA4B,KAA7D,CAAP;AACD,WAFM,MAEA,IAAIzP,OAAO,CAAE,YAAW;AAAC,gBAAIA,OAAO,CAAE6I,SAAS,GAAGjG,MAAM,CAAC,KAAD,CAAN,CAAc,IAAd,CAAd,CAAX,EAAgD;AAC9E,qBAAOiG,SAAP;AACD,aAF+B,MAEzB;AACL,qBAAOhG,MAAM,CAAC,KAAD,CAAN,CAAc,GAAd,CAAP;AACD;;AAAA;AAAE,mBAAOtD,GAAP;AAAa,WAJG,EAAD,CAAX,EAIe;AACpB,mBAAOA,GAAP;AACD,WANM,MAMA,IAAIS,OAAO,CAAC4F,MAAM,CAAClD,KAAD,EAAQG,MAAR,CAAP,CAAX,EAAoC;AACzC,mBAAOpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,IAAhC,CAAP;AACD,WAFM,MAEA;AACL,mBAAOvD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4D,QAAvB,CAAgC,IAAhC,CAAP;AACD;;AAAA;AACF,SApBO,EAoBLoM,uBAAuB,CAACjO,OAAxB,GAAkC,CApB7B,GAoBiC9B,GApBlC,KAoB0C,YApBjD;AAqBD,OAzCD,EAyCGD,QAAQ,CAAC,CAAD,CAzCX,EAyCgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAzClB,EAyCsCA,QAzCtC;AA0CD,KA/CD,EA+CGA,QAAQ,CAAC,CAAD,CA/CX,EA+CgBA,QA/ChB;AAgDD,GArDM,CAqDJA,QAAQ,CAAC,CAAD,CArDJ,EAqDSA,QArDT,CAAP;AAsDD,CA5DD,EA4DGN,IA5DH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASC,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASuG,SAAT,CAAmBxG,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASkJ,MAAT,CAAgBnJ,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASwG,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,aAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CwP,gDAA/C;AAAA,YAAiGC,sBAAjG;AAAA,YAAyHC,4BAAzH;AAAA,YAAuJC,mCAAvJ;AAAA,YAA4LC,yBAA5L;AAAA,YAAuNC,0BAAvN;AAAA,YAAmPC,iCAAnP;AAAA,YAAsRC,6BAAtR;AAEA9Q,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,aAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,MAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,SAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,OAAL,GAAe,cAAf,GAAgC,yBAAhC,GAA4D,oBAAxG;AACAF,YAAI,CAACwB,gBAAL,CAAsB,YAAtB;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqDuQ,gDAAgD,GAAG,SAASrO,mCAAT,CAA6CP,OAA7C,EAAsD;AAC5J,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiB+Q,WAAW,GAAG5Q,GAA/B;AAAA,cAAoC6Q,OAAO,GAAG7Q,GAA9C;AAAA,cAAmD8Q,SAAS,GAAG9Q,GAA/D;;AAGA,cAAIS,OAAO,CAACe,OAAO,CAAC,KAAD,CAAP,CAAe,kCAAf,CAAD,CAAX,EAAiE,CAChE,CADD,MACO;AACL,mBAAOxB,GAAP;AACD;;AAAA;AACD4Q,qBAAW,GAAG1Q,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,EAAsCC,KAAtC,EAAd;AACA4M,iBAAO,GAAG3Q,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAAV;AACA8M,mBAAS,GAAG5Q,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAAZ;AACA,iBAAOnE,IAAI,CAACkR,QAAL,CAAcH,WAAd,EAA2BC,OAA3B,EAAoCC,SAApC,CAAP;AACD,SAZD,EAYGV,gDAAgD,CAACtO,OAAjD,GAA2D,CAZ9D;AAcArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,UAAf,EAA2BwQ,sBAAsB,GAAG,SAASW,SAAT,CAAmBJ,WAAnB,EAAgCC,OAAhC,EAAyCC,SAAzC,EAAoD;AACtG,cAAI1J,EAAJ;AAAA,cAAQC,EAAR;AAAA,cAAYxH,IAAI,GAAG,IAAnB;AAAA,cAAyBoR,SAAS,GAAGjR,GAArC;AAAA,cAA0C0E,QAAQ,GAAG1E,GAArD;AAAA,cAA0DkR,SAAS,GAAGlR,GAAtE;AAAA,cAA2EmR,GAAG,GAAGnR,GAAjF;AAAA,cAAsFoR,IAAI,GAAGpR,GAA7F;AAAA,cAAkGqR,QAAQ,GAAGrR,GAA7G;AAAA,cAAkH0J,MAAM,GAAG1J,GAA3H;AAAA,cAAgImD,KAAK,GAAGnD,GAAxI;AAAA,cAA6IsR,WAAW,GAAGtR,GAA3J;AAAA,cAAgKuR,aAAa,GAAGvR,GAAhL;AAGAqH,YAAE,GAAGxH,IAAI,CAAC2R,cAAL,EAAL,EAA4BpK,EAAE,GAAG3H,IAAI,CAAC0I,MAAL,CAAYd,EAAZ,CAAjC,EAAmD4J,SAAS,GAAI7J,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAxF,EAAgG1C,QAAQ,GAAI0C,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAApI,EAA4I8J,SAAS,GAAI9J,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAjL,EAAwLC,EAAxL;AACAA,YAAE,GAAGxH,IAAI,CAAC4R,WAAL,CAAiBZ,OAAjB,CAAL,EAAgCzJ,EAAE,GAAG3H,IAAI,CAAC0I,MAAL,CAAYd,EAAZ,CAArC,EAAuD8J,GAAG,GAAI/J,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAtF,EAA8FyJ,OAAO,GAAIzJ,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAjI,EAAwIC,EAAxI;AACAA,YAAE,GAAGxH,IAAI,CAAC6R,YAAL,CAAkBZ,SAAlB,CAAL,EAAmC1J,EAAE,GAAG3H,IAAI,CAAC0I,MAAL,CAAYd,EAAZ,CAAxC,EAA0D+J,IAAI,GAAIhK,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAA1F,EAAkGiK,QAAQ,GAAIjK,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAtI,EAA6IC,EAA7I;AACAqC,gBAAM,GAAG,EAAT;AACAA,gBAAM,GAAGhK,QAAQ,CAACgK,MAAD,EAAS,KAAK,GAAL,GAAYkH,WAAZ,GAA2B,MAA3B,GAAqCC,OAArC,GAAiDQ,QAAjD,GAA6D,GAAtE,CAAjB;AACA3H,gBAAM,GAAGhK,QAAQ,CAACgK,MAAD,EAAS,KAAK,KAAL,GAAckH,WAAd,GAA6B,GAA7B,GAAoCK,SAApC,GAAiD,GAAjD,GAAwDvM,QAAxD,GAAoE,GAApE,GAA2EmM,OAApF,CAAjB;AACA1N,eAAK,GAAGzD,QAAQ,CAACyG,SAAS,CAACyK,WAAD,EAAcK,SAAd,CAAV,EAAoCE,GAApC,CAAhB;AACAzH,gBAAM,GAAGhK,QAAQ,CAACgK,MAAD,EAAS,KAAK,KAAL,GAAcvG,KAAvB,CAAjB;AACAmO,qBAAW,GAAGzR,IAAI,CAAC8R,eAAL,CAAqBV,SAArB,EAAgC9N,KAAhC,EAAuCiO,IAAvC,CAAd;AACA1H,gBAAM,GAAGhK,QAAQ,CAACgK,MAAD,EAAS4H,WAAT,CAAjB;AACAC,uBAAa,GAAG1R,IAAI,CAAC+R,mBAAL,CAAyBzO,KAAzB,EAAgCiO,IAAhC,EAAsCF,SAAtC,CAAhB;AACAxH,gBAAM,GAAGhK,QAAQ,CAACgK,MAAD,EAAS6H,aAAT,CAAjB;AACA,iBAAO7H,MAAP;AACD,SAjBD,EAiBG2G,sBAAsB,CAACvO,OAAvB,GAAiC,CAjBpC;AAmBArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,gBAAf,EAAiCyQ,4BAA4B,GAAG,SAASuB,eAAT,GAA2B;AACzF,cAAIzK,EAAJ;AAAA,cAAQC,EAAR;AAAA,cAAYxH,IAAI,GAAG,IAAnB;AAAA,cAAyBiS,KAAK,GAAG9R,GAAjC;AAAA,cAAsC+R,KAAK,GAAG/R,GAA9C;AAAA,cAAmDgS,SAAS,GAAGhS,GAA/D;AAAA,cAAoEiS,UAAU,GAAGjS,GAAjF;AAAA,cAAsFkS,SAAS,GAAGlS,GAAlG;AAAA,cAAuGmS,UAAU,GAAGnS,GAApH;AAAA,cAAyHkR,SAAS,GAAGlR,GAArI;AAAA,cAA0IoS,SAAS,GAAGpS,GAAtJ;AAAA,cAA2JqS,YAAY,GAAGrS,GAA1K;AAGA8R,eAAK,GAAGjS,IAAI,CAACsB,UAAL,CAAgBoB,UAAhB,CAA2B,CAA3B,CAAR;AACAwP,eAAK,GAAGlS,IAAI,CAACsB,UAAL,CAAgBoB,UAAhB,CAA2B,CAA3B,CAAR;AACA8E,YAAE,GAAGxH,IAAI,CAACyS,qBAAL,CAA2BR,KAA3B,CAAL,EAAwC1K,EAAE,GAAG3H,IAAI,CAAC0I,MAAL,CAAYd,EAAZ,CAA7C,EAA+D2K,SAAS,GAAI5K,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAApG,EAA4G6K,UAAU,GAAI7K,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAlJ,EAAyJC,EAAzJ;AACAA,YAAE,GAAGxH,IAAI,CAACyS,qBAAL,CAA2BP,KAA3B,CAAL,EAAwC3K,EAAE,GAAG3H,IAAI,CAAC0I,MAAL,CAAYd,EAAZ,CAA7C,EAA+D6K,SAAS,GAAI9K,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAApG,EAA4G+K,UAAU,GAAI/K,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAlJ,EAAyJC,EAAzJ;AACA6J,mBAAS,GAAGxR,QAAQ,CAACuS,UAAD,EAAaE,UAAb,CAApB;;AACA,cAAIjB,SAAS,CAAC,KAAD,CAAT,CAAiB,CAAjB,CAAJ,EAAyB;AACvBA,qBAAS,GAAG,CAAZ;AAAc;;AAAA;AAChBkB,mBAAS,GAAG1S,QAAQ,CAACsS,SAAD,EAAYE,SAAZ,CAApB;AACAG,sBAAY,GAAG,KAAML,SAAN,GAAmB,GAAnB,GAA0BE,SAAzC;AACA,iBAAO,CAACE,SAAD,EAAYC,YAAZ,EAA0BnB,SAA1B,CAAP;AACD,SAdD,EAcGZ,4BAA4B,CAACxO,OAA7B,GAAuC,CAd1C;AAgBArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,uBAAf,EAAwC0Q,mCAAmC,GAAG,SAASgC,sBAAT,CAAgClQ,IAAhC,EAAsC;AAClH,cAAIxC,IAAI,GAAG,IAAX;AAAA,cAAiBqR,SAAS,GAAGlR,GAA7B;AAAA,cAAkCwS,QAAQ,GAAGxS,GAA7C;AAGAkR,mBAAS,GAAG,CAAZ;AACAsB,kBAAQ,GAAGnQ,IAAX;;AACA,cAAIA,IAAI,CAAC,KAAD,CAAJ,CAAY,CAAZ,CAAJ,EAAoB;AAElBmQ,oBAAQ,GAAG,CAAX;AACAtB,qBAAS,GAAG,CAAZ;AAAe;;AAAA;AACjB,iBAAO,CAACsB,QAAD,EAAWtB,SAAX,CAAP;AACD,SAXD,EAWGX,mCAAmC,CAACzO,OAApC,GAA8C,CAXjD;AAaArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8B2Q,yBAAyB,GAAG,SAASiC,YAAT,CAAsB5B,OAAtB,EAA+B;AACvF,cAAIhR,IAAI,GAAG,IAAX;AAAA,cAAiBmL,KAAK,GAAGhL,GAAzB;AAAA,cAA8B2E,IAAI,GAAG3E,GAArC;AAGAgL,eAAK,GAAG9K,EAAE,CAACH,QAAD,EAAW,qBAAX,CAAF,CAAoC+K,KAApC,CAA0C+F,OAA1C,CAAR;AACAlM,cAAI,GAAG,EAAP;;AACA,cAAIlE,OAAO,CAACqI,MAAM,CAACkC,KAAD,EAAQ,CAAR,CAAP,CAAX,EAA+B;AAC7BrG,gBAAI,GAAGqG,KAAK,CAACL,KAAN,EAAP;AACD,WAFD,MAEO,IAAIlK,OAAO,CAAC2F,MAAM,CAAC4E,KAAD,EAAQ,CAAR,CAAP,CAAX,EAA+B;AACpCrG,gBAAI,GAAGjF,QAAQ,CAAC,GAAD,EAAMsL,KAAK,CAACL,KAAN,EAAN,CAAf;AAAoC;;AAAA;AACtC,iBAAO,CAACK,KAAD,EAAQrG,IAAR,CAAP;AACD,SAXD,EAWG6L,yBAAyB,CAAC1O,OAA1B,GAAoC,CAXvC;AAaArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,cAAf,EAA+B4Q,0BAA0B,GAAG,SAASiC,aAAT,CAAuB5B,SAAvB,EAAkC;AAC5F,cAAIjR,IAAI,GAAG,IAAX;AAAA,cAAiBwR,QAAQ,GAAGrR,GAA5B;AAGAqR,kBAAQ,GAAG,EAAX;;AACA,cAAI5Q,OAAO,CAACqQ,SAAS,CAAC,OAAD,CAAT,EAAD,CAAX,EAAmC,CAClC,CADD,MACO;AAELA,qBAAS,GAAGA,SAAS,CAAC7M,KAAV,EAAZ;AACAoN,oBAAQ,GAAG,KAAK,IAAL,GAAaP,SAAS,CAAC7M,KAAV,EAAxB;AACD;;AAAA;AACD,iBAAO,CAAC6M,SAAD,EAAYO,QAAZ,CAAP;AACD,SAZD,EAYGZ,0BAA0B,CAAC3O,OAA3B,GAAqC,CAZxC;AAcArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,qBAAf,EAAsC6Q,iCAAiC,GAAG,SAASiC,oBAAT,CAA8BC,MAA9B,EAAsCC,KAAtC,EAA6C3B,SAA7C,EAAwD;AAChI,cAAIrR,IAAI,GAAG,IAAX;AAAA,cAAiB8E,IAAI,GAAG3E,GAAxB;AAGA2E,cAAI,GAAG,EAAP;;AACA,cAAIlE,OAAO,CAAC2F,MAAM,CAAC8K,SAAD,EAAY,CAAZ,CAAP,CAAX,EAAmC;AACjCvM,gBAAI,GAAG,KAAK,KAAL,GAAcuM,SAAd,GAA2B,IAAlC;AAAuC;;AAAA;AACzC,iBAAOvM,IAAP;AACD,SARD,EAQG+L,iCAAiC,CAAC5O,OAAlC,GAA4C,CAR/C;AASA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,iBAAf,EAAkC8Q,6BAA6B,GAAG,SAASmC,gBAAT,CAA0B7B,SAA1B,EAAqC9N,KAArC,EAA4CiO,IAA5C,EAAkD;AAC1H,cAAIvR,IAAI,GAAG,IAAX;AAAA,cAAiBkT,YAAY,GAAG/S,GAAhC;;AAGA,cAAIiR,SAAS,CAAC,KAAD,CAAT,CAAiB,CAAjB,CAAJ,EAAyB;AACvB,mBAAO,WAAP;AAAmB;;AAAA;;AACrB,cAAIA,SAAS,CAAC,KAAD,CAAT,CAAiB,EAAjB,CAAJ,EAA0B;AACxB,mBAAO,UAAP;AAAkB;;AAAA;;AACpB,cAAIxQ,OAAO,CAAC2Q,IAAI,CAAC,OAAD,CAAJ,EAAD,CAAX,EAA8B;AAC5BA,gBAAI,GAAG,CAAP;AAAS;;AAAA;AACX2B,sBAAY,GAAG5M,SAAS,CAAChD,KAAD,EAAQiO,IAAR,CAAxB;;AACA,cAAI3Q,OAAO,CAAC4F,MAAM,CAAC0M,YAAD,EAAe,CAAf,CAAP,CAAX,EAAsC;AACpC,mBAAO,KAAK,KAAL,GAAcA,YAAd,GAA8B,KAArC;AAA2C;;AAAA;AAC7C,iBAAO,OAAP;AACD,SAdO,EAcLpC,6BAA6B,CAAC7O,OAA9B,GAAwC,CAdnC,GAcuC9B,GAdxC,KAcgD,gBAdvD;AAeD,OA9HD,EA8HGD,QAAQ,CAAC,CAAD,CA9HX,EA8HgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CA9HlB,EA8HsCA,QA9HtC;AA+HD,KApID,EAoIGA,QAAQ,CAAC,CAAD,CApIX,EAoIgBA,QApIhB;AAqID,GA1IM,CA0IJA,QAAQ,CAAC,CAAD,CA1IJ,EA0ISA,QA1IT,CAAP;AA2ID,CA7JD,EA6JGN,IA7JH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS+C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASF,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASuG,SAAT,CAAmBxG,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASwG,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAAA,MAAqJqI,KAAK,GAAGtJ,IAAI,CAACuJ,IAAlK;AAEA,SAAQ,UAASrI,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,cAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CoS,0BAA/C;AAAA,YAA2EC,sBAA3E;AAGAxT,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,cAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,cAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,cAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,WAAL,GAAmB,eAAnB,GAAqC,YAArC,GAAoD,uCAAhG;AAEAN,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8BmT,0BAA0B,GAAG,SAASlE,YAAT,CAAsB3L,KAAtB,EAA6BC,WAA7B,EAA0CqB,SAA1C,EAAqDpB,MAArD,EAA6DC,MAA7D,EAAqE;AAC9H,cAAIzD,IAAI,GAAG,IAAX;AAAA,cAAiBmC,MAAM,GAAGhC,GAA1B;AAAA,cAA+BkT,OAAO,GAAGlT,GAAzC;;AAGA,cAAIsD,MAAM,CAAC,KAAD,CAAN,CAAc,GAAd,CAAJ,EAAwB;AACtB,mBAAOpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBwD,QAAvB,EAAP;AAAyC;;AAAA;;AAC3C,cAAI9C,OAAO,CAAC4C,MAAM,CAAC,KAAD,CAAN,CAAc,IAAd,CAAD,CAAX,EAAkC;AAChC,mBAAOrD,GAAP;AAAW;;AAAA;;AACbgC,gBAAM,GAAI,YAAW;AAAC,gBAAIvB,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQG,MAAR,CAAP,CAAX,EAAoC;AACxD,qBAAOpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,IAAhC,CAAP;AACD,aAFqB,MAEf;AACL,qBAAOvD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4D,QAAvB,CAAgC,IAAhC,CAAP;AACD;;AAAA;AAAE,mBAAO3D,GAAP;AAAa,WAJP,EAAT;;AAMAkT,iBAAO,GAAG,CAACxT,QAAQ,CAACsC,MAAM,CAACmR,KAAP,EAAD,EAAiBtT,IAAI,CAACuT,OAAL,CAAa3O,SAAb,CAAjB,CAAT,CAAV;AACAsE,eAAK,CAAC/G,MAAD,EAAS,OAAT,EAAkBvC,IAAI,CAACsN,IAAL,CAAUmG,OAAV,CAAlB,CAAL;AACAA,iBAAO,CAAC/M,SAAS,CAAC+M,OAAO,CAAC,QAAD,CAAR,EAAoB,CAApB,CAAV,CAAP;AAAyC;AACzC,iBAAOlR,MAAP;AACD,SAlBD,EAkBGgR,0BAA0B,CAAClR,OAA3B,GAAqC,CAlBxC;AAmBAjC,YAAI,CAACqN,QAAL;AACA,eAAO,CAACzN,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,SAAf,EAA0BoT,sBAAsB,GAAG,SAASI,QAAT,CAAkB5O,SAAlB,EAA6B;AACtF,cAAI5E,IAAI,GAAG,IAAX;AAAA,cAAiByT,MAAM,GAAGtT,GAA1B;AAGAsT,gBAAM,GAAG5T,QAAQ,CAAC+E,SAAS,CAACmE,MAAV,CAAiB,CAAjB,CAAD,EAAsBnE,SAAS,CAACmE,MAAV,CAAiB,CAAjB,CAAtB,CAAjB;;AACA,cAAInE,SAAS,CAAC,KAAD,CAAT,CAAiB,CAAjB,EAAoB,KAApB,EAA2BA,SAAS,CAAC,KAAD,CAAT,CAAiB,CAAjB,CAA3B,CAAJ,EAAqD;AACnD6O,kBAAM,GAAG5T,QAAQ,CAAC4T,MAAD,EAAS,CAAT,CAAjB;AAA6B;;AAAA;;AAC/B,cAAI7S,OAAO,CAAC2F,MAAM,CAACkN,MAAD,EAAS,CAAT,CAAP,CAAX,EAAgC;AAC9B,mBAAO,KAAK,MAAL,GAAeA,MAAf,GAAyB,MAAhC;AACD,WAFD,MAEO;AACL,mBAAO,EAAP;AACD;;AAAA;AACF,SAZO,EAYLL,sBAAsB,CAACnR,OAAvB,GAAiC,CAZ5B,GAYgC9B,GAZjC,KAYyC,QAZhD;AAaD,OA5CD,EA4CGD,QAAQ,CAAC,CAAD,CA5CX,EA4CgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CA5ClB,EA4CsCA,QA5CtC;AA6CD,KAlDD,EAkDGA,QAAQ,CAAC,CAAD,CAlDX,EAkDgBA,QAlDhB;AAmDD,GAxDM,CAwDJA,QAAQ,CAAC,CAAD,CAxDJ,EAwDSA,QAxDT,CAAP;AAyDD,CAxED,EAwEGN,IAxEH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS4G,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASwG,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASF,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAAS4C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASiJ,SAAT,CAAmBlJ,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAAA,MAAqJqI,KAAK,GAAGtJ,IAAI,CAACuJ,IAAlK;AAEA,SAAQ,UAASrI,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,eAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C2S,kDAA/C;AAAA,YAAmGC,kCAAnG;AAAA,YAAuIC,kCAAvI;AAAA,YAA2KC,+BAA3K;AAAA,YAA4MC,+BAA5M;AAAA,YAA6OC,8BAA7O;AAEA/T,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,eAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,iBAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,YAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,SAAL,GAAiB,kDAAjB,GAAsE,IAAtE,GAA6E,SAA7E,GAAyF,kEAArI;AACAF,YAAI,CAACwB,gBAAL,CAAsB,WAAtB;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqD0T,kDAAkD,GAAG,SAASxR,mCAAT,CAA6CP,OAA7C,EAAsD;AAC9J,cAAI4F,EAAJ;AAAA,cAAQC,EAAR;AAAA,cAAYxH,IAAI,GAAG,IAAnB;AAAA,cAAyBwJ,SAAS,GAAGrJ,GAArC;AAAA,cAA0C6T,YAAY,GAAG7T,GAAzD;AAAA,cAA8D8T,aAAa,GAAG9T,GAA9E;AAAA,cAAmFsJ,SAAS,GAAGtJ,GAA/F;AAAA,cAAoG+T,YAAY,GAAG/T,GAAnH;AAAA,cAAwHgU,UAAU,GAAGhU,GAArI;AAAA,cAA0I0P,YAAY,GAAG1P,GAAzJ;AAAA,cAA8JiU,UAAU,GAAGjU,GAA3K;AAAA,cAAgLkU,YAAY,GAAGlU,GAA/L;AAAA,cAAoMmU,WAAW,GAAGnU,GAAlN;AAAA,cAAuN0J,MAAM,GAAG1J,GAAhO;AAAA,cAAqOoU,cAAc,GAAGpU,GAAtP;AAAA,cAA2PsR,WAAW,GAAGtR,GAAzQ;AAAA,cAA8QqU,WAAW,GAAGrU,GAA5R;AAAA,cAAiSsU,UAAU,GAAGtU,GAA9S;AAAA,cAAmTgC,MAAM,GAAGhC,GAA5T;;AAGA,cAAIS,OAAO,CAAC,2BAA2B,KAA3B,EAAkCe,OAAlC,CAAD,CAAX,EAAyD,CACxD,CADD,MACO;AACL,mBAAO,GAAP;AACD;;AAAA;AACD6H,mBAAS,GAAGnJ,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,EAAsCC,KAAtC,EAAZ;AACA4P,sBAAY,GAAG3T,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,EAAsCC,KAAtC,EAAf;AACA6P,uBAAa,GAAG5T,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAAhB;;AACA8P,uBAAa,GAAI,YAAW;AAAC,gBAAIrT,OAAO,CAAE6I,SAAS,GAAGwK,aAAd,CAAX,EAA0C;AACrE,qBAAOxK,SAAP;AACD,aAF4B,MAEtB;AACL,qBAAO,CAAP;AACD;;AAAA;AAAE,mBAAOtJ,GAAP;AAAa,WAJA,EAAhB;;AAKA8T,uBAAa,GAAGA,aAAa,CAAC7P,KAAd,EAAhB;;AACA,cAAIxD,OAAO,CAAC4F,MAAM,CAACgD,SAAD,EAAY,GAAZ,CAAP,CAAX,EAAqC;AACnC,mBAAO,2CAAP;AAAmD;;AAAA;;AACrD,cAAI5I,OAAO,CAAC4F,MAAM,CAACyN,aAAD,EAAgB,CAAhB,CAAP,CAAX,EAAuC;AACrC,mBAAO,2CAAP;AAAmD;;AAAA;AACrDC,sBAAY,GAAGD,aAAf;AACAzM,YAAE,GAAGxH,IAAI,CAAC0U,kBAAL,CAAwBlL,SAAxB,EAAmCwK,YAAnC,EAAiDC,aAAjD,EAAgEC,YAAhE,CAAL,EAAoF3M,EAAE,GAAG3H,IAAI,CAAC0I,MAAL,CAAYd,EAAZ,CAAzF,EAA2G2M,UAAU,GAAI5M,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAjJ,EAAyJsI,YAAY,GAAItI,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAjM,EAAyM6M,UAAU,GAAI7M,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAA/O,EAAuP8M,YAAY,GAAI9M,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAA/R,EAAuS+M,WAAW,GAAI/M,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAA9U,EAAqVC,EAArV;AACAqC,gBAAM,GAAG,KAAK,GAAL,GAAYlI,OAAZ,GAAuB,MAAvB,GAAiCwS,UAA1C;AACAI,wBAAc,GAAGvU,IAAI,CAAC2U,kBAAL,CAAwBP,UAAxB,CAAjB;AACA3C,qBAAW,GAAGzR,IAAI,CAAC8R,eAAL,CAAqBjC,YAArB,CAAd;AACA2E,qBAAW,GAAGxU,IAAI,CAAC4U,eAAL,CAAqBP,YAArB,CAAd;AACAI,oBAAU,GAAGzU,IAAI,CAAC6U,cAAL,CAAoBP,WAApB,CAAb;AACAnS,gBAAM,GAAG,KAAM0H,MAAN,GAAiB0K,cAAjB,GAAoCC,WAApC,GAAoD/C,WAApD,GAAoEgD,UAA7E;AACA,iBAAOtS,MAAP;AACD,SA9BD,EA8BGuR,kDAAkD,CAACzR,OAAnD,GAA6D,CA9BhE;AAgCArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oBAAf,EAAqC2T,kCAAkC,GAAG,SAASmB,mBAAT,CAA6BtL,SAA7B,EAAwCwK,YAAxC,EAAsDC,aAAtD,EAAqEC,YAArE,EAAmF;AAC3J,cAAI3M,EAAJ;AAAA,cAAQ2C,GAAR;AAAA,cAAalK,IAAI,GAAG,IAApB;AAAA,cAA0B6P,YAAY,GAAG1P,GAAzC;AAAA,cAA8CiU,UAAU,GAAGjU,GAA3D;AAAA,cAAgEgU,UAAU,GAAGhU,GAA7E;AAAA,cAAkFkU,YAAY,GAAGlU,GAAjG;AAAA,cAAsG4U,WAAW,GAAG5U,GAApH;AAAA,cAAyHmU,WAAW,GAAGnU,GAAvI;AAAA,cAA4I6U,UAAU,GAAG7U,GAAzJ;AAAA,cAA8J8U,QAAQ,GAAG9U,GAAzK;AAAA,cAA8K+U,YAAY,GAAG/U,GAA7L;AAAA,cAAkMyJ,SAAS,GAAGzJ,GAA9M;;AAGA0P,sBAAY,GAAG,CAAf;AACAuE,oBAAU,GAAG,CAAb;AACAD,oBAAU,GAAG,EAAb;AACAE,sBAAY,GAAG,CAAf;AACAU,qBAAW,GAAG,KAAd;AACAT,qBAAW,GAAG,CAAd;AACAU,oBAAU,GAAG,KAAb;;AACA,iBAAOpU,OAAO,CAAC2F,MAAM,CAACiD,SAAD,EAAY,CAAZ,CAAP,CAAd,EAAsC;AAEpCyL,oBAAQ,GAAGjV,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+ByE,SAA/B,EAA0C,CAA1C,CAAX;AACA0L,wBAAY,GAAGD,QAAQ,CAAChQ,KAAT,CAAe,GAAf,CAAf;;AACA,gBAAIrE,OAAO,CAACuT,UAAU,CAAC,KAAD,CAAV,CAAkB,EAAlB,CAAD,CAAX,EAAoC;AAClCA,wBAAU,GAAGtU,QAAQ,CAACsU,UAAD,EAAa,GAAb,CAArB;AAAuC;;AAAA;AACzCA,sBAAU,GAAGtU,QAAQ,CAACsU,UAAD,EAAae,YAAb,CAArB;;AACA,gBAAItU,OAAO,CAAE,YAAW;AAAC,kBAAIA,OAAO,CAAEgJ,SAAS,GAAGqL,QAAQ,CAACE,KAAT,GAAiBC,OAAjB,GAA2B,KAA3B,EAAkC,CAAlC,CAAd,CAAX,EAAiE;AACxF,uBAAOhB,UAAU,CAAC,KAAD,CAAV,CAAkB,CAAlB,CAAP;AACD,eAFwB,MAElB;AACL,uBAAOxK,SAAP;AACD;;AAAA;AAAE,qBAAOzJ,GAAP;AAAa,aAJJ,EAAD,CAAX,EAIsB;AACpB,kBAAIS,OAAO,CAAC+B,MAAM,CAACsS,QAAQ,CAACE,KAAT,GAAiBE,MAAjB,EAAD,EAA4BnB,YAA5B,CAAP,CAAX,EAA8D;AAC5Da,2BAAW,GAAG,IAAd;AACD,eAFD,MAEO,IAAIE,QAAQ,CAACE,KAAT,GAAiBE,MAAjB,GAA0B,KAA1B,EAAiC,CAAjC,CAAJ,EAAyC;AAC9CL,0BAAU,GAAG,IAAb;AAAkB;AAAC;;AAAA;AACvBhV,gBAAI,CAACqC,MAAL,CAAY,UAAZ,EAAwB4S,QAAxB;;AACA,gBAAIrU,OAAO,CAACmU,WAAD,CAAX,EAA0B;AAExBV,0BAAY,GAAG,CAAf;AACAxE,0BAAY,GAAG7G,SAAS,CAACQ,SAAD,EAAY,CAAZ,CAAxB;AACA,qBAAO,CAAC2K,UAAD,EAAatE,YAAb,EAA2BuE,UAA3B,EAAuCC,YAAvC,EAAqDC,WAArD,CAAP;AACD,aALD,MAKO,IAAI1T,OAAO,CAACoU,UAAD,CAAX,EAAyB;AAE9BV,yBAAW,GAAG,CAAd;AACA,qBAAO,CAACH,UAAD,EAAatE,YAAb,EAA2BuE,UAA3B,EAAuCC,YAAvC,EAAqDC,WAArD,CAAP;AAA0E;;AAAA;AAC5E9K,qBAAS,GAAG,CAAZ;AACAN,iBAAK,CAAC+L,QAAD,EAAW,KAAX,EAAkB,EAAlB,GAAuB/K,GAAG,GAAG,aAASoL,SAAT,EAAmB;AAAC,kBAAItV,IAAI,GAAGkK,GAAG,CAACW,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyBX,GAAG,CAACW,GAAxC;;AAIpD,kBAAIyK,SAAS,IAAI,IAAjB,EAAuB;AACrBA,yBAAS,GAAGnV,GAAZ;AACD;;AAAA;AACDH,kBAAI,CAACqC,MAAL,CAAY,WAAZ,EAAyBiT,SAAzB;AACAtV,kBAAI,CAACqC,MAAL,CAAY,eAAZ,EAA6B4R,aAA7B;AACAjU,kBAAI,CAACqC,MAAL,CAAY,cAAZ,EAA4B6R,YAA5B;;AACA,kBAAItT,OAAO,CAAC+B,MAAM,CAAC2S,SAAD,EAAYrB,aAAZ,CAAP,CAAX,EAA+C;AAE7CzK,yBAAS,GAAG3J,QAAQ,CAAC2J,SAAD,EAAY,CAAZ,CAApB;AACA4K,0BAAU,GAAGvU,QAAQ,CAACuU,UAAD,EAAa,CAAb,CAArB;AAAsC;;AAAA;;AACxC,kBAAIxT,OAAO,CAAC+B,MAAM,CAAC2S,SAAD,EAAYtB,YAAZ,CAAP,CAAX,EAA8C;AAC5C,uBAAQnE,YAAY,GAAGhQ,QAAQ,CAACgQ,YAAD,EAAe,CAAf,CAA/B;AACD,eAFD,MAEO;AACL,uBAAO1P,GAAP;AACD;;AAAA;AAAE,aAlBuB,EAkBrB+J,GAAG,CAACW,GAAJ,GAAU7K,IAlBW,EAkBLkK,GAAG,CAACjI,OAAJ,GAAc,CAlBT,EAkBYiI,GAlBnC,EAAL;AAmBD;;AAAA;AACD,iBAAO,CAACiK,UAAD,EAAatE,YAAb,EAA2BuE,UAA3B,EAAuCC,YAAvC,EAAqDC,WAArD,CAAP;AACD,SA3DD,EA2DGX,kCAAkC,CAAC1R,OAAnC,GAA6C,CA3DhD;AA6DArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oBAAf,EAAqC4T,kCAAkC,GAAG,SAAS2B,mBAAT,CAA6BnB,UAA7B,EAAyC;AACjH,cAAIpU,IAAI,GAAG,IAAX;;AAGA,cAAIY,OAAO,CAAC+B,MAAM,CAACyR,UAAD,EAAa,CAAb,CAAP,CAAX,EAAoC;AAClC,mBAAO,EAAP;AAAU;;AAAA;AACZ,iBAAO,KAAK,KAAL,GAAcA,UAAd,GAA4B,IAAnC;AACD,SAPD,EAOGR,kCAAkC,CAAC3R,OAAnC,GAA6C,CAPhD;AASArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,iBAAf,EAAkC6T,+BAA+B,GAAG,SAASZ,gBAAT,CAA0BpD,YAA1B,EAAwC;AAC1G,cAAI7P,IAAI,GAAG,IAAX;;AAGA,cAAIY,OAAO,CAAC2F,MAAM,CAACsJ,YAAD,EAAe,CAAf,CAAP,CAAX,EAAsC;AACpC,mBAAO,KAAK,QAAL,GAAiBA,YAAxB;AAAsC;;AAAA;AACxC,iBAAO,OAAP;AACD,SAPD,EAOGgE,+BAA+B,CAAC5R,OAAhC,GAA0C,CAP7C;AASArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,iBAAf,EAAkC8T,+BAA+B,GAAG,SAAS0B,gBAAT,CAA0BnB,YAA1B,EAAwC;AAC1G,cAAIrU,IAAI,GAAG,IAAX;;AAEA,cAAIqU,YAAY,CAAC,KAAD,CAAZ,CAAoB,CAApB,CAAJ,EAA4B;AAC1B,mBAAO,UAAP;AACD,WAFD,MAEO;AACL,mBAAOlU,GAAP;AACD;AACF,SARD,EAQG2T,+BAA+B,CAAC7R,OAAhC,GAA0C,CAR7C;AASA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,gBAAf,EAAiC+T,8BAA8B,GAAG,SAAS0B,eAAT,CAAyBnB,WAAzB,EAAsC;AAC9G,cAAItU,IAAI,GAAG,IAAX;;AAEA,cAAIsU,WAAW,CAAC,KAAD,CAAX,CAAmB,CAAnB,CAAJ,EAA2B;AACzB,mBAAO,UAAP;AACD,WAFD,MAEO;AACL,mBAAOnU,GAAP;AACD;AACF,SARO,EAQL4T,8BAA8B,CAAC9R,OAA/B,GAAyC,CARpC,GAQwC9B,GARzC,KAQiD,eARxD;AASD,OA9ID,EA8IGD,QAAQ,CAAC,CAAD,CA9IX,EA8IgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CA9IlB,EA8IsCA,QA9ItC;AA+ID,KApJD,EAoJGA,QAAQ,CAAC,CAAD,CApJX,EAoJgBA,QApJhB;AAqJD,GA1JM,CA0JJA,QAAQ,CAAC,CAAD,CA1JJ,EA0JSA,QA1JT,CAAP;AA2JD,CA7KD,EA6KGN,IA7KH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASwL,UAAT,CAAoBtL,GAApB,EAAyBC,GAAzB,EAA8B;AAC5B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAAS4C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASF,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,WAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C2U,yBAA/C;AAGA9V,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,WAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,SAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,SAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,0CAA5C;AACA,eAAO,CAACN,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,eAAf,EAAgC0V,yBAAyB,GAAG,SAASrS,cAAT,CAAwBC,KAAxB,EAA+BC,WAA/B,EAA4CC,MAA5C,EAAoDC,MAApD,EAA4D;AAC9H,cAAIzD,IAAI,GAAG,IAAX;AAAA,cAAiB2V,cAAc,GAAGxV,GAAlC;AAAA,cAAuCsJ,SAAS,GAAGtJ,GAAnD;;AAGA,cAAIsD,MAAM,CAAC,KAAD,CAAN,CAAc,GAAd,CAAJ,EAAwB;AACtB,mBAAOpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBwD,QAAvB,EAAP;AAAyC;;AAAA;;AAC3C,cAAIF,MAAM,CAAC,KAAD,CAAN,CAAc,IAAd,CAAJ,EAAyB,CACxB,CADD,MACO;AACL,mBAAOrD,GAAP;AACD;;AAAA;AACDwV,wBAAc,GAAGvK,UAAU,CAAC3H,MAAM,CAAC4I,KAAP,EAAD,EAAiB,EAAjB,CAAV,CAA+BuJ,MAA/B,EAAjB;;AACA,cAAIhV,OAAO,CAAE,YAAW;AAAC,gBAAIA,OAAO,CAAE6I,SAAS,GAAG9G,MAAM,CAACW,KAAD,EAAQ,CAAR,CAApB,CAAX,EAA6C;AACpE,qBAAOmG,SAAP;AACD,aAFwB,MAElB;AAEL,qBAAO9G,MAAM,CAACW,KAAD,EAAQqS,cAAR,CAAb;AACD;;AAAA;AAAE,mBAAOxV,GAAP;AAAa,WALJ,EAAD,CAAX,EAKsB;AACpB,mBAAOE,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuByD,SAAvB,CAAiC,OAAjC,CAAP;AACD,WAPD,MAOO,IAAI/C,OAAO,CAAC4F,MAAM,CAAClD,KAAD,EAAQ,GAAR,CAAP,CAAX,EAAiC;AACtC,mBAAOjD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB2D,OAAvB,CAA+B,OAA/B,CAAP;AACD,WAFM,MAEA,IAAIjD,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQ8H,UAAU,CAAC3H,MAAM,CAAC4I,KAAP,EAAD,EAAiB,CAAjB,CAAV,CAA8BuJ,MAA9B,EAAR,CAAP,CAAX,EAAoE;AACzE,mBAAOvV,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,OAAhC,CAAP;AACD,WAFM,MAEA,IAAIhD,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQG,MAAR,CAAP,CAAX,EAAoC;AACzC,mBAAOpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,IAAhC,CAAP;AACD,WAFM,MAEA,IAAIhD,OAAO,CAAC4F,MAAM,CAAClD,KAAD,EAAQzD,QAAQ,CAAC,EAAD,EAAK8V,cAAL,CAAhB,CAAP,CAAX,EAA0D;AAC/D,mBAAOtV,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB2D,OAAvB,CAA+B,OAA/B,CAAP;AACD,WAFM,MAEA;AACL,mBAAOxD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4D,QAAvB,CAAgC,IAAhC,CAAP;AACD;;AAAA;AACF,SA7BO,EA6BL4R,yBAAyB,CAACzT,OAA1B,GAAoC,CA7B/B,GA6BmC9B,GA7BpC,KA6B4C,cA7BnD;AA8BD,OAxCD,EAwCGD,QAAQ,CAAC,CAAD,CAxCX,EAwCgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAxClB,EAwCsCA,QAxCtC;AAyCD,KA9CD,EA8CGA,QAAQ,CAAC,CAAD,CA9CX,EA8CgBA,QA9ChB;AA+CD,GApDM,CAoDJA,QAAQ,CAAC,CAAD,CApDJ,EAoDSA,QApDT,CAAP;AAqDD,CApED,EAoEGN,IApEH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,MAAII,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAEA,SAAQ,UAASK,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,YAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C8U,yBAA/C;AAGAjW,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,YAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,SAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,SAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,uCAA5C;AACA,eAAO,CAACN,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,cAAf,EAA+B6V,yBAAyB,GAAG,SAASC,aAAT,CAAuB/C,MAAvB,EAA+BxP,WAA/B,EAA4CqB,SAA5C,EAAuDpB,MAAvD,EAA+DuS,OAA/D,EAAwE;AACzI,cAAI/V,IAAI,GAAG,IAAX;;AAGA,cAAIwD,MAAM,CAAC,KAAD,CAAN,CAAc,IAAd,CAAJ,EAAyB,CACxB,CADD,MACO;AACL,mBAAOrD,GAAP;AACD;;AAAA;;AACD,cAAIyE,SAAS,CAACmE,MAAV,CAAiB,EAAjB,EAAqB,KAArB,EAA4BnE,SAAS,CAAC0L,KAAV,EAA5B,CAAJ,EAAoD;AAClD,mBAAOjQ,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuByD,SAAvB,CAAiC,MAAjC,CAAP;AACD,WAFD,MAEO,IAAIiB,SAAS,CAACmE,MAAV,CAAiB,CAAjB,EAAoB,KAApB,EAA2BnE,SAAS,CAAC0L,KAAV,EAA3B,CAAJ,EAAmD;AACxD,mBAAOjQ,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB2D,OAAvB,CAA+B,MAA/B,CAAP;AACD,WAFM,MAEA;AACL,mBAAO1D,GAAP;AACD;;AAAA;AACF,SAfO,EAeL0V,yBAAyB,CAAC5T,OAA1B,GAAoC,CAf/B,GAemC9B,GAfpC,KAe4C,aAfnD;AAgBD,OA1BD,EA0BGD,QAAQ,CAAC,CAAD,CA1BX,EA0BgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CA1BlB,EA0BsCA,QA1BtC;AA2BD,KAhCD,EAgCGA,QAAQ,CAAC,CAAD,CAhCX,EAgCgBA,QAhChB;AAiCD,GAtCM,CAsCJA,QAAQ,CAAC,CAAD,CAtCJ,EAsCSA,QAtCT,CAAP;AAuCD,CA1CD,EA0CGN,IA1CH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS+C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASuG,SAAT,CAAmBxG,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAAA,MAAqJqI,KAAK,GAAGtJ,IAAI,CAACuJ,IAAlK;AAEA,SAAQ,UAASrI,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,aAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CiV,gDAA/C;AAAA,YAAiGC,0BAAjG;AAEAjW,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,aAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,QAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,QAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,QAAL,GAAgB,6DAAhB,GAAgF,4DAA5H;AACAF,YAAI,CAACwB,gBAAL,CAAsB,WAAtB,EAAmC,WAAnC;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqDgW,gDAAgD,GAAG,SAAS9T,mCAAT,CAA6CP,OAA7C,EAAsD;AAC5J,cAAI3B,IAAI,GAAG,IAAX;AAEA,iBAAOA,IAAI,CAACkW,YAAL,CAAkBvU,OAAlB,CAAP;AACD,SAJD,EAIGqU,gDAAgD,CAAC/T,OAAjD,GAA2D,CAJ9D;AAKAjC,YAAI,CAACqN,QAAL;AACAzN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,mBAA5B,EAAiD,CAAjD;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,CAA5C;AACA,eAAO,CAACN,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,cAAf,EAA+BiW,0BAA0B,GAAG,SAASE,aAAT,CAAuBxU,OAAvB,EAAgC;AAClG,cAAI4F,EAAJ;AAAA,cAAQvH,IAAI,GAAG,IAAf;AAAA,cAAqByH,CAAC,GAAGtH,GAAzB;AAAA,cAA8BiW,SAAS,GAAGjW,GAA1C;AAAA,cAA+CkW,KAAK,GAAGlW,GAAvD;AAAA,cAA4DsJ,SAAS,GAAGtJ,GAAxE;AAAA,cAA6EmW,KAAK,GAAGnW,GAArF;AAAA,cAA0FyE,SAAS,GAAGzE,GAAtG;AAAA,cAA2GoW,GAAG,GAAGpW,GAAjH;AAAA,cAAsHgC,MAAM,GAAGhC,GAA/H;AAAA,cAAoIqW,EAAE,GAAGrW,GAAzI;AAAA,cAA8IsD,MAAM,GAAGtD,GAAvJ;AAAA,cAA4JkT,OAAO,GAAGlT,GAAtK;AAGAsH,WAAC,GAAG,kBAAkBU,MAAlB,CAAyBxG,OAAzB,CAAJ;;AACA,cAAIf,OAAO,CAAC6G,CAAD,CAAX,EAAgB,CACf,CADD,MACO;AACL,mBAAOtH,GAAP;AACD;;AAAA;AACDiW,mBAAS,GAAG3O,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,EAAY,KAAZ,EAAmB,IAAnB,CAAZ;;AACA4O,eAAK,GAAI,YAAW;AAAC,gBAAIzV,OAAO,CAAE6I,SAAS,IAAIlC,EAAE,GAAGE,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,CAAL,EAAmBF,EAAE,KAAKpH,GAAP,IAAcoH,EAAE,IAAI,IAArB,GAA6BpH,GAA7B,GAAmC+I,KAAK,CAAC3B,EAAD,EAAK,MAAL,EAAa,EAAb,CAA9D,CAAX,CAAX,EAAyG;AAC5H,qBAAOkC,SAAP;AACD,aAFoB,MAEd;AACL,qBAAO,CAAP;AACD;;AAAA;AAAE,mBAAOtJ,GAAP;AAAa,WAJR,EAAR;;AAKAmW,eAAK,GAAI,YAAW;AAAC,gBAAI1V,OAAO,CAACwV,SAAD,CAAX,EAAwB;AAC3C,qBAAO,EAAP;AACD,aAFoB,MAEd;AACL,qBAAO,CAAP;AACD;;AAAA;AAAE,mBAAOjW,GAAP;AAAa,WAJR,EAAR;;AAKA,cAAIS,OAAO,CAAC+B,MAAM,CAAC0T,KAAD,EAAQ,CAAR,CAAP,CAAX,EAA+B;AAC7B,mBAAOlW,GAAP;AAAW;;AAAA;AACbyE,mBAAS,GAAG5E,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+BsR,KAA/B,EAAsCC,KAAtC,CAAZ;AACAC,aAAG,GAAG3R,SAAS,CAAC6R,IAAV,EAAN;;AACAtU,gBAAM,GAAI,YAAW;AAAC,gBAAIvB,OAAO,CAAC+B,MAAM,CAAC4T,GAAD,EAAM,CAAN,CAAP,CAAX,EAA6B;AACjD,qBAAOlW,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB2D,OAAvB,CAA+B,uBAA/B,CAAP;AACD,aAFqB,MAEf,IAAIjD,OAAO,CAACgE,SAAS,CAAC,WAAD,CAAT,CAAuB,CAAvB,CAAD,CAAX,EAAwC;AAE7C4R,gBAAE,GAAI,YAAW;AAAC,oBAAI5V,OAAO,CAACwV,SAAD,CAAX,EAAwB;AACxC,yBAAO,IAAP;AACD,iBAFiB,MAEX;AACL,yBAAO,IAAP;AACD;;AAAA;AAAE,uBAAOjW,GAAP;AAAa,eAJX,EAAL;;AAKAsD,oBAAM,GAAI,YAAW;AAAC,oBAAI7C,OAAO,CAACwV,SAAD,CAAX,EAAwB;AAC5C,yBAAO,IAAP;AACD,iBAFqB,MAEf;AACL,yBAAO,IAAP;AACD;;AAAA;AAAE,uBAAOjW,GAAP;AAAa,eAJP,EAAT;;AAKA,qBAAOE,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuByD,SAAvB,CAAiC,KAAK,qBAAL,GAA8BF,MAA9B,GAAwC,GAAxC,GAA+C+S,EAA/C,GAAqD,YAAtF,CAAP;AACD,aAbM,MAaA,IAAI5V,OAAO,CAAC4F,MAAM,CAAC+P,GAAD,EAAMlW,EAAE,CAACH,QAAD,EAAW,mBAAX,CAAR,CAAP,CAAX,EAA6D;AAClE,qBAAOG,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,IAAhC,CAAP;AACD,aAFM,MAEA;AACL,qBAAOvD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4D,QAAvB,CAAgC,IAAhC,CAAP;AACD;;AAAA;AAAE,mBAAO3D,GAAP;AAAa,WAnBP,EAAT;;AAqBAkT,iBAAO,GAAG,CAAC,KAAK,GAAL,GAAY1R,OAAZ,GAAuB,OAAvB,GAAkCiD,SAAS,CAACK,KAAV,CAAgB,GAAhB,CAAlC,GAA0D,MAA1D,GAAoE9C,MAAM,CAACmR,KAAP,EAArE,CAAV;AACApK,eAAK,CAAC/G,MAAD,EAAS,OAAT,EAAkBvC,IAAI,CAACsN,IAAL,CAAUmG,OAAV,CAAlB,CAAL;AACAA,iBAAO,CAAC/M,SAAS,CAAC+M,OAAO,CAAC,QAAD,CAAR,EAAoB,CAApB,CAAV,CAAP;AAAyC;AACzC,iBAAOlR,MAAP;AACD,SAjDO,EAiDL8T,0BAA0B,CAAChU,OAA3B,GAAqC,CAjDhC,GAiDoC9B,GAjDrC,KAiD6C,aAjDpD;AAkDD,OAvED,EAuEGD,QAAQ,CAAC,CAAD,CAvEX,EAuEgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAvElB,EAuEsCA,QAvEtC;AAwED,KA7ED,EA6EGA,QAAQ,CAAC,CAAD,CA7EX,EA6EgBA,QA7EhB;AA8ED,GAnFM,CAmFJA,QAAQ,CAAC,CAAD,CAnFJ,EAmFSA,QAnFT,CAAP;AAoFD,CAhGD,EAgGGN,IAhGH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASwL,UAAT,CAAoBtL,GAApB,EAAyBC,GAAzB,EAA8B;AAC5B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASF,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAAS4C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASiJ,SAAT,CAAmBlJ,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,WAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C2V,yBAA/C;AAGA9W,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,WAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,cAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,aAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,oCAAL,GAA4C,gBAA5C,GAA+D,4CAA3G;AACA,eAAO,CAACN,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,eAAf,EAAgC0W,yBAAyB,GAAG,SAASrT,cAAT,CAAwBC,KAAxB,EAA+BC,WAA/B,EAA4CC,MAA5C,EAAoDC,MAApD,EAA4D;AAC9H,cAAIzD,IAAI,GAAG,IAAX;AAAA,cAAiBuN,IAAI,GAAGpN,GAAxB;;AAGA,cAAIsD,MAAM,CAAC,KAAD,CAAN,CAAc,GAAd,CAAJ,EAAwB;AACtB,mBAAOpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBwD,QAAvB,EAAP;AAAyC;;AAAA;;AAC3C,cAAIF,MAAM,CAAC,KAAD,CAAN,CAAc,IAAd,CAAJ,EAAyB,CACxB,CADD,MACO;AACL,mBAAOrD,GAAP;AACD;;AAAA;AACDoN,cAAI,GAAGnC,UAAU,CAACvL,QAAQ,CAAC4D,MAAD,EAAS,CAAT,CAAT,EAAsB,EAAtB,CAAV,CAAoCkT,MAApC,EAAP;;AACA,cAAI/V,OAAO,CAAC4F,MAAM,CAAClD,KAAD,EAAQ,GAAR,CAAP,CAAX,EAAiC;AAC/B,mBAAOjD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4D,QAAvB,CAAgC,IAAhC,CAAP;AACD,WAFD,MAEO,IAAIlD,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQiK,IAAR,CAAP,CAAX,EAAkC;AACvC,mBAAOlN,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,SAAhC,CAAP;AACD,WAFM,MAEA,IAAIhD,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQ0F,SAAS,CAACuE,IAAD,EAAO,CAAP,CAAjB,CAAP,CAAX,EAAgD;AACrD,mBAAOlN,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,YAAhC,CAAP;AACD,WAFM,MAEA,IAAIhD,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQ0F,SAAS,CAACuE,IAAD,EAAO,CAAP,CAAjB,CAAP,CAAX,EAAgD;AACrD,mBAAOlN,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,QAAhC,CAAP;AACD,WAFM,MAEA,IAAIhD,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQG,MAAR,CAAP,CAAX,EAAoC;AACzC,mBAAOpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,WAAhC,CAAP;AACD,WAFM,MAEA;AACL,mBAAOvD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4D,QAAvB,CAAgC,IAAhC,CAAP;AACD;;AAAA;AACF,SAxBO,EAwBL4S,yBAAyB,CAACzU,OAA1B,GAAoC,CAxB/B,GAwBmC9B,GAxBpC,KAwB4C,cAxBnD;AAyBD,OAnCD,EAmCGD,QAAQ,CAAC,CAAD,CAnCX,EAmCgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAnClB,EAmCsCA,QAnCtC;AAoCD,KAzCD,EAyCGA,QAAQ,CAAC,CAAD,CAzCX,EAyCgBA,QAzChB;AA0CD,GA/CM,CA+CJA,QAAQ,CAAC,CAAD,CA/CJ,EA+CSA,QA/CT,CAAP;AAgDD,CAlED,EAkEGN,IAlEH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS2G,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAAS4C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASqL,UAAT,CAAoBtL,GAApB,EAAyBC,GAAzB,EAA8B;AAC5B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASuG,SAAT,CAAmBxG,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASF,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAAA,MAAqJqI,KAAK,GAAGtJ,IAAI,CAACuJ,IAAlK;AAEA,SAAQ,UAASrI,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,kBAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C6V,+BAA/C;AAGAhX,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,kBAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,WAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,YAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,qBAA5C;AACA,eAAO,CAACN,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,cAAf,EAA+B4W,+BAA+B,GAAG,SAASC,aAAT,CAAuBvT,KAAvB,EAA8BC,WAA9B,EAA2CC,MAA3C,EAAmDC,MAAnD,EAA2D;AAClI,cAAIqT,GAAJ;AAAA,cAAS9W,IAAI,GAAG,IAAhB;AAAA,cAAsB6J,MAAM,GAAG1J,GAA/B;;AAGA,cAAIsD,MAAM,CAAC,KAAD,CAAN,CAAc,GAAd,CAAJ,EAAwB;AACtB,mBAAOpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBwD,QAAvB,EAAP;AAAyC;;AAAA;;AAC3C,cAAIF,MAAM,CAAC,KAAD,CAAN,CAAc,IAAd,CAAJ,EAAyB,CACxB,CADD,MACO;AACL,mBAAOrD,GAAP;AACD;;AAAA;;AACD,cAAIS,OAAO,CAAC2F,MAAM,CAACjD,KAAD,EAAQG,MAAR,CAAP,CAAX,EAAoC;AAClC,mBAAOpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4D,QAAvB,CAAgC,IAAhC,CAAP;AAA6C;;AAAA;;AAC/C+F,gBAAM,GAAI,YAAW;AAAC,gBAAIjJ,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQ8H,UAAU,CAAC3H,MAAD,EAAS,EAAT,CAAV,CAAuBW,KAAvB,EAAR,CAAP,CAAX,EAA4D;AAChF,qBAAO,gBAAP;AACD,aAFqB,MAEf,IAAIxD,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQ8H,UAAU,CAAC3H,MAAD,EAAS,EAAT,CAAV,CAAuBW,KAAvB,EAAR,CAAP,CAAX,EAA4D;AACjE,qBAAO,gBAAP;AACD,aAFM,MAEA,IAAIxD,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQ8H,UAAU,CAAC3H,MAAD,EAAS,CAAT,CAAV,CAAsBW,KAAtB,EAAR,CAAP,CAAX,EAA2D;AAChE,qBAAO,QAAP;AACD,aAFM,MAEA,IAAIxD,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQ8H,UAAU,CAAC3H,MAAD,EAAS,CAAT,CAAV,CAAsBW,KAAtB,EAAR,CAAP,CAAX,EAA2D;AAChE,qBAAO,QAAP;AACD,aAFM,MAEA,IAAIxD,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQ8H,UAAU,CAAC3H,MAAD,EAAS,CAAT,CAAV,CAAsBW,KAAtB,EAAR,CAAP,CAAX,EAA2D;AAChE,qBAAO,QAAP;AACD,aAFM,MAEA;AACL,qBAAO,QAAP;AACD;;AAAA;AAAE,mBAAOjE,GAAP;AAAa,WAZP,EAAT;;AAaA,iBAAO+I,KAAK,CAAC7I,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4L,IAAvB,EAAD,EAAgC,KAAhC,EAAuC,EAAvC,GAA4CgL,GAAG,GAAG,aAASC,CAAT,EAAW;AAAC,gBAAI/W,IAAI,GAAG8W,GAAG,CAACjM,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyBiM,GAAG,CAACjM,GAAxC;AAAA,gBAA6CwI,OAAO,GAAGlT,GAAvD;;AAIxE,gBAAI4W,CAAC,IAAI,IAAT,EAAe;AACbA,eAAC,GAAG5W,GAAJ;AACD;;AAAA;AAEDkT,mBAAO,GAAG,CAACxJ,MAAD,CAAV;AACAX,iBAAK,CAAC6N,CAAD,EAAI,OAAJ,EAAanX,IAAI,CAACsN,IAAL,CAAUmG,OAAV,CAAb,CAAL;AACAA,mBAAO,CAAC/M,SAAS,CAAC+M,OAAO,CAAC,QAAD,CAAR,EAAoB,CAApB,CAAV,CAAP;AAAyC;AAEzCA,mBAAO,GAAG,CAAC,IAAD,CAAV;AACAnK,iBAAK,CAAC6N,CAAD,EAAI,UAAJ,EAAgBnX,IAAI,CAACsN,IAAL,CAAUmG,OAAV,CAAhB,CAAL;AACAA,mBAAO,CAAC/M,SAAS,CAAC+M,OAAO,CAAC,QAAD,CAAR,EAAoB,CAApB,CAAV,CAAP;AAAyC;;AACzC,gBAAIzS,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQ,CAAR,CAAP,CAAX,EAA+B;AAG7B+P,qBAAO,GAAG,CAAC,IAAD,CAAV;AACAnK,mBAAK,CAAC6N,CAAD,EAAI,WAAJ,EAAiBnX,IAAI,CAACsN,IAAL,CAAUmG,OAAV,CAAjB,CAAL;AACAA,qBAAO,CAAC/M,SAAS,CAAC+M,OAAO,CAAC,QAAD,CAAR,EAAoB,CAApB,CAAV,CAAP;AAAyC;AAEzCA,qBAAO,GAAG,CAACxT,QAAQ,CAACkX,CAAC,CAACzD,KAAF,EAAD,EAAY,SAAZ,CAAT,CAAV;AACApK,mBAAK,CAAC6N,CAAD,EAAI,OAAJ,EAAanX,IAAI,CAACsN,IAAL,CAAUmG,OAAV,CAAb,CAAL;AACA,qBAAOA,OAAO,CAAC/M,SAAS,CAAC+M,OAAO,CAAC,QAAD,CAAR,EAAoB,CAApB,CAAV,CAAd;AAAgD;AACjD,aAVD,MAUO;AACL,qBAAOlT,GAAP;AACD;;AAAA;AAAE,WA3BmD,EA2BjD2W,GAAG,CAACjM,GAAJ,GAAU7K,IA3BuC,EA2BjC8W,GAAG,CAAC7U,OAAJ,GAAc,CA3BmB,EA2BhB6U,GA3B5B,EAAZ;AA4BD,SArDO,EAqDLF,+BAA+B,CAAC3U,OAAhC,GAA0C,CArDrC,GAqDyC9B,GArD1C,KAqDkD,aArDzD;AAsDD,OAhED,EAgEGD,QAAQ,CAAC,CAAD,CAhEX,EAgEgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAhElB,EAgEsCA,QAhEtC;AAiED,KAtED,EAsEGA,QAAQ,CAAC,CAAD,CAtEX,EAsEgBA,QAtEhB;AAuED,GA5EM,CA4EJA,QAAQ,CAAC,CAAD,CA5EJ,EA4ESA,QA5ET,CAAP;AA6ED,CA/FD,EA+FGN,IA/FH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASC,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASkJ,MAAT,CAAgBnJ,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAAA,MAAmJC,OAAO,GAAGhB,IAAI,CAACiB,MAAlK;AAAA,MAA0KqI,KAAK,GAAGtJ,IAAI,CAACuJ,IAAvL;AAEA,SAAQ,UAASrI,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,qBAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CiW,iCAA/C;AAAA,YAAkFC,wDAAlF;AAAA,YAA4IC,gCAA5I;AAAA,YAA8KC,oCAA9K;AAAA,YAAoNC,wCAApN;AAAA,YAA8PC,+BAA9P;AAEArX,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,qBAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,aAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,kBAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,iDAAL,GAAyD,6CAAzD,GAAyG,gCAAzG,GAA4I,qCAA5I,GAAoL,aAAhO;AACAF,YAAI,CAACwB,gBAAL,CAAsB,QAAtB;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8BgX,iCAAiC,GAAG,SAAStV,YAAT,CAAsBC,OAAtB,EAA+B;AAC/F,cAAIC,KAAK,GAAGoV,iCAAiC,CAACnV,GAA9C;AAAA,cAAmDC,MAAM,GAAGF,KAAK,IAAIzB,GAArE;AAAA,cAA0EH,IAAI,GAAG,IAAjF;AAEA,cAAI4B,KAAJ,EAAWoV,iCAAiC,CAACnV,GAAlC,GAAwC,IAAxC;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+CgX,iCAA/C,EAAkF,KAAlF,EAAyF,IAAzF,CAAP,EAAuG,YAAvG,EAAqH,CAACrV,OAAD,CAArH,EAAgI,IAAhI,CAAN;AACA3B,cAAI,CAACiO,aAAL,GAAqB,IAArB;AACAjO,cAAI,CAACmQ,aAAL,GAAqB/P,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,aAAX,CAAH,EAA8B,SAA9B,CAAxB;AACA,iBAAQF,IAAI,CAACsX,UAAL,GAAkBlX,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,OAA5B,CAA7B;AACD,SATD,EASG8W,iCAAiC,CAAC/U,OAAlC,GAA4C,CAT/C;AAWArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqDiX,wDAAwD,GAAG,SAAS/U,mCAAT,CAA6CP,OAA7C,EAAsD;AACpK,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiBmC,MAAM,GAAGhC,GAA1B;AAGAH,cAAI,CAACqC,MAAL,CAAY,2CAAZ,EAAyDV,OAAzD;AACAA,iBAAO,GAAGA,OAAO,CAACmI,OAAR,EAAV;AACA3H,gBAAM,GAAGnC,IAAI,CAACgK,UAAL,CAAgBrI,OAAhB,CAAT;;AACA,cAAIf,OAAO,CAACuB,MAAM,CAAC,SAAD,CAAN,EAAD,CAAX,EAAkC,CACjC,CADD,MACO;AACL,mBAAOA,MAAP;AACD;;AAAA;AACD,iBAAOA,MAAP;AACD,SAZD,EAYG8U,wDAAwD,CAAChV,OAAzD,GAAmE,CAZtE;AAcArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,YAAf,EAA6BkX,gCAAgC,GAAG,SAASjN,WAAT,CAAqBtI,OAArB,EAA8B;AAC5F,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiBmC,MAAM,GAAGhC,GAA1B;AAAA,cAA+BqJ,SAAS,GAAGrJ,GAA3C;AAAA,cAAgDwJ,MAAM,GAAGxJ,GAAzD;AAAA,cAA8DkH,UAAU,GAAGlH,GAA3E;AAAA,cAAgF8U,QAAQ,GAAG9U,GAA3F;AAAA,cAAgGqC,IAAI,GAAGrC,GAAvG;AAAA,cAA4GoX,UAAU,GAAGpX,GAAzH;AAAA,cAA8HiK,UAAU,GAAGjK,GAA3I;AAAA,cAAgJqX,cAAc,GAAGrX,GAAjK;AAGAH,cAAI,CAACqC,MAAL,CAAY,yBAAZ,EAAuCV,OAAvC;AACAQ,gBAAM,GAAG,EAAT;;AACA,cAAIvB,OAAO,CAACe,OAAO,CAAC,KAAD,CAAP,CAAe,kCAAf,CAAD,CAAX,EAAiE,CAChE,CADD,MACO;AACL,mBAAOQ,MAAP;AACD;;AAAA;AACDqH,mBAAS,GAAGnJ,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,EAAsCC,KAAtC,EAAZ;AACAuF,gBAAM,GAAGtJ,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,EAAsCC,KAAtC,EAAT;;AACA,cAAIxD,OAAO,CAACP,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAAD,CAAX,EAAoD;AAClDkD,sBAAU,GAAGhH,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,EAAsCC,KAAtC,EAAb;AAA2D;;AAAA;AAC7D6Q,kBAAQ,GAAGjV,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+ByE,SAA/B,EAA0C,CAA1C,EAA6C6E,KAA7C,EAAX;AACA7L,cAAI,GAAGyS,QAAQ,CAACjQ,IAAT,EAAP;AACAuS,oBAAU,GAAG1X,QAAQ,CAAC2C,IAAD,EAAOmH,MAAP,CAArB;AACAS,oBAAU,GAAGpK,IAAI,CAACyX,cAAL,CAAoB9N,MAApB,CAAb;AACAxH,gBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,GAAL,GAAYR,OAAZ,GAAuB,MAAvB,GAAiCa,IAAjC,GAAyC,GAAzC,GAAgDyS,QAAQ,CAAChQ,KAAT,CAAe,GAAf,CAAhD,GAAuE,GAAvE,GAA8EmF,UAA9E,GAA4F,KAA5F,GAAqGmN,UAA9G,CAAjB;AACAC,wBAAc,GAAGxX,IAAI,CAAC0X,kBAAL,CAAwBzC,QAAxB,CAAjB;;AACA,cAAIrU,OAAO,CAAC4W,cAAc,CAAC,OAAD,CAAd,EAAD,CAAX,EAAwC,CACvC,CADD,MACO;AAELrV,kBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,aAAL,GAAsBqV,cAAtB,GAAwC,KAAjD,CAAjB;AACA,mBAAOrV,MAAP;AACD;;AAAA;;AACD,cAAIvB,OAAO,CAACZ,IAAI,CAAC2X,SAAL,CAAe1C,QAAf,EAAyBzL,SAAzB,CAAD,CAAX,EAAkD;AAEhDrH,kBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,UAAT,CAAjB;AACA,mBAAOA,MAAP;AAAe;;AAAA;;AACjB,cAAIvB,OAAO,CAACyG,UAAU,CAAC,OAAD,CAAV,EAAD,CAAX,EAAoC,CACnC,CADD,MACO;AACLlF,kBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAU,YAAW;AAAC,kBAAIvB,OAAO,CAAC4F,MAAM,CAAC+Q,UAAD,EAAalQ,UAAb,CAAP,CAAX,EAA6C;AAClF,uBAAO,OAAP;AACD,eAFsC,MAEhC;AACL,uBAAO,OAAP;AACD;;AAAA;AAAE,qBAAOlH,GAAP;AAAa,aAJU,EAAT,CAAjB;AAKD;;AAAA;AACD,iBAAOgC,MAAP;AACD,SAvCD,EAuCG+U,gCAAgC,CAACjV,OAAjC,GAA2C,CAvC9C;AAyCArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,gBAAf,EAAiCmX,oCAAoC,GAAG,SAASS,eAAT,CAAyBjO,MAAzB,EAAiC;AACvG,cAAI3J,IAAI,GAAG,IAAX;;AAGA,cAAI2J,MAAM,CAAC,KAAD,CAAN,CAAc,CAAd,CAAJ,EAAsB;AACpB,mBAAO,EAAP;AAAU;;AAAA;;AACZ,cAAI/I,OAAO,CAACqI,MAAM,CAACU,MAAD,EAAS,CAAT,CAAP,CAAX,EAAgC;AAC9B,mBAAOA,MAAM,CAACmB,KAAP,EAAP;AAAsB;;AAAA;AACxB,iBAAO,KAAK,GAAL,GAAYnB,MAAnB;AACD,SATD,EASGwN,oCAAoC,CAAClV,OAArC,GAA+C,CATlD;AAWArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oBAAf,EAAqCoX,wCAAwC,GAAG,SAASS,mBAAT,CAA6B5C,QAA7B,EAAuC;AACrH,cAAI6C,GAAJ;AAAA,cAAS9X,IAAI,GAAG,IAAhB;AAAA,cAAsB+X,UAAU,GAAG5X,GAAnC;;AAGA4X,oBAAU,GAAG7O,KAAK,CAAC+L,QAAD,EAAW,QAAX,EAAqB,EAArB,GAA0B6C,GAAG,GAAG,aAASlN,CAAT,EAAW;AAAC,gBAAI5K,IAAI,GAAG8X,GAAG,CAACjN,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyBiN,GAAG,CAACjN,GAAxC;;AAI5D,gBAAID,CAAC,IAAI,IAAT,EAAe;AACbA,eAAC,GAAGzK,GAAJ;AACD;;AAAA;AACD,mBAAOyK,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,CAAP;AAAoB,WAPsB,EAOpBkN,GAAG,CAACjN,GAAJ,GAAU7K,IAPU,EAOJ8X,GAAG,CAAC7V,OAAJ,GAAc,CAPV,EAOa6V,GAPvC,EAAL,CAOkDxH,KAPlD,EAAb;;AAQA,cAAI1P,OAAO,CAAC4F,MAAM,CAACuR,UAAD,EAAa,CAAb,CAAP,CAAX,EAAoC;AAClC,mBAAOA,UAAU,CAACjN,KAAX,EAAP;AAA0B;;AAAA;AAC5B,iBAAO3K,GAAP;AACD,SAfD,EAeGiX,wCAAwC,CAACnV,OAAzC,GAAmD,CAftD;AAgBA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,WAAf,EAA4BqX,+BAA+B,GAAG,SAASW,UAAT,CAAoB/C,QAApB,EAA8BzL,SAA9B,EAAyC;AAC7G,cAAIyO,IAAJ;AAAA,cAASjY,IAAI,GAAG,IAAhB;;AAEA,iBAAOwG,MAAM,CAAC0C,KAAK,CAAC+L,QAAD,EAAW,QAAX,EAAqB,EAArB,GAA0BgD,IAAG,GAAG,aAASrN,CAAT,EAAW;AAAC,gBAAI5K,IAAI,GAAGiY,IAAG,CAACpN,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyBoN,IAAG,CAACpN,GAAxC;;AAI7D,gBAAID,CAAC,IAAI,IAAT,EAAe;AACbA,eAAC,GAAGzK,GAAJ;AACD;;AAAA;AACD,mBAAOyK,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,CAAP;AAAoB,WAPuB,EAOrBqN,IAAG,CAACpN,GAAJ,GAAU7K,IAPW,EAOLiY,IAAG,CAAChW,OAAJ,GAAc,CAPT,EAOYgW,IAPtC,EAAL,CAOiD3H,KAPjD,EAAD,EAO2D9G,SAP3D,CAAb;AAQD,SAXO,EAWL6N,+BAA+B,CAACpV,OAAhC,GAA0C,CAXrC,GAWyC9B,GAX1C,KAWkD,UAXzD;AAYD,OAtHD,EAsHGD,QAAQ,CAAC,CAAD,CAtHX,EAsHgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAtHlB,EAsHsCA,QAtHtC;AAuHD,KA5HD,EA4HGA,QAAQ,CAAC,CAAD,CA5HX,EA4HgBA,QA5HhB;AA6HD,GAlIM,CAkIJA,QAAQ,CAAC,CAAD,CAlIJ,EAkISA,QAlIT,CAAP;AAmID,CA/ID,EA+IGN,IA/IH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASwL,UAAT,CAAoBtL,GAApB,EAAyBC,GAAzB,EAA8B;AAC5B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAAS4C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASuG,SAAT,CAAmBxG,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,cAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CmX,4BAA/C;AAGAtY,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,cAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,YAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,WAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,qCAA5C;AACA,eAAO,CAACN,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,eAAf,EAAgCkY,4BAA4B,GAAG,SAAS7U,cAAT,CAAwBC,KAAxB,EAA+BC,WAA/B,EAA4CC,MAA5C,EAAoDC,MAApD,EAA4D;AACjI,cAAIzD,IAAI,GAAG,IAAX;AAAA,cAAiB4L,UAAU,GAAGzL,GAA9B;AAAA,cAAmCgY,cAAc,GAAGhY,GAApD;AAAA,cAAyDiY,cAAc,GAAGjY,GAA1E;AAAA,cAA+EkY,cAAc,GAAGlY,GAAhG;;AAGA,cAAIsD,MAAM,CAAC,KAAD,CAAN,CAAc,GAAd,CAAJ,EAAwB;AACtB,mBAAOtD,GAAP;AAAW;;AAAA;;AACb,cAAIqD,MAAM,CAAC,KAAD,CAAN,CAAc,IAAd,CAAJ,EAAyB,CACxB,CADD,MACO;AACL,mBAAOrD,GAAP;AACD;;AAAA;AACDyL,oBAAU,GAAGtI,KAAK,CAAC,IAAD,CAAL,CAAY,GAAZ,CAAb;AACA6U,wBAAc,GAAG/M,UAAU,CAACQ,UAAD,EAAa,EAAb,CAAV,CAA2BxH,KAA3B,EAAjB;AACAgU,wBAAc,GAAGxM,UAAU,CAAC,IAAD,CAAV,CAAiB,EAAjB,CAAjB;;AACA,cAAIuM,cAAc,CAAC,KAAD,CAAd,CAAsBC,cAAtB,CAAJ,EAA2C;AAEzC,gBAAIxM,UAAU,CAAC,KAAD,CAAV,CAAkB,EAAlB,CAAJ,EAA2B;AACzB,qBAAOvL,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB2D,OAAvB,CAA+B,OAA/B,CAAP;AAA+C;;AAAA;;AACjD,gBAAI+H,UAAU,CAAC,KAAD,CAAV,CAAkB,CAAlB,CAAJ,EAA0B;AACxB,qBAAOvL,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuByD,SAAvB,CAAiC,YAAjC,CAAP;AAAsD;;AAAA;;AACxD,gBAAI/C,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQG,MAAR,CAAP,CAAX,EAAoC;AAClC,qBAAOpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuByD,SAAvB,CAAiC,OAAjC,CAAP;AAAiD;;AAAA;AACnD,mBAAOtD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB2D,OAAvB,CAA+B,OAA/B,CAAP;AAAgD;;AAAA;AAClDwU,wBAAc,GAAG,EAAjB;;AACA,cAAIzX,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQG,MAAR,CAAP,CAAX,EAAoC;AAClC,gBAAI7C,OAAO,CAAC4F,MAAM,CAAClD,KAAD,EAAQ+U,cAAR,CAAP,CAAX,EAA4C;AAC1C,qBAAOhY,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,QAAhC,CAAP;AACD,aAFD,MAEO;AACL,qBAAOvD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,IAAhC,CAAP;AACD;AACF,WAND,MAMO,IAAIhD,OAAO,CAAC4F,MAAM,CAACF,SAAS,CAAChD,KAAD,EAAQG,MAAR,CAAV,EAA2B4U,cAA3B,CAAP,CAAX,EAA+D;AACpE,mBAAOhY,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4D,QAAvB,CAAgC,KAAhC,CAAP;AACD,WAFM,MAEA;AACL,mBAAOzD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4D,QAAvB,CAAgC,IAAhC,CAAP;AACD;;AAAA;AACF,SAlCO,EAkCLoU,4BAA4B,CAACjW,OAA7B,GAAuC,CAlClC,GAkCsC9B,GAlCvC,KAkC+C,cAlCtD;AAmCD,OA7CD,EA6CGD,QAAQ,CAAC,CAAD,CA7CX,EA6CgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CA7ClB,EA6CsCA,QA7CtC;AA8CD,KAnDD,EAmDGA,QAAQ,CAAC,CAAD,CAnDX,EAmDgBA,QAnDhB;AAoDD,GAzDM,CAyDJA,QAAQ,CAAC,CAAD,CAzDJ,EAyDSA,QAzDT,CAAP;AA0DD,CAzED,EAyEGN,IAzEH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASC,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASiJ,SAAT,CAAmBlJ,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAAS4C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8H4K,MAAM,GAAGzL,IAAI,CAAC0L,KAA5I;AAAA,MAAmJ1K,OAAO,GAAGhB,IAAI,CAACiB,MAAlK;AAAA,MAA0KqI,KAAK,GAAGtJ,IAAI,CAACuJ,IAAvL;AAEA,SAAQ,UAASrI,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,eAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CuX,kDAA/C;AAAA,YAAmGC,wBAAnG;AAAA,YAA6HC,6BAA7H;AAAA,YAA4JC,+BAA5J;AAEAzY,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,eAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,YAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,WAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,sBAAL,GAA8B,4BAA9B,GAA6D,sCAA7D,GAAsG,4CAAtG,GAAqJ,IAArJ,GAA4J,MAA5J,GAAqK,0BAArK,GAAkM,6BAAlM,GAAkO,4CAAlO,GAAiR,gCAAjR,GAAoT,mCAAhW;AACAF,YAAI,CAACwB,gBAAL,CAAsB,MAAtB;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqDsY,kDAAkD,GAAG,SAASpW,mCAAT,CAA6CP,OAA7C,EAAsD;AAC9J,cAAImV,GAAJ;AAAA,cAAS9W,IAAI,GAAG,IAAhB;AAAA,cAAsBwL,MAAM,GAAGrL,GAA/B;AAAA,cAAoCsL,GAAG,GAAGtL,GAA1C;AAAA,cAA+CuY,WAAW,GAAGvY,GAA7D;AAAA,cAAkEmD,KAAK,GAAGnD,GAA1E;AAAA,cAA+EwY,CAAC,GAAGxY,GAAnF;AAAA,cAAwFyY,CAAC,GAAGzY,GAA5F;AAAA,cAAiG0Y,MAAM,GAAG1Y,GAA1G;AAAA,cAA+G2Y,UAAU,GAAG3Y,GAA5H;AAAA,cAAiI0L,QAAQ,GAAG1L,GAA5I;;AAGAH,cAAI,CAACqC,MAAL,CAAY,yCAAZ;AACAmJ,gBAAM,GAAGpL,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,SAAX,CAAH,EAA0B,QAA1B,CAAH,CAAuC4L,IAAvC,CAA4C,KAA5C,EAAmD,IAAnD,EAAyDT,MAAM,CAAC,CAAC,YAAD,CAAD,EAAiB;AAAC,0BAAcrL,IAAI,CAAC+L,WAAL;AAAf,WAAjB,CAA/D,EAAqHgN,gBAArH,GAAwIC,cAAxI,GAAyJhN,mBAAzJ,CAA6K7L,GAA7K,EAAkL,IAAlL,EAAwL,GAAxL,CAAT;AACAsL,aAAG,GAAGD,MAAM,CAACS,MAAP,CAActK,OAAd,CAAN;;AACA,cAAIf,OAAO,CAAC6K,GAAD,CAAX,EAAkB,CACjB,CADD,MACO;AACL,mBAAOtL,GAAP;AACD;;AAAA;;AACD,cAAIsL,GAAG,CAACU,QAAJ,GAAe,KAAf,EAAsB,IAAtB,CAAJ,EAAiC;AAE/BuM,uBAAW,GAAGvY,GAAd;AACAmD,iBAAK,GAAGtD,IAAI,CAACsB,UAAL,CAAgBoB,UAAhB,CAA2B,GAA3B,CAAR;AACD,WAJD,MAIO;AAELiW,aAAC,GAAG3Y,IAAI,CAACsB,UAAL,CAAgBoB,UAAhB,CAA2B,EAA3B,CAAJ;AACAkW,aAAC,GAAG5Y,IAAI,CAACsB,UAAL,CAAgBoB,UAAhB,CAA2B,EAA3B,CAAJ;AACAgW,uBAAW,GAAG,KAAMC,CAAN,GAAW,GAAX,GAAkBC,CAAhC;AACAC,kBAAM,GAAG3P,KAAK,CAAC,CAACyP,CAAD,EAAIC,CAAJ,CAAD,EAAS,KAAT,EAAgB,EAAhB,GAAqB9B,GAAG,GAAG,aAASmC,CAAT,EAAW;AAAC,kBAAIjZ,IAAI,GAAG8W,GAAG,CAACjM,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyBiM,GAAG,CAACjM,GAAxC;;AAInD,kBAAIoO,CAAC,IAAI,IAAT,EAAe;AACbA,iBAAC,GAAG9Y,GAAJ;AACD;;AAAA;;AACD,kBAAI8Y,CAAC,CAAC,KAAD,CAAD,CAAS,EAAT,CAAJ,EAAkB;AAChB,uBAAO,CAAP;AACD,eAFD,MAEO;AACL,uBAAOA,CAAP;AACD;;AAAA;AAAE,aAX8B,EAW5BnC,GAAG,CAACjM,GAAJ,GAAU7K,IAXkB,EAWZ8W,GAAG,CAAC7U,OAAJ,GAAc,CAXF,EAWK6U,GAX1B,EAAL,CAWqCzI,KAXrC,EAAT;AAYA/K,iBAAK,GAAGzD,QAAQ,CAACmJ,SAAS,CAAC6P,MAAM,CAAC,KAAD,CAAN,CAAc,CAAd,CAAD,EAAmB,EAAnB,CAAV,EAAkCA,MAAM,CAAC,KAAD,CAAN,CAAc,CAAd,CAAlC,CAAhB;;AACA,gBAAIvV,KAAK,CAAC,KAAD,CAAL,CAAa,CAAb,CAAJ,EAAqB;AACnBA,mBAAK,GAAG,GAAR;AAAY;;AAAA;AACf;;AAAA;AACDwV,oBAAU,GAAG9Y,IAAI,CAACkZ,QAAL,CAAc5V,KAAd,EAAqBmI,GAArB,CAAb;AACAI,kBAAQ,GAAG,CAAC,KAAK,OAAL,GAAgBJ,GAAG,CAACS,OAAJ,EAAhB,GAAkCT,GAAG,CAACW,cAAJ,EAAlC,GAA0D,GAA3D,EAAgEsM,WAAhE,EAA6EpV,KAAK,CAACwH,KAAN,EAA7E,EAA4FgO,UAA5F,EAAwGvM,QAAxG,EAAX;AACA,iBAAOV,QAAQ,CAAC5G,KAAT,CAAe,KAAf,CAAP;AACD,SAvCD,EAuCGqT,kDAAkD,CAACrW,OAAnD,GAA6D,CAvChE;AAwCAjC,YAAI,CAACqN,QAAL;AAEAzN,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,UAAf,EAA2BuY,wBAAwB,GAAG,SAASY,SAAT,CAAmB7V,KAAnB,EAA0BmI,GAA1B,EAA+B;AACnF,cAAIzL,IAAI,GAAG,IAAX;;AAEA,cAAIY,OAAO,CAAC,CAAC,IAAD,EAAO,GAAP,EAAY,WAAZ,EAAyB6K,GAAG,CAACS,OAAJ,EAAzB,CAAD,CAAX,EAAsD;AACpD,gBAAItL,OAAO,CAAC0C,KAAK,CAAC4F,KAAN,CAAYuC,GAAG,CAACS,OAAJ,EAAZ,EAA2BT,GAAG,CAACW,cAAJ,EAA3B,EAAiD,IAAjD,GAAD,CAAX,EAAuE;AACrE,qBAAO,IAAP;AACD,aAFD,MAEO,IAAIxL,OAAO,CAACZ,IAAI,CAAC,WAAD,CAAJ,CAAkBsD,KAAlB,EAAyBmI,GAAG,CAAC5H,OAAJ,EAAzB,CAAD,CAAX,EAAsD;AAC3D,qBAAO,OAAP;AACD,aAFM,MAEA,IAAIjD,OAAO,CAACZ,IAAI,CAAC,aAAD,CAAJ,CAAoBsD,KAApB,EAA2BmI,GAAG,CAAC9H,SAAJ,EAA3B,CAAD,CAAX,EAA0D;AAC/D,qBAAO,QAAP;AACD,aAFM,MAEA;AACL,qBAAO,IAAP;AACD;AACF,WAVD,MAUO,IAAI/C,OAAO,CAACZ,IAAI,CAAC,WAAD,CAAJ,CAAkBsD,KAAlB,EAAyBmI,GAAG,CAAC5H,OAAJ,EAAzB,CAAD,CAAX,EAAsD;AAC3D,mBAAO,OAAP;AACD,WAFM,MAEA,IAAIjD,OAAO,CAACZ,IAAI,CAAC,aAAD,CAAJ,CAAoBsD,KAApB,EAA2BmI,GAAG,CAAC9H,SAAJ,EAA3B,CAAD,CAAX,EAA0D;AAC/D,mBAAO,QAAP;AACD,WAFM,MAEA;AACL,mBAAOxD,GAAP;AACD;AACF,SApBD,EAoBGoY,wBAAwB,CAACtW,OAAzB,GAAmC,CApBtC;AAsBArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,WAAf,EAA4BwY,6BAA6B,GAAG,uCAASlV,KAAT,EAAgB0J,MAAhB,EAAwB;AAClF,cAAIhN,IAAI,GAAG,IAAX;AAAA,cAAiByJ,SAAS,GAAGtJ,GAA7B;;AAEA,cAAIS,OAAO,CAAE6I,SAAS,GAAGuD,MAAd,CAAX,EAAmC;AAEjC,mBAAOrK,MAAM,CAACW,KAAK,CAAC,IAAD,CAAL,CAAY,EAAZ,CAAD,EAAkB0J,MAAlB,CAAb;AACD,WAHD,MAGO;AACL,mBAAOvD,SAAP;AACD;AACF,SATD,EASG+O,6BAA6B,CAACvW,OAA9B,GAAwC,CAT3C;AAUA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8ByY,+BAA+B,GAAG,yCAASnV,KAAT,EAAgBqI,QAAhB,EAA0B;AAChG,cAAI3L,IAAI,GAAG,IAAX;AAAA,cAAiB4J,SAAS,GAAGzJ,GAA7B;;AAEA,cAAIS,OAAO,CAAEgJ,SAAS,GAAG+B,QAAd,CAAX,EAAqC;AAEnC,mBAAOnF,MAAM,CAAClD,KAAK,CAAC,IAAD,CAAL,CAAY,EAAZ,CAAD,EAAkBqI,QAAlB,CAAb;AACD,WAHD,MAGO;AACL,mBAAO/B,SAAP;AACD;AACF,SATO,EASL6O,+BAA+B,CAACxW,OAAhC,GAA0C,CATrC,GASyC9B,GAT1C,KASkD,YATzD;AAUD,OAjGD,EAiGGD,QAAQ,CAAC,CAAD,CAjGX,EAiGgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAjGlB,EAiGsCA,QAjGtC;AAkGD,KAvGD,EAuGGA,QAAQ,CAAC,CAAD,CAvGX,EAuGgBA,QAvGhB;AAwGD,GA7GM,CA6GJA,QAAQ,CAAC,CAAD,CA7GJ,EA6GSA,QA7GT,CAAP;AA8GD,CA7HD,EA6HGN,IA7HH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS2G,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASF,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASkJ,MAAT,CAAgBnJ,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAAA,MAAmJC,OAAO,GAAGhB,IAAI,CAACiB,MAAlK;AAAA,MAA0KqI,KAAK,GAAGtJ,IAAI,CAACuJ,IAAvL;AAEA,SAAQ,UAASrI,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,SAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CqY,qBAA/C;AAAA,YAAsEC,4CAAtE;AAAA,YAAoHC,qBAApH;AAEAtZ,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,SAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,UAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,YAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,oBAAL,GAA4B,IAA5B,GAAmC,kBAAnC,GAAwD,wBAAxD,GAAmF,uCAAnF,GAA6H,wCAA7H,GAAwK,IAAxK,GAA+K,SAA/K,GAA2L,oCAA3L,GAAkO,sCAAlO,GAA2Q,8BAAvT;AAEAN,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8BoZ,qBAAqB,GAAG,SAAS1X,YAAT,CAAsBC,OAAtB,EAA+B;AACnF,cAAIC,KAAK,GAAGwX,qBAAqB,CAACvX,GAAlC;AAAA,cAAuCC,MAAM,GAAGF,KAAK,IAAIzB,GAAzD;AAAA,cAA8DH,IAAI,GAAG,IAArE;AAEA,cAAI4B,KAAJ,EAAWwX,qBAAqB,CAACvX,GAAtB,GAA4B,IAA5B;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+CoZ,qBAA/C,EAAsE,KAAtE,EAA6E,IAA7E,CAAP,EAA2F,YAA3F,EAAyG,CAACzX,OAAD,CAAzG,EAAoH,IAApH,CAAN;AACA,iBAAQ3B,IAAI,CAACiO,aAAL,GAAqB,IAA7B;AACD,SAPD,EAOGmL,qBAAqB,CAACnX,OAAtB,GAAgC,CAPnC;AAQAjC,YAAI,CAACwB,gBAAL,CAAsB,2BAAtB;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqDqZ,4CAA4C,GAAG,SAASnX,mCAAT,CAA6CP,OAA7C,EAAsD;AACxJ,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiByH,CAAC,GAAGtH,GAArB;AAAA,cAA0B+N,UAAU,GAAG/N,GAAvC;AAAA,cAA4CsJ,SAAS,GAAGtJ,GAAxD;AAAA,cAA6DoZ,QAAQ,GAAGpZ,GAAxE;AAAA,cAA6EyJ,SAAS,GAAGzJ,GAAzF;AAAA,cAA8FqZ,QAAQ,GAAGrZ,GAAzG;AAGAsH,WAAC,GAAG9F,OAAO,CAACwG,MAAR,CAAe,4BAAf,CAAJ;;AACA,cAAIvH,OAAO,CAAC6G,CAAD,CAAX,EAAgB,CACf,CADD,MACO;AACL,mBAAOtH,GAAP;AACD;;AAAA;;AACD+N,oBAAU,GAAI,YAAW;AAAC,gBAAItN,OAAO,CAAE6I,SAAS,GAAGhC,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,CAAd,CAAX,EAAwC;AAChE,qBAAOgC,SAAP;AACD,aAFyB,MAEnB;AACL,qBAAO,CAAP;AACD;;AAAA;AAAE,mBAAOtJ,GAAP;AAAa,WAJH,GAIOiE,KAJP,EAAb;;AAKAmV,kBAAQ,GAAGrQ,KAAK,CAAE,YAAW;AAAC,gBAAItI,OAAO,CAAEgJ,SAAS,GAAGnC,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,CAAd,CAAX,EAAwC;AACpE,qBAAOmC,SAAP;AACD,aAF6B,MAEvB;AACL,qBAAO,EAAP;AACD;;AAAA;AAAE,mBAAOzJ,GAAP;AAAa,WAJC,GAIGiO,UAJH,EAAD,EAIkB,KAJlB,EAIyB,EAJzB,EAI6B,OAAOzD,QAAP,EAJ7B,CAAL,CAIqDwK,KAJrD,GAI6D9G,KAJ7D,EAAX;AAKAmL,kBAAQ,GAAG/R,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,EAAY,OAAZ,IAAuB,IAAvB,GAAX;AACA,iBAAOzH,IAAI,CAACsO,WAAL,CAAiBJ,UAAjB,EAA6BqL,QAA7B,EAAuCC,QAAvC,CAAP;AACD,SArBD,EAqBGH,4CAA4C,CAACpX,OAA7C,GAAuD,CArB1D;AAsBA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8BsZ,qBAAqB,GAAG,SAAS/K,YAAT,CAAsBL,UAAtB,EAAkCqL,QAAlC,EAA4CC,QAA5C,EAAsD;AAClH,cAAIhL,GAAJ;AAAA,cAASxO,IAAI,GAAG,IAAhB;AAAA,cAAsB0O,UAAU,GAAGvO,GAAnC;AAAA,cAAwC6H,SAAS,GAAG7H,GAApD;AAAA,cAAyDwO,YAAY,GAAGxO,GAAxE;AAAA,cAA6EyO,OAAO,GAAGzO,GAAvF;AAAA,cAA4FsZ,UAAU,GAAGtZ,GAAzG;AAAA,cAA8GuZ,WAAW,GAAGvZ,GAA5H;AAAA,cAAiIyI,WAAW,GAAGzI,GAA/I;AAAA,cAAoJgC,MAAM,GAAGhC,GAA7J;;AAGAuO,oBAAU,GAAG1O,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+BmJ,UAA/B,EAA2C,CAA3C,EAA8CG,KAA9C,EAAb;AACArG,mBAAS,GAAG0G,UAAU,CAACzJ,KAAX,CAAiB,GAAjB,CAAZ;AACA0J,sBAAY,GAAG,EAAf;AACAC,iBAAO,GAAG,CAAV;AACA1F,eAAK,CAACwF,UAAD,EAAa,MAAb,EAAqB,EAArB,GAA0BF,GAAG,GAAG,aAAS5D,CAAT,EAAW;AAAC,gBAAI5K,IAAI,GAAGwO,GAAG,CAAC3D,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyB2D,GAAG,CAAC3D,GAAxC;;AAI/C,gBAAID,CAAC,IAAI,IAAT,EAAe;AACbA,eAAC,GAAGzK,GAAJ;AACD;;AAAA;;AACD,gBAAIS,OAAO,CAAC2F,MAAM,CAACgT,QAAQ,CAACxQ,MAAT,CAAgB6B,CAAhB,CAAD,EAAqB,CAArB,CAAP,CAAX,EAA4C;AAC1C,qBAAO+D,YAAY,CAACvB,KAAb,CAAmB,GAAnB,CAAP;AACD,aAFD,MAEO;AAELuB,0BAAY,CAACvB,KAAb,CAAmBxC,CAAnB;AACA,qBAAQgE,OAAO,GAAG/O,QAAQ,CAAC+O,OAAD,EAAU,CAAV,CAA1B;AACD;;AAAA;AAAE,WAb0B,EAaxBJ,GAAG,CAAC3D,GAAJ,GAAU7K,IAbc,EAaRwO,GAAG,CAACvM,OAAJ,GAAc,CAbN,EAaSuM,GAbnC,EAAL;AAcAiL,oBAAU,GAAGF,QAAQ,CAACtU,KAAT,CAAe,GAAf,CAAb;;AACAyU,qBAAW,GAAI,YAAW;AAAC,gBAAI9Y,OAAO,CAAC4Y,QAAD,CAAX,EAAuB;AAChD,qBAAO,OAAP;AACD,aAF0B,MAEpB;AACL,qBAAO,OAAP;AACD;;AAAA;AAAE,mBAAOrZ,GAAP;AAAa,WAJF,EAAd;;AAKAyI,qBAAW,GAAG+F,YAAY,CAAC1J,KAAb,CAAmB,GAAnB,CAAd;AACA9C,gBAAM,GAAG,KAAM+L,UAAN,GAAoB,KAApB,GAA6BwL,WAA7B,GAA4C,GAA5C,GAAmDD,UAAnD,GAAiE,MAAjE,GAA2EzR,SAA3E,GAAwF,KAAxF,GAAiGY,WAAjG,GAAgH,KAAzH;;AACA,cAAIhI,OAAO,CAAC4Y,QAAD,CAAX,EAAuB,CACtB,CADD,MACO;AACL,mBAAO,KAAMrX,MAAN,GAAgB,MAAhB,GAA0ByM,OAAjC;AACD;;AAAA;;AACD,cAAIhO,OAAO,CAACqI,MAAM,CAAC2F,OAAD,EAAUV,UAAV,CAAP,CAAX,EAA0C;AACxC,mBAAO,KAAM/L,MAAN,GAAgB,mBAAvB;AACD,WAFD,MAEO;AACL,mBAAO,KAAMA,MAAN,GAAgB,MAAhB,GAA0ByM,OAA1B,GAAqC,QAA5C;AACD;;AAAA;AACF,SAvCO,EAuCL0K,qBAAqB,CAACrX,OAAtB,GAAgC,CAvC3B,GAuC+B9B,GAvChC,KAuCwC,YAvC/C;AAwCD,OApFD,EAoFGD,QAAQ,CAAC,CAAD,CApFX,EAoFgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CApFlB,EAoFsCA,QApFtC;AAqFD,KA1FD,EA0FGA,QAAQ,CAAC,CAAD,CA1FX,EA0FgBA,QA1FhB;AA2FD,GAhGM,CAgGJA,QAAQ,CAAC,CAAD,CAhGJ,EAgGSA,QAhGT,CAAP;AAiGD,CA7GD,EA6GGN,IA7GH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS4G,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAAS4C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASqL,UAAT,CAAoBtL,GAApB,EAAyBC,GAAzB,EAA8B;AAC5B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,SAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C4Y,uBAA/C;AAGA/Z,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,SAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,OAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,YAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,mCAA5C;AACA,eAAO,CAACN,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,eAAf,EAAgC2Z,uBAAuB,GAAG,SAAStW,cAAT,CAAwBC,KAAxB,EAA+BC,WAA/B,EAA4CC,MAA5C,EAAoDC,MAApD,EAA4D;AAC5H,cAAIzD,IAAI,GAAG,IAAX;;AAGA,cAAIyD,MAAM,CAAC,KAAD,CAAN,CAAc,GAAd,CAAJ,EAAwB;AACtB,mBAAOpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBwD,QAAvB,EAAP;AAAyC;;AAAA;;AAC3C,cAAIF,MAAM,CAAC,KAAD,CAAN,CAAc,IAAd,CAAJ,EAAyB,CACxB,CADD,MACO;AACL,mBAAOrD,GAAP;AACD;;AAAA;;AACD,cAAIS,OAAO,CAAC4F,MAAM,CAAClD,KAAD,EAAQ,GAAR,CAAP,CAAX,EAAiC;AAC/B,mBAAOjD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB2D,OAAvB,CAA+B,KAA/B,CAAP;AACD,WAFD,MAEO,IAAIjD,OAAO,CAAC4F,MAAM,CAAClD,KAAD,EAAQ,EAAR,CAAP,CAAX,EAAgC;AACrC,mBAAOjD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4D,QAAvB,CAAgC,MAAhC,CAAP;AACD,WAFM,MAEA,IAAIlD,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQ8H,UAAU,CAAC3H,MAAD,EAAS,CAAT,CAAV,CAAsBW,KAAtB,EAAR,CAAP,CAAX,EAA2D;AAChE,mBAAO/D,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuByD,SAAvB,CAAiC,KAAjC,CAAP;AACD,WAFM,MAEA,IAAI/C,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQ,CAAR,CAAP,CAAX,EAA+B;AACpC,mBAAOjD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,MAAhC,CAAP;AACD,WAFM,MAEA,IAAIhD,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQG,MAAR,CAAP,CAAX,EAAoC;AACzC,mBAAOpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,IAAhC,CAAP;AACD,WAFM,MAEA;AACL,mBAAOvD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4D,QAAvB,CAAgC,IAAhC,CAAP;AACD;;AAAA;AACF,SAvBO,EAuBL6V,uBAAuB,CAAC1X,OAAxB,GAAkC,CAvB7B,GAuBiC9B,GAvBlC,KAuB0C,cAvBjD;AAwBD,OAlCD,EAkCGD,QAAQ,CAAC,CAAD,CAlCX,EAkCgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAlClB,EAkCsCA,QAlCtC;AAmCD,KAxCD,EAwCGA,QAAQ,CAAC,CAAD,CAxCX,EAwCgBA,QAxChB;AAyCD,GA9CM,CA8CJA,QAAQ,CAAC,CAAD,CA9CJ,EA8CSA,QA9CT,CAAP;AA+CD,CA3DD,EA2DGN,IA3DH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASC,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAAS4C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASwG,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAAA,MAAmJC,OAAO,GAAGhB,IAAI,CAACiB,MAAlK;AAAA,MAA0KqI,KAAK,GAAGtJ,IAAI,CAACuJ,IAAvL;AAEA,SAAQ,UAASrI,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,YAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C6Y,wBAA/C;AAAA,YAAyEC,+CAAzE;AAAA,YAA0HC,wBAA1H;AAEA9Z,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,YAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,WAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,UAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,qDAAL,GAA6D,4CAA7D,GAA4G,IAA5G,GAAmH,iCAAnH,GAAuJ,uCAAvJ,GAAiM,4CAAjM,GAAgP,QAAhP,GAA2P,2CAA3P,GAAyS,sCAAzS,GAAkV,6DAAlV,GAAkZ,qCAAlZ,GAA0b,uBAA1b,GAAod,IAApd,GAA2d,kBAAvgB;AACAF,YAAI,CAACwB,gBAAL,CAAsB,+BAAtB;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8B4Z,wBAAwB,GAAG,SAASlY,YAAT,CAAsBC,OAAtB,EAA+B;AACtF,cAAIC,KAAK,GAAGgY,wBAAwB,CAAC/X,GAArC;AAAA,cAA0CC,MAAM,GAAGF,KAAK,IAAIzB,GAA5D;AAAA,cAAiEH,IAAI,GAAG,IAAxE;AAEA,cAAI4B,KAAJ,EAAWgY,wBAAwB,CAAC/X,GAAzB,GAA+B,IAA/B;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+C4Z,wBAA/C,EAAyE,KAAzE,EAAgF,IAAhF,CAAP,EAA8F,YAA9F,EAA4G,CAACjY,OAAD,CAA5G,EAAuH,IAAvH,CAAN;AACA,iBAAQ3B,IAAI,CAAC+Z,gBAAL,GAAwB,EAAhC;AACD,SAPD,EAOGH,wBAAwB,CAAC3X,OAAzB,GAAmC,CAPtC;AASArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqD6Z,+CAA+C,GAAG,SAAS3X,mCAAT,CAA6CP,OAA7C,EAAsD;AAC3J,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiBmC,MAAM,GAAGhC,GAA1B;AAAA,cAA+BiC,KAAK,GAAGjC,GAAvC;AAAA,cAA4CsH,CAAC,GAAGtH,GAAhD;AAAA,cAAqDoN,IAAI,GAAGpN,GAA5D;AAAA,cAAiEsJ,SAAS,GAAGtJ,GAA7E;AAAA,cAAkF6Z,SAAS,GAAG7Z,GAA9F;AAAA,cAAmGsD,MAAM,GAAGtD,GAA5G;AAAA,cAAiHyJ,SAAS,GAAGzJ,GAA7H;AAAA,cAAkI8Z,eAAe,GAAG9Z,GAApJ;AAAA,cAAyJ6K,SAAS,GAAG7K,GAArK;AAAA,cAA0K+Z,SAAS,GAAG/Z,GAAtL;AAAA,cAA2LoR,IAAI,GAAGpR,GAAlM;AAGAH,cAAI,CAACqC,MAAL,CAAY,2CAAZ,EAAyDV,OAAzD;AACAQ,gBAAM,GAAG,EAAT;AACAC,eAAK,GAAGT,OAAR;;AACA,cAAI,mEAAmE,MAAnE,EAA2ES,KAA3E,CAAJ,EAAuF;AACvFqF,aAAC,GAAGpH,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,EAAJ;;AACAoJ,gBAAI,GAAI,YAAW;AAAC,kBAAI3M,OAAO,CAAE6I,SAAS,GAAGhC,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,CAAd,CAAX,EAAwC;AAC1D,uBAAOgC,SAAP;AACD,eAFmB,MAEb;AACL,uBAAO,CAAP;AACD;;AAAA;AAAE,qBAAOtJ,GAAP;AAAa,aAJT,GAIaiE,KAJb,EAAP;;AAKA4V,qBAAS,GAAGvS,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,EAAYrD,KAAZ,EAAZ;;AACAX,kBAAM,GAAI,YAAW;AAAC,kBAAI7C,OAAO,CAAEgJ,SAAS,GAAGnC,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,CAAd,CAAX,EAAwC;AAC5D,uBAAOmC,SAAP;AACD,eAFqB,MAEf;AACL,uBAAO,CAAP;AACD;;AAAA;AAAE,qBAAOzJ,GAAP;AAAa,aAJP,GAIWiE,KAJX,EAAT;;AAKA6V,2BAAe,GAAI,YAAW;AAAC,kBAAIrZ,OAAO,CAAEoK,SAAS,GAAGvD,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,CAAd,CAAX,EAAwC;AACrE,uBAAOuD,SAAP;AACD,eAF8B,MAExB;AACL,uBAAO,CAAP;AACD;;AAAA;AAAE,qBAAO7K,GAAP;AAAa,aAJE,GAIEiE,KAJF,EAAlB;;AAKA8V,qBAAS,GAAGzS,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,EAAYrD,KAAZ,EAAZ;AACAmN,gBAAI,GAAG9J,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,EAAYrD,KAAZ,EAAP;AACAjC,kBAAM,GAAGnC,IAAI,CAACsO,WAAL,CAAiBf,IAAjB,EAAuB9J,MAAvB,EAA+BwW,eAA/B,EAAgD1I,IAAhD,EAAsD1R,QAAQ,CAACma,SAAD,EAAYE,SAAZ,CAA9D,CAAT;AAAgG;;AAAA;;AAChG,cAAItZ,OAAO,CAACuB,MAAM,CAAC,SAAD,CAAN,EAAD,CAAX,EAAkC;AAChC,mBAAOhC,GAAP;AAAW;;AAAA;AACb,iBAAO,KAAMwB,OAAN,GAAiB,KAAjB,GAA0BQ,MAAjC;AACD,SA/BD,EA+BG0X,+CAA+C,CAAC5X,OAAhD,GAA0D,CA/B7D;AAgCA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8B8Z,wBAAwB,GAAG,SAASvL,YAAT,CAAsBhB,IAAtB,EAA4B9J,MAA5B,EAAoCwW,eAApC,EAAqD1I,IAArD,EAA2D4I,QAA3D,EAAqE;AACpI,cAAI3L,GAAJ;AAAA,cAASC,IAAT;AAAA,cAAczO,IAAI,GAAG,IAArB;AAAA,cAA2B4E,SAAS,GAAGzE,GAAvC;AAAA,cAA4Cia,aAAa,GAAGja,GAA5D;AAAA,cAAiEka,cAAc,GAAGla,GAAlF;AAAA,cAAuFma,aAAa,GAAGna,GAAvG;AAAA,cAA4Goa,QAAQ,GAAGpa,GAAvH;AAAA,cAA4HgC,MAAM,GAAGhC,GAArI;AAAA,cAA0IqP,SAAS,GAAGrP,GAAtJ;AAAA,cAA2Jqa,YAAY,GAAGra,GAA1K;;AAGA,cAAIS,OAAO,CAAC+B,MAAM,CAAC4K,IAAD,EAAO,CAAP,CAAP,CAAX,EAA8B;AAE5B0M,2BAAe,GAAG,CAAlB;AACA1M,gBAAI,GAAG,CAAP;AAAU;;AAAA;;AACZ,cAAI3M,OAAO,CAAC2F,MAAM,CAAC9C,MAAD,EAAS,EAAT,CAAP,CAAX,EAAiC;AAC/BA,kBAAM,GAAG,EAAT;AAAY;;AAAA;AACdmB,mBAAS,GAAG5E,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+BwI,IAA/B,EAAqC,EAArC,EAAyCc,KAAzC,EAAZ;AACA+L,uBAAa,GAAGlR,KAAK,CAACtE,SAAD,EAAY,OAAZ,EAAqB,EAArB,GAA0B4J,GAAG,GAAG,aAASM,CAAT,EAAW;AAAC,gBAAI9O,IAAI,GAAGwO,GAAG,CAAC3D,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyB2D,GAAG,CAAC3D,GAAxC;;AAI/D,gBAAIiE,CAAC,IAAI,IAAT,EAAe;AACbA,eAAC,GAAG3O,GAAJ;AACD;;AAAA;AACD,mBAAOwC,MAAM,CAACmM,CAAD,EAAIrL,MAAJ,CAAb;AAA0B,WAPmB,EAOjB+K,GAAG,CAAC3D,GAAJ,GAAU7K,IAPO,EAODwO,GAAG,CAACvM,OAAJ,GAAc,CAPb,EAOgBuM,GAP1C,EAArB;AAQA6L,wBAAc,GAAGnR,KAAK,CAACtE,SAAD,EAAY,OAAZ,EAAqB,EAArB,GAA0B6J,IAAG,GAAG,aAASK,CAAT,EAAW;AAAC,gBAAI9O,IAAI,GAAGyO,IAAG,CAAC5D,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyB4D,IAAG,CAAC5D,GAAxC;;AAIhE,gBAAIiE,CAAC,IAAI,IAAT,EAAe;AACbA,eAAC,GAAG3O,GAAJ;AACD;;AAAA;AACD,mBAAOwC,MAAM,CAACmM,CAAD,EAAImL,eAAJ,CAAb;AAAmC,WAPW,EAOTxL,IAAG,CAAC5D,GAAJ,GAAU7K,IAPD,EAOOyO,IAAG,CAACxM,OAAJ,GAAc,CAPrB,EAOwBwM,IAPlD,EAAtB;AAQA6L,uBAAa,GAAGza,QAAQ,CAACA,QAAQ,CAACua,aAAD,EAAgBC,cAAhB,CAAT,EAA0CF,QAA1C,CAAxB;AACAI,kBAAQ,GAAGla,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBua,SAAvB,CAAiCN,QAAjC,CAAX;AACAhY,gBAAM,GAAG,KAAK,GAAL,GAAYoL,IAAZ,GAAoB,KAApB,GAA6BgN,QAA7B,GAAyC,OAAzC,GAAoD3V,SAAS,CAACK,KAAV,CAAgB,GAAhB,CAApD,GAA4E,GAA5E,GAAmFsV,QAAnF,GAA+F,KAAxG;;AACA,cAAI9W,MAAM,CAAC,KAAD,CAAN,CAAc,CAAd,CAAJ,EAAsB,CACrB,CADD,MACO;AACLtB,kBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,MAAL,GAAesB,MAAf,GAAyB,IAAlC,CAAjB;AACD;;AAAA;;AACD,cAAIwW,eAAe,CAAC,KAAD,CAAf,CAAuB,CAAvB,CAAJ,EAA+B,CAC9B,CADD,MACO;AACL9X,kBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,UAAL,GAAmB8X,eAAnB,GAAsC,IAA/C,CAAjB;AACD;;AAAA;AACD9X,gBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,MAAL,GAAeiY,aAAf,GAAgC,GAAzC,CAAjB;;AACA,cAAIxZ,OAAO,CAAC+B,MAAM,CAACyX,aAAD,EAAgB,CAAhB,CAAP,CAAX,EAAuC;AACrC,mBAAO,KAAMjY,MAAN,GAAgB,WAAvB;AAAmC;;AAAA;;AACrC,cAAIvB,OAAO,CAAC2F,MAAM,CAAC8T,cAAD,EAAiB,CAAjB,CAAP,CAAX,EAAwC;AACtClY,kBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,UAAL,GAAmBkY,cAAnB,GAAqC,GAA9C,CAAjB;AAAoE;;AAAA;AACtElY,gBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAASoY,QAAT,CAAjB;;AACA,cAAI3Z,OAAO,CAAE,YAAW;AAAC,gBAAIA,OAAO,CAAE4O,SAAS,GAAGjJ,MAAM,CAAC8T,cAAD,EAAiB,CAAjB,CAApB,CAAX,EAAsD;AAC7E,qBAAO7K,SAAP;AACD,aAFwB,MAElB;AACL,qBAAO2K,QAAQ,CAAC,KAAD,CAAR,CAAgB,CAAhB,CAAP;AACD;;AAAA;AAAE,mBAAOha,GAAP;AAAa,WAJJ,EAAD,CAAX,EAIsB;AACpBgC,kBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,IAAL,GAAamY,aAAb,GAA8B,GAAvC,CAAjB;AAA6D;;AAAA;;AAC/DE,sBAAY,GAAI,YAAW;AAAC,gBAAIjJ,IAAI,CAAC,KAAD,CAAJ,CAAY,CAAZ,CAAJ,EAAoB;AAC9C,qBAAO+I,aAAa,CAACxP,KAAd,EAAP;AACD,aAF2B,MAErB,IAAIlK,OAAO,CAAC4F,MAAM,CAAC8T,aAAD,EAAgB/I,IAAhB,CAAP,CAAX,EAA0C;AAC/C,qBAAO,IAAP;AACD,aAFM,MAEA;AACL,qBAAO,IAAP;AACD;;AAAA;AAAE,mBAAOpR,GAAP;AAAa,WAND,EAAf;;AAOA,iBAAO,KAAMgC,MAAN,GAAgB,KAAhB,GAAyBqY,YAAhC;AACD,SA1DO,EA0DLV,wBAAwB,CAAC7X,OAAzB,GAAmC,CA1D9B,GA0DkC9B,GA1DnC,KA0D2C,YA1DlD;AA2DD,OAjHD,EAiHGD,QAAQ,CAAC,CAAD,CAjHX,EAiHgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAjHlB,EAiHsCA,QAjHtC;AAkHD,KAvHD,EAuHGA,QAAQ,CAAC,CAAD,CAvHX,EAuHgBA,QAvHhB;AAwHD,GA7HM,CA6HJA,QAAQ,CAAC,CAAD,CA7HJ,EA6HSA,QA7HT,CAAP;AA8HD,CA7ID,EA6IGN,IA7IH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASqJ,MAAT,CAAgBnJ,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASwG,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASF,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASuG,SAAT,CAAmBxG,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAAA,MAAmJC,OAAO,GAAGhB,IAAI,CAACiB,MAAlK;AAAA,MAA0KqI,KAAK,GAAGtJ,IAAI,CAACuJ,IAAvL;AAEA,SAAQ,UAASrI,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,iBAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C2Z,6BAA/C;AAAA,YAA8EC,oDAA9E;AAAA,YAAoIC,2BAApI;AAGAhb,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,iBAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,eAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,aAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,yCAAL,GAAiD,0BAAjD,GAA8E,sCAA9E,GAAuH,+CAAvH,GAAyK,IAAzK,GAAgL,aAAhL,GAAgM,cAA5O;AACAF,YAAI,CAACwB,gBAAL,CAAsB,QAAtB;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8B0a,6BAA6B,GAAG,SAAShZ,YAAT,CAAsBC,OAAtB,EAA+B;AAC3F,cAAIC,KAAK,GAAG8Y,6BAA6B,CAAC7Y,GAA1C;AAAA,cAA+CC,MAAM,GAAGF,KAAK,IAAIzB,GAAjE;AAAA,cAAsEH,IAAI,GAAG,IAA7E;AAEA,cAAI4B,KAAJ,EAAW8Y,6BAA6B,CAAC7Y,GAA9B,GAAoC,IAApC;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+C0a,6BAA/C,EAA8E,KAA9E,EAAqF,IAArF,CAAP,EAAmG,YAAnG,EAAiH,CAAC/Y,OAAD,CAAjH,EAA4H,IAA5H,CAAN;AACA3B,cAAI,CAAC6a,WAAL,GAAmB,CAAnB;AACA7a,cAAI,CAAC8a,SAAL,GAAiB,CAAjB;AACA,iBAAQ9a,IAAI,CAAC+a,UAAL,GAAkB,CAA1B;AACD,SATD,EASGL,6BAA6B,CAACzY,OAA9B,GAAwC,CAT3C;AAWArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqD2a,oDAAoD,GAAG,SAASzY,mCAAT,CAA6CP,OAA7C,EAAsD;AAChK,cAAI4F,EAAJ;AAAA,cAAQC,EAAR;AAAA,cAAYwT,EAAZ;AAAA,cAAgBhb,IAAI,GAAG,IAAvB;AAAA,cAA6BuR,IAAI,GAAGpR,GAApC;AAAA,cAAyC8a,YAAY,GAAG9a,GAAxD;AAAA,cAA6D+a,cAAc,GAAG/a,GAA9E;AAAA,cAAmFgb,YAAY,GAAGhb,GAAlG;AAAA,cAAuGib,EAAE,GAAGjb,GAA5G;AAAA,cAAiHwH,SAAS,GAAGxH,GAA7H;AAAA,cAAkIiC,KAAK,GAAGjC,GAA1I;AAAA,cAA+I0L,QAAQ,GAAG1L,GAA1J;AAAA,cAA+Jkb,aAAa,GAAGlb,GAA/K;AAAA,cAAoLmb,WAAW,GAAGnb,GAAlM;AAAA,cAAuMqC,IAAI,GAAGrC,GAA9M;AAAA,cAAmNyO,OAAO,GAAGzO,GAA7N;AAAA,cAAkOob,KAAK,GAAGpb,GAA1O;AAAA,cAA+O0J,MAAM,GAAG1J,GAAxP;AAGAoR,cAAI,GAAG,CAAP;AACA0J,sBAAY,GAAG,CAAf;AACAC,wBAAc,GAAG,KAAjB;AACAC,sBAAY,GAAG,KAAf;AACAC,YAAE,GAAGzZ,OAAO,CAACwG,MAAR,CAAe,iCAAf,CAAL;AACAR,mBAAS,GAAGyT,EAAE,CAAC,KAAD,CAAF,CAAU,CAAV,EAAahX,KAAb,EAAZ;AACAhC,eAAK,GAAGgZ,EAAE,CAAC,KAAD,CAAF,CAAU,CAAV,CAAR;;AACA,cAAI,MAAM,MAAN,EAAchZ,KAAd,CAAJ,EAA0B;AAAC8Y,0BAAc,GAAG,IAAjB;AAAsB,WAAjD,MACK,IAAI,MAAM,MAAN,EAAc9Y,KAAd,CAAJ,EAA0B;AAAC+Y,wBAAY,GAAG,IAAf;AAAoB;;AAAA;;AACpD,cAAIva,OAAO,CAACwa,EAAE,CAAC,KAAD,CAAF,CAAU,CAAV,CAAD,CAAX,EAA2B;AACzB7J,gBAAI,GAAG6J,EAAE,CAAC,KAAD,CAAF,CAAU,CAAV,EAAahX,KAAb,EAAP;AAA4B;;AAAA;;AAC9B,cAAIxD,OAAO,CAACwa,EAAE,CAAC,KAAD,CAAF,CAAU,CAAV,CAAD,CAAX,EAA2B;AACzBH,wBAAY,GAAGG,EAAE,CAAC,KAAD,CAAF,CAAU,CAAV,EAAahX,KAAb,EAAf;AAAoC;;AAAA;;AACtC,cAAIxD,OAAO,CAACqI,MAAM,CAACsI,IAAD,EAAO,CAAP,CAAP,CAAX,EAA8B;AAC5BA,gBAAI,GAAG,CAAP;AAAS;;AAAA;AACX1F,kBAAQ,GAAG,EAAX;AACAA,kBAAQ,CAACuB,KAAT,CAAe,KAAK,WAAL,GAAoBzF,SAApB,GAAiC,eAAjC,GAAoD4J,IAApD,GAA4D,qBAA5D,GAAqF0J,YAApG;;AACA,cAAIra,OAAO,CAAC2F,MAAM,CAACgL,IAAD,EAAO,EAAP,CAAP,CAAX,EAA+B;AAC7BA,gBAAI,GAAG,EAAP;AAAU;;AAAA;AACZ8J,uBAAa,GAAGJ,YAAhB;AACAK,qBAAW,GAAG,CAAd;AACA9T,YAAE,GAAGxH,IAAI,CAACwb,SAAL,CAAe7T,SAAf,EAA0B4J,IAA1B,EAAgC,IAAhC,EAAuC,YAAW;AAAC,gBAAI3Q,OAAO,CAACua,YAAD,CAAX,EAA2B;AACjF,qBAAO,CAAP;AACD,aAFuD,MAEjD;AACL,qBAAO,CAAP;AACD;;AAAA;AAAE,mBAAOhb,GAAP;AAAa,WAJ2B,EAAtC,CAAL,EAIsBoH,EAAE,GAAG3H,IAAI,CAAC0I,MAAL,CAAYd,EAAZ,CAJ3B,EAI6ChF,IAAI,GAAI+E,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAJ7E,EAIqFqH,OAAO,GAAIrH,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAJxH,EAIgIgU,KAAK,GAAIhU,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAJjK,EAIyK0T,YAAY,GAAI1T,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAJjN,EAIwNC,EAJxN;AAKAqE,kBAAQ,CAACuB,KAAT,CAAe5K,IAAI,CAACyC,KAAL,CAAW,GAAX,CAAf;AACAoW,uBAAa,GAAGxb,QAAQ,CAACwb,aAAD,EAAgBzM,OAAhB,CAAxB;AACA0M,qBAAW,GAAGzb,QAAQ,CAACyb,WAAD,EAAcC,KAAd,CAAtB;;AACA,cAAI3a,OAAO,CAACsa,cAAD,CAAX,EAA6B;AAC3B,mBAAOta,OAAO,CAAC2F,MAAM,CAAC0U,YAAD,EAAe,CAAf,CAAP,CAAd,EAAyC;AAEvCtT,uBAAS,GAAGsT,YAAZ;AACAD,gBAAE,GAAGhb,IAAI,CAACwb,SAAL,CAAe7T,SAAf,EAA0B4J,IAA1B,EAAgC,KAAhC,CAAL,EAA6C/J,EAAE,GAAG5H,IAAI,CAAC0I,MAAL,CAAY0S,EAAZ,CAAlD,EAAoExY,IAAI,GAAIgF,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBrH,GAAhB,GAAsBqH,EAAE,CAAC,CAAD,CAApG,EAA4GoH,OAAO,GAAIpH,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBrH,GAAhB,GAAsBqH,EAAE,CAAC,CAAD,CAA/I,EAAuJ+T,KAAK,GAAI/T,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBrH,GAAhB,GAAsBqH,EAAE,CAAC,CAAD,CAAxL,EAAgMyT,YAAY,GAAIzT,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBrH,GAAhB,GAAsBqH,EAAE,CAAC,CAAD,CAAxO,EAA+OwT,EAA/O;AACAnP,sBAAQ,CAACuB,KAAT,CAAe5K,IAAI,CAACyC,KAAL,CAAW,GAAX,CAAf;AACAoW,2BAAa,GAAGxb,QAAQ,CAACwb,aAAD,EAAgBzM,OAAhB,CAAxB;AACA0M,yBAAW,GAAGzb,QAAQ,CAACyb,WAAD,EAAcC,KAAd,CAAtB;AACD;AAAC;;AAAA;;AACJ,cAAI3a,OAAO,CAAC2F,MAAM,CAAC8U,aAAD,EAAgB,CAAhB,CAAP,CAAX,EAAuC;AACrCxP,oBAAQ,CAACuB,KAAT,CAAe,KAAK,KAAL,GAAciO,aAA7B;AACD,WAFD,MAEO,IAAIza,OAAO,CAAC2F,MAAM,CAAC+U,WAAD,EAAc,CAAd,CAAP,CAAX,EAAqC;AAC1CzP,oBAAQ,CAACuB,KAAT,CAAe,KAAf;AACD,WAFM,MAEA;AACLvB,oBAAQ,CAACuB,KAAT,CAAe,IAAf;AACD;;AAAA;AACDvD,gBAAM,GAAGgC,QAAQ,CAAC5G,KAAT,CAAe,KAAf,CAAT;AACA,iBAAO4E,MAAP;AACD,SAnDD,EAmDG8Q,oDAAoD,CAAC1Y,OAArD,GAA+D,CAnDlE;AAoDA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,WAAf,EAA4B4a,2BAA2B,GAAG,SAASa,UAAT,CAAoB9T,SAApB,EAA+B4J,IAA/B,EAAqCmK,aAArC,EAAoDC,kBAApD,EAAwE;AACxI,cAAInN,GAAJ;AAAA,cAASC,IAAT;AAAA,cAAczO,IAAI,GAAG,IAArB;AAAA,cAA2BwC,IAAI,GAAGrC,GAAlC;AAAA,cAAuCyO,OAAO,GAAGzO,GAAjD;AAAA,cAAsDob,KAAK,GAAGpb,GAA9D;AAAA,cAAmE8a,YAAY,GAAG9a,GAAlF;AAAA,cAAuFyb,CAAC,GAAGzb,GAA3F;;AAIA,cAAIub,aAAa,IAAI,IAArB,EAA2B;AACzBA,yBAAa,GAAG,IAAhB;AACD;;AAAA;;AAED,cAAIC,kBAAkB,IAAI,IAA1B,EAAgC;AAC9BA,8BAAkB,GAAG,CAArB;AACD;;AAAA;AACDnZ,cAAI,GAAG0G,KAAK,CAAC7I,EAAE,CAACH,QAAD,EAAW,OAAX,CAAH,EAAwB,KAAxB,EAA+B,CAACyH,SAAD,CAA/B,GAA6C6G,GAAG,GAAG,eAAU;AAAC,gBAAIxO,IAAI,GAAGwO,GAAG,CAAC3D,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyB2D,GAAG,CAAC3D,GAAxC;AAAA,gBAA6CgR,QAAQ,GAAG1b,GAAxD;AACxE,gBAAIH,IAAI,CAACsB,UAAL,IAAmB,IAAvB,EAA6BtB,IAAI,CAACsB,UAAL,GAAkBnB,GAAlB;AAG7B0b,oBAAQ,GAAG7b,IAAI,CAACsB,UAAL,CAAgBoB,UAAhB,CAA2B,EAA3B,CAAX;AACA,mBAAOmZ,QAAP;AAAiB,WALsC,EAKpCrN,GAAG,CAAC3D,GAAJ,GAAU7K,IAL0B,EAKpBwO,GAAG,CAACvM,OAAJ,GAAc,CALM,EAKHuM,GAL1C,EAAZ;AAMAhM,cAAI,CAAC,QAAD,CAAJ;AACAoM,iBAAO,GAAG,CAAV;AACA2M,eAAK,GAAG,CAAR;AACAN,sBAAY,GAAG,CAAf;AACA/R,eAAK,CAAC1G,IAAD,EAAO,MAAP,EAAe,EAAf,GAAoBiM,IAAG,GAAG,aAASqN,CAAT,EAAW;AAAC,gBAAI9b,IAAI,GAAGyO,IAAG,CAAC5D,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyB4D,IAAG,CAAC5D,GAAxC;AAAA,gBAA6CzI,KAAK,GAAGjC,GAArD;;AAIzC,gBAAI2b,CAAC,IAAI,IAAT,EAAe;AACbA,eAAC,GAAG3b,GAAJ;AACD;;AAAA;AACD,mBAAQ,YAAW;AAACiC,mBAAK,GAAG0Z,CAAR;;AACpB,kBAAK,EAAD,CAAK,MAAL,EAAa1Z,KAAb,CAAJ,EAAyB;AAAC,uBAAQ6Y,YAAY,GAAGpb,QAAQ,CAACob,YAAD,EAAeU,kBAAf,CAA/B;AAAmE,eAA7F,MACK,IAAI/b,IAAI,CAACmc,KAAL,CAAWjQ,IAAX,CAAgByF,IAAhB,EAAsB,EAAtB,EAA0B,KAA1B,EAAiC,MAAjC,EAAyCnP,KAAzC,CAAJ,EAAqD;AAAC,uBAAQwM,OAAO,GAAG/O,QAAQ,CAAC+O,OAAD,EAAU,CAAV,CAA1B;AAAwC,eAA9F,MACA,IAAK,CAAD,CAAI,MAAJ,EAAYxM,KAAZ,CAAJ,EAAwB;AAAC,oBAAIxB,OAAO,CAAC8a,aAAD,CAAX,EAA4B;AACxD,yBAAQH,KAAK,GAAG1b,QAAQ,CAAC0b,KAAD,EAAQ,CAAR,CAAxB;AACD,iBAF6B,MAEvB;AACL,yBAAOpb,GAAP;AACD;AAAC,eAJG,MAKA;AAAE,uBAAOA,GAAP;AAAY;AAAC,aARb,EAAP;AAQyB,WAfF,EAeIsO,IAAG,CAAC5D,GAAJ,GAAU7K,IAfd,EAeoByO,IAAG,CAACxM,OAAJ,GAAc,CAflC,EAeqCwM,IAfzD,EAAL;AAgBAG,iBAAO,GAAG/O,QAAQ,CAAC+O,OAAD,EAAUqM,YAAV,CAAlB;;AACA,cAAIra,OAAO,CAAC8a,aAAD,CAAX,EAA4B;AAE1BE,aAAC,GAAG,CAAChN,OAAD,EAAU2M,KAAV,EAAiBS,IAAjB,EAAJ;AACApN,mBAAO,GAAGtI,SAAS,CAACsI,OAAD,EAAUgN,CAAV,CAAnB;AACAL,iBAAK,GAAGjV,SAAS,CAACiV,KAAD,EAAQK,CAAR,CAAjB;AAA6B;;AAAA;AAC/B,iBAAO,CAACpZ,IAAD,EAAOoM,OAAP,EAAgB2M,KAAhB,EAAuBN,YAAvB,CAAP;AACD,SA7CO,EA6CLL,2BAA2B,CAAC3Y,OAA5B,GAAsC,CAAC,CA7ClC,GA6CsC9B,GA7CvC,KA6C+C,UA7CtD;AA8CD,OAzHD,EAyHGD,QAAQ,CAAC,CAAD,CAzHX,EAyHgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAzHlB,EAyHsCA,QAzHtC;AA0HD,KA/HD,EA+HGA,QAAQ,CAAC,CAAD,CA/HX,EA+HgBA,QA/HhB;AAgID,GArIM,CAqIJA,QAAQ,CAAC,CAAD,CArIJ,EAqISA,QArIT,CAAP;AAsID,CArJD,EAqJGN,IArJH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS+C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASF,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,YAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+Ckb,+CAA/C;AAAA,YAAgGC,+BAAhG;AAEAlc,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,YAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,MAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,SAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,WAAL,GAAmB,eAAnB,GAAqC,SAAjF;AACAF,YAAI,CAACwB,gBAAL,CAAsB,IAAtB;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqDic,+CAA+C,GAAG,SAAS/Z,mCAAT,CAA6CP,OAA7C,EAAsD;AAC3J,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiBmC,MAAM,GAAGhC,GAA1B;AAAA,cAA+BiC,KAAK,GAAGjC,GAAvC;AAGAgC,gBAAM,GAAGhC,GAAT;AACAiC,eAAK,GAAGT,OAAR;;AACA,cAAI,WAAW,MAAX,EAAmBS,KAAnB,CAAJ,EAA+B;AAACD,kBAAM,GAAGnC,IAAI,CAACmc,kBAAL,CAAwB9b,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,EAAsCC,KAAtC,EAAxB,CAAT;AAAgF;;AAAA;AAChH,iBAAOjC,MAAP;AACD,SARD,EAQG8Z,+CAA+C,CAACha,OAAhD,GAA0D,CAR7D;AASA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oBAAf,EAAqCkc,+BAA+B,GAAG,SAASE,mBAAT,CAA6B3Y,MAA7B,EAAqC;AAClH,cAAI8D,EAAJ;AAAA,cAAQvH,IAAI,GAAG,IAAf;AAAA,cAAqB6J,MAAM,GAAG1J,GAA9B;AAAA,cAAmCkc,KAAK,GAAGlc,GAA3C;AAAA,cAAgDmc,WAAW,GAAGnc,GAA9D;AAAA,cAAmEoc,GAAG,GAAGpc,GAAzE;AAAA,cAA8EsJ,SAAS,GAAGtJ,GAA1F;AAGAH,cAAI,CAACqC,MAAL,CAAY,QAAZ,EAAsBoB,MAAtB;AACAoG,gBAAM,GAAG,GAAT;AACAwS,eAAK,GAAG,KAAR;AACAC,qBAAW,GAAG,CAAd;AACAC,aAAG,GAAG,CAAN;;AACA,iBAAO3b,OAAO,CAACyb,KAAK,CAAC,IAAD,CAAL,EAAD,CAAd,EAA+B;AAE7BE,eAAG,GAAGvc,IAAI,CAACsB,UAAL,CAAgBoB,UAAhB,CAA2B,EAA3B,CAAN;;AACA,gBAAImH,MAAM,CAAC,KAAD,CAAN,CAAc,GAAd,CAAJ,EAAwB;AACtBA,oBAAM,GAAG,KAAK,GAAL,GAAY0S,GAArB;AACD,aAFD,MAEO;AACL1S,oBAAM,GAAG,KAAMA,MAAN,GAAgB,IAAhB,GAAwB0S,GAAjC;AACD;;AAAA;;AACD,gBAAI3b,OAAO,CAAE,YAAW;AAAC,kBAAIA,OAAO,CAAE6I,SAAS,GAAG9G,MAAM,CAAC4Z,GAAD,EAAM9Y,MAAN,CAApB,CAAX,EAAgD;AACvE,uBAAOgG,SAAP;AACD,eAFwB,MAElB;AACL,uBAAO8S,GAAG,CAAC,KAAD,CAAH,CAAW,EAAX,CAAP;AACD;;AAAA;AAAE,qBAAOpc,GAAP;AAAa,aAJJ,EAAD,CAAX,EAIsB;AAEpBsD,oBAAM,GAAG8Y,GAAT;AACAD,yBAAW,GAAGzc,QAAQ,CAACyc,WAAD,EAAc,CAAd,CAAtB;AACD,aARD,MAQO,IAAIC,GAAG,CAAC,KAAD,CAAH,CAAW,EAAX,CAAJ,EAAoB;AACzBF,mBAAK,GAAG,IAAR;AACD,aAFM,MAEA;AACLA,mBAAK,GAAG,IAAR;AACD;;AAAA;AACF;;AAAA;;AACD,cAAIE,GAAG,CAAC,KAAD,CAAH,CAAW,EAAX,CAAJ,EAAoB;AAClBD,uBAAW,GAAG,CAAd;AAAgB;;AAAA;AAClBzS,gBAAM,GAAG,KAAMA,MAAN,GAAgB,WAAhB,GAA+ByS,WAAxC;;AACA,cAAIC,GAAG,CAAC,KAAD,CAAH,CAAW,EAAX,CAAJ,EAAoB;AAClB1S,kBAAM,GAAG,KAAMA,MAAN,GAAgB,QAAzB;AAAkC;;AAAA;AACpC,iBAAOA,MAAP;AACD,SArCO,EAqCLqS,+BAA+B,CAACja,OAAhC,GAA0C,CArCrC,GAqCyC9B,GArC1C,KAqCkD,mBArCzD;AAsCD,OA5DD,EA4DGD,QAAQ,CAAC,CAAD,CA5DX,EA4DgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CA5DlB,EA4DsCA,QA5DtC;AA6DD,KAlED,EAkEGA,QAAQ,CAAC,CAAD,CAlEX,EAkEgBA,QAlEhB;AAmED,GAxEM,CAwEJA,QAAQ,CAAC,CAAD,CAxEJ,EAwESA,QAxET,CAAP;AAyED,CAlFD,EAkFGN,IAlFH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS+C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASuG,SAAT,CAAmBxG,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASF,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASiJ,SAAT,CAAmBlJ,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASkJ,MAAT,CAAgBnJ,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HyI,KAAK,GAAGtJ,IAAI,CAACuJ,IAA3I;AAAA,MAAiJvI,OAAO,GAAGhB,IAAI,CAACiB,MAAhK;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,UAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+Cyb,6CAA/C;AAAA,YAA8FC,qBAA9F;AAAA,YAAqHC,uBAArH;AAAA,YAA8IC,mBAA9I;AAAA,YAAmKC,mBAAnK;AAEA5c,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,UAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,WAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,WAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,kBAAL,GAA0B,8BAA1B,GAA2D,iCAA3D,GAA+F,oBAA/F,GAAsH,kBAAtH,GAA2I,yCAA3I,GAAuL,oCAAvL,GAA8N,yCAA9N,GAA0Q,kEAA1Q,GAA+U,mCAA3X;AACAF,YAAI,CAACwB,gBAAL,CAAsB,UAAtB,EAAkC,YAAlC;AACA5B,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,gBAA5B,EAA8C,CAA9C;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,EAA5C;AAEAN,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqDwc,6CAA6C,GAAG,SAASta,mCAAT,CAA6CP,OAA7C,EAAsD;AACzJ,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiBoC,KAAK,GAAGjC,GAAzB;AAEA,iBAAQ,YAAW;AAACiC,iBAAK,GAAGT,OAAR;;AACpB,gBAAI,aAAa,MAAb,EAAqBS,KAArB,CAAJ,EAAiC;AAAC,qBAAOpC,IAAI,CAAC6c,QAAL,CAAclb,OAAd,CAAP;AAA8B,aAAhE,MACK,IAAI,wBAAwB,MAAxB,EAAgCS,KAAhC,CAAJ,EAA4C;AAAC,qBAAOpC,IAAI,CAAC8c,QAAL,CAAcnb,OAAd,CAAP;AAA8B,aAA3E,MACA;AAAE,qBAAOxB,GAAP;AAAY;AAAC,WAHb,EAAP;AAID,SAPD,EAOGqc,6CAA6C,CAACva,OAA9C,GAAwD,CAP3D;AAQAjC,YAAI,CAACqN,QAAL;AAEAzN,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,YAAf,EAA6Byc,qBAAqB,GAAG,SAASM,WAAT,CAAqBC,QAArB,EAA+BC,iBAA/B,EAAkD;AACrG,cAAI/S,GAAJ;AAAA,cAASsE,IAAT;AAAA,cAAcC,IAAd;AAAA,cAAmBzO,IAAI,GAAG,IAA1B;AAAA,cAAgCkd,MAAM,GAAG/c,GAAzC;AAAA,cAA8Cgd,uBAAuB,GAAGhd,GAAxE;AAAA,cAA6EwL,QAAQ,GAAGxL,GAAxF;AAAA,cAA6FyO,OAAO,GAAGzO,GAAvG;AAAA,cAA4G6M,MAAM,GAAG7M,GAArH;AAAA,cAA0Hid,aAAa,GAAGjd,GAA1I;;AAGA+c,gBAAM,GAAGld,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+BiY,QAA/B,EAAyC,EAAzC,CAAT;AACAG,iCAAuB,GAAGjU,KAAK,CAACgU,MAAD,EAAS,QAAT,EAAmB,EAAnB,GAAwBhT,GAAG,GAAG,aAASqS,GAAT,EAAa;AAAC,gBAAIvc,IAAI,GAAGkK,GAAG,CAACW,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyBX,GAAG,CAACW,GAAxC;;AAIzE,gBAAI0R,GAAG,IAAI,IAAX,EAAiB;AACfA,iBAAG,GAAGpc,GAAN;AACD;;AAAA;AACD,mBAAOwC,MAAM,CAAC4Z,GAAD,EAAMlc,EAAE,CAACH,QAAD,EAAW,gBAAX,CAAR,CAAb;AAAoD,WAPC,EAOCgK,GAAG,CAACW,GAAJ,GAAU7K,IAPX,EAOiBkK,GAAG,CAACjI,OAAJ,GAAc,CAP/B,EAOkCiI,GAP1D,EAA/B;AAQAyB,kBAAQ,GAAGrF,SAAS,CAAC4W,MAAM,CAAC5M,KAAP,EAAD,EAAiB6M,uBAAuB,CAAC7M,KAAxB,EAAjB,CAApB;AACA1B,iBAAO,GAAG1F,KAAK,CAACiU,uBAAD,EAA0B,OAA1B,EAAmC,EAAnC,GAAwC3O,IAAG,GAAG,aAAS+N,GAAT,EAAa;AAAC,gBAAIvc,IAAI,GAAGwO,IAAG,CAAC3D,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyB2D,IAAG,CAAC3D,GAAxC;;AAIzE,gBAAI0R,GAAG,IAAI,IAAX,EAAiB;AACfA,iBAAG,GAAGpc,GAAN;AACD;;AAAA;AACD,mBAAOwC,MAAM,CAAC4Z,GAAD,EAAMU,iBAAN,CAAb;AAAuC,WAPc,EAOZzO,IAAG,CAAC3D,GAAJ,GAAU7K,IAPE,EAOIwO,IAAG,CAACvM,OAAJ,GAAc,CAPlB,EAOqBuM,IAP7D,EAAf;AAQAxB,gBAAM,GAAG9D,KAAK,CAACiU,uBAAD,EAA0B,OAA1B,EAAmC,EAAnC,GAAwC1O,IAAG,GAAG,aAAS8N,GAAT,EAAa;AAAC,gBAAIvc,IAAI,GAAGyO,IAAG,CAAC5D,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyB4D,IAAG,CAAC5D,GAAxC;;AAIxE,gBAAI0R,GAAG,IAAI,IAAX,EAAiB;AACfA,iBAAG,GAAGpc,GAAN;AACD;;AAAA;AACD,mBAAOqG,MAAM,CAAC+V,GAAD,EAAMlc,EAAE,CAACH,QAAD,EAAW,cAAX,CAAR,CAAb;AAAkD,WAPE,EAOAuO,IAAG,CAAC5D,GAAJ,GAAU7K,IAPV,EAOgByO,IAAG,CAACxM,OAAJ,GAAc,CAP9B,EAOiCwM,IAPzE,EAAd;AAQA2O,uBAAa,GAAG9W,SAAS,CAACzG,QAAQ,CAACmJ,SAAS,CAAC,CAAD,EAAI2C,QAAJ,CAAV,EAAyBiD,OAAzB,CAAT,EAA4C5B,MAA5C,CAAzB;AACA,iBAAO,KAAK,GAAL,GAAYkQ,MAAM,CAACjY,KAAP,CAAa,IAAb,CAAZ,GAAkC,MAAlC,GAA4CmY,aAA5C,GAA6D,KAA7D,GAAsEpd,IAAI,CAACqd,YAAL,CAAkBD,aAAlB,CAA7E;AACD,SAhCD,EAgCGX,qBAAqB,CAACxa,OAAtB,GAAgC,CAhCnC;AAkCArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,cAAf,EAA+B0c,uBAAuB,GAAG,SAASY,aAAT,CAAuB1O,OAAvB,EAAgC;AACvF,cAAI5O,IAAI,GAAG,IAAX;;AAEA,cAAIY,OAAO,CAACqI,MAAM,CAAC2F,OAAD,EAAU,CAAV,CAAP,CAAX,EAAiC;AAC/B,mBAAO,QAAP;AACD,WAFD,MAEO,IAAIA,OAAO,CAAC,KAAD,CAAP,CAAe,CAAf,CAAJ,EAAuB;AAC5B,mBAAO,KAAP;AACD,WAFM,MAEA,IAAIA,OAAO,CAAC,KAAD,CAAP,CAAe,CAAf,CAAJ,EAAuB;AAC5B,mBAAO,KAAP;AACD,WAFM,MAEA,IAAIA,OAAO,CAAC,KAAD,CAAP,CAAe,CAAf,CAAJ,EAAuB;AAC5B,mBAAO,MAAP;AACD,WAFM,MAEA,IAAIA,OAAO,CAAC,KAAD,CAAP,CAAe,CAAf,CAAJ,EAAuB;AAC5B,mBAAO,OAAP;AACD,WAFM,MAEA,IAAIhO,OAAO,CAAC+B,MAAM,CAACiM,OAAD,EAAU,CAAV,CAAP,CAAX,EAAiC;AACtC,mBAAO,OAAP;AACD,WAFM,MAEA;AACL,mBAAO,SAAP;AACD;AACF,SAlBD,EAkBG8N,uBAAuB,CAACza,OAAxB,GAAkC,CAlBrC;AAoBArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,UAAf,EAA2B2c,mBAAmB,GAAG,SAASY,SAAT,CAAmB5b,OAAnB,EAA4B;AAC3E,cAAI4F,EAAJ;AAAA,cAAQvH,IAAI,GAAG,IAAf;AAAA,cAAqByH,CAAC,GAAGtH,GAAzB;AAAA,cAA8B6c,QAAQ,GAAG7c,GAAzC;AAAA,cAA8CsJ,SAAS,GAAGtJ,GAA1D;AAAA,cAA+D8c,iBAAiB,GAAG9c,GAAnF;AAAA,cAAwFqd,OAAO,GAAGrd,GAAlG;AAGAsH,WAAC,GAAG,oBAAoBU,MAApB,CAA2BxG,OAA3B,CAAJ;;AACA,cAAIf,OAAO,CAAC6G,CAAD,CAAX,EAAgB,CACf,CADD,MACO;AACL,mBAAOtH,GAAP;AACD;;AAAA;;AACD6c,kBAAQ,GAAI,YAAW;AAAC,gBAAIpc,OAAO,CAAE6I,SAAS,IAAIlC,EAAE,GAAGE,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,CAAL,EAAmBF,EAAE,KAAKpH,GAAP,IAAcoH,EAAE,IAAI,IAArB,GAA6BpH,GAA7B,GAAmC+I,KAAK,CAAC3B,EAAD,EAAK,MAAL,EAAa,EAAb,CAA9D,CAAX,CAAX,EAAyG;AAC/H,qBAAOkC,SAAP;AACD,aAFuB,MAEjB;AACL,qBAAO,CAAP;AACD;;AAAA;AAAE,mBAAOtJ,GAAP;AAAa,WAJL,EAAX;;AAKA8c,2BAAiB,GAAGxV,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,EAAYrD,KAAZ,EAApB;;AACA,cAAIxD,OAAO,CAAC+B,MAAM,CAACqa,QAAD,EAAW,CAAX,CAAP,CAAX,EAAkC;AAChC,mBAAO7c,GAAP;AAAW;;AAAA;AACbqd,iBAAO,GAAGxd,IAAI,CAACyd,UAAL,CAAgBT,QAAhB,EAA0BC,iBAA1B,CAAV;AACA,iBAAO,KAAK,GAAL,GAAYD,QAAZ,GAAwB,MAAxB,GAAkCC,iBAAlC,GAAuD,MAAvD,GAAiEO,OAAxE;AACD,SAnBD,EAmBGb,mBAAmB,CAAC1a,OAApB,GAA8B,CAnBjC;AAoBA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,UAAf,EAA2B4c,mBAAmB,GAAG,SAASc,SAAT,CAAmB/b,OAAnB,EAA4B;AACnF,cAAI4F,EAAJ;AAAA,cAAQvH,IAAI,GAAG,IAAf;AAAA,cAAqByH,CAAC,GAAGtH,GAAzB;AAAA,cAA8Bwd,KAAK,GAAGxd,GAAtC;AAAA,cAA2C6c,QAAQ,GAAG7c,GAAtD;AAAA,cAA2DyJ,SAAS,GAAGzJ,GAAvE;AAAA,cAA4E8c,iBAAiB,GAAG9c,GAAhG;AAAA,cAAqGqd,OAAO,GAAGrd,GAA/G;AAGAsH,WAAC,GAAG,4BAA4BU,MAA5B,CAAmCxG,OAAnC,CAAJ;;AACA,cAAIf,OAAO,CAAC6G,CAAD,CAAX,EAAgB,CACf,CADD,MACO;AACL,mBAAOtH,GAAP;AACD;;AAAA;AACDwd,eAAK,GAAGlW,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,EAAYrD,KAAZ,EAAR;AACA4Y,kBAAQ,GAAGnd,QAAQ,CAAE,YAAW;AAAC,gBAAI4H,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,EAAY,KAAZ,EAAmB,GAAnB,CAAJ,EAA6B;AAC5D,qBAAO,CAAP;AACD,aAFgC,MAE1B;AAEL,kBAAI7G,OAAO,CAAEgJ,SAAS,IAAIrC,EAAE,GAAGE,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,CAAL,EAAmBF,EAAE,KAAKpH,GAAP,IAAcoH,EAAE,IAAI,IAArB,GAA6BpH,GAA7B,GAAmC+I,KAAK,CAAC3B,EAAD,EAAK,MAAL,EAAa,EAAb,CAA9D,CAAX,CAAX,EAAyG;AACvG,uBAAOqC,SAAP;AACD,eAFD,MAEO;AACL,uBAAO,CAAP;AACD;;AAAA;AACF;;AAAA;AAAE,mBAAOzJ,GAAP;AAAa,WATI,EAAD,EASEwd,KATF,CAAnB;AAUAV,2BAAiB,GAAGpd,QAAQ,CAAC4H,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,EAAYrD,KAAZ,EAAD,EAAsBqD,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,EAAYrD,KAAZ,EAAtB,CAA5B;AACAoZ,iBAAO,GAAGxd,IAAI,CAACyd,UAAL,CAAgBT,QAAhB,EAA0BC,iBAA1B,CAAV;AACA,iBAAO,KAAK,GAAL,GAAYtb,OAAZ,GAAuB,OAAvB,GAAkCqb,QAAlC,GAA8C,MAA9C,GAAwDC,iBAAxD,GAA6E,MAA7E,GAAuFO,OAA9F;AACD,SAvBO,EAuBLZ,mBAAmB,CAAC3a,OAApB,GAA8B,CAvBzB,GAuB6B9B,GAvB9B,KAuBsC,SAvB7C;AAwBD,OA3HD,EA2HGD,QAAQ,CAAC,CAAD,CA3HX,EA2HgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CA3HlB,EA2HsCA,QA3HtC;AA4HD,KAjID,EAiIGA,QAAQ,CAAC,CAAD,CAjIX,EAiIgBA,QAjIhB;AAkID,GAvIM,CAuIJA,QAAQ,CAAC,CAAD,CAvIJ,EAuISA,QAvIT,CAAP;AAwID,CA7JD,EA6JGN,IA7JH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,MAAII,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAEA,SAAQ,UAASK,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,oBAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAGAnB,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,oBAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,cAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,gBAAxC;AACA,eAAON,IAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,+BAA5C,CAAP;AACD,OAVD,EAUGA,QAAQ,CAAC,CAAD,CAVX,EAUgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAVlB,EAUsCA,QAVtC;AAWD,KAhBD,EAgBGA,QAAQ,CAAC,CAAD,CAhBX,EAgBgBA,QAhBhB;AAiBD,GAtBM,CAsBJA,QAAQ,CAAC,CAAD,CAtBJ,EAsBSA,QAtBT,CAAP;AAuBD,CA1BD,EA0BGN,IA1BH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASoJ,SAAT,CAAmBlJ,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASF,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASwG,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAAA,MAAmJC,OAAO,GAAGhB,IAAI,CAACiB,MAAlK;AAAA,MAA0KqI,KAAK,GAAGtJ,IAAI,CAACuJ,IAAvL;AAAA,MAA6LyU,MAAM,GAAGhe,IAAI,CAACie,KAA3M;AAEA,SAAQ,UAAS/c,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,YAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C+c,wBAA/C;AAAA,YAAyEC,+CAAzE;AAAA,YAA0HC,uBAA1H;AAAA,YAAmJC,0CAAnJ;AAEAje,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,YAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,WAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,UAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,aAAL,GAAqB,kCAArB,GAA0D,QAA1D,GAAqE,mBAAjH;AACAF,YAAI,CAACwB,gBAAL,CAAsB,QAAtB,EAAgC,MAAhC;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8B8d,wBAAwB,GAAG,SAASpc,YAAT,CAAsBC,OAAtB,EAA+B;AACtF,cAAIC,KAAK,GAAGkc,wBAAwB,CAACjc,GAArC;AAAA,cAA0CC,MAAM,GAAGF,KAAK,IAAIzB,GAA5D;AAAA,cAAiEH,IAAI,GAAG,IAAxE;AAEA,cAAI4B,KAAJ,EAAWkc,wBAAwB,CAACjc,GAAzB,GAA+B,IAA/B;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+C8d,wBAA/C,EAAyE,KAAzE,EAAgF,IAAhF,CAAP,EAA8F,YAA9F,EAA4G,CAACnc,OAAD,CAA5G,EAAuH,IAAvH,CAAN;AACA,iBAAQ3B,IAAI,CAACmQ,aAAL,GAAqB/P,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,aAAX,CAAH,EAA8B,SAA9B,CAAhC;AACD,SAPD,EAOG4d,wBAAwB,CAAC7b,OAAzB,GAAmC,CAPtC;AASArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqD+d,+CAA+C,GAAG,SAAS7b,mCAAT,CAA6CP,OAA7C,EAAsD;AAC3J,cAAI4F,EAAJ;AAAA,cAAQC,EAAR;AAAA,cAAYxH,IAAI,GAAG,IAAnB;AAAA,cAAyBwJ,SAAS,GAAGrJ,GAArC;AAAA,cAA0C+d,SAAS,GAAG/d,GAAtD;AAAA,cAA2D2E,IAAI,GAAG3E,GAAlE;AAAA,cAAuEkF,MAAM,GAAGlF,GAAhF;AAAA,cAAqFiC,KAAK,GAAGjC,GAA7F;AAAA,cAAkGgC,MAAM,GAAGhC,GAA3G;;AAGA,cAAIS,OAAO,CAACe,OAAO,CAAC,KAAD,CAAP,CAAe,UAAf,CAAD,CAAX,EAAyC;AAEvC6H,qBAAS,GAAGnJ,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,EAAsCC,KAAtC,EAAZ;AACA,mBAAOpE,IAAI,CAACgK,UAAL,CAAgBR,SAAhB,CAAP;AAAmC;;AAAA;AACrC0U,mBAAS,GAAG,EAAZ;AACApZ,cAAI,GAAG,EAAP;AACAO,gBAAM,GAAG,CAAT;AACAjD,eAAK,GAAGT,OAAR;;AACA,cAAI,OAAO,MAAP,EAAeS,KAAf,CAAJ,EAA2B;AAC3B8b,qBAAS,GAAG,OAAZ;AACA1W,cAAE,GAAGxH,IAAI,CAACme,6BAAL,EAAL,EAA2C5W,EAAE,GAAG3H,IAAI,CAAC0I,MAAL,CAAYd,EAAZ,CAAhD,EAAkE1C,IAAI,GAAIyC,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAlG,EAA0GlC,MAAM,GAAIkC,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAA5I,EAAmJC,EAAnJ;AAAuJ,WAFvJ,MAGK;AAAC,mBAAOrH,GAAP;AAAW;;AAAA;AACjBgC,gBAAM,GAAG,KAAM+b,SAAN,GAAmB,GAAnB,GAA0B7Y,MAA1B,GAAoC,IAApC,GAA4CP,IAArD;AACA,iBAAO3C,MAAP;AACD,SAlBD,EAkBG4b,+CAA+C,CAAC9b,OAAhD,GAA0D,CAlB7D;AAoBArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,YAAf,EAA6Bge,uBAAuB,GAAG,SAAS/T,WAAT,CAAqBT,SAArB,EAAgC;AACrF,cAAIjC,EAAJ;AAAA,cAAQiH,GAAR;AAAA,cAAaC,IAAb;AAAA,cAAkBzO,IAAI,GAAG,IAAzB;AAAA,cAA+B4P,SAAS,GAAGzP,GAA3C;AAAA,cAAgDgC,MAAM,GAAGhC,GAAzD;AAAA,cAA8Die,YAAY,GAAGje,GAA7E;AAAA,cAAkF8U,QAAQ,GAAG9U,GAA7F;;AAGAH,cAAI,CAACqC,MAAL,CAAY,sBAAZ,EAAoCmH,SAApC;AACAoG,mBAAS,GAAGpG,SAAZ;AACArH,gBAAM,GAAG,EAAT;AACAic,sBAAY,GAAG,EAAf;;AACA,iBAAOxd,OAAO,CAACgP,SAAS,CAAC,KAAD,CAAT,CAAiB,CAAjB,CAAD,CAAd,EAAqC;AAEnCqF,oBAAQ,GAAGjV,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+B6K,SAA/B,EAA0C,CAA1C,EAA6CvB,KAA7C,EAAX;AACA+P,wBAAY,CAACC,OAAb,CAAqBpJ,QAArB;AACArF,qBAAS,GAAG5G,SAAS,CAACE,KAAK,CAAC+L,QAAD,EAAW,QAAX,EAAqB,EAArB,GAA0BzG,GAAG,GAAG,aAAS5D,CAAT,EAAW;AAAC,kBAAI5K,IAAI,GAAGwO,GAAG,CAAC3D,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyB2D,GAAG,CAAC3D,GAAxC;;AAIrE,kBAAID,CAAC,IAAI,IAAT,EAAe;AACbA,iBAAC,GAAGzK,GAAJ;AACD;;AAAA;AACD,qBAAOyK,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,CAAP;AAAoB,aAP+B,EAO7B4D,GAAG,CAAC3D,GAAJ,GAAU7K,IAPmB,EAObwO,GAAG,CAACvM,OAAJ,GAAc,CAPD,EAOIuM,GAP9B,EAAL,CAOyC8B,KAPzC,EAAD,EAOmD,CAPnD,CAArB;AAQAnO,kBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,GAAL,GAAY8S,QAAQ,CAAChQ,KAAT,EAAZ,GAAgC,GAAzC,CAAjB;;AACA,gBAAIrE,OAAO,CAAC2F,MAAM,CAACqJ,SAAD,EAAY,CAAZ,CAAP,CAAX,EAAmC;AACjCzN,oBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,YAAT,CAAjB;AAAwC;;AAAA;AAC3C;;AAAA;AACDA,gBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,IAAT,CAAjB;AACA+G,eAAK,CAAC0U,MAAM,CAAC,CAAD,EAAI,CAAJ,EAAO,KAAP,CAAP,EAAsB,MAAtB,EAA8B,EAA9B,GAAmCnP,IAAG,GAAG,aAAS8N,GAAT,EAAa;AAAC,gBAAIvc,IAAI,GAAGyO,IAAG,CAAC5D,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyB4D,IAAG,CAAC5D,GAAxC;AAAA,gBAA6CiN,IAA7C;AAAA,gBAAkDwG,KAAK,GAAGne,GAA1D;;AAI1D,gBAAIoc,GAAG,IAAI,IAAX,EAAiB;AACfA,iBAAG,GAAGpc,GAAN;AACD;;AAAA;AACDme,iBAAK,GAAGpV,KAAK,CAACkV,YAAD,EAAe,QAAf,EAAyB,EAAzB,GAA8BtG,IAAG,GAAG,aAASlN,CAAT,EAAW;AAAC,kBAAI5K,IAAI,GAAG8X,IAAG,CAACjN,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyBiN,IAAG,CAACjN,GAAxC;;AAI3D,kBAAID,CAAC,IAAI,IAAT,EAAe;AACbA,iBAAC,GAAGzK,GAAJ;AACD;;AAAA;AACD,qBAAOyK,CAAC,CAAC,KAAD,CAAD,CAAS2R,GAAT,CAAP;AAAsB,aAPmB,EAOjBzE,IAAG,CAACjN,GAAJ,GAAU7K,IAPO,EAOD8X,IAAG,CAAC7V,OAAJ,GAAc,CAPb,EAOgB6V,IAP9C,EAAL,CAOyDxH,KAPzD,EAAR;;AAQA,gBAAIgO,KAAK,CAAC,KAAD,CAAL,CAAa,CAAb,CAAJ,EAAqB;AACnB,qBAAOne,GAAP;AACD,aAFD,MAEO;AACL,qBAAQgC,MAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,IAAL,GAAaoa,GAAb,GAAoB,GAApB,GAA2B+B,KAA3B,GAAoC,IAA7C,CAAzB;AACD;;AAAA;AAAE,WAnBmC,EAmBjC7P,IAAG,CAAC5D,GAAJ,GAAU7K,IAnBuB,EAmBjByO,IAAG,CAACxM,OAAJ,GAAc,CAnBG,EAmBAwM,IAnBnC,EAAL;AAoBA,iBAAOtM,MAAP;AACD,SA9CD,EA8CG6b,uBAAuB,CAAC/b,OAAxB,GAAkC,CA9CrC;AA+CA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,+BAAf,EAAgDie,0CAA0C,GAAG,SAASM,8BAAT,GAA0C;AAC7I,cAAIve,IAAI,GAAG,IAAX;AAAA,cAAiBoF,KAAK,GAAGjF,GAAzB;AAGAiF,eAAK,GAAG,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,EAAkC,SAAlC,EAA6C,SAA7C,EAAwD,SAAxD,EAAmE,SAAnE,EAA8E,0BAA9E,EAA0G,kBAA1G,EAA8H,mBAA9H,EAAmJ,0BAAnJ,EAA+K,eAA/K,EAAgM,SAAhM,EAA2M,uBAA3M,EAAoO,4BAApO,EAAkQ,4BAAlQ,EAAgS,kBAAhS,EAAoT,gBAApT,EAAsU,SAAtU,EAAiV,0BAAjV,EAA6W,0BAA7W,EAAyY,8BAAzY,EAAya,4BAAza,EAAuc,0BAAvc,EAAme,SAAne,EAA8e,sBAA9e,EAAsgB,kBAAtgB,EAA0hB,0BAA1hB,EAAsjB,8BAAtjB,EAAslB,yBAAtlB,EAAinB,SAAjnB,EAA4nB,4BAA5nB,EAA0pB,6BAA1pB,EAAyrB,6BAAzrB,EAAwtB,0BAAxtB,EAAovB,0BAApvB,CAAR;AACA,iBAAOpF,IAAI,CAACwe,iBAAL,CAAuBpZ,KAAvB,CAAP;AACD,SANO,EAML6Y,0CAA0C,CAAChc,OAA3C,GAAqD,CANhD,GAMoD9B,GANrD,KAM6D,8BANpE;AAOD,OAhGD,EAgGGD,QAAQ,CAAC,CAAD,CAhGX,EAgGgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAhGlB,EAgGsCA,QAhGtC;AAiGD,KAtGD,EAsGGA,QAAQ,CAAC,CAAD,CAtGX,EAsGgBA,QAtGhB;AAuGD,GA5GM,CA4GJA,QAAQ,CAAC,CAAD,CA5GJ,EA4GSA,QA5GT,CAAP;AA6GD,CAzHD,EAyHGN,IAzHH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASC,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASiJ,SAAT,CAAmBlJ,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASqL,UAAT,CAAoBtL,GAApB,EAAyBC,GAAzB,EAA8B;AAC5B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,4BAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C0d,yCAA/C;AAAA,YAA0FC,wCAA1F;AAAA,YAAoIC,gDAApI;AAAA,YAAsLC,4CAAtL;AAAA,YAAoOC,8CAApO;AAAA,YAAoRC,2CAApR;AAGAlf,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,4BAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,gBAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,qBAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,OAAL,GAAe,qCAAf,GAAuD,oCAAnG;AAEAN,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,cAAf,EAA+Bye,yCAAyC,GAAG,SAASM,aAAT,CAAuBzb,KAAvB,EAA8BuK,UAA9B,EAA0CrK,MAA1C,EAAkDC,MAAlD,EAA0D;AACnI,cAAI8D,EAAJ;AAAA,cAAQC,EAAR;AAAA,cAAYxH,IAAI,GAAG,IAAnB;AAAA,cAAyBiS,KAAK,GAAG9R,GAAjC;AAAA,cAAsC+R,KAAK,GAAG/R,GAA9C;AAAA,cAAmD6e,MAAM,GAAG7e,GAA5D;AAAA,cAAiE8e,MAAM,GAAG9e,GAA1E;AAAA,cAA+E+e,UAAU,GAAG/e,GAA5F;AAAA,cAAiGgC,MAAM,GAAGhC,GAA1G;;AAGA,cAAIsD,MAAM,CAAC,KAAD,CAAN,CAAc,GAAd,CAAJ,EAAwB;AACtB,mBAAO,EAAP;AAAU;;AAAA;;AACZ,cAAID,MAAM,CAAC,KAAD,CAAN,CAAc,IAAd,CAAJ,EAAyB,CACxB,CADD,MACO;AACL,mBAAO,EAAP;AACD;;AAAA;AACDgE,YAAE,GAAGxH,IAAI,CAACmf,WAAL,CAAiBtR,UAAjB,CAAL,EAAmCtG,EAAE,GAAG3H,IAAI,CAAC0I,MAAL,CAAYd,EAAZ,CAAxC,EAA0DyK,KAAK,GAAI1K,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAA3F,EAAmG2K,KAAK,GAAI3K,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAApI,EAA2IC,EAA3I;AACAwX,gBAAM,GAAGnf,QAAQ,CAACmJ,SAAS,CAACiJ,KAAD,EAAQ,EAAR,CAAV,EAAuBC,KAAvB,CAAjB;AACA+M,gBAAM,GAAGpf,QAAQ,CAACmJ,SAAS,CAACkJ,KAAD,EAAQ,EAAR,CAAV,EAAuBD,KAAvB,CAAjB;AACAiN,oBAAU,GAAGjN,KAAK,CAAC,KAAD,CAAL,CAAaC,KAAb,CAAb;AACA/P,gBAAM,GAAG,SAAT;AACAA,gBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAASnC,IAAI,CAACof,mBAAL,CAAyB3b,MAAzB,EAAiC,CAACub,MAAD,EAASC,MAAT,EAAiBjD,IAAjB,EAAjC,EAA0DkD,UAA1D,CAAT,CAAjB;AACA/c,gBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAT,CAAjB;AACAA,gBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAASnC,IAAI,CAACof,mBAAL,CAAyB3b,MAAzB,EAAiCH,KAAK,CAAC,IAAD,CAAL,CAAY,GAAZ,CAAjC,EAAmD4b,UAAnD,CAAT,CAAjB;AACA/c,gBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,QAAT,CAAjB;AACAA,gBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAASnC,IAAI,CAACof,mBAAL,CAAyB3b,MAAzB,EAAiC,CAACub,MAAD,EAASC,MAAT,EAAiBxI,IAAjB,EAAjC,EAA0DyI,UAA1D,CAAT,CAAjB;AACA,iBAAO/c,MAAP;AACD,SArBD,EAqBGsc,yCAAyC,CAACxc,OAA1C,GAAoD,CArBvD;AAuBArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8B0e,wCAAwC,GAAG,SAASW,YAAT,CAAsBlU,KAAtB,EAA6B;AACpG,cAAInL,IAAI,GAAG,IAAX;AAAA,cAAiBsf,IAAI,GAAGnf,GAAxB;AAAA,cAA6Bof,IAAI,GAAGpf,GAApC;AAGAgL,eAAK,GAAGA,KAAK,CAAC,IAAD,CAAL,CAAY,GAAZ,CAAR;AACAmU,cAAI,GAAGlU,UAAU,CAACD,KAAD,EAAQ,EAAR,CAAV,CAAsB/G,KAAtB,EAAP;AACAmb,cAAI,GAAGpU,KAAK,CAAC,IAAD,CAAL,CAAY,EAAZ,CAAP;AACA,iBAAO,CAACmU,IAAD,EAAOC,IAAP,CAAP;AACD,SARD,EAQGb,wCAAwC,CAACzc,OAAzC,GAAmD,CARtD;AAUArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,qBAAf,EAAsC2e,gDAAgD,GAAG,SAASa,oBAAT,CAA8BjO,IAA9B,EAAoCjO,KAApC,EAA2C4b,UAA3C,EAAuD;AAC9I,cAAIlf,IAAI,GAAG,IAAX;AAAA,cAAiByf,WAAW,GAAGtf,GAA/B;AAAA,cAAoC2E,IAAI,GAAG3E,GAA3C;AAGAsf,qBAAW,GAAGzf,IAAI,CAAC0f,eAAL,CAAqBnO,IAArB,EAA2BjO,KAA3B,EAAkC4b,UAAlC,CAAd;AACApa,cAAI,GAAGjF,QAAQ,CAACG,IAAI,CAAC2f,OAAL,CAAa,QAAb,EAAuBrc,KAAvB,CAAD,EAAgCmc,WAAhC,CAAf;AACA,iBAAO3a,IAAP;AACD,SAPD,EAOG6Z,gDAAgD,CAAC1c,OAAjD,GAA2D,CAP9D;AASArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,iBAAf,EAAkC4e,4CAA4C,GAAG,SAASgB,gBAAT,CAA0BrO,IAA1B,EAAgCjO,KAAhC,EAAuC4b,UAAvC,EAAmD;AAClI,cAAIlf,IAAI,GAAG,IAAX;;AAGA,cAAIY,OAAO,CAAC4F,MAAM,CAAC+K,IAAD,EAAOjO,KAAP,CAAP,CAAX,EAAkC;AAChC,mBAAOtD,IAAI,CAAC6f,iBAAL,CAAuBX,UAAvB,CAAP;AAA0C;;AAAA;AAC5C,iBAAOlf,IAAI,CAAC8f,cAAL,CAAoBZ,UAApB,CAAP;AACD,SAPD,EAOGN,4CAA4C,CAAC3c,OAA7C,GAAuD,CAP1D;AASArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,mBAAf,EAAoC6e,8CAA8C,GAAG,SAASkB,kBAAT,CAA4Bb,UAA5B,EAAwC;AAC3H,cAAIlf,IAAI,GAAG,IAAX;;AAGA,cAAIY,OAAO,CAACse,UAAD,CAAX,EAAyB;AACvB,mBAAO,MAAP;AAAc;;AAAA;AAChB,iBAAO,IAAP;AACD,SAPD,EAOGL,8CAA8C,CAAC5c,OAA/C,GAAyD,CAP5D;AAQA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,gBAAf,EAAiC8e,2CAA2C,GAAG,SAASkB,eAAT,CAAyBd,UAAzB,EAAqC;AAC1H,cAAIlf,IAAI,GAAG,IAAX;;AAGA,cAAIY,OAAO,CAACse,UAAD,CAAX,EAAyB;AACvB,mBAAO,MAAP;AAAc;;AAAA;AAChB,iBAAO,IAAP;AACD,SAPO,EAOLJ,2CAA2C,CAAC7c,OAA5C,GAAsD,CAPjD,GAOqD9B,GAPtD,KAO8D,eAPrE;AAQD,OA9ED,EA8EGD,QAAQ,CAAC,CAAD,CA9EX,EA8EgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CA9ElB,EA8EsCA,QA9EtC;AA+ED,KApFD,EAoFGA,QAAQ,CAAC,CAAD,CApFX,EAoFgBA,QApFhB;AAqFD,GA1FM,CA0FJA,QAAQ,CAAC,CAAD,CA1FJ,EA0FSA,QA1FT,CAAP;AA2FD,CA1GD,EA0GGN,IA1GH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASC,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASkJ,MAAT,CAAgBnJ,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAAS4C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAAA,MAAmJuI,KAAK,GAAGtJ,IAAI,CAACuJ,IAAhK;AAAA,MAAsKvI,OAAO,GAAGhB,IAAI,CAACiB,MAArL;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,eAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+Ckf,2BAA/C;AAAA,YAA4EC,6BAA5E;AAAA,YAA2GC,kDAA3G;AAAA,YAA+JC,8BAA/J;AAAA,YAA+LC,kCAA/L;AAEArgB,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,eAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,oBAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,aAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,OAAL,GAAe,WAAf,GAA6B,8BAA7B,GAA8D,6BAA9D,GAA8F,2BAA9F,GAA4H,4BAAxK;AACAF,YAAI,CAACwB,gBAAL,CAAsB,QAAtB,EAAgC,KAAhC;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8BigB,2BAA2B,GAAG,SAASve,YAAT,CAAsBC,OAAtB,EAA+B;AACzF,cAAIC,KAAK,GAAGqe,2BAA2B,CAACpe,GAAxC;AAAA,cAA6CC,MAAM,GAAGF,KAAK,IAAIzB,GAA/D;AAAA,cAAoEH,IAAI,GAAG,IAA3E;AAEA,cAAI4B,KAAJ,EAAWqe,2BAA2B,CAACpe,GAA5B,GAAkC,IAAlC;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+CigB,2BAA/C,EAA4E,KAA5E,EAAmF,IAAnF,CAAP,EAAiG,YAAjG,EAA+G,CAACte,OAAD,CAA/G,EAA0H,IAA1H,CAAN;AACA,iBAAQ3B,IAAI,CAACiO,aAAL,GAAqB,IAA7B;AACD,SAPD,EAOGgS,2BAA2B,CAAChe,OAA5B,GAAsC,CAPzC;AASArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,eAAf,EAAgCkgB,6BAA6B,GAAG,SAASI,cAAT,CAAwBC,MAAxB,EAAgC;AAC9F,cAAIrW,GAAJ;AAAA,cAASsE,IAAT;AAAA,cAAcxO,IAAI,GAAG,IAArB;;AAGAugB,gBAAM,GAAGrX,KAAK,CAACqX,MAAD,EAAS,MAAT,EAAiB,CAAC,gCAAD,CAAjB,GAAsDrW,GAAG,GAAG,eAAU;AAAC,gBAAIlK,IAAI,GAAGkK,GAAG,CAACW,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyBX,GAAG,CAACW,GAAxC;AAErF,mBAAO,KAAK,KAAL,GAAcxK,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAAd,GAAuD,IAAvD,GAA+D9D,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAA/D,GAAwG,GAAxG,GAA+G9D,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAA/G,GAAwJ,GAA/J;AAAmK,WAF/F,EAEiG+F,GAAG,CAACW,GAAJ,GAAU7K,IAF3G,EAEiHkK,GAAG,CAACjI,OAAJ,GAAc,CAF/H,EAEkIiI,GAFxL,EAAd;AAGAqW,gBAAM,GAAGrX,KAAK,CAACqX,MAAD,EAAS,MAAT,EAAiB,CAAC,iBAAD,CAAjB,GAAuC/R,IAAG,GAAG,eAAU;AAAC,gBAAIxO,IAAI,GAAGwO,IAAG,CAAC3D,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyB2D,IAAG,CAAC3D,GAAxC;AAEtE,mBAAO,KAAK,OAAL,GAAgBxK,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAAhB,GAAyD,GAAzD,GAAgE9D,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAAhE,GAAyG,GAAhH;AAAoH,WAF/D,EAEiEqK,IAAG,CAAC3D,GAAJ,GAAU7K,IAF3E,EAEiFwO,IAAG,CAACvM,OAAJ,GAAc,CAF/F,EAEkGuM,IAFzI,EAAd;AAGA,iBAAO+R,MAAP;AACD,SAXD,EAWGL,6BAA6B,CAACje,OAA9B,GAAwC,CAX3C;AAaArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqDmgB,kDAAkD,GAAG,SAASje,mCAAT,CAA6Cqe,MAA7C,EAAqD;AAC7J,cAAIhZ,EAAJ;AAAA,cAAQC,EAAR;AAAA,cAAYxH,IAAI,GAAG,IAAnB;AAAA,cAAyBgR,OAAO,GAAG7Q,GAAnC;AAAA,cAAwCsD,MAAM,GAAGtD,GAAjD;AAAA,cAAsDqgB,GAAG,GAAGrgB,GAA5D;AAAA,cAAiEmR,GAAG,GAAGnR,GAAvE;AAAA,cAA4EsgB,IAAI,GAAGtgB,GAAnF;AAAA,cAAwFugB,GAAG,GAAGvgB,GAA9F;AAAA,cAAmGwgB,GAAG,GAAGxgB,GAAzG;AAAA,cAA8G0J,MAAM,GAAG1J,GAAvH;AAGAogB,gBAAM,GAAGvgB,IAAI,CAAC4gB,aAAL,CAAmBL,MAAnB,CAAT;;AACA,cAAI3f,OAAO,CAAC,iCAAiC,KAAjC,EAAwC2f,MAAxC,CAAD,CAAX,EAA8D,CAC7D,CADD,MACO;AACL,mBAAOpgB,GAAP;AACD;;AAAA;AACD6Q,iBAAO,GAAG3Q,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAAV;AACAV,gBAAM,GAAGpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,EAAsCC,KAAtC,EAAT;AACAoc,aAAG,GAAGngB,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,EAAsCC,KAAtC,EAAN;AACAkN,aAAG,GAAG,CAAN;;AACA,cAAI1Q,OAAO,CAACoQ,OAAD,CAAX,EAAsB;AACpBM,eAAG,GAAGjR,EAAE,CAACH,QAAD,EAAW,qBAAX,CAAF,CAAoC+K,KAApC,CAA0C+F,OAA1C,CAAN;AAAyD;;AAAA;AAC3DxJ,YAAE,GAAGxH,IAAI,CAAC6gB,cAAL,CAAoBvP,GAApB,EAAyB7N,MAAzB,EAAiC+c,GAAjC,CAAL,EAA4CjZ,EAAE,GAAG3H,IAAI,CAAC0I,MAAL,CAAYd,EAAZ,CAAjD,EAAmEiZ,IAAI,GAAIlZ,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAnG,EAA2GmZ,GAAG,GAAInZ,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAA1I,EAAkJoZ,GAAG,GAAIpZ,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAjL,EAAwLC,EAAxL;AACAqC,gBAAM,GAAG,KAAM8W,GAAN,GAAa,GAAb,GAAoBF,IAApB,GAA4B,MAA5B,GAAsCC,GAAtC,GAA6C,OAA7C,GAAwD1gB,IAAI,CAAC8gB,kBAAL,CAAwBJ,GAAxB,CAAjE;;AACA,cAAI9f,OAAO,CAAC8f,GAAG,CAAC,KAAD,CAAH,CAAW,CAAX,CAAD,CAAX,EAA4B;AAC1B7W,kBAAM,GAAGhK,QAAQ,CAACgK,MAAD,EAAS,KAAK,IAAL,GAAa6W,GAAb,GAAoB,KAA7B,CAAjB;AAAqD;;AAAA;AACvD7W,gBAAM,GAAG,KAAK,GAAL,GAAY0W,MAAZ,GAAsB,MAAtB,GAAgC1W,MAAzC;AACA,iBAAOA,MAAP;AACD,SArBD,EAqBGsW,kDAAkD,CAACle,OAAnD,GAA6D,CArBhE;AAuBArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,gBAAf,EAAiCogB,8BAA8B,GAAG,SAASW,eAAT,CAAyBzP,GAAzB,EAA8B7N,MAA9B,EAAsC+c,GAAtC,EAA2C;AAC3G,cAAIQ,IAAJ;AAAA,cAAS/I,IAAT;AAAA,cAAcjY,IAAI,GAAG,IAArB;AAAA,cAA2B0gB,GAAG,GAAGvgB,GAAjC;AAAA,cAAsCqC,IAAI,GAAGrC,GAA7C;AAAA,cAAkD8gB,OAAO,GAAG9gB,GAA5D;AAAA,cAAiE+gB,IAAI,GAAG/gB,GAAxE;AAAA,cAA6EghB,IAAI,GAAGhhB,GAApF;AAAA,cAAyFwgB,GAAG,GAAGxgB,GAA/F;;AAGAugB,aAAG,GAAG,CAAN;AACAle,cAAI,GAAGxC,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+BlF,QAAQ,CAAC,CAAD,EAAIyR,GAAG,CAAC8P,IAAJ,EAAJ,CAAvC,EAAwD,CAAxD,EAA2D/S,KAA3D,EAAP;AACA4S,iBAAO,GAAGze,IAAI,CAACyC,KAAL,CAAW,GAAX,CAAV;AACAiE,eAAK,CAACoI,GAAG,CAAC8P,IAAJ,EAAD,EAAa,OAAb,EAAsB,EAAtB,GAA2BJ,IAAG,GAAG,aAASK,EAAT,EAAY;AAAC,gBAAIrhB,IAAI,GAAGghB,IAAG,CAACnW,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyBmW,IAAG,CAACnW,GAAxC;;AAIjD,gBAAIwW,EAAE,IAAI,IAAV,EAAgB;AACdA,gBAAE,GAAGlhB,GAAL;AACD;;AAAA;;AACD,gBAAIS,OAAO,CAACqI,MAAM,CAACqI,GAAD,EAAM,CAAN,CAAP,CAAX,EAA6B;AAC3B,qBAAO9O,IAAI,CAAC8e,MAAL,EAAP;AACD,aAFD,MAEO;AACL,qBAAO9e,IAAI,CAAC+e,IAAL,EAAP;AACD;;AAAA;AAAE,WAX2B,EAWzBP,IAAG,CAACnW,GAAJ,GAAU7K,IAXe,EAWTghB,IAAG,CAAC/e,OAAJ,GAAc,CAXL,EAWQ+e,IAXnC,EAAL;AAYAE,cAAI,GAAG,CAAP;AACAC,cAAI,GAAG,CAAP;AACAR,aAAG,GAAG,CAAN;AACAzX,eAAK,CAAC1G,IAAD,EAAO,MAAP,EAAe,EAAf,GAAoByV,IAAG,GAAG,aAASuJ,IAAT,EAAc;AAAC,gBAAIxhB,IAAI,GAAGiY,IAAG,CAACpN,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyBoN,IAAG,CAACpN,GAAxC;;AAI5C,gBAAI2W,IAAI,IAAI,IAAZ,EAAkB;AAChBA,kBAAI,GAAGrhB,GAAP;AACD;;AAAA;;AACD,gBAAIS,OAAO,CAAC4F,MAAM,CAACgb,IAAD,EAAO,CAAP,CAAP,CAAX,EAA8B;AAC5BN,kBAAI,GAAGrhB,QAAQ,CAACqhB,IAAD,EAAO,CAAP,CAAf;AAAyB;;AAAA;;AAC3B,gBAAItgB,OAAO,CAAC+B,MAAM,CAAC6e,IAAD,EAAO,CAAP,CAAP,CAAX,EAA8B;AAC5BL,kBAAI,GAAGthB,QAAQ,CAACshB,IAAD,EAAO,CAAP,CAAf;AAAyB;;AAAA;;AAC3B,gBAAIvgB,OAAO,CAAC+B,MAAM,CAAC6e,IAAD,EAAOhB,GAAP,CAAP,CAAX,EAAgC;AAC9BE,iBAAG,GAAG7gB,QAAQ,CAAC6gB,GAAD,EAAM,CAAN,CAAd;AAAuB;;AAAA;AACzB,mBAAQC,GAAG,GAAG9gB,QAAQ,CAAC8gB,GAAD,EAAMa,IAAN,CAAtB;AAAoC,WAbb,EAaevJ,IAAG,CAACpN,GAAJ,GAAU7K,IAbzB,EAa+BiY,IAAG,CAAChW,OAAJ,GAAc,CAb7C,EAagDgW,IAbpE,EAAL;;AAcA,cAAIrX,OAAO,CAACqI,MAAM,CAAC0X,GAAD,EAAMld,MAAN,CAAP,CAAX,EAAkC;AAChCid,eAAG,GAAG7gB,QAAQ,CAAC6gB,GAAD,EAAM,CAAN,CAAd;AACD,WAFD,MAEO,IAAIC,GAAG,CAAC,KAAD,CAAH,CAAWld,MAAX,CAAJ,EAAwB;AAC7Bid,eAAG,GAAG7gB,QAAQ,CAAC6gB,GAAD,EAAM,CAAN,CAAd;AAAuB;;AAAA;;AACzB,cAAI9f,OAAO,CAAC4F,MAAM,CAAC0a,IAAD,EAAO,CAAP,CAAP,CAAX,EAA8B;AAC5BR,eAAG,GAAG,CAAN;AAAQ;;AAAA;;AACV,cAAI9f,OAAO,CAAC4F,MAAM,CAAC2a,IAAD,EAAO,CAAP,CAAP,CAAX,EAA8B;AAC5BT,eAAG,GAAG,CAAN;AAAQ;;AAAA;AACV,iBAAO,CAACO,OAAD,EAAUP,GAAV,EAAeC,GAAf,CAAP;AACD,SA7CD,EA6CGP,8BAA8B,CAACne,OAA/B,GAAyC,CA7C5C;AA8CA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oBAAf,EAAqCqgB,kCAAkC,GAAG,SAASoB,mBAAT,CAA6Bf,GAA7B,EAAkC;AAClH,cAAI1gB,IAAI,GAAG,IAAX;AAAA,cAAiB0hB,QAAQ,GAAGvhB,GAA5B;AAGAuhB,kBAAQ,GAAG,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,CAAX;AACA,iBAAOA,QAAQ,CAAC,KAAD,CAAR,CAAgBhB,GAAhB,CAAP;AACD,SANO,EAMLL,kCAAkC,CAACpe,OAAnC,GAA6C,CANxC,GAM4C9B,GAN7C,KAMqD,mBAN5D;AAOD,OA/GD,EA+GGD,QAAQ,CAAC,CAAD,CA/GX,EA+GgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CA/GlB,EA+GsCA,QA/GtC;AAgHD,KArHD,EAqHGA,QAAQ,CAAC,CAAD,CArHX,EAqHgBA,QArHhB;AAsHD,GA3HM,CA2HJA,QAAQ,CAAC,CAAD,CA3HJ,EA2HSA,QA3HT,CAAP;AA4HD,CA3ID,EA2IGN,IA3IH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,MAAII,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAEA,SAAQ,UAASG,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,YAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C4gB,wBAA/C;AAGA/hB,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,YAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,SAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,SAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,+BAA5C;AACA,eAAO,CAACN,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8B2hB,wBAAwB,GAAG,SAASjgB,YAAT,CAAsBC,OAAtB,EAA+B;AAC9F,cAAIC,KAAK,GAAG+f,wBAAwB,CAAC9f,GAArC;AAAA,cAA0CC,MAAM,GAAGF,KAAK,IAAIzB,GAA5D;AAAA,cAAiEH,IAAI,GAAG,IAAxE;AAEA,cAAI4B,KAAJ,EAAW+f,wBAAwB,CAAC9f,GAAzB,GAA+B,IAA/B;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+C2hB,wBAA/C,EAAyE,KAAzE,EAAgF,IAAhF,CAAP,EAA8F,YAA9F,EAA4G,CAAChgB,OAAD,CAA5G,EAAuH,IAAvH,CAAN;AACA,iBAAQ3B,IAAI,CAAC4hB,2BAAL,GAAmC,EAA3C;AACD,SAPO,EAOLD,wBAAwB,CAAC1f,OAAzB,GAAmC,CAP9B,GAOkC9B,GAPnC,KAO2C,YAPlD;AAQD,OAlBD,EAkBGD,QAAQ,CAAC,CAAD,CAlBX,EAkBgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAlBlB,EAkBsCA,QAlBtC;AAmBD,KAxBD,EAwBGA,QAAQ,CAAC,CAAD,CAxBX,EAwBgBA,QAxBhB;AAyBD,GA9BM,CA8BJA,QAAQ,CAAC,CAAD,CA9BJ,EA8BSA,QA9BT,CAAP;AA+BD,CAlCD,EAkCGN,IAlCH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASC,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASwG,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASkJ,MAAT,CAAgBnJ,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASiJ,SAAT,CAAmBlJ,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASqL,UAAT,CAAoBtL,GAApB,EAAyBC,GAAzB,EAA8B;AAC5B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAAA,MAAqJqI,KAAK,GAAGtJ,IAAI,CAACuJ,IAAlK;AAEA,SAAQ,UAASrI,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,yBAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C8gB,4DAA/C;AAAA,YAA6GC,+CAA7G;AAAA,YAA8JC,yCAA9J;AAAA,YAAyMC,6CAAzM;AAAA,YAAwPC,0CAAxP;AAEAjiB,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,yBAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,qCAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,gBAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,oBAAL,GAA4B,qBAA5B,GAAoD,IAApD,GAA2D,+BAA3D,GAA6F,sEAA7F,GAAsK,qCAAtK,GAA8M,0BAA9M,GAA2O,IAA3O,GAAkP,gEAAlP,GAAqT,+CAArT,GAAuW,gCAAvW,GAA0Y,qBAA1Y,GAAka,IAAla,GAAya,yBAAza,GAAqc,iCAArc,GAAye,sBAAze,GAAkgB,IAA9iB;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,kBAA5B,EAAgD,CAAhD;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,iBAA5B,EAA+C,CAA/C;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,mBAA5B,EAAiD,CAAjD;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,mBAA5B,EAAiD,CAAC,CAAlD;AACAF,YAAI,CAACwB,gBAAL,CAAsB,SAAtB;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqD6hB,4DAA4D,GAAG,SAAS3f,mCAAT,CAA6CP,OAA7C,EAAsD;AACxK,cAAI4F,EAAJ;AAAA,cAAQC,EAAR;AAAA,cAAYwT,EAAZ;AAAA,cAAgBhb,IAAI,GAAG,IAAvB;AAAA,cAA6ByH,CAAC,GAAGtH,GAAjC;AAAA,cAAsCwH,SAAS,GAAGxH,GAAlD;AAAA,cAAuD6H,SAAS,GAAG7H,GAAnE;AAAA,cAAwE0H,YAAY,GAAG1H,GAAvF;AAAA,cAA4F+hB,QAAQ,GAAG/hB,GAAvG;AAAA,cAA4GyI,WAAW,GAAGzI,GAA1H;AAAA,cAA+HgiB,gBAAgB,GAAGhiB,GAAlJ;AAAA,cAAuJiiB,gBAAgB,GAAGjiB,GAA1K;AAAA,cAA+KkiB,mBAAmB,GAAGliB,GAArM;AAAA,cAA0MmiB,eAAe,GAAGniB,GAA5N;AAAA,cAAiOoiB,iBAAiB,GAAGpiB,GAArP;AAAA,cAA0PkH,UAAU,GAAGlH,GAAvQ;AAAA,cAA4QqiB,eAAe,GAAGriB,GAA9R;AAGAsH,WAAC,GAAG,8BAA8BU,MAA9B,CAAqCxG,OAArC,CAAJ;;AACA,cAAIf,OAAO,CAAC6G,CAAD,CAAX,EAAgB,CACf,CADD,MACO;AACL,mBAAO,EAAP;AACD;;AAAA;AACDE,mBAAS,GAAGF,CAAC,CAAC,KAAD,CAAD,CAASpH,EAAE,CAACH,QAAD,EAAW,iBAAX,CAAX,EAA0CkE,KAA1C,EAAZ;AACAoD,YAAE,GAAGxH,IAAI,CAACqI,eAAL,CAAqBV,SAArB,CAAL,EAAsCJ,EAAE,GAAG3H,IAAI,CAAC0I,MAAL,CAAYd,EAAZ,CAA3C,EAA6DQ,SAAS,GAAIT,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAlG,EAA0GM,YAAY,GAAIN,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAlJ,EAA0J2a,QAAQ,GAAI3a,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAA9L,EAAqMC,EAArM;AACAoB,qBAAW,GAAG,KAAK,GAAL,GAAYjB,SAAZ,GAAyB,KAAvC;AACAwa,0BAAgB,IAAI5a,EAAE,GAAGE,CAAC,CAAC,KAAD,CAAD,CAASpH,EAAE,CAACH,QAAD,EAAW,mBAAX,CAAX,CAAL,EAAmDqH,EAAE,KAAKpH,GAAP,IAAcoH,EAAE,IAAI,IAArB,GAA6BpH,GAA7B,GAAmC+I,KAAK,CAAC3B,EAAD,EAAK,MAAL,EAAa,EAAb,CAA9F,CAAhB;;AACA,cAAI3G,OAAO,CAACuhB,gBAAD,CAAX,EAA+B;AAE7BnH,cAAE,GAAGhb,IAAI,CAACqI,eAAL,CAAqB8Z,gBAArB,CAAL,EAA6C3a,EAAE,GAAG5H,IAAI,CAAC0I,MAAL,CAAY0S,EAAZ,CAAlD,EAAoEoH,gBAAgB,GAAI5a,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBrH,GAAhB,GAAsBqH,EAAE,CAAC,CAAD,CAAhH,EAAwH6a,mBAAmB,GAAI7a,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBrH,GAAhB,GAAsBqH,EAAE,CAAC,CAAD,CAAvK,EAA+K8a,eAAe,GAAI9a,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBrH,GAAhB,GAAsBqH,EAAE,CAAC,CAAD,CAA1N,EAAkO+a,iBAAiB,GAAI/a,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBrH,GAAhB,GAAsBqH,EAAE,CAAC,CAAD,CAA/Q,EAAsRwT,EAAtR;AACAkH,oBAAQ,GAAGriB,QAAQ,CAACqiB,QAAD,EAAWI,eAAX,CAAnB;AACAza,wBAAY,GAAGhI,QAAQ,CAACgI,YAAD,EAAewa,mBAAf,CAAvB;AACAzZ,uBAAW,GAAG,KAAMA,WAAN,GAAqB,GAArB,GAA4BuZ,gBAA5B,GAAgD,UAAhD,GAA8Dna,SAA9D,GAA2E,KAA3E,GAAoFoa,gBAApF,GAAwG,IAAtH;AACD,WAND,MAMO;AAELE,2BAAe,GAAG,CAAlB;AACAC,6BAAiB,GAAG,CAApB;AACA3Z,uBAAW,GAAG,KAAMA,WAAN,GAAqB,OAArB,GAAgCZ,SAAhC,GAA6C,IAA3D;AACD;;AAAA;AACDH,sBAAY,GAAGhI,QAAQ,CAACgI,YAAD,EAAe7H,IAAI,CAACyiB,qBAAL,CAA2BP,QAA3B,CAAf,CAAvB;;AACA7a,oBAAU,GAAI,YAAW;AAAC,gBAAIzG,OAAO,CAAC6G,CAAC,CAAC,KAAD,CAAD,CAASpH,EAAE,CAACH,QAAD,EAAW,kBAAX,CAAX,CAAD,CAAX,EAAyD;AACjF,qBAAOuH,CAAC,CAAC,KAAD,CAAD,CAASpH,EAAE,CAACH,QAAD,EAAW,kBAAX,CAAX,EAA2CkE,KAA3C,EAAP;AACD,aAFyB,MAEnB;AACL,qBAAO/D,EAAE,CAACH,QAAD,EAAW,mBAAX,CAAT;AACD;;AAAA;AAAE,mBAAOC,GAAP;AAAa,WAJH,EAAb;;AAKAyI,qBAAW,GAAG,KAAMA,WAAN,GAAqB,OAArB,GAAgCf,YAA9C;;AACA,cAAIjH,OAAO,CAAC2F,MAAM,CAACc,UAAD,EAAa,CAAb,CAAP,CAAX,EAAoC;AAElC,gBAAIzG,OAAO,CAAC4F,MAAM,CAACqB,YAAD,EAAeR,UAAf,CAAP,CAAX,EAA+C;AAC7Cmb,6BAAe,GAAGxiB,IAAI,CAAC0iB,mBAAL,CAAyBlc,MAAM,CAAC0b,QAAD,EAAW,CAAX,CAA/B,EAA8CI,eAA9C,CAAlB;AACD,aAFD,MAEO;AACLE,6BAAe,GAAGxiB,IAAI,CAAC2iB,gBAAL,CAAsBJ,iBAAtB,CAAlB;AACD;;AAAA;AACD3Z,uBAAW,GAAG,KAAMA,WAAN,GAAqB,OAArB,GAAgCvB,UAAhC,GAA+Cmb,eAA7D;AACD,WARD,MAQO,IAAI5hB,OAAO,CAACqI,MAAM,CAAC5B,UAAD,EAAa,CAAb,CAAP,CAAX,EAAoC;AAEzC,gBAAIQ,YAAY,CAAC,KAAD,CAAZ,CAAoB,CAApB,CAAJ,EAA4B;AAC1B2a,6BAAe,GAAGxiB,IAAI,CAAC2iB,gBAAL,CAAsBJ,iBAAtB,CAAlB;AACD,aAFD,MAEO;AACLC,6BAAe,GAAG,EAAlB;AACD;;AAAA;AACD5Z,uBAAW,GAAG,KAAMA,WAAN,GAAsB4Z,eAApC;AAAsD;;AAAA;AACxD,iBAAO5Z,WAAP;AACD,SAjDD,EAiDGiZ,4DAA4D,CAAC5f,OAA7D,GAAuE,CAjD1E;AAmDArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,uBAAf,EAAwC8hB,+CAA+C,GAAG,SAASc,sBAAT,CAAgCV,QAAhC,EAA0C;AAClI,cAAIliB,IAAI,GAAG,IAAX;AAEA,iBAAOgJ,SAAS,CAACoC,UAAU,CAAC8W,QAAD,EAAW,CAAX,CAAV,CAAwB9d,KAAxB,EAAD,EAAkC,CAAlC,CAAhB;AACD,SAJD,EAIG0d,+CAA+C,CAAC7f,OAAhD,GAA0D,CAJ7D;AAMArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,iBAAf,EAAkC+hB,yCAAyC,GAAG,SAASjZ,gBAAT,CAA0BnB,SAA1B,EAAqC;AACjH,cAAI6G,GAAJ;AAAA,cAASxO,IAAI,GAAG,IAAhB;AAAA,cAAsB4E,SAAS,GAAGzE,GAAlC;AAAA,cAAuC6H,SAAS,GAAG7H,GAAnD;AAAA,cAAwD0H,YAAY,GAAG1H,GAAvE;AAAA,cAA4E+hB,QAAQ,GAAG/hB,GAAvF;AAAA,cAA4F2H,UAAU,GAAG3H,GAAzG;;AAGAyE,mBAAS,GAAG5E,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+B4C,SAA/B,EAA0C,EAA1C,CAAZ;AACAK,mBAAS,GAAGpD,SAAS,CAACK,KAAV,CAAgB,GAAhB,CAAZ;AACA4C,sBAAY,GAAGqB,KAAK,CAACtE,SAAD,EAAY,OAAZ,EAAqB,EAArB,GAA0B4J,GAAG,GAAG,aAASM,CAAT,EAAW;AAAC,gBAAI9O,IAAI,GAAGwO,GAAG,CAAC3D,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyB2D,GAAG,CAAC3D,GAAxC;;AAI9D,gBAAIiE,CAAC,IAAI,IAAT,EAAe;AACbA,eAAC,GAAG3O,GAAJ;AACD;;AAAA;AACD,mBAAOqG,MAAM,CAACsI,CAAD,EAAI,CAAJ,CAAb;AAAqB,WAPuB,EAOrBN,GAAG,CAAC3D,GAAJ,GAAU7K,IAPW,EAOLwO,GAAG,CAACvM,OAAJ,GAAc,CAPT,EAOYuM,GAPtC,EAApB;AAQA0T,kBAAQ,GAAGtd,SAAS,CAACmE,MAAV,CAAiB,EAAjB,CAAX;AACAjB,oBAAU,GAAGlD,SAAS,CAACmE,MAAV,CAAiB,CAAjB,CAAb;AACA,iBAAO,CAACf,SAAD,EAAYH,YAAZ,EAA0Bqa,QAA1B,EAAoCpa,UAApC,CAAP;AACD,SAjBD,EAiBGia,yCAAyC,CAAC9f,OAA1C,GAAoD,CAjBvD;AAmBArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,qBAAf,EAAsCgiB,6CAA6C,GAAG,SAASa,oBAAT,CAA8BC,WAA9B,EAA2CR,eAA3C,EAA4D;AAChJ,cAAItiB,IAAI,GAAG,IAAX;AAAA,cAAiBwiB,eAAe,GAAGriB,GAAnC;AAAA,cAAwCsJ,SAAS,GAAGtJ,GAApD;AAGAqiB,yBAAe,GAAG,QAAlB;;AACA,cAAI5hB,OAAO,CAAE,YAAW;AAAC,gBAAIA,OAAO,CAAE6I,SAAS,GAAGlD,MAAM,CAAC+b,eAAD,EAAkB,CAAlB,CAApB,CAAX,EAAuD;AAC9E,qBAAOQ,WAAP;AACD,aAFwB,MAElB;AACL,qBAAOrZ,SAAP;AACD;;AAAA;AAAE,mBAAOtJ,GAAP;AAAa,WAJJ,EAAD,CAAX,EAIsB;AACpB,mBAAO,KAAMqiB,eAAN,GAAyB,mBAAhC;AACD,WAND,MAMO,IAAI5hB,OAAO,CAACkiB,WAAD,CAAX,EAA0B;AAC/B,mBAAO,KAAMN,eAAN,GAAyB,iBAAhC;AAAkD;;AAAA;AACpD,iBAAOA,eAAP;AACD,SAdD,EAcGR,6CAA6C,CAAC/f,OAA9C,GAAwD,CAd3D;AAeA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,kBAAf,EAAmCiiB,0CAA0C,GAAG,SAASc,iBAAT,CAA2BR,iBAA3B,EAA8C;AACpI,cAAIviB,IAAI,GAAG,IAAX;AAAA,cAAiBwiB,eAAe,GAAGriB,GAAnC;AAGAqiB,yBAAe,GAAG,QAAlB;;AACA,cAAI5hB,OAAO,CAAC2F,MAAM,CAACgc,iBAAD,EAAoB,CAApB,CAAP,CAAX,EAA2C;AACzC,mBAAO,KAAMC,eAAN,GAAyB,oBAAhC;AAAqD;;AAAA;AACvD,iBAAOA,eAAP;AACD,SARO,EAQLP,0CAA0C,CAAChgB,OAA3C,GAAqD,CARhD,GAQoD9B,GARrD,KAQ6D,iBARpE;AASD,OArHD,EAqHGD,QAAQ,CAAC,CAAD,CArHX,EAqHgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CArHlB,EAqHsCA,QArHtC;AAsHD,KA3HD,EA2HGA,QAAQ,CAAC,CAAD,CA3HX,EA2HgBA,QA3HhB;AA4HD,GAjIM,CAiIJA,QAAQ,CAAC,CAAD,CAjIJ,EAiISA,QAjIT,CAAP;AAkID,CAvJD,EAuJGN,IAvJH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASqJ,MAAT,CAAgBnJ,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASuG,SAAT,CAAmBxG,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASwG,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASF,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASiJ,SAAT,CAAmBlJ,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAAS4C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,mBAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CiiB,gCAA/C;AAEAhjB,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,mBAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,gBAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,eAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,4CAA5C;AACA,eAAO,CAACN,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,cAAf,EAA+BgjB,gCAAgC,GAAG,SAASnM,aAAT,CAAuBvT,KAAvB,EAA8BC,WAA9B,EAA2CC,MAA3C,EAAmD+N,IAAnD,EAAyD;AACjI,cAAIvR,IAAI,GAAG,IAAX;AAAA,cAAiBijB,SAAS,GAAG9iB,GAA7B;AAAA,cAAkC6M,MAAM,GAAG7M,GAA3C;AAAA,cAAgDwL,QAAQ,GAAGxL,GAA3D;AAAA,cAAgE0b,QAAQ,GAAG1b,GAA3E;AAAA,cAAgFsJ,SAAS,GAAGtJ,GAA5F;AAAA,cAAiG+iB,OAAO,GAAG/iB,GAA3G;AAAA,cAAgHgjB,OAAO,GAAGhjB,GAA1H;AAAA,cAA+HyJ,SAAS,GAAGzJ,GAA3I;AAAA,cAAgJijB,QAAQ,GAAGjjB,GAA3J;;AAGA,cAAIoR,IAAI,CAAC,KAAD,CAAJ,CAAY,GAAZ,CAAJ,EAAsB;AACpB,mBAAOlR,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBwD,QAAvB,EAAP;AAAyC;;AAAA;;AAC3C,cAAIF,MAAM,CAAC,KAAD,CAAN,CAAc,IAAd,CAAJ,EAAyB,CACxB,CADD,MACO;AACL,mBAAOrD,GAAP;AACD;;AAAA;AACD8iB,mBAAS,GAAG,CAAZ;;AACA,cAAIriB,OAAO,CAACqI,MAAM,CAACsI,IAAD,EAAO,CAAP,CAAP,CAAX,EAA8B;AAC5B0R,qBAAS,GAAG3c,SAAS,CAACiL,IAAD,EAAO,CAAP,CAArB;AACD,WAFD,MAEO,IAAI3Q,OAAO,CAAC2F,MAAM,CAACgL,IAAD,EAAO,EAAP,CAAP,CAAX,EAA+B;AACpC0R,qBAAS,GAAG3c,SAAS,CAACiL,IAAD,EAAO,EAAP,CAArB;AAAgC;;AAAA;AAClCvE,gBAAM,GAAGnN,QAAQ,CAAC,EAAD,EAAKojB,SAAL,CAAjB;;AACA,cAAIriB,OAAO,CAAC2F,MAAM,CAACyG,MAAD,EAAS,EAAT,CAAP,CAAX,EAAiC;AAC/BA,kBAAM,GAAG,EAAT;AAAY;;AAAA;AACdrB,kBAAQ,GAAG9L,QAAQ,CAAC,CAAD,EAAIojB,SAAJ,CAAnB;AACApH,kBAAQ,GAAG7b,IAAI,CAACsB,UAAL,CAAgBoB,UAAhB,CAA2B,EAA3B,CAAX;;AACA,cAAI9B,OAAO,CAAE,YAAW;AAAC,gBAAIA,OAAO,CAAE6I,SAAS,GAAGjD,MAAM,CAAClD,KAAD,EAAQ0J,MAAR,CAApB,CAAX,EAAkD;AACzE,qBAAOvD,SAAP;AACD,aAFwB,MAElB;AAEL,qBAAOjD,MAAM,CAAClD,KAAD,EAAQ,EAAR,CAAb;AACD;;AAAA;AAAE,mBAAOnD,GAAP;AAAa,WALJ,EAAD,CAAX,EAKsB;AAEpB+iB,mBAAO,GAAG5c,SAAS,CAACuV,QAAD,EAAWoH,SAAX,CAAnB;;AACA,gBAAIriB,OAAO,CAAC2F,MAAM,CAAC2c,OAAD,EAAU,EAAV,CAAP,CAAX,EAAkC;AAChCA,qBAAO,GAAG,EAAV;AAAa;;AAAA;;AACf,gBAAItiB,OAAO,CAACqI,MAAM,CAACia,OAAD,EAAU,CAAV,CAAP,CAAX,EAAiC;AAC/BA,qBAAO,GAAG,CAAV;AAAY;;AAAA;AACdC,mBAAO,GAAGtH,QAAQ,CAAC/Q,KAAT,EAAV;;AACA,gBAAIlK,OAAO,CAACqI,MAAM,CAACga,SAAD,EAAY,CAAZ,CAAP,CAAX,EAAmC;AACjCE,qBAAO,GAAGtjB,QAAQ,CAACsjB,OAAD,EAAU,KAAK,GAAL,GAAYna,SAAS,CAACia,SAAD,EAAY,CAAC,CAAb,CAArB,GAAwC,GAAxC,GAA+CC,OAAzD,CAAlB;AACD,aAFD,MAEO;AACLC,qBAAO,GAAGtjB,QAAQ,CAACsjB,OAAD,EAAU,KAAK,GAAL,GAAYF,SAAZ,GAAyB,GAAzB,GAAgCC,OAA1C,CAAlB;AACD;;AAAA;AACD,mBAAO7iB,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB2D,OAAvB,CAA+B,KAAK,QAAL,GAAiBsf,OAAjB,GAA4B,GAA3D,CAAP;AACD,WAnBD,MAmBO,IAAIviB,OAAO,CAAE,YAAW;AAAC,gBAAIA,OAAO,CAAEgJ,SAAS,GAAGjH,MAAM,CAACW,KAAD,EAAQqI,QAAR,CAApB,CAAX,EAAoD;AAClF,qBAAO/B,SAAP;AACD,aAF+B,MAEzB;AAEL,qBAAOjH,MAAM,CAACW,KAAD,EAAQ,CAAR,CAAb;AACD;;AAAA;AAAE,mBAAOnD,GAAP;AAAa,WALG,EAAD,CAAX,EAKe;AAEpBijB,oBAAQ,GAAGvjB,QAAQ,CAACgc,QAAD,EAAWoH,SAAX,CAAnB;;AACA,gBAAIriB,OAAO,CAAC2F,MAAM,CAAC6c,QAAD,EAAW,EAAX,CAAP,CAAX,EAAmC;AACjCA,sBAAQ,GAAG,EAAX;AAAc;;AAAA;;AAChB,gBAAIxiB,OAAO,CAACqI,MAAM,CAACma,QAAD,EAAW,CAAX,CAAP,CAAX,EAAkC;AAChCA,sBAAQ,GAAG,CAAX;AAAa;;AAAA;;AACf,gBAAIxiB,OAAO,CAACqI,MAAM,CAACga,SAAD,EAAY,CAAZ,CAAP,CAAX,EAAmC;AACjC,qBAAO5iB,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,IAAhC,CAAP;AAA6C;;AAAA;AAC/C,mBAAOvD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuByD,SAAvB,CAAiC,KAAK,QAAL,GAAiBkY,QAAjB,GAA6B,GAA7B,GAAoCoH,SAApC,GAAiD,GAAjD,GAAwDG,QAAxD,GAAoE,GAArG,CAAP;AACD,WAfM,MAeA,IAAIxiB,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQiO,IAAR,CAAP,CAAX,EAAkC;AACvC,mBAAOlR,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,IAAhC,CAAP;AACD,WAFM,MAEA;AACL,mBAAOvD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4D,QAAvB,CAAgC,IAAhC,CAAP;AACD;;AAAA;AACF,SA3DO,EA2DLkf,gCAAgC,CAAC/gB,OAAjC,GAA2C,CA3DtC,GA2D0C9B,GA3D3C,KA2DmD,aA3D1D;AA4DD,OAvED,EAuEGD,QAAQ,CAAC,CAAD,CAvEX,EAuEgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAvElB,EAuEsCA,QAvEtC;AAwED,KA7ED,EA6EGA,QAAQ,CAAC,CAAD,CA7EX,EA6EgBA,QA7EhB;AA8ED,GAnFM,CAmFJA,QAAQ,CAAC,CAAD,CAnFJ,EAmFSA,QAnFT,CAAP;AAoFD,CA5GD,EA4GGN,IA5GH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS+C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASqL,UAAT,CAAoBtL,GAApB,EAAyBC,GAAzB,EAA8B;AAC5B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASkJ,MAAT,CAAgBnJ,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,OAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CsiB,qBAA/C;AAGAzjB,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,OAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,QAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,OAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,8BAA5C;AACA,eAAO,CAACN,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,eAAf,EAAgCqjB,qBAAqB,GAAG,SAAShgB,cAAT,CAAwBC,KAAxB,EAA+BC,WAA/B,EAA4CC,MAA5C,EAAoDC,MAApD,EAA4D;AAC1H,cAAIzD,IAAI,GAAG,IAAX;AAAA,cAAiByJ,SAAS,GAAGtJ,GAA7B;;AAGA,cAAIqD,MAAM,CAAC,KAAD,CAAN,CAAc,IAAd,CAAJ,EAAyB,CACxB,CADD,MACO;AACL,mBAAOrD,GAAP;AACD;;AAAA;;AACD,cAAIS,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQ,CAAR,CAAP,CAAX,EAA+B;AAC7B,mBAAOjD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuByD,SAAvB,CAAiC,IAAjC,CAAP;AACD,WAFD,MAEO,IAAI/C,OAAO,CAAC4F,MAAM,CAAClD,KAAD,EAAQ,GAAR,CAAP,CAAX,EAAiC;AACtC,mBAAOjD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB2D,OAAvB,CAA+B,OAA/B,CAAP;AACD,WAFM,MAEA,IAAIJ,MAAM,CAAC,KAAD,CAAN,CAAc,GAAd,CAAJ,EAAwB;AAC7B,mBAAOpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBwD,QAAvB,EAAP;AACD,WAFM,MAEA,IAAI9C,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQ8H,UAAU,CAAC3H,MAAD,EAAS,GAAT,CAAV,CAAwB6I,KAAxB,EAAR,CAAP,CAAX,EAA6D;AAClE,mBAAOjM,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuByD,SAAvB,CAAiC,OAAjC,CAAP;AACD,WAFM,MAEA,IAAI/C,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQG,MAAR,CAAP,CAAX,EAAoC;AACzC,mBAAOpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,IAAhC,CAAP;AACD,WAFM,MAEA,IAAIhD,OAAO,CAAE,YAAW;AAAC,gBAAIA,OAAO,CAAE6I,SAAS,GAAGjD,MAAM,CAAClD,KAAD,EAAQ,EAAR,CAApB,CAAX,EAA8C;AAE5E,qBAAO2F,MAAM,CAACxF,MAAD,EAAS,GAAT,CAAb;AACD,aAH+B,MAGzB;AACL,qBAAOgG,SAAP;AACD;;AAAA;AAAE,mBAAOtJ,GAAP;AAAa,WALG,EAAD,CAAX,EAKe;AACpB,mBAAOE,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB2D,OAAvB,CAA+B,OAA/B,CAAP;AACD,WAPM,MAOA;AACL,mBAAOxD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4D,QAAvB,CAAgC,IAAhC,CAAP;AACD;;AAAA;AACF,SA5BO,EA4BLuf,qBAAqB,CAACphB,OAAtB,GAAgC,CA5B3B,GA4B+B9B,GA5BhC,KA4BwC,cA5B/C;AA6BD,OAvCD,EAuCGD,QAAQ,CAAC,CAAD,CAvCX,EAuCgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAvClB,EAuCsCA,QAvCtC;AAwCD,KA7CD,EA6CGA,QAAQ,CAAC,CAAD,CA7CX,EA6CgBA,QA7ChB;AA8CD,GAnDM,CAmDJA,QAAQ,CAAC,CAAD,CAnDJ,EAmDSA,QAnDT,CAAP;AAoDD,CAnED,EAmEGN,IAnEH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS+C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAAA,MAAqJyiB,KAAK,GAAG1jB,IAAI,CAAC2jB,IAAlK;AAEA,SAAQ,UAASziB,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,sBAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CyiB,yDAA/C;AAAA,YAA0GC,gCAA1G;AAAA,YAA4IC,2CAA5I;AAAA,YAAyLC,+BAAzL;AAAA,YAA0NC,qCAA1N;AAAA,YAAiQC,2CAAjQ;AAAA,YAA8SC,qCAA9S;AAEA9jB,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,sBAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,kBAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,eAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,cAAL,GAAsB,iCAAtB,GAA0D,iCAA1D,GAA8F,2BAA9F,GAA4H,iDAA5H,GAAgL,eAAhL,GAAkM,gBAAlM,GAAqN,qCAArN,GAA6P,iCAA7P,GAAiS,SAA7U;AACAF,YAAI,CAACwB,gBAAL,CAAsB,IAAtB,EAA4B,IAA5B;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqDwjB,yDAAyD,GAAG,SAASthB,mCAAT,CAA6CP,OAA7C,EAAsD;AACrK,cAAI4F,EAAJ;AAAA,cAAQC,EAAR;AAAA,cAAYxH,IAAI,GAAG,IAAnB;AAAA,cAAyB6J,MAAM,GAAG1J,GAAlC;AAAA,cAAuC4jB,cAAc,GAAG5jB,GAAxD;AAAA,cAA6D8U,QAAQ,GAAG9U,GAAxE;AAAA,cAA6E6jB,UAAU,GAAG7jB,GAA1F;AAAA,cAA+F8jB,IAAI,GAAG9jB,GAAtG;AAAA,cAA2G+jB,MAAM,GAAG/jB,GAApH;AAAA,cAAyHgkB,EAAE,GAAGhkB,GAA9H;AAGA0J,gBAAM,GAAG1J,GAAT;;AACA,cAAIS,OAAO,CAAC,QAAQ,KAAR,EAAee,OAAf,CAAD,CAAX,EAAsC;AACpC,mBAAO3B,IAAI,CAACokB,oBAAL,EAAP;AAAmC;;AAAA;;AACrC,cAAIxjB,OAAO,CAAC,iBAAiB,KAAjB,EAAwBe,OAAxB,CAAD,CAAX,EAA+C,CAC9C,CADD,MACO;AACL,mBAAOkI,MAAP;AACD;;AAAA;AACDka,wBAAc,GAAG1jB,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAAjB;;AACA,cAAIvD,OAAO,CAACZ,IAAI,CAACqkB,SAAL,CAAeN,cAAf,CAAD,CAAX,EAA6C;AAC3C,mBAAO/jB,IAAI,CAACokB,oBAAL,EAAP;AAAmC;;AAAA;AACrCnP,kBAAQ,GAAGjV,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+B,CAA/B,EAAkC,CAAlC,EAAqCsJ,KAArC,EAAX;AACA2V,oBAAU,GAAGhkB,IAAI,CAACskB,QAAL,CAAcrP,QAAd,CAAb;;AACA,cAAIrU,OAAO,CAACojB,UAAU,CAAC,OAAD,CAAV,EAAD,CAAX,EAAoC,CACnC,CADD,MACO;AACL,mBAAOhkB,IAAI,CAACukB,oBAAL,CAA0BtP,QAA1B,EAAoC,KAAK,KAAL,GAAc+O,UAAlD,CAAP;AACD;;AAAA;AACDxc,YAAE,GAAGxH,IAAI,CAACwkB,cAAL,CAAoBvP,QAApB,CAAL,EAAoC1N,EAAE,GAAG3H,IAAI,CAAC0I,MAAL,CAAYd,EAAZ,CAAzC,EAA2Dyc,IAAI,GAAI1c,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAA3F,EAAmG2c,MAAM,GAAI3c,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAArI,EAA4IC,EAA5I;;AACA,cAAIyc,IAAI,CAAC,KAAD,CAAJ,CAAY,CAAZ,CAAJ,EAAoB;AAClB,mBAAOjkB,IAAI,CAACukB,oBAAL,CAA0BtP,QAA1B,EAAoC,IAApC,CAAP;AAAiD;;AAAA;;AACnDkP,YAAE,GAAI,YAAW;AAAC,gBAAID,MAAM,CAAC,KAAD,CAAN,CAAc,CAAd,CAAJ,EAAsB;AACtC,qBAAO,SAAP;AACD,aAFiB,MAEX;AACL,qBAAO,EAAP;AACD;;AAAA;AAAE,mBAAO/jB,GAAP;AAAa,WAJX,EAAL;;AAKA0J,gBAAM,GAAG7J,IAAI,CAACukB,oBAAL,CAA0BtP,QAA1B,EAAoC,KAAK,KAAL,GAAcgP,IAAd,GAAuBE,EAA3D,CAAT;AACAnkB,cAAI,CAACqC,MAAL,CAAY,+BAAZ,EAA6CwH,MAA7C;AACA,iBAAOA,MAAP;AACD,SA/BD,EA+BG2Z,yDAAyD,CAACvhB,OAA1D,GAAoE,CA/BvE;AAiCArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,WAAf,EAA4ByjB,gCAAgC,GAAG,SAASgB,UAAT,CAAoBV,cAApB,EAAoC;AACjG,cAAI/jB,IAAI,GAAG,IAAX;AAAA,cAAiByJ,SAAS,GAAGtJ,GAA7B;AAAA,cAAkCukB,MAAM,GAAGvkB,GAA3C;;AAGA4jB,wBAAc,GAAI,YAAW;AAAC,gBAAInjB,OAAO,CAAE6I,SAAS,GAAGsa,cAAd,CAAX,EAA2C;AACvE,qBAAOta,SAAP;AACD,aAF6B,MAEvB;AACL,qBAAO,CAAP;AACD;;AAAA;AAAE,mBAAOtJ,GAAP;AAAa,WAJC,EAAjB;;AAKA4jB,wBAAc,GAAGA,cAAc,CAAC3f,KAAf,EAAjB;AACAsgB,gBAAM,GAAG1kB,IAAI,CAACsB,UAAL,CAAgBoB,UAAhB,CAA2B,GAA3B,CAAT;AACA,iBAAOC,MAAM,CAAC+hB,MAAD,EAASX,cAAT,CAAb;AACD,SAZD,EAYGN,gCAAgC,CAACxhB,OAAjC,GAA2C,CAZ9C;AAcArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,sBAAf,EAAuC0jB,2CAA2C,GAAG,SAASiB,qBAAT,GAAiC;AACpH,cAAI3kB,IAAI,GAAG,IAAX;AAEA,iBAAOA,IAAI,CAAC4kB,cAAL,CAAoB,QAApB,CAAP;AACD,SAJD,EAIGlB,2CAA2C,CAACzhB,OAA5C,GAAsD,CAJzD;AAMArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,UAAf,EAA2B2jB,+BAA+B,GAAG,SAASkB,SAAT,CAAmB5P,QAAnB,EAA6B;AACxF,cAAIjV,IAAI,GAAG,IAAX;AAAA,cAAiB8kB,IAAI,GAAG3kB,GAAxB;AAAA,cAA6B4kB,IAAI,GAAG5kB,GAApC;AAGA2kB,cAAI,GAAGxB,KAAK,CAAC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAD,EAAY,4BAAZ,EAA0C,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAA1C,EAAqD,wBAArD,EAA+E,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAA/E,EAA0F,+BAA1F,EAA2H,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAA3H,EAAsI,aAAtI,EAAqJ,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAArJ,EAAgK,aAAhK,EAA+K,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAA/K,EAA0L,aAA1L,EAAyM,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAzM,EAAoN,aAApN,EAAmO,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAnO,EAA8O,aAA9O,CAAZ;AACAyB,cAAI,GAAGD,IAAI,CAAC,KAAD,CAAJ,CAAY7P,QAAZ,CAAP;AACA,iBAAO8P,IAAP;AACD,SAPD,EAOGpB,+BAA+B,CAAC1hB,OAAhC,GAA0C,CAP7C;AASArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,gBAAf,EAAiC4jB,qCAAqC,GAAG,SAASoB,eAAT,CAAyB/P,QAAzB,EAAmC;AAC1G,cAAIjV,IAAI,GAAG,IAAX;AAAA,cAAiBikB,IAAI,GAAG9jB,GAAxB;AAAA,cAA6B+jB,MAAM,GAAG/jB,GAAtC;AAGA8jB,cAAI,GAAG,CAAP;AACAC,gBAAM,GAAG,CAAT;;AACA,cAAIjP,QAAQ,CAAC,KAAD,CAAR,CAAgB,CAAhB,EAAmB,KAAnB,EAA0BA,QAAQ,CAAC,KAAD,CAAR,CAAgB,CAAhB,CAA1B,CAAJ,EAAmD;AAEjDgP,gBAAI,GAAGhP,QAAQ,CAAC,KAAD,CAAR,CAAgB,CAAhB,CAAP;AACAiP,kBAAM,GAAGjP,QAAQ,CAAC,KAAD,CAAR,CAAgB,CAAhB,CAAT;AACD,WAJD,MAIO,IAAIA,QAAQ,CAAC,KAAD,CAAR,CAAgB,CAAhB,EAAmB,KAAnB,EAA0BA,QAAQ,CAAC,KAAD,CAAR,CAAgB,CAAhB,CAA1B,CAAJ,EAAmD;AAExDgP,gBAAI,GAAGhP,QAAQ,CAAC,KAAD,CAAR,CAAgB,CAAhB,CAAP;AACAiP,kBAAM,GAAGjP,QAAQ,CAAC,KAAD,CAAR,CAAgB,CAAhB,CAAT;AAA6B;;AAAA;AAC/B,iBAAO,CAACgP,IAAD,EAAOC,MAAP,CAAP;AACD,SAfD,EAeGN,qCAAqC,CAAC3hB,OAAtC,GAAgD,CAfnD;AAiBArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,sBAAf,EAAuC6jB,2CAA2C,GAAG,SAASoB,qBAAT,CAA+BhQ,QAA/B,EAAyC9S,MAAzC,EAAiD;AACpI,cAAInC,IAAI,GAAG,IAAX;AAEA,iBAAOA,IAAI,CAAC4kB,cAAL,CAAoB,KAAM3P,QAAQ,CAAChQ,KAAT,CAAe,GAAf,CAAN,GAA6B,KAA7B,GAAsC9C,MAA1D,CAAP;AACD,SAJD,EAIG0hB,2CAA2C,CAAC5hB,OAA5C,GAAsD,CAJzD;AAKA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,gBAAf,EAAiC8jB,qCAAqC,GAAG,SAASoB,eAAT,CAAyB/iB,MAAzB,EAAiC;AAChH,cAAInC,IAAI,GAAG,IAAX;AAEA,iBAAO,KAAK,UAAL,GAAmBmC,MAA1B;AACD,SAJO,EAIL2hB,qCAAqC,CAAC7hB,OAAtC,GAAgD,CAJ3C,GAI+C9B,GAJhD,KAIwD,eAJ/D;AAKD,OAtGD,EAsGGD,QAAQ,CAAC,CAAD,CAtGX,EAsGgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAtGlB,EAsGsCA,QAtGtC;AAuGD,KA5GD,EA4GGA,QAAQ,CAAC,CAAD,CA5GX,EA4GgBA,QA5GhB;AA6GD,GAlHM,CAkHJA,QAAQ,CAAC,CAAD,CAlHJ,EAkHSA,QAlHT,CAAP;AAmHD,CAzHD,EAyHGN,IAzHH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,MAAII,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAAA,MAAmJ0K,MAAM,GAAGzL,IAAI,CAAC0L,KAAjK;AAEA,SAAQ,UAASxK,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,OAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CokB,mBAA/C;AAAA,YAAoEC,0CAApE;AAGAxlB,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,OAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,KAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,KAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,QAAL,GAAgB,gBAA5D;AAEAN,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8BmlB,mBAAmB,GAAG,SAASzjB,YAAT,CAAsBC,OAAtB,EAA+B;AACjF,cAAIC,KAAK,GAAGujB,mBAAmB,CAACtjB,GAAhC;AAAA,cAAqCC,MAAM,GAAGF,KAAK,IAAIzB,GAAvD;AAAA,cAA4DH,IAAI,GAAG,IAAnE;AAEA,cAAI4B,KAAJ,EAAWujB,mBAAmB,CAACtjB,GAApB,GAA0B,IAA1B;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+CmlB,mBAA/C,EAAoE,KAApE,EAA2E,IAA3E,CAAP,EAAyF,YAAzF,EAAuG,CAACxjB,OAAD,CAAvG,EAAkH,IAAlH,CAAN;AACA3B,cAAI,CAACiO,aAAL,GAAqB,IAArB;AACA,iBAAQjO,IAAI,CAACmQ,aAAL,GAAqB/P,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,aAAX,CAAH,EAA8B,KAA9B,CAAhC;AACD,SARD,EAQGilB,mBAAmB,CAACljB,OAApB,GAA8B,CARjC;AAUArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqDolB,0CAA0C,GAAG,SAASljB,mCAAT,CAA6CP,OAA7C,EAAsD;AACtJ,cAAI3B,IAAI,GAAG,IAAX;AAEA,iBAAOA,IAAI,CAACqlB,YAAL,CAAkB1jB,OAAlB,EAA2BvB,GAAG,CAACJ,IAAI,CAACslB,MAAL,EAAD,EAAgB,QAAhB,CAA9B,CAAP;AACD,SAJD,EAIGF,0CAA0C,CAACnjB,OAA3C,GAAqD,CAJxD;AAKArC,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,QAA5B,EAAsCmL,MAAM,CAAC,CAAC,IAAD,CAAD,EAAS;AAAC,gBAAMjL,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,OAA5B,CAAH,CAAwC4L,IAAxC,CAA6C,UAA7C,EAAyD,KAAzD,EAAgE,CAAC,oBAAD,EAAuB,0BAAvB,EAAmD,wBAAnD,EAA6E,wBAA7E,EAAuG,wBAAvG,EAAiI,yBAAjI,CAAhE;AAAP,SAAT,CAAN,CAAqPyZ,OAArP,EAAtC;AACA,eAAOvlB,IAAI,CAACwB,gBAAL,CAAsBnB,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBslB,KAAvB,EAAtB,CAAP;AACD,OA5BD,EA4BGtlB,QAAQ,CAAC,CAAD,CA5BX,EA4BgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CA5BlB,EA4BsCA,QA5BtC;AA6BD,KAlCD,EAkCGA,QAAQ,CAAC,CAAD,CAlCX,EAkCgBA,QAlChB;AAmCD,GAxCM,CAwCJA,QAAQ,CAAC,CAAD,CAxCJ,EAwCSA,QAxCT,CAAP;AAyCD,CA5CD,EA4CGN,IA5CH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS4G,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASwG,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASiJ,SAAT,CAAmBlJ,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASqL,UAAT,CAAoBtL,GAApB,EAAyBC,GAAzB,EAA8B;AAC5B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASkJ,MAAT,CAAgBnJ,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASuG,SAAT,CAAmBxG,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASF,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,OAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C0kB,qBAA/C;AAAA,YAAsEC,0CAAtE;AAAA,YAAkHC,gCAAlH;AAAA,YAAoJC,0BAApJ;AAEA5lB,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,OAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,OAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,IAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,oBAAL,GAA4B,6BAA5B,GAA4D,oCAA5D,GAAmG,qBAAnG,GAA2H,wCAA3H,GAAsK,mCAAlN;AACAF,YAAI,CAACwB,gBAAL,CAAsB,IAAtB;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,eAAf,EAAgCylB,qBAAqB,GAAG,SAASpiB,cAAT,CAAwBC,KAAxB,EAA+BC,WAA/B,EAA4CC,MAA5C,EAAoDC,MAApD,EAA4D;AAClH,cAAIzD,IAAI,GAAG,IAAX;;AAGA,cAAIyD,MAAM,CAAC,KAAD,CAAN,CAAc,GAAd,CAAJ,EAAwB;AACtB,mBAAOtD,GAAP;AAAW;;AAAA;;AACb,cAAIS,OAAO,CAAC4C,MAAM,CAAC,KAAD,CAAN,CAAc,IAAd,CAAD,CAAX,EAAkC;AAChC,mBAAOrD,GAAP;AAAW;;AAAA;;AACb,cAAIS,OAAO,CAAC4F,MAAM,CAAClD,KAAD,EAAQ,GAAR,CAAP,CAAX,EAAiC;AAC/B,mBAAOjD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB2D,OAAvB,CAA+B,OAA/B,CAAP;AACD,WAFD,MAEO,IAAIjD,OAAO,CAAC2F,MAAM,CAACjD,KAAD,EAAQG,MAAR,CAAP,CAAX,EAAoC;AACzC,mBAAOpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4D,QAAvB,CAAgC,IAAhC,CAAP;AACD,WAFM,MAEA,IAAIlD,OAAO,CAAC4F,MAAM,CAAClD,KAAD,EAAQ0F,SAAS,CAACvF,MAAD,EAAS,GAAT,CAAjB,CAAP,CAAX,EAAoD;AACzD,mBAAOpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,KAAhC,CAAP;AACD,WAFM,MAEA,IAAIhD,OAAO,CAAC4F,MAAM,CAAClD,KAAD,EAAQ8H,UAAU,CAAC3H,MAAD,EAAS,CAAT,CAAV,CAAsBW,KAAtB,EAAR,CAAP,CAAX,EAA2D;AAChE,mBAAO/D,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,KAAhC,CAAP;AACD,WAFM,MAEA,IAAIhD,OAAO,CAAC4F,MAAM,CAAClD,KAAD,EAAQ8H,UAAU,CAAC3H,MAAD,EAAS,EAAT,CAAV,CAAuBW,KAAvB,EAAR,CAAP,CAAX,EAA4D;AACjE,mBAAO/D,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,KAAhC,CAAP;AACD,WAFM,MAEA;AACL,mBAAOvD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuByD,SAAvB,CAAiC,KAAjC,CAAP;AACD;;AAAA;AACF,SArBD,EAqBG8hB,qBAAqB,CAACxjB,OAAtB,GAAgC,CArBnC;AAuBArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqD0lB,0CAA0C,GAAG,SAASxjB,mCAAT,CAA6CP,OAA7C,EAAsD;AACtJ,cAAI3B,IAAI,GAAG,IAAX;AAEA,iBAAOA,IAAI,CAAC6lB,wBAAL,CAA8BlkB,OAA9B,CAAP;AACD,SAJD,EAIG+jB,0CAA0C,CAACzjB,OAA3C,GAAqD,CAJxD;AAMArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,0BAAf,EAA2C2lB,gCAAgC,GAAG,SAASG,yBAAT,CAAmCvF,MAAnC,EAA2C;AACvH,cAAIhZ,EAAJ;AAAA,cAAQC,EAAR;AAAA,cAAYxH,IAAI,GAAG,IAAnB;AAAA,cAAyB+lB,MAAM,GAAG5lB,GAAlC;AAAA,cAAuC6lB,QAAQ,GAAG7lB,GAAlD;AAAA,cAAuDqC,IAAI,GAAGrC,GAA9D;AAAA,cAAmE8lB,QAAQ,GAAG9lB,GAA9E;AAAA,cAAmF8M,QAAQ,GAAG9M,GAA9F;AAAA,cAAmG+lB,UAAU,GAAG/lB,GAAhH;AAAA,cAAqHgmB,MAAM,GAAGhmB,GAA9H;AAAA,cAAmIimB,OAAO,GAAGjmB,GAA7I;AAAA,cAAkJkmB,OAAO,GAAGlmB,GAA5J;AAAA,cAAiKmmB,KAAK,GAAGnmB,GAAzK;AAAA,cAA8KyE,SAAS,GAAGzE,GAA1L;AAAA,cAA+LomB,SAAS,GAAGpmB,GAA3M;AAAA,cAAgN0J,MAAM,GAAG1J,GAAzN;AAGAH,cAAI,CAACqC,MAAL,CAAY,0BAAZ,EAAwCke,MAAxC;AACAwF,gBAAM,GAAG,CAAT;AACAC,kBAAQ,GAAG,CAAX;AACAxjB,cAAI,GAAG,EAAP;AACAyjB,kBAAQ,GAAG,EAAX;AACAhZ,kBAAQ,GAAG,EAAX;;AACA,cAAIrM,OAAO,CAAC,gCAAgC,KAAhC,EAAuC2f,MAAvC,CAAD,CAAX,EAA6D,CAC5D,CADD,MACO;AAELvgB,gBAAI,CAACqC,MAAL,CAAY,gBAAZ,EAA8Bke,MAA9B;AACA,mBAAO,GAAP;AACD;;AAAA;AACD2F,oBAAU,GAAG7lB,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,EAAsCC,KAAtC,EAAb;;AACA,cAAIxD,OAAO,CAACqI,MAAM,CAACid,UAAD,EAAa,EAAb,CAAP,CAAX,EAAqC;AAEnC1e,cAAE,GAAGxH,IAAI,CAACwmB,kBAAL,CAAwBN,UAAxB,CAAL,EAA0C3e,EAAE,GAAG3H,IAAI,CAAC0I,MAAL,CAAYd,EAAZ,CAA/C,EAAiEwe,QAAQ,GAAIze,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAArG,EAA6G/E,IAAI,GAAI+E,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAA7I,EAAqJ0e,QAAQ,GAAI1e,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAzL,EAAiM0F,QAAQ,GAAI1F,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAArO,EAA4OC,EAA5O;AACAA,cAAE,GAAGxH,IAAI,CAACwmB,kBAAL,CAAwBlgB,SAAS,CAAC4f,UAAD,EAAa,CAAb,CAAjC,CAAL,EAAwD3e,EAAE,GAAG3H,IAAI,CAAC0I,MAAL,CAAYd,EAAZ,CAA7D,EAA+Eue,MAAM,GAAIxe,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAjH,EAAyH4e,MAAM,GAAI5e,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAA3J,EAAmK6e,OAAO,GAAI7e,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAtM,EAA8M8e,OAAO,GAAI9e,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAjP,EAAwPC,EAAxP;AACAhF,gBAAI,GAAG3C,QAAQ,CAACA,QAAQ,CAAC2C,IAAD,EAAO,IAAP,CAAT,EAAuB2jB,MAAvB,CAAf;AACAF,oBAAQ,GAAGpmB,QAAQ,CAAComB,QAAD,EAAWpmB,QAAQ,CAAC,IAAD,EAAOumB,OAAP,CAAnB,CAAnB;AACAnZ,oBAAQ,GAAGpN,QAAQ,CAACA,QAAQ,CAACoN,QAAD,EAAW,IAAX,CAAT,EAA2BoZ,OAA3B,CAAnB;AACD,WAPD,MAOO;AAEL7e,cAAE,GAAGxH,IAAI,CAACwmB,kBAAL,CAAwB,EAAxB,CAAL,EAAkCjf,EAAE,GAAG3H,IAAI,CAAC0I,MAAL,CAAYd,EAAZ,CAAvC,EAAyDwe,QAAQ,GAAIze,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAA7F,EAAqG+e,KAAK,GAAI/e,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAtI,EAA8I0e,QAAQ,GAAI1e,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAlL,EAA0L0F,QAAQ,GAAI1F,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAA9N,EAAqOC,EAArO;AACA5C,qBAAS,GAAG5E,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+B,CAA/B,EAAkC,EAAlC,CAAZ;AACAghB,kBAAM,GAAGnhB,SAAS,CAACI,IAAV,EAAT;AACAqhB,mBAAO,GAAGzhB,SAAS,CAACK,KAAV,CAAgB,GAAhB,CAAV;AACAzC,gBAAI,GAAG3C,QAAQ,CAACA,QAAQ,CAAC,eAAD,EAAkBmJ,SAAS,CAAC1C,SAAS,CAAC4f,UAAD,EAAa,EAAb,CAAV,EAA4B,CAA5B,CAAT,CAAwCpb,KAAxC,EAAlB,CAAT,EAA6E,KAA7E,CAAf;AACAmb,oBAAQ,GAAGpmB,QAAQ,CAAComB,QAAD,EAAWpmB,QAAQ,CAAC,IAAD,EAAOkmB,MAAM,CAACjb,KAAP,EAAP,CAAnB,CAAnB;AACAmC,oBAAQ,GAAG,KAAMA,QAAN,GAAkB,IAAlB,GAA0BoZ,OAArC;AACAzhB,qBAAS,GAAG5E,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+BiE,SAAS,CAAC1C,SAAS,CAAC4f,UAAD,EAAa,EAAb,CAAV,EAA4B,CAA5B,CAAxC,EAAwE,EAAxE,CAAZ;AACAK,qBAAS,GAAG3hB,SAAS,CAACI,IAAV,EAAZ;AACAqhB,mBAAO,GAAGzhB,SAAS,CAACK,KAAV,CAAgB,GAAhB,CAAV;AACAgI,oBAAQ,GAAGpN,QAAQ,CAACoN,QAAD,EAAW,KAAK,GAAL,GAAYoZ,OAAvB,CAAnB;AACAJ,oBAAQ,GAAGpmB,QAAQ,CAAComB,QAAD,EAAW,KAAK,GAAL,GAAYM,SAAvB,CAAnB;AACAR,kBAAM,GAAGlmB,QAAQ,CAACkmB,MAAD,EAASQ,SAAT,CAAjB;AACD;;AAAA;AACD1c,gBAAM,GAAG,KAAMoD,QAAN,GAAkB,KAAlB,GAA2BgZ,QAA3B,GAAuC,WAAvC,GAAsDD,QAAtD,GAAkE,MAAlE,GAA4ED,MAArF;AACAxF,gBAAM,GAAG1gB,QAAQ,CAAC0gB,MAAD,EAAS1gB,QAAQ,CAAC,GAAD,EAAM2C,IAAN,CAAjB,CAAjB;;AACA,cAAI5B,OAAO,CAACiJ,MAAM,CAAC,SAAD,CAAN,EAAD,CAAX,EAAkC;AAChC,mBAAO,GAAP;AAAW;;AAAA;AACbA,gBAAM,GAAG,KAAK,GAAL,GAAY0W,MAAZ,GAAsB,MAAtB,GAAgC1W,MAAzC;AACA7J,cAAI,CAACqC,MAAL,CAAY,wBAAZ,EAAsCwH,MAAtC;AACA,iBAAOA,MAAP;AACD,SA/CD,EA+CG8b,gCAAgC,CAAC1jB,OAAjC,GAA2C,CA/C9C;AAgDA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oBAAf,EAAqC4lB,0BAA0B,GAAG,SAASa,mBAAT,CAA6BP,UAA7B,EAAyC;AACjH,cAAIlmB,IAAI,GAAG,IAAX;AAAA,cAAiBwC,IAAI,GAAGrC,GAAxB;AAAA,cAA6B8lB,QAAQ,GAAG9lB,GAAxC;AAAA,cAA6C8M,QAAQ,GAAG9M,GAAxD;AAAA,cAA6D6D,MAAM,GAAG7D,GAAtE;AAAA,cAA2EyE,SAAS,GAAGzE,GAAvF;AAAA,cAA4FmD,KAAK,GAAGnD,GAApG;AAGA+lB,oBAAU,GAAGA,UAAU,CAAC9hB,KAAX,EAAb;AACA5B,cAAI,GAAG,EAAP;AACAyjB,kBAAQ,GAAG,EAAX;AACAhZ,kBAAQ,GAAG,EAAX;AACAjJ,gBAAM,GAAG,CAAT;;AACA,cAAIpD,OAAO,CAACqI,MAAM,CAACid,UAAD,EAAa,CAAb,CAAP,CAAX,EAAoC;AAElCliB,kBAAM,GAAG,CAAT;AACAiJ,oBAAQ,GAAG,GAAX;AACAgZ,oBAAQ,GAAG,GAAX;AACAzjB,gBAAI,GAAG,GAAP;AACD,WAND,MAMO,IAAI5B,OAAO,CAACqI,MAAM,CAACid,UAAD,EAAa,CAAb,CAAP,CAAX,EAAoC;AAEzC1jB,gBAAI,GAAG,MAAP;AACAwB,kBAAM,GAAGhE,IAAI,CAACsB,UAAL,CAAgBoB,UAAhB,CAA2B,CAA3B,CAAT;AACAuK,oBAAQ,GAAGjJ,MAAM,CAAC8G,KAAP,EAAX;AACA9G,kBAAM,GAAGsC,SAAS,CAACtC,MAAD,EAAS,CAAT,CAAlB;AACAiiB,oBAAQ,GAAGjiB,MAAM,CAAC8G,KAAP,EAAX;AACD,WAPM,MAOA,IAAIlK,OAAO,CAACqI,MAAM,CAACid,UAAD,EAAa,CAAb,CAAP,CAAX,EAAoC;AAEzC1jB,gBAAI,GAAG,MAAP;AACAwB,kBAAM,GAAGhE,IAAI,CAACsB,UAAL,CAAgBoB,UAAhB,CAA2B,CAA3B,CAAT;AACAuK,oBAAQ,GAAGjJ,MAAM,CAAC8G,KAAP,EAAX;AACAmb,oBAAQ,GAAGjiB,MAAM,CAAC8G,KAAP,EAAX;AACD,WANM,MAMA,IAAIlK,OAAO,CAACqI,MAAM,CAACid,UAAD,EAAa,CAAb,CAAP,CAAX,EAAoC;AAEzC1jB,gBAAI,GAAG,KAAP;AACAwB,kBAAM,GAAGhE,IAAI,CAACsB,UAAL,CAAgBoB,UAAhB,CAA2B,CAA3B,CAAT;AACAuK,oBAAQ,GAAGjJ,MAAM,CAAC8G,KAAP,EAAX;AACAmb,oBAAQ,GAAGjiB,MAAM,CAAC8G,KAAP,EAAX;AACD,WANM,MAMA,IAAIlK,OAAO,CAACqI,MAAM,CAACid,UAAD,EAAa,EAAb,CAAP,CAAX,EAAqC;AAE1C1jB,gBAAI,GAAG3C,QAAQ,CAACyG,SAAS,CAAC4f,UAAD,EAAa,CAAb,CAAT,CAAyBpb,KAAzB,EAAD,EAAmC,KAAnC,CAAf;AACAlG,qBAAS,GAAG5E,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+BuB,SAAS,CAAC4f,UAAD,EAAa,CAAb,CAAxC,EAAyD,EAAzD,CAAZ;AACAliB,kBAAM,GAAGY,SAAS,CAACI,IAAV,EAAT;AACAihB,oBAAQ,GAAGjiB,MAAM,CAAC8G,KAAP,EAAX;AACAmC,oBAAQ,GAAGrI,SAAS,CAACK,KAAV,CAAgB,GAAhB,CAAX;AACD,WAPM,MAOA,IAAIrE,OAAO,CAACqI,MAAM,CAACid,UAAD,EAAa,EAAb,CAAP,CAAX,EAAqC;AAE1C1jB,gBAAI,GAAG3C,QAAQ,CAACyG,SAAS,CAAC4f,UAAD,EAAa,CAAb,CAAT,CAAyBpb,KAAzB,EAAD,EAAmC,OAAnC,CAAf;AACAlG,qBAAS,GAAG5E,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+BuB,SAAS,CAAC4f,UAAD,EAAa,CAAb,CAAxC,EAAyD,EAAzD,CAAZ;AACA5iB,iBAAK,GAAGsB,SAAS,CAACI,IAAV,EAAR;AACAihB,oBAAQ,GAAG,KAAM3iB,KAAN,GAAe,IAA1B;AACAU,kBAAM,GAAGgF,SAAS,CAAC1F,KAAD,EAAQ,CAAR,CAAlB;AACA2J,oBAAQ,GAAG,KAAK,GAAL,GAAYrI,SAAS,CAACK,KAAV,CAAgB,GAAhB,CAAZ,GAAoC,KAA/C;AACD,WARM,MAQA;AAELzC,gBAAI,GAAG,QAAP;AACAoC,qBAAS,GAAG5E,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+B,CAA/B,EAAkC,EAAlC,CAAZ;AACAzB,iBAAK,GAAGsB,SAAS,CAACI,IAAV,EAAR;AACAihB,oBAAQ,GAAG,KAAM3iB,KAAN,GAAe,IAA1B;AACAU,kBAAM,GAAGgF,SAAS,CAAC1F,KAAD,EAAQ,CAAR,CAAlB;AACA2J,oBAAQ,GAAG,KAAK,GAAL,GAAYrI,SAAS,CAACK,KAAV,CAAgB,GAAhB,CAAZ,GAAoC,KAA/C;AACD;;AAAA;AACD,iBAAO,CAACjB,MAAD,EAASxB,IAAT,EAAeyjB,QAAf,EAAyBhZ,QAAzB,CAAP;AACD,SA3DO,EA2DL2Y,0BAA0B,CAAC3jB,OAA3B,GAAqC,CA3DhC,GA2DoC9B,GA3DrC,KA2D6C,mBA3DpD;AA4DD,OAtJD,EAsJGD,QAAQ,CAAC,CAAD,CAtJX,EAsJgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAtJlB,EAsJsCA,QAtJtC;AAuJD,KA5JD,EA4JGA,QAAQ,CAAC,CAAD,CA5JX,EA4JgBA,QA5JhB;AA6JD,GAlKM,CAkKJA,QAAQ,CAAC,CAAD,CAlKJ,EAkKSA,QAlKT,CAAP;AAmKD,CA3LD,EA2LGN,IA3LH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS+C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAAA,MAAmJC,OAAO,GAAGhB,IAAI,CAACiB,MAAlK;AAAA,MAA0KwK,MAAM,GAAGzL,IAAI,CAAC0L,KAAxL;AAEA,SAAQ,UAASxK,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,aAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C2lB,yBAA/C;AAAA,YAA0EC,yBAA1E;AAAA,YAAqGC,gDAArG;AAEA5mB,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,aAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,UAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,UAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,IAAL,GAAY,2DAAZ,GAA0E,YAA1E,GAAyF,mEAAzF,GAA+J,gBAA/J,GAAkL,0DAAlL,GAA+O,iCAA/O,GAAmR,IAAnR,GAA0R,aAAtU;AAEAN,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8B0mB,yBAAyB,GAAG,SAAShlB,YAAT,CAAsBC,OAAtB,EAA+B;AACvF,cAAIC,KAAK,GAAG8kB,yBAAyB,CAAC7kB,GAAtC;AAAA,cAA2CC,MAAM,GAAGF,KAAK,IAAIzB,GAA7D;AAAA,cAAkEH,IAAI,GAAG,IAAzE;AAEA,cAAI4B,KAAJ,EAAW8kB,yBAAyB,CAAC7kB,GAA1B,GAAgC,IAAhC;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+C0mB,yBAA/C,EAA0E,KAA1E,EAAiF,IAAjF,CAAP,EAA+F,YAA/F,EAA6G,CAAC/kB,OAAD,CAA7G,EAAwH,IAAxH,CAAN;AACA3B,cAAI,CAACiO,aAAL,GAAqB,IAArB;AACA,iBAAQjO,IAAI,CAACmQ,aAAL,GAAqB/P,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,aAAX,CAAH,EAA8B,KAA9B,CAAhC;AACD,SARD,EAQGwmB,yBAAyB,CAACzkB,OAA1B,GAAoC,CARvC;AAUArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8B2mB,yBAAyB,GAAG,SAAS1X,YAAT,CAAsB8D,MAAtB,EAA8BlF,UAA9B,EAA0CqB,UAA1C,EAAsD1L,MAAtD,EAA8DuS,OAA9D,EAAuE;AAC/H,cAAI/V,IAAI,GAAG,IAAX;;AAGA,cAAIwD,MAAM,CAAC,KAAD,CAAN,CAAc,IAAd,CAAJ,EAAyB,CACxB,CADD,MACO;AACL,mBAAOrD,GAAP;AACD;;AAAA;;AACD,cAAIS,OAAO,CAAC+B,MAAM,CAACkL,UAAD,EAAa,CAAb,CAAP,CAAX,EAAoC;AAClC,mBAAOxN,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB2D,OAAvB,CAA+B7D,IAAI,CAAC6mB,UAAL,CAAgB,oBAAhB,CAA/B,CAAP;AACD,WAFD,MAEO,IAAIjmB,OAAO,CAAC4F,MAAM,CAACqH,UAAD,EAAa,EAAb,CAAP,CAAX,EAAqC;AAC1C,mBAAOxN,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuByD,SAAvB,CAAiC3D,IAAI,CAAC6mB,UAAL,CAAgB,sBAAhB,CAAjC,CAAP;AACD,WAFM,MAEA;AACL,mBAAO1mB,GAAP;AACD;;AAAA;AACF,SAfD,EAeGwmB,yBAAyB,CAAC1kB,OAA1B,GAAoC,CAfvC;AAiBArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqD4mB,gDAAgD,GAAG,SAAS1kB,mCAAT,CAA6CP,OAA7C,EAAsD;AAC5J,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiByJ,SAAS,GAAGtJ,GAA7B;;AAEA,cAAIS,OAAO,CAAE6I,SAAS,GAAGzJ,IAAI,CAACqlB,YAAL,CAAkB1jB,OAAlB,EAA2BvB,GAAG,CAACJ,IAAI,CAACslB,MAAL,EAAD,EAAgB,QAAhB,CAA9B,CAAd,CAAX,EAAqF;AACnF,mBAAO7b,SAAP;AACD,WAFD,MAEO;AACL,mBAAOrJ,GAAG,CAACJ,IAAI,CAACslB,MAAL,EAAD,EAAgB,KAAhB,CAAH,CAA0BwB,aAA1B,CAAwC9mB,IAAI,CAACsB,UAA7C,EAAyDK,OAAzD,CAAP;AACD;AACF,SARD,EAQGilB,gDAAgD,CAAC3kB,OAAjD,GAA2D,CAR9D;;AASA,SAAC,UAASjC,IAAT,EAAee,eAAf,EAAgC;AAC/B,cAAIb,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,cAA+CgmB,mBAA/C;AAAA,cAAoEC,gBAApE;AAGAhnB,cAAI,CAACqN,QAAL;AAEAzN,cAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,mBAAf,EAAoC+mB,mBAAmB,GAAG,SAASE,kBAAT,CAA4BC,MAA5B,EAAoC;AAC5F,gBAAIlnB,IAAI,GAAG,IAAX;AAEA,mBAAOqL,MAAM,CAAC,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,MAAtB,EAA8B,KAA9B,EAAqC,KAArC,EAA4C,OAA5C,EAAqD,OAArD,EAA8D,OAA9D,EAAuE,MAAvE,EAA+E,QAA/E,CAAD,EAA2F;AAAC,qBAAOjL,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,OAA5B,CAAH,CAAwCinB,UAAxC,CAAmD,uBAAnD,EAA4ED,MAA5E,CAAR;AAA6F,qBAAO9mB,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,OAA5B,CAAH,CAAwCinB,UAAxC,CAAmD,uBAAnD,EAA4ED,MAA5E,CAApG;AAAyL,qBAAO9mB,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,OAA5B,CAAH,CAAwCinB,UAAxC,CAAmD,uBAAnD,EAA4ED,MAA5E,CAAhM;AAAqR,sBAAQ9mB,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,OAA5B,CAAH,CAAwCinB,UAAxC,CAAmD,wBAAnD,EAA6ED,MAA7E,CAA7R;AAAmX,qBAAO9mB,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,OAA5B,CAAH,CAAwCinB,UAAxC,CAAmD,uBAAnD,EAA4ED,MAA5E,CAA1X;AAA+c,qBAAO9mB,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,OAA5B,CAAH,CAAwCinB,UAAxC,CAAmD,uBAAnD,EAA4ED,MAA5E,CAAtd;AAA2iB,uBAAS9mB,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,OAA5B,CAAH,CAAwCinB,UAAxC,CAAmD,yBAAnD,EAA8ED,MAA9E,CAApjB;AAA2oB,uBAAS9mB,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,OAA5B,CAAH,CAAwCinB,UAAxC,CAAmD,yBAAnD,EAA8ED,MAA9E,CAAppB;AAA2uB,uBAAS9mB,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,OAA5B,CAAH,CAAwCinB,UAAxC,CAAmD,yBAAnD,EAA8ED,MAA9E,CAApvB;AAA20B,sBAAQ9mB,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,OAA5B,CAAH,CAAwCinB,UAAxC,CAAmD,wBAAnD,EAA6ED,MAA7E,CAAn1B;AAAy6B,wBAAU9mB,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,UAA5B,CAAH,CAA2CinB,UAA3C,CAAsD,0BAAtD,EAAkFD,MAAlF;AAAn7B,aAA3F,CAAb;AACD,WAJD,EAIGH,mBAAmB,CAAC9kB,OAApB,GAA8B,CAJjC;AAKA,iBAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,gBAAf,EAAiCgnB,gBAAgB,GAAG,SAASI,eAAT,CAAyBF,MAAzB,EAAiC;AAC3F,gBAAIlnB,IAAI,GAAG,IAAX;AAEA,mBAAOI,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,kBAA5B,CAAH,CAAmDinB,UAAnD,CAA8D,iBAA9D,EAAiFD,MAAjF,EAAyF7b,MAAM,CAAC,CAAC,KAAD,EAAQ,MAAR,CAAD,EAAkB;AAAC,qBAAO,IAAR;AAAc,sBAAQ,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC;AAAtB,aAAlB,CAA/F,CAAP;AACD,WAJO,EAIL2b,gBAAgB,CAAC/kB,OAAjB,GAA2B,CAJtB,GAI0B9B,GAJ3B,KAImC,eAJ1C;AAKD,SAhBD,EAgBGP,IAAI,CAACynB,mBAAL,CAAyBrnB,IAAzB,CAhBH,EAgBmCE,QAhBnC;;AAiBAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,QAA5B,EAAsCF,IAAI,CAACsnB,iBAAL,CAAuB,OAAvB,CAAtC;AACA1nB,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,KAA5B,EAAmCF,IAAI,CAACunB,cAAL,CAAoB,OAApB,CAAnC;AACA,eAAOvnB,IAAI,CAACwB,gBAAL,CAAsBnB,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBslB,KAAvB,EAAtB,EAAsDnlB,EAAE,CAACH,QAAD,EAAW,KAAX,CAAF,CAAoBsnB,SAApB,EAAtD,CAAP;AACD,OApED,EAoEGtnB,QAAQ,CAAC,CAAD,CApEX,EAoEgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CApElB,EAoEsCA,QApEtC;AAqED,KA1ED,EA0EGA,QAAQ,CAAC,CAAD,CA1EX,EA0EgBA,QA1EhB;AA2ED,GAhFM,CAgFJA,QAAQ,CAAC,CAAD,CAhFJ,EAgFSA,QAhFT,CAAP;AAiFD,CA1FD,EA0FGN,IA1FH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,MAAII,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAEA,SAAQ,UAASK,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,WAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C0mB,yBAA/C;AAGA7nB,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,WAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,YAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,UAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,mDAA5C;AACA,eAAO,CAACN,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,eAAf,EAAgCynB,yBAAyB,GAAG,SAASpkB,cAAT,CAAwBC,KAAxB,EAA+BC,WAA/B,EAA4CC,MAA5C,EAAoDC,MAApD,EAA4D;AAC9H,cAAIzD,IAAI,GAAG,IAAX;;AAGA,cAAIwD,MAAM,CAAC,KAAD,CAAN,CAAc,IAAd,CAAJ,EAAyB,CACxB,CADD,MACO;AACL,mBAAOrD,GAAP;AACD;;AAAA;;AACD,cAAImD,KAAK,CAAC,IAAD,CAAL,CAAY,GAAZ,EAAiB,KAAjB,EAAwB,CAAxB,CAAJ,EAAgC;AAC9B,mBAAOjD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuByD,SAAvB,CAAiC,aAAjC,CAAP;AACD,WAFD,MAEO,IAAIL,KAAK,CAAC,IAAD,CAAL,CAAY,GAAZ,EAAiB,KAAjB,EAAwB,CAAxB,CAAJ,EAAgC;AACrC,mBAAOjD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB2D,OAAvB,CAA+B,YAA/B,CAAP;AACD,WAFM,MAEA,IAAIJ,MAAM,CAAC,KAAD,CAAN,CAAc,GAAd,CAAJ,EAAwB;AAC7B,mBAAOpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBwD,QAAvB,EAAP;AACD,WAFM,MAEA;AACL,mBAAOvD,GAAP;AACD;;AAAA;AACF,SAjBO,EAiBLsnB,yBAAyB,CAACxlB,OAA1B,GAAoC,CAjB/B,GAiBmC9B,GAjBpC,KAiB4C,cAjBnD;AAkBD,OA5BD,EA4BGD,QAAQ,CAAC,CAAD,CA5BX,EA4BgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CA5BlB,EA4BsCA,QA5BtC;AA6BD,KAlCD,EAkCGA,QAAQ,CAAC,CAAD,CAlCX,EAkCgBA,QAlChB;AAmCD,GAxCM,CAwCJA,QAAQ,CAAC,CAAD,CAxCJ,EAwCSA,QAxCT,CAAP;AAyCD,CA5CD,EA4CGN,IA5CH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS2G,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAAS4C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASF,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASiJ,SAAT,CAAmBlJ,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAAA,MAAmJC,OAAO,GAAGhB,IAAI,CAACiB,MAAlK;AAAA,MAA0KqI,KAAK,GAAGtJ,IAAI,CAACuJ,IAAvL;AAEA,SAAQ,UAASrI,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,SAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C2mB,qBAA/C;AAAA,YAAsEC,4CAAtE;AAAA,YAAoHC,oBAApH;AAEA5nB,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,SAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,UAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,YAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,qCAAL,GAA6C,wCAA7C,GAAwF,gCAAxF,GAA2H,aAA3H,GAA2I,IAA3I,GAAkJ,qCAAlJ,GAA0L,gBAA1L,GAA6M,qCAA7M,GAAqP,0BAArP,GAAkR,uCAAlR,GAA4T,IAA5T,GAAmU,uCAAnU,GAA6W,gCAA7W,GAAgZ,IAAhZ,GAAuZ,SAAvZ,GAAma,oBAAna,GAA0b,8BAA1b,GAA2d,qBAA3d,GAAmf,gCAAnf,GAAshB,mCAAthB,GAA4jB,2CAAxmB;AACAF,YAAI,CAACwB,gBAAL,CAAsB,aAAtB;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8B0nB,qBAAqB,GAAG,SAAShmB,YAAT,CAAsBC,OAAtB,EAA+B;AACnF,cAAIC,KAAK,GAAG8lB,qBAAqB,CAAC7lB,GAAlC;AAAA,cAAuCC,MAAM,GAAGF,KAAK,IAAIzB,GAAzD;AAAA,cAA8DH,IAAI,GAAG,IAArE;AAEA,cAAI4B,KAAJ,EAAW8lB,qBAAqB,CAAC7lB,GAAtB,GAA4B,IAA5B;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+C0nB,qBAA/C,EAAsE,KAAtE,EAA6E,IAA7E,CAAP,EAA2F,YAA3F,EAAyG,CAAC/lB,OAAD,CAAzG,EAAoH,IAApH,CAAN;AACA,iBAAQ3B,IAAI,CAACiO,aAAL,GAAqB,IAA7B;AACD,SAPD,EAOGyZ,qBAAqB,CAACzlB,OAAtB,GAAgC,CAPnC;AASArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqD2nB,4CAA4C,GAAG,SAASzlB,mCAAT,CAA6CP,OAA7C,EAAsD;AACxJ,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiB6nB,KAAK,GAAG1nB,GAAzB;AAAA,cAA8B2nB,UAAU,GAAG3nB,GAA3C;AAAA,cAAgDoP,cAAc,GAAGpP,GAAjE;AAAA,cAAsEsD,MAAM,GAAGtD,GAA/E;AAAA,cAAoFsJ,SAAS,GAAGtJ,GAAhG;AAAA,cAAqG6D,MAAM,GAAG7D,GAA9G;AAAA,cAAmHyJ,SAAS,GAAGzJ,GAA/H;;AAGA,cAAIS,OAAO,CAACe,OAAO,CAAC,KAAD,CAAP,CAAe,qCAAf,CAAD,CAAX,EAAoE;AAElEkmB,iBAAK,GAAGxnB,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,EAAsCC,KAAtC,EAAR;AACA0jB,sBAAU,GAAGznB,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,EAAsC,OAAtC,GAAb;;AACA,gBAAIvD,OAAO,CAACknB,UAAD,CAAX,EAAyB;AACvBvY,4BAAc,GAAG,CAAjB;AACD,aAFD,MAEO,IAAIlP,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,EAAsC,KAAtC,EAA6C,GAA7C,CAAJ,EAAuD;AAE5D2jB,wBAAU,GAAG,IAAb;AACAvY,4BAAc,GAAG,CAAjB;AACD,aAJM,MAIA;AACLA,4BAAc,GAAG,CAAjB;AACD;;AAAA;;AACD9L,kBAAM,GAAI,YAAW;AAAC,kBAAI7C,OAAO,CAAE6I,SAAS,GAAGpJ,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAAd,CAAX,EAAkE;AACtF,uBAAOsF,SAAP;AACD,eAFqB,MAEf;AACL,uBAAO,CAAP;AACD;;AAAA;AAAE,qBAAOtJ,GAAP;AAAa,aAJP,GAIWiE,KAJX,EAAT;;AAKAJ,kBAAM,GAAI,YAAW;AAAC,kBAAIpD,OAAO,CAAEgJ,SAAS,GAAGvJ,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAAd,CAAX,EAAkE;AACtF,uBAAOyF,SAAP;AACD,eAFqB,MAEf;AACL,uBAAO,CAAP;AACD;;AAAA;AAAE,qBAAOzJ,GAAP;AAAa,aAJP,GAIWiE,KAJX,EAAT;;AAKA,mBAAOpE,IAAI,CAACgK,UAAL,CAAgB6d,KAAhB,EAAuBpkB,MAAvB,EAA+BO,MAA/B,EAAuC8jB,UAAvC,EAAmDvY,cAAnD,CAAP;AAA2E;;AAAA;AAC7E,iBAAOpP,GAAP;AACD,SA7BD,EA6BGwnB,4CAA4C,CAAC1lB,OAA7C,GAAuD,CA7B1D;AA8BA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,YAAf,EAA6B4nB,oBAAoB,GAAG,SAAS3d,WAAT,CAAqB4d,KAArB,EAA4BpkB,MAA5B,EAAoCO,MAApC,EAA4C8jB,UAA5C,EAAwDvY,cAAxD,EAAwE;AAClI,cAAIhI,EAAJ;AAAA,cAAQiH,GAAR;AAAA,cAAaxO,IAAI,GAAG,IAApB;AAAA,cAA0B0P,iBAAiB,GAAGvP,GAA9C;AAAA,cAAmDwP,kBAAkB,GAAGxP,GAAxE;AAAA,cAA6E2E,IAAI,GAAG3E,GAApF;AAAA,cAAyFyP,SAAS,GAAGzP,GAArG;AAAA,cAA0GmK,SAAS,GAAGnK,GAAtH;AAAA,cAA2H0E,QAAQ,GAAG1E,GAAtI;AAAA,cAA2I0P,YAAY,GAAG1P,GAA1J;AAAA,cAA+J2P,aAAa,GAAG3P,GAA/K;AAAA,cAAoL4P,QAAQ,GAAG5P,GAA/L;AAAA,cAAoM6P,WAAW,GAAG7P,GAAlN;AAAA,cAAuNgC,MAAM,GAAGhC,GAAhO;;AAGAuP,2BAAiB,GAAG,CAApB;AACAC,4BAAkB,GAAG,CAArB;AACA7K,cAAI,GAAG,EAAP;AACA8K,mBAAS,GAAGiY,KAAZ;;AACA,iBAAOjnB,OAAO,CAAC2F,MAAM,CAACqJ,SAAD,EAAY,CAAZ,CAAP,CAAd,EAAsC;AAEpCtF,qBAAS,GAAGtK,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+B6K,SAA/B,EAA0C,CAA1C,EAA6CvB,KAA7C,EAAZ;AACAxJ,oBAAQ,GAAGyF,SAAS,CAACrF,KAAV,CAAgB,GAAhB,CAAX;AACA4K,wBAAY,GAAG,CAAf;AACAC,yBAAa,GAAG,CAAhB;AACA5G,iBAAK,CAACoB,SAAD,EAAY,MAAZ,EAAoB,EAApB,GAAyBkE,GAAG,GAAG,aAAS5D,CAAT,EAAW;AAAC,kBAAI5K,IAAI,GAAGwO,GAAG,CAAC3D,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyB2D,GAAG,CAAC3D,GAAxC;;AAI9C,kBAAID,CAAC,IAAI,IAAT,EAAe;AACbA,iBAAC,GAAGzK,GAAJ;AACD;;AAAA;;AACD,kBAAIS,OAAO,CAAC+B,MAAM,CAACiI,CAAD,EAAInH,MAAJ,CAAP,CAAX,EAAgC;AAC9BoM,4BAAY,GAAGhQ,QAAQ,CAACgQ,YAAD,EAAe,CAAf,CAAvB;AAAyC;;AAAA;;AAC3C,kBAAIjP,OAAO,CAAC+B,MAAM,CAACiI,CAAD,EAAI2E,cAAJ,CAAP,CAAX,EAAwC;AACtC,uBAAQO,aAAa,GAAGjQ,QAAQ,CAACiQ,aAAD,EAAgB,CAAhB,CAAhC;AACD,eAFD,MAEO;AACL,uBAAO3P,GAAP;AACD;;AAAA;AAAE,aAbyB,EAavBqO,GAAG,CAAC3D,GAAJ,GAAU7K,IAba,EAaPwO,GAAG,CAACvM,OAAJ,GAAc,CAbP,EAaUuM,GAbnC,EAAL;AAcAkB,6BAAiB,GAAG7P,QAAQ,CAAC6P,iBAAD,EAAoBG,YAApB,CAA5B;;AACA,gBAAIC,aAAa,CAAC,KAAD,CAAb,CAAqB,CAArB,CAAJ,EAA6B,CAC5B,CADD,MACO;AACLH,gCAAkB,GAAG9P,QAAQ,CAAC8P,kBAAD,EAAqB,CAArB,CAA7B;AACD;;AAAA;;AACD,gBAAI/O,OAAO,CAACkE,IAAI,CAAC,SAAD,CAAJ,EAAD,CAAX,EAAgC,CAC/B,CADD,MACO;AACLA,kBAAI,GAAGjF,QAAQ,CAACiF,IAAD,EAAO,GAAP,CAAf;AACD;;AAAA;AACDA,gBAAI,GAAGjF,QAAQ,CAACiF,IAAD,EAAO,KAAM+K,YAAN,GAAsB,GAAtB,GAA6BhL,QAA7B,GAAyC,GAAhD,CAAf;;AACA,gBAAIjE,OAAO,CAACknB,UAAD,CAAX,EAAyB,CACxB,CADD,MACO;AACL;AACD;;AAAA;AACDlY,qBAAS,GAAGE,aAAZ;AACD;;AAAA;AACDC,kBAAQ,GAAG/L,MAAM,CAAC,KAAD,CAAN,CAAc,CAAd,CAAX;;AACA,cAAIpD,OAAO,CAACmP,QAAD,CAAX,EAAuB;AAErBC,uBAAW,GAAGhH,SAAS,CAAC0G,iBAAD,EAAoB1L,MAApB,CAAvB;AACA7B,kBAAM,GAAG,KAAK,GAAL,GAAY0lB,KAAZ,GAAqB,MAArB,GAA+BpkB,MAA/B,GAAyC,MAAzC,GAAmDqB,IAAnD,GAA2D,UAA3D,GAAyE4K,iBAAzE,GAA8F,GAA9F,GAAqG1L,MAArG,GAA+G,KAA/G,GAAwHgM,WAAxH,GAAuI,MAAhJ;AACD,WAJD,MAIO;AACL7N,kBAAM,GAAG,KAAK,GAAL,GAAY0lB,KAAZ,GAAqB,MAArB,GAA+BpkB,MAA/B,GAAyC,MAAzC,GAAmDqB,IAAnD,GAA2D,SAA3D,GAAwE4K,iBAAjF;AACD;;AAAA;;AACD,cAAI9O,OAAO,CAACknB,UAAD,CAAX,EAAyB;AACvB3lB,kBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,KAAL,GAAcwN,kBAAd,GAAoC,QAA7C,CAAjB;AAAwE;;AAAA;AAC1E,iBAAOxN,MAAP;AACD,SAvDO,EAuDLylB,oBAAoB,CAAC3lB,OAArB,GAA+B,CAvD1B,GAuD8B9B,GAvD/B,KAuDuC,WAvD9C;AAwDD,OA5GD,EA4GGD,QAAQ,CAAC,CAAD,CA5GX,EA4GgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CA5GlB,EA4GsCA,QA5GtC;AA6GD,KAlHD,EAkHGA,QAAQ,CAAC,CAAD,CAlHX,EAkHgBA,QAlHhB;AAmHD,GAxHM,CAwHJA,QAAQ,CAAC,CAAD,CAxHJ,EAwHSA,QAxHT,CAAP;AAyHD,CAxID,EAwIGN,IAxIH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS2G,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASF,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,oBAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CgnB,uDAA/C;AAAA,YAAwGC,oCAAxG;AAAA,YAA8IC,wCAA9I;AAAA,YAAwLC,uCAAxL;AAAA,YAAiOC,8CAAjO;AAAA,YAAiRC,2CAAjR;AAAA,YAA8TC,sCAA9T;AAEAroB,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,oBAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,YAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,eAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,MAAL,GAAc,2BAAd,GAA4C,iBAA5C,GAAgE,wBAAhE,GAA2F,OAA3F,GAAqG,cAArG,GAAsH,kBAAlK;AACAF,YAAI,CAACwB,gBAAL,CAAsB,IAAtB,EAA4B,IAA5B,EAAkC,KAAlC;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqD+nB,uDAAuD,GAAG,SAAS7lB,mCAAT,CAA6CP,OAA7C,EAAsD;AACnK,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiB6J,MAAM,GAAG1J,GAA1B;AAAA,cAA+BiC,KAAK,GAAGjC,GAAvC;;AAGA0J,gBAAM,GAAI,YAAW;AAACzH,iBAAK,GAAGT,OAAO,CAACmI,OAAR,EAAR;;AACtB,gBAAI,MAAM,MAAN,EAAc1H,KAAd,CAAJ,EAA0B;AAAC,qBAAOpC,IAAI,CAAC0f,eAAL,CAAqB/d,OAArB,CAAP;AAAqC,aAAhE,MACK,IAAI,KAAK,MAAL,EAAaS,KAAb,CAAJ,EAAyB;AAAC,qBAAOpC,IAAI,CAACsoB,kBAAL,EAAP;AAAiC,aAA3D,MACA,IAAI,KAAK,MAAL,EAAalmB,KAAb,CAAJ,EAAyB;AAAC,qBAAOpC,IAAI,CAACuoB,yBAAL,EAAP;AAAwC,aAAlE,MACA;AAAE,qBAAOpoB,GAAP;AAAY;AAAC,WAJX,EAAT;;AAKA,iBAAO0J,MAAP;AACD,SAVD,EAUGke,uDAAuD,CAAC9lB,OAAxD,GAAkE,CAVrE;AAYArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,iBAAf,EAAkCgoB,oCAAoC,GAAG,SAASpI,gBAAT,CAA0Bje,OAA1B,EAAmC;AAC1G,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiB6J,MAAM,GAAG1J,GAA1B;AAAA,cAA+BoR,IAAI,GAAGpR,GAAtC;AAAA,cAA2CqoB,OAAO,GAAGroB,GAArD;AAGA0J,gBAAM,GAAG,EAAT;AACA0H,cAAI,GAAG,CAAP;;AACA,cAAI3Q,OAAO,CAAC,cAAc,KAAd,EAAqBe,OAArB,CAAD,CAAX,EAA4C;AAC1C4P,gBAAI,GAAGlR,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,EAAsCC,KAAtC,EAAP;AAAqD;;AAAA;;AACvD,cAAIxD,OAAO,CAAC2F,MAAM,CAACgL,IAAD,EAAO,CAAP,CAAP,CAAX,EAA8B;AAE5B1H,kBAAM,GAAGhK,QAAQ,CAACgK,MAAD,EAAS,KAAK,SAAL,GAAkB0H,IAAlB,GAA0B,GAAnC,CAAjB;AACAiX,mBAAO,GAAGxoB,IAAI,CAACsB,UAAL,CAAgBoB,UAAhB,CAA2B,EAA3B,CAAV;AACAmH,kBAAM,GAAGhK,QAAQ,CAACgK,MAAD,EAAShK,QAAQ,CAAC,KAAD,EAAQ2oB,OAAO,CAAC1d,KAAR,EAAR,CAAjB,CAAjB;AACAjB,kBAAM,GAAGhK,QAAQ,CAACgK,MAAD,EAAShK,QAAQ,CAAC,KAAD,EAAQG,IAAI,CAACof,mBAAL,CAAyBoJ,OAAzB,EAAkCjX,IAAlC,CAAR,CAAjB,CAAjB;AAAqF;;AAAA;AACvF,iBAAO1H,MAAP;AACD,SAfD,EAeGme,oCAAoC,CAAC/lB,OAArC,GAA+C,CAflD;AAiBArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,qBAAf,EAAsCioB,wCAAwC,GAAG,SAASzI,oBAAT,CAA8BgJ,OAA9B,EAAuCjX,IAAvC,EAA6C;AAC5H,cAAIvR,IAAI,GAAG,IAAX;AAAA,cAAiBmC,MAAM,GAAGhC,GAA1B;;AAGA,cAAIS,OAAO,CAAC4F,MAAM,CAACgiB,OAAD,EAAUjX,IAAV,CAAP,CAAX,EAAoC;AAClCpP,kBAAM,GAAG,IAAT;AACD,WAFD,MAEO;AACLA,kBAAM,GAAG,IAAT;AACD;;AAAA;AACD,iBAAOA,MAAP;AACD,SAVD,EAUG8lB,wCAAwC,CAAChmB,OAAzC,GAAmD,CAVtD;AAYArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oBAAf,EAAqCkoB,uCAAuC,GAAG,SAASO,mBAAT,GAA+B;AAC5G,cAAIzoB,IAAI,GAAG,IAAX;AAAA,cAAiB0oB,IAAI,GAAGvoB,GAAxB;AAAA,cAA6BiF,KAAK,GAAGjF,GAArC;AAGAuoB,cAAI,GAAG,KAAP;AACAtjB,eAAK,GAAG,CAAC,CAAC,CAAD,EAAI,iCAAJ,CAAD,EAAyC,CAAC,CAAD,EAAI,oBAAJ,CAAzC,EAAoE,CAAC,CAAD,EAAI,uBAAJ,CAApE,EAAkG,CAAC,CAAD,EAAI,wBAAJ,CAAlG,EAAiI,CAAC,CAAD,EAAI,sBAAJ,CAAjI,EAA8J,CAAC,CAAD,EAAI,iCAAJ,CAA9J,EAAsM,CAAC,CAAD,EAAI,gCAAJ,CAAtM,EAA6O,CAAC,CAAD,EAAI,+BAAJ,CAA7O,EAAmR,CAAC,CAAD,EAAI,gCAAJ,CAAnR,EAA0T,CAAC,EAAD,EAAK,8BAAL,CAA1T,CAAR;AACA,iBAAOpF,IAAI,CAAC2oB,sBAAL,CAA4BD,IAA5B,EAAkCtjB,KAAlC,CAAP;AACD,SAPD,EAOG8iB,uCAAuC,CAACjmB,OAAxC,GAAkD,CAPrD;AASArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,2BAAf,EAA4CmoB,8CAA8C,GAAG,SAASS,0BAAT,GAAsC;AACjI,cAAI5oB,IAAI,GAAG,IAAX;AAAA,cAAiB0oB,IAAI,GAAGvoB,GAAxB;AAAA,cAA6BiF,KAAK,GAAGjF,GAArC;AAGAuoB,cAAI,GAAG,SAAP;AACAtjB,eAAK,GAAG,CAAC,CAAC,CAAD,EAAI,+BAAJ,CAAD,EAAuC,CAAC,CAAD,EAAI,sCAAJ,CAAvC,EAAoF,CAAC,CAAD,EAAI,8BAAJ,CAApF,EAAyH,CAAC,CAAD,EAAI,uCAAJ,CAAzH,EAAuK,CAAC,CAAD,EAAI,sCAAJ,CAAvK,EAAoN,CAAC,CAAD,EAAI,qCAAJ,CAApN,EAAgQ,CAAC,CAAD,EAAI,6BAAJ,CAAhQ,EAAoS,CAAC,CAAD,EAAI,sCAAJ,CAApS,EAAiV,CAAC,CAAD,EAAI,0CAAJ,CAAjV,EAAkY,CAAC,EAAD,EAAK,2CAAL,CAAlY,CAAR;AACA,iBAAOpF,IAAI,CAAC2oB,sBAAL,CAA4BD,IAA5B,EAAkCtjB,KAAlC,CAAP;AACD,SAPD,EAOG+iB,8CAA8C,CAAClmB,OAA/C,GAAyD,CAP5D;AASArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,wBAAf,EAAyCooB,2CAA2C,GAAG,SAASS,uBAAT,CAAiCH,IAAjC,EAAuCtjB,KAAvC,EAA8C;AACnI,cAAIpF,IAAI,GAAG,IAAX;AAAA,cAAiBwC,IAAI,GAAGrC,GAAxB;AAAA,cAA6B0J,MAAM,GAAG1J,GAAtC;AAGAqC,cAAI,GAAGxC,IAAI,CAACsB,UAAL,CAAgBoB,UAAhB,CAA2B,EAA3B,CAAP;AACAmH,gBAAM,GAAG7J,IAAI,CAAC2F,oBAAL,CAA0BnD,IAA1B,EAAgC4C,KAAhC,CAAT;AACA,iBAAOpF,IAAI,CAAC8oB,iBAAL,CAAuBJ,IAAvB,EAA6BlmB,IAA7B,EAAmCqH,MAAnC,CAAP;AACD,SAPD,EAOGue,2CAA2C,CAACnmB,OAA5C,GAAsD,CAPzD;AAQA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,mBAAf,EAAoCqoB,sCAAsC,GAAG,SAASU,kBAAT,CAA4BL,IAA5B,EAAkClmB,IAAlC,EAAwCqH,MAAxC,EAAgD;AACnI,cAAI7J,IAAI,GAAG,IAAX;AAEA,iBAAO,KAAM0oB,IAAN,GAAc,GAAd,GAAqBlmB,IAArB,GAA6B,MAA7B,GAAuCqH,MAA9C;AACD,SAJO,EAILwe,sCAAsC,CAACpmB,OAAvC,GAAiD,CAJ5C,GAIgD9B,GAJjD,KAIyD,kBAJhE;AAKD,OArFD,EAqFGD,QAAQ,CAAC,CAAD,CArFX,EAqFgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CArFlB,EAqFsCA,QArFtC;AAsFD,KA3FD,EA2FGA,QAAQ,CAAC,CAAD,CA3FX,EA2FgBA,QA3FhB;AA4FD,GAjGM,CAiGJA,QAAQ,CAAC,CAAD,CAjGJ,EAiGSA,QAjGT,CAAP;AAkGD,CA9GD,EA8GGN,IA9GH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS+C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASuG,SAAT,CAAmBxG,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,WAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CioB,wBAA/C;AAGAppB,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,WAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,QAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,QAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,iCAA5C;AACA,eAAO,CAACN,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,cAAf,EAA+BgpB,wBAAwB,GAAG,SAASnS,aAAT,CAAuBvT,KAAvB,EAA8BC,WAA9B,EAA2CC,MAA3C,EAAmDC,MAAnD,EAA2D;AAC3H,cAAIzD,IAAI,GAAG,IAAX;AAAA,cAAiByJ,SAAS,GAAGtJ,GAA7B;;AAGA,cAAIsD,MAAM,CAAC,KAAD,CAAN,CAAc,GAAd,CAAJ,EAAwB;AACtB,mBAAOpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBwD,QAAvB,EAAP;AAAyC;;AAAA;;AAC3C,cAAIF,MAAM,CAAC,KAAD,CAAN,CAAc,IAAd,CAAJ,EAAyB,CACxB,CADD,MACO;AACL,mBAAOrD,GAAP;AACD;;AAAA;;AACD,cAAIS,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQG,MAAR,CAAP,CAAX,EAAoC;AAClC,gBAAI7C,OAAO,CAAE,YAAW;AAAC,kBAAIA,OAAO,CAAE6I,SAAS,GAAGjD,MAAM,CAAClD,KAAD,EAAQgD,SAAS,CAAC,EAAD,EAAK7C,MAAL,CAAjB,CAApB,CAAX,EAAiE;AACxF,uBAAOgG,SAAP;AACD,eAFwB,MAElB;AAEL,uBAAOnG,KAAK,CAAC,KAAD,CAAL,CAAaG,MAAb,CAAP;AACD;;AAAA;AAAE,qBAAOtD,GAAP;AAAa,aALJ,EAAD,CAAX,EAKsB;AACpB,qBAAOE,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuByD,SAAvB,CAAiC,QAAjC,CAAP;AACD,aAPD,MAOO;AACL,qBAAOtD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,IAAhC,CAAP;AACD;AACF,WAXD,MAWO,IAAIN,KAAK,CAAC,KAAD,CAAL,CAAa,EAAb,CAAJ,EAAsB;AAC3B,mBAAOjD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB2D,OAAvB,CAA+B,OAA/B,CAAP;AACD,WAFM,MAEA;AACL,mBAAOxD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4D,QAAvB,CAAgC,IAAhC,CAAP;AACD;;AAAA;AACF,SA1BO,EA0BLklB,wBAAwB,CAAC/mB,OAAzB,GAAmC,CA1B9B,GA0BkC9B,GA1BnC,KA0B2C,aA1BlD;AA2BD,OArCD,EAqCGD,QAAQ,CAAC,CAAD,CArCX,EAqCgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CArClB,EAqCsCA,QArCtC;AAsCD,KA3CD,EA2CGA,QAAQ,CAAC,CAAD,CA3CX,EA2CgBA,QA3ChB;AA4CD,GAjDM,CAiDJA,QAAQ,CAAC,CAAD,CAjDJ,EAiDSA,QAjDT,CAAP;AAkDD,CA9DD,EA8DGN,IA9DH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASC,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASuG,SAAT,CAAmBxG,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASwG,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAAA,MAAqJqI,KAAK,GAAGtJ,IAAI,CAACuJ,IAAlK;AAAA,MAAwKkC,MAAM,GAAGzL,IAAI,CAAC0L,KAAtL;AAEA,SAAQ,UAASxK,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,QAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CkoB,2CAA/C;AAAA,YAA4FC,iBAA5F;AAAA,YAA+GC,iCAA/G;AAAA,YAAkJC,0BAAlJ;AAAA,YAA8KC,eAA9K;AAEArpB,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,QAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,OAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,OAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,wBAAL,GAAgC,qDAAhC,GAAwF,2DAAxF,GAAsJ,8CAAlM;AACAF,YAAI,CAACwB,gBAAL,CAAsB,IAAtB,EAA4B,GAA5B,EAAiC,GAAjC;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqDipB,2CAA2C,GAAG,SAAS/mB,mCAAT,CAA6CP,OAA7C,EAAsD;AACvJ,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiByJ,SAAS,GAAGtJ,GAA7B;AAAA,cAAkCyJ,SAAS,GAAGzJ,GAA9C;;AAEA,cAAIS,OAAO,CAAE6I,SAAS,GAAI,YAAW;AAAC,gBAAI7I,OAAO,CAAEgJ,SAAS,GAAG5J,IAAI,CAACspB,QAAL,CAAc3nB,OAAd,CAAd,CAAX,EAAmD;AACvF,qBAAOiI,SAAP;AACD,aAFqC,MAE/B;AACL,qBAAO5J,IAAI,CAACupB,iBAAL,CAAuB5nB,OAAvB,CAAP;AACD;;AAAA;AAAE,mBAAOxB,GAAP;AAAa,WAJS,EAAd,CAAX,EAIuB;AACrB,mBAAOsJ,SAAP;AACD,WAND,MAMO;AACL,mBAAOzJ,IAAI,CAACwpB,wBAAL,CAA8B7nB,OAA9B,CAAP;AACD;AACF,SAZD,EAYGsnB,2CAA2C,CAAChnB,OAA5C,GAAsD,CAZzD;AAaAjC,YAAI,CAACqN,QAAL;AAEAzN,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,UAAf,EAA2BkpB,iBAAiB,GAAG,SAASO,SAAT,CAAmB9nB,OAAnB,EAA4B;AACzE,cAAIuI,GAAJ;AAAA,cAASsE,IAAT;AAAA,cAAcxO,IAAI,GAAG,IAArB;AAAA,cAA2ByH,CAAC,GAAGtH,GAA/B;AAAA,cAAoC+N,UAAU,GAAG/N,GAAjD;AAAA,cAAsDyE,SAAS,GAAGzE,GAAlE;AAAA,cAAuEupB,MAAM,GAAGvpB,GAAhF;;AAGAsH,WAAC,GAAG,YAAYU,MAAZ,CAAmBxG,OAAnB,CAAJ;;AACA,cAAIf,OAAO,CAAC6G,CAAD,CAAX,EAAgB,CACf,CADD,MACO;AACL,mBAAOtH,GAAP;AACD;;AAAA;AACD+N,oBAAU,GAAGzG,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,EAAYrD,KAAZ,EAAb;AACAQ,mBAAS,GAAG5E,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+BmJ,UAA/B,EAA2C,CAA3C,CAAZ;AACAwb,gBAAM,GAAG,CAACvpB,GAAD,EAAM,CAAN,EAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,CAAT;AACA+I,eAAK,CAACtE,SAAD,EAAY,MAAZ,EAAoB,EAApB,GAAyBsF,GAAG,GAAG,aAASyf,GAAT,EAAa;AAAC,gBAAI3pB,IAAI,GAAGkK,GAAG,CAACW,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyBX,GAAG,CAACW,GAAxC;AAAA,gBAA6CwI,OAAO,GAAGlT,GAAvD;;AAIhD,gBAAIwpB,GAAG,IAAI,IAAX,EAAiB;AACfA,iBAAG,GAAGxpB,GAAN;AACD;;AAAA;AACDkT,mBAAO,GAAG,CAACsW,GAAD,EAAM9pB,QAAQ,CAAC6pB,MAAM,CAAC,KAAD,CAAN,CAAcC,GAAd,CAAD,EAAqB,CAArB,CAAd,CAAV;AACAzgB,iBAAK,CAACwgB,MAAD,EAAS,KAAT,EAAgB9pB,IAAI,CAACsN,IAAL,CAAUmG,OAAV,CAAhB,CAAL;AACA,mBAAOA,OAAO,CAAC/M,SAAS,CAAC+M,OAAO,CAAC,QAAD,CAAR,EAAoB,CAApB,CAAV,CAAd;AAAiD,WATrB,EASuBnJ,GAAG,CAACW,GAAJ,GAAU7K,IATjC,EASuCkK,GAAG,CAACjI,OAAJ,GAAc,CATrD,EASwDiI,GATjF,EAAL;AAUAhB,eAAK,CAACwgB,MAAD,EAAS,MAAT,EAAiB,EAAjB,GAAsBlb,IAAG,GAAG,aAAS8P,KAAT,EAAe;AAAC,gBAAIte,IAAI,GAAGwO,IAAG,CAAC3D,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyB2D,IAAG,CAAC3D,GAAxC;;AAI/C,gBAAIyT,KAAK,IAAI,IAAb,EAAmB;AACjBA,mBAAK,GAAGne,GAAR;AACD;;AAAA;AACD,mBAAOH,IAAI,CAAC6mB,UAAL,CAAgB,iBAAhB,EAAmCxb,MAAM,CAAC,CAAC,OAAD,CAAD,EAAY;AAAC,uBAASiT;AAAV,aAAZ,CAAzC,CAAP;AAAgF,WAPvD,EAOyD9P,IAAG,CAAC3D,GAAJ,GAAU7K,IAPnE,EAOyEwO,IAAG,CAACvM,OAAJ,GAAc,CAPvF,EAO0FuM,IAPhH,EAAL;AAQA,iBAAO,KAAK,OAAL,GAAgBkb,MAAM,CAAC,KAAD,CAAN,CAAc,CAAd,CAAhB,GAAoC,SAApC,GAAiDA,MAAM,CAAC,KAAD,CAAN,CAAc,CAAd,CAAjD,GAAqE,SAArE,GAAkFA,MAAM,CAAC,KAAD,CAAN,CAAc,CAAd,CAAlF,GAAsG,SAAtG,GAAmHA,MAAM,CAAC,KAAD,CAAN,CAAc,CAAd,CAAnH,GAAuI,SAAvI,GAAoJA,MAAM,CAAC,KAAD,CAAN,CAAc,CAAd,CAApJ,GAAwK,SAAxK,GAAqLA,MAAM,CAAC,KAAD,CAAN,CAAc,CAAd,CAA5L;AACD,SA/BD,EA+BGR,iBAAiB,CAACjnB,OAAlB,GAA4B,CA/B/B;AAiCArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,0BAAf,EAA2CmpB,iCAAiC,GAAG,SAASS,yBAAT,CAAmCjoB,OAAnC,EAA4C;AACzH,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiByH,CAAC,GAAGtH,GAArB;AAAA,cAA0BwY,CAAC,GAAGxY,GAA9B;AAAA,cAAmCgC,MAAM,GAAGhC,GAA5C;AAGAsH,WAAC,GAAG,gBAAgBU,MAAhB,CAAuBxG,OAAvB,CAAJ;;AACA,cAAIf,OAAO,CAAC6G,CAAD,CAAX,EAAgB,CACf,CADD,MACO;AACL,mBAAOtH,GAAP;AACD;;AAAA;AACDwY,WAAC,GAAGtY,EAAE,CAACH,QAAD,EAAW,MAAX,CAAF,CAAqB4L,IAArB,CAA0B9L,IAAI,CAAC6pB,MAAL,CAAYpiB,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,CAAZ,CAA1B,EAAoDA,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,EAAYrD,KAAZ,EAApD,CAAJ;AACAjC,gBAAM,GAAGwW,CAAC,CAACmR,KAAF,CAAQ9pB,IAAI,CAACsB,UAAb,CAAT;AACA,iBAAO,KAAMa,MAAN,GAAgB,KAAhB,GAAyBwW,CAAC,CAACkR,MAAF,EAAzB,GAAwClR,CAAC,CAACoR,MAAF,EAA/C;AACD,SAZD,EAYGZ,iCAAiC,CAAClnB,OAAlC,GAA4C,CAZ/C;AAcArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,mBAAf,EAAoCopB,0BAA0B,GAAG,SAASY,kBAAT,CAA4BroB,OAA5B,EAAqC;AACpG,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiByH,CAAC,GAAGtH,GAArB;AAAA,cAA0BiC,KAAK,GAAGjC,GAAlC;AAAA,cAAuCwY,CAAC,GAAGxY,GAA3C;AAAA,cAAgD8pB,QAAQ,GAAG9pB,GAA3D;AAAA,cAAgEyY,CAAC,GAAGzY,GAApE;AAAA,cAAyE+pB,QAAQ,GAAG/pB,GAApF;AAGAsH,WAAC,GAAG,2BAA2BU,MAA3B,CAAkCxG,OAAlC,CAAJ;;AACA,cAAIf,OAAO,CAAC6G,CAAD,CAAX,EAAgB,CACf,CADD,MACO;AACL,mBAAOtH,GAAP;AACD;;AAAA;AACDiC,eAAK,GAAGT,OAAR;;AACA,cAAI,aAAa,MAAb,EAAqBS,KAArB,CAAJ,EAAiC;AAAC,mBAAO,KAAMT,OAAN,GAAiB,GAAjB,GAAwB3B,IAAI,CAAC6mB,UAAL,CAAgB,iCAAhB,CAA/B;AAAmF,WAArH,MACK,IAAI,aAAa,MAAb,EAAqBzkB,KAArB,CAAJ,EAAiC;AAAC,mBAAO,KAAMT,OAAN,GAAiB,GAAjB,GAAwB3B,IAAI,CAAC6mB,UAAL,CAAgB,iCAAhB,CAA/B;AAAmF;;AAAA;AAC1HlO,WAAC,GAAGtY,EAAE,CAACH,QAAD,EAAW,MAAX,CAAF,CAAqB4L,IAArB,CAA0B9L,IAAI,CAAC6pB,MAAL,CAAYpiB,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,CAAZ,CAA1B,EAAoDA,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,EAAYrD,KAAZ,EAApD,CAAJ;AACA6lB,kBAAQ,GAAGtR,CAAC,CAACmR,KAAF,CAAQ9pB,IAAI,CAACsB,UAAb,CAAX;AACAsX,WAAC,GAAGvY,EAAE,CAACH,QAAD,EAAW,MAAX,CAAF,CAAqB4L,IAArB,CAA0B9L,IAAI,CAAC6pB,MAAL,CAAYpiB,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,CAAZ,CAA1B,EAAoDA,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,EAAYrD,KAAZ,EAApD,CAAJ;AACA8lB,kBAAQ,GAAGtR,CAAC,CAACkR,KAAF,CAAQ9pB,IAAI,CAACsB,UAAb,CAAX;AACA,iBAAO,KAAM2oB,QAAN,GAAkB,GAAlB,GAAyBC,QAAzB,GAAqC,KAArC,GAA8CvR,CAAC,CAACwR,KAAF,CAAQvR,CAAR,CAArD;AACD,SAjBD,EAiBGwQ,0BAA0B,CAACnnB,OAA3B,GAAqC,CAjBxC;AAmBArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,QAAf,EAAyBqpB,eAAe,GAAG,SAASe,OAAT,CAAiBxO,CAAjB,EAAoB;AAC7D,cAAI5b,IAAI,GAAG,IAAX;;AAEA,cAAI4b,CAAC,CAAC,KAAD,CAAD,CAAS,GAAT,CAAJ,EAAmB;AACjB,mBAAO5b,IAAI,CAAC6mB,UAAL,CAAgB,cAAhB,CAAP;AACD,WAFD,MAEO;AACL,mBAAO7mB,IAAI,CAAC6mB,UAAL,CAAgB,cAAhB,CAAP;AACD;AACF,SARD,EAQGwC,eAAe,CAACpnB,OAAhB,GAA0B,CAR7B;AASA,eAAQ,UAASnB,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AAC/C,cAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,MAAhB,CAAjB;AAEA,cAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,cAA+CspB,kBAA/C;AAAA,cAAmEC,YAAnE;AAAA,cAAiFC,aAAjF;AAEAvqB,cAAI,CAACqB,WAAL,CAAiBid,KAAjB,GAAyBte,IAAI,CAACqB,WAAL,CAAiBuD,SAAjB,GAA6B5E,IAAI,CAACqB,WAAL,CAAiBmpB,KAAjB,GAAyBxqB,IAAI,CAACqB,WAAL,CAAiBiC,KAAjB,GAAyBnD,GAAxG;AAGAP,cAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8BqqB,kBAAkB,GAAG,SAAS3oB,YAAT,CAAsB8oB,KAAtB,EAA6BlM,KAA7B,EAAoC;AACrF,gBAAIte,IAAI,GAAG,IAAX;AAGAA,gBAAI,CAACwqB,KAAL,GAAaA,KAAb;AACA,mBAAQxqB,IAAI,CAACse,KAAL,GAAaA,KAArB;AACD,WAND,EAMG+L,kBAAkB,CAACpoB,OAAnB,GAA6B,CANhC;AAQArC,cAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,OAAf,EAAwBsqB,YAAY,GAAG,SAASG,MAAT,CAAgBnpB,UAAhB,EAA4B;AACjE,gBAAItB,IAAI,GAAG,IAAX;;AAGAA,gBAAI,CAAC4E,SAAL,GAAkB,YAAW;AAAC,kBAAI5E,IAAI,CAACse,KAAL,CAAW,KAAX,EAAkB,CAAlB,CAAJ,EAA0B;AACtD,uBAAO,CAAC,CAAD,CAAP;AACD,eAF6B,MAEvB;AACL,uBAAOhd,UAAU,CAACyD,cAAX,CAA0B/E,IAAI,CAACse,KAA/B,EAAsC,CAAtC,CAAP;AACD;;AAAA;AAAE,qBAAOne,GAAP;AAAa,aAJC,EAAjB;;AAKAH,gBAAI,CAACsD,KAAL,GAAatD,IAAI,CAAC4E,SAAL,CAAeI,IAAf,EAAb;AACA,mBAAO,KAAMhF,IAAI,CAACwqB,KAAX,GAAqBxqB,IAAI,CAACsD,KAA1B,GAAmC,GAAnC,GAA0CtD,IAAI,CAAC4E,SAAL,CAAeK,KAAf,CAAqB,GAArB,CAA1C,GAAuE,GAA9E;AACD,WAXD,EAWGqlB,YAAY,CAACroB,OAAb,GAAuB,CAX1B;AAaArC,cAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,OAAf,EAAwBuqB,aAAa,GAAG,SAASG,MAAT,CAAgBC,KAAhB,EAAuB;AAC7D,gBAAI3qB,IAAI,GAAG,IAAX;;AAEA,gBAAIA,IAAI,CAACsD,KAAL,CAAW,KAAX,EAAkBqnB,KAAK,CAACZ,MAAN,EAAlB,CAAJ,EAAuC;AACrC,qBAAO,GAAP;AACD,aAFD,MAEO,IAAInpB,OAAO,CAAC2F,MAAM,CAACvG,IAAI,CAACsD,KAAN,EAAaqnB,KAAK,CAACZ,MAAN,EAAb,CAAP,CAAX,EAAiD;AACtD,qBAAO,KAAM/pB,IAAI,CAACwqB,KAAX,GAAqBlkB,SAAS,CAACtG,IAAI,CAACsD,KAAN,EAAaqnB,KAAK,CAACZ,MAAN,EAAb,CAArC;AACD,aAFM,MAEA;AACL,qBAAO,KAAMY,KAAK,CAACd,MAAN,EAAN,GAAyBvjB,SAAS,CAACqkB,KAAK,CAACZ,MAAN,EAAD,EAAiB/pB,IAAI,CAACsD,KAAtB,CAAzC;AACD;AACF,WAVD,EAUGinB,aAAa,CAACtoB,OAAd,GAAwB,CAV3B;AAWA,iBAAOjC,IAAI,CAAC4qB,YAAL,CAAkB,OAAlB,EAA2B,OAA3B,CAAP;AACD,SAzCM,CAyCJ1qB,QAAQ,CAAC,CAAD,CAzCJ,EAyCS,IAzCT,EAyCeA,QAzCf,CAAP;AA0CD,OAjJD,EAiJGA,QAAQ,CAAC,CAAD,CAjJX,EAiJgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAjJlB,EAiJsCA,QAjJtC;AAkJD,KAvJD,EAuJGA,QAAQ,CAAC,CAAD,CAvJX,EAuJgBA,QAvJhB;AAwJD,GA7JM,CA6JJA,QAAQ,CAAC,CAAD,CA7JJ,EA6JSA,QA7JT,CAAP;AA8JD,CA1KD,EA0KGN,IA1KH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASwL,UAAT,CAAoBtL,GAApB,EAAyBC,GAAzB,EAA8B;AAC5B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASiJ,SAAT,CAAmBlJ,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAAA,MAAmJC,OAAO,GAAGhB,IAAI,CAACiB,MAAlK;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,YAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C8pB,wBAA/C;AAAA,YAAyEC,wBAAzE;AAGAlrB,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,YAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,oBAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,SAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,yDAAL,GAAiE,+BAA7G;AAEAN,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8B6qB,wBAAwB,GAAG,SAASnpB,YAAT,CAAsBC,OAAtB,EAA+B;AACtF,cAAIC,KAAK,GAAGipB,wBAAwB,CAAChpB,GAArC;AAAA,cAA0CC,MAAM,GAAGF,KAAK,IAAIzB,GAA5D;AAAA,cAAiEH,IAAI,GAAG,IAAxE;AAEA,cAAI4B,KAAJ,EAAWipB,wBAAwB,CAAChpB,GAAzB,GAA+B,IAA/B;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+C6qB,wBAA/C,EAAyE,KAAzE,EAAgF,IAAhF,CAAP,EAA8F,YAA9F,EAA4G,CAAClpB,OAAD,CAA5G,EAAuH,IAAvH,CAAN;AACA3B,cAAI,CAACiO,aAAL,GAAqB,IAArB;AACAjO,cAAI,CAAC+qB,kBAAL,GAA0B,IAA1B;AACA/qB,cAAI,CAACgrB,4BAAL,GAAoC,CAApC;AACAhrB,cAAI,CAACirB,cAAL,GAAsB,IAAtB;AACA,iBAAQjrB,IAAI,CAACkrB,qBAAL,GAA6B,CAArC;AACD,SAXD,EAWGL,wBAAwB,CAAC5oB,OAAzB,GAAmC,CAXtC;AAYA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8B8qB,wBAAwB,GAAG,SAASK,YAAT,CAAsBC,WAAtB,EAAmCC,cAAnC,EAAmDxb,YAAnD,EAAiE;AAChI,cAAI7P,IAAI,GAAG,IAAX;AAAA,cAAiBsrB,mBAAmB,GAAGnrB,GAAvC;AAGAmrB,6BAAmB,GAAGlgB,UAAU,CAACpC,SAAS,CAAC,GAAD,EAAMqiB,cAAN,CAAV,EAAiC,CAAjC,CAAhC;AACArrB,cAAI,CAACqC,MAAL,CAAY,qBAAZ,EAAmCipB,mBAAnC;;AACA,cAAI1qB,OAAO,CAAC4F,MAAM,CAAC4kB,WAAD,EAAcE,mBAAd,CAAP,CAAX,EAAuD,CACtD,CADD,MACO;AACL,mBAAOnrB,GAAP;AACD;;AAAA;;AACD,cAAI0P,YAAY,CAAC,KAAD,CAAZ,CAAoB,CAApB,CAAJ,EAA4B;AAC1B,mBAAO,YAAP;AACD,WAFD,MAEO;AACL,mBAAO,MAAP;AACD;;AAAA;AACF,SAfO,EAeLib,wBAAwB,CAAC7oB,OAAzB,GAAmC,CAf9B,GAekC9B,GAfnC,KAe2C,YAflD;AAgBD,OAvCD,EAuCGD,QAAQ,CAAC,CAAD,CAvCX,EAuCgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAvClB,EAuCsCA,QAvCtC;AAwCD,KA7CD,EA6CGA,QAAQ,CAAC,CAAD,CA7CX,EA6CgBA,QA7ChB;AA8CD,GAnDM,CAmDJA,QAAQ,CAAC,CAAD,CAnDJ,EAmDSA,QAnDT,CAAP;AAoDD,CAhED,EAgEGN,IAhEH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,MAAII,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAEA,SAAQ,UAASG,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,YAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CwqB,wBAA/C;AAGA3rB,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,YAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,SAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,SAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,+BAAL,GAAuC,2BAAnF;AACA,eAAO,CAACN,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8BurB,wBAAwB,GAAG,SAAS7pB,YAAT,CAAsBC,OAAtB,EAA+B;AAC9F,cAAIC,KAAK,GAAG2pB,wBAAwB,CAAC1pB,GAArC;AAAA,cAA0CC,MAAM,GAAGF,KAAK,IAAIzB,GAA5D;AAAA,cAAiEH,IAAI,GAAG,IAAxE;AAEA,cAAI4B,KAAJ,EAAW2pB,wBAAwB,CAAC1pB,GAAzB,GAA+B,IAA/B;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+CurB,wBAA/C,EAAyE,KAAzE,EAAgF,IAAhF,CAAP,EAA8F,YAA9F,EAA4G,CAAC5pB,OAAD,CAA5G,EAAuH,IAAvH,CAAN;AACA,iBAAQ3B,IAAI,CAACmQ,aAAL,GAAqB/P,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,aAAX,CAAH,EAA8B,KAA9B,CAAhC;AACD,SAPO,EAOLqrB,wBAAwB,CAACtpB,OAAzB,GAAmC,CAP9B,GAOkC9B,GAPnC,KAO2C,YAPlD;AAQD,OAlBD,EAkBGD,QAAQ,CAAC,CAAD,CAlBX,EAkBgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAlBlB,EAkBsCA,QAlBtC;AAmBD,KAxBD,EAwBGA,QAAQ,CAAC,CAAD,CAxBX,EAwBgBA,QAxBhB;AAyBD,GA9BM,CA8BJA,QAAQ,CAAC,CAAD,CA9BJ,EA8BSA,QA9BT,CAAP;AA+BD,CAlCD,EAkCGN,IAlCH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS2G,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAAS4C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASF,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASiJ,SAAT,CAAmBlJ,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAAA,MAAmJC,OAAO,GAAGhB,IAAI,CAACiB,MAAlK;AAAA,MAA0KqI,KAAK,GAAGtJ,IAAI,CAACuJ,IAAvL;AAEA,SAAQ,UAASrI,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,UAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CyqB,sBAA/C;AAAA,YAAuEC,6CAAvE;AAAA,YAAsHC,qBAAtH;AAEA1rB,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,UAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,YAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,cAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,kBAAL,GAA0B,wBAA1B,GAAqD,aAArD,GAAqE,IAArE,GAA4E,kCAA5E,GAAiH,gBAAjH,GAAoI,wBAApI,GAA+J,iDAA/J,GAAmN,0BAAnN,GAAgP,8BAAhP,GAAiR,uCAAjR,GAA2T,IAA3T,GAAkU,SAAlU,GAA8U,sBAA9U,GAAuW,iCAAvW,GAA2Y,kCAA3Y,GAAgb,oCAAhb,GAAud,kDAAngB;AACAF,YAAI,CAACwB,gBAAL,CAAsB,QAAtB;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8BwrB,sBAAsB,GAAG,SAAS9pB,YAAT,CAAsBC,OAAtB,EAA+B;AACpF,cAAIC,KAAK,GAAG4pB,sBAAsB,CAAC3pB,GAAnC;AAAA,cAAwCC,MAAM,GAAGF,KAAK,IAAIzB,GAA1D;AAAA,cAA+DH,IAAI,GAAG,IAAtE;AAEA,cAAI4B,KAAJ,EAAW4pB,sBAAsB,CAAC3pB,GAAvB,GAA6B,IAA7B;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+CwrB,sBAA/C,EAAuE,KAAvE,EAA8E,IAA9E,CAAP,EAA4F,YAA5F,EAA0G,CAAC7pB,OAAD,CAA1G,EAAqH,IAArH,CAAN;AACA,iBAAQ3B,IAAI,CAACiO,aAAL,GAAqB,IAA7B;AACD,SAPD,EAOGud,sBAAsB,CAACvpB,OAAvB,GAAiC,CAPpC;AASArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqDyrB,6CAA6C,GAAG,SAASvpB,mCAAT,CAA6CP,OAA7C,EAAsD;AACzJ,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiBwJ,SAAS,GAAGrJ,GAA7B;AAAA,cAAkCsD,MAAM,GAAGtD,GAA3C;AAAA,cAAgD6D,MAAM,GAAG7D,GAAzD;AAAA,cAA8DsJ,SAAS,GAAGtJ,GAA1E;AAAA,cAA+EmP,eAAe,GAAGnP,GAAjG;AAAA,cAAsGyJ,SAAS,GAAGzJ,GAAlH;AAAA,cAAuHoP,cAAc,GAAGpP,GAAxI;AAAA,cAA6I6K,SAAS,GAAG7K,GAAzJ;;AAGA,cAAIS,OAAO,CAACe,OAAO,CAAC,KAAD,CAAP,CAAe,iDAAf,CAAD,CAAX,EAAgF;AAE9E6H,qBAAS,GAAGnJ,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,EAAsCC,KAAtC,EAAZ;AACAX,kBAAM,GAAGpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,EAAsCC,KAAtC,EAAT;;AACAJ,kBAAM,GAAI,YAAW;AAAC,kBAAIpD,OAAO,CAAE6I,SAAS,GAAGpJ,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAAd,CAAX,EAAkE;AACtF,uBAAOsF,SAAP;AACD,eAFqB,MAEf;AACL,uBAAO,CAAP;AACD;;AAAA;AAAE,qBAAOtJ,GAAP;AAAa,aAJP,GAIWiE,KAJX,EAAT;;AAKAkL,2BAAe,GAAI,YAAW;AAAC,kBAAI1O,OAAO,CAAEgJ,SAAS,GAAGvJ,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAAd,CAAX,EAAkE;AAC/F,uBAAOyF,SAAP;AACD,eAF8B,MAExB;AACL,uBAAO,CAAP;AACD;;AAAA;AAAE,qBAAOzJ,GAAP;AAAa,aAJE,GAIEiE,KAJF,EAAlB;;AAKAmL,0BAAc,GAAI,YAAW;AAAC,kBAAI3O,OAAO,CAAEoK,SAAS,GAAG3K,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAAd,CAAX,EAAkE;AAC9F,uBAAO6G,SAAP;AACD,eAF6B,MAEvB;AACL,uBAAO,CAAP;AACD;;AAAA;AAAE,qBAAO7K,GAAP;AAAa,aAJC,GAIGiE,KAJH,EAAjB;;AAKA,gBAAIxD,OAAO,CAAC2F,MAAM,CAACgJ,cAAD,EAAiB,CAAjB,CAAP,CAAX,EAAwC;AACtCA,4BAAc,GAAG,CAAjB;AAAmB;;AAAA;AACrB,mBAAOvP,IAAI,CAACgK,UAAL,CAAgBR,SAAhB,EAA2B/F,MAA3B,EAAmCO,MAAnC,EAA2CsL,eAA3C,EAA4DC,cAA5D,CAAP;AAAoF;;AAAA;AACtF,iBAAOpP,GAAP;AACD,SA3BD,EA2BGsrB,6CAA6C,CAACxpB,OAA9C,GAAwD,CA3B3D;AA4BA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,YAAf,EAA6B0rB,qBAAqB,GAAG,SAASzhB,WAAT,CAAqBT,SAArB,EAAgC/F,MAAhC,EAAwCO,MAAxC,EAAgDsL,eAAhD,EAAiEC,cAAjE,EAAiF;AAC5I,cAAIhI,EAAJ;AAAA,cAAQiH,GAAR;AAAA,cAAaC,IAAb;AAAA,cAAkBzO,IAAI,GAAG,IAAzB;AAAA,cAA+B0P,iBAAiB,GAAGvP,GAAnD;AAAA,cAAwDwP,kBAAkB,GAAGxP,GAA7E;AAAA,cAAkF2E,IAAI,GAAG3E,GAAzF;AAAA,cAA8FyP,SAAS,GAAGzP,GAA1G;AAAA,cAA+GmK,SAAS,GAAGnK,GAA3H;AAAA,cAAgI0E,QAAQ,GAAG1E,GAA3I;AAAA,cAAgJ0P,YAAY,GAAG1P,GAA/J;AAAA,cAAoK2P,aAAa,GAAG3P,GAApL;AAAA,cAAyLgC,MAAM,GAAGhC,GAAlM;AAAA,cAAuM4P,QAAQ,GAAG5P,GAAlN;AAAA,cAAuN6P,WAAW,GAAG7P,GAArO;;AAGAuP,2BAAiB,GAAG,CAApB;AACAC,4BAAkB,GAAG,CAArB;AACA7K,cAAI,GAAG,EAAP;AACA8K,mBAAS,GAAGpG,SAAZ;;AACA,iBAAO5I,OAAO,CAAC2F,MAAM,CAACqJ,SAAD,EAAY,CAAZ,CAAP,CAAd,EAAsC;AAEpCtF,qBAAS,GAAGtK,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+B6K,SAA/B,EAA0C,EAA1C,EAA8CvB,KAA9C,EAAZ;AACAxJ,oBAAQ,GAAGyF,SAAS,CAACrF,KAAV,CAAgB,GAAhB,CAAX;AACA4K,wBAAY,GAAG3G,KAAK,CAACoB,SAAD,EAAY,OAAZ,EAAqB,EAArB,GAA0BkE,GAAG,GAAG,aAAS5D,CAAT,EAAW;AAAC,kBAAI5K,IAAI,GAAGwO,GAAG,CAAC3D,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyB2D,GAAG,CAAC3D,GAAxC;;AAI9D,kBAAID,CAAC,IAAI,IAAT,EAAe;AACbA,iBAAC,GAAGzK,GAAJ;AACD;;AAAA;AACD,qBAAOwC,MAAM,CAACiI,CAAD,EAAInH,MAAJ,CAAb;AAA0B,aAPkB,EAOhB+K,GAAG,CAAC3D,GAAJ,GAAU7K,IAPM,EAOAwO,GAAG,CAACvM,OAAJ,GAAc,CAPd,EAOiBuM,GAP3C,EAApB;AAQAsB,yBAAa,GAAG5G,KAAK,CAACoB,SAAD,EAAY,OAAZ,EAAqB,EAArB,GAA0BmE,IAAG,GAAG,aAAS7D,CAAT,EAAW;AAAC,kBAAI5K,IAAI,GAAGyO,IAAG,CAAC5D,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyB4D,IAAG,CAAC5D,GAAxC;;AAI/D,kBAAID,CAAC,IAAI,IAAT,EAAe;AACbA,iBAAC,GAAGzK,GAAJ;AACD;;AAAA;AACD,qBAAOwC,MAAM,CAACiI,CAAD,EAAI2E,cAAJ,CAAb;AAAkC,aAPW,EAOTd,IAAG,CAAC5D,GAAJ,GAAU7K,IAPD,EAOOyO,IAAG,CAACxM,OAAJ,GAAc,CAPrB,EAOwBwM,IAPlD,EAArB;AAQAiB,6BAAiB,GAAG7P,QAAQ,CAAC6P,iBAAD,EAAoBG,YAApB,CAA5B;AACAF,8BAAkB,GAAG9P,QAAQ,CAAC8P,kBAAD,EAAqBG,aAArB,CAA7B;;AACA,gBAAIlP,OAAO,CAACkE,IAAI,CAAC,SAAD,CAAJ,EAAD,CAAX,EAAgC,CAC/B,CADD,MACO;AACLA,kBAAI,GAAGjF,QAAQ,CAACiF,IAAD,EAAO,GAAP,CAAf;AACD;;AAAA;AACDA,gBAAI,GAAGjF,QAAQ,CAACiF,IAAD,EAAO,KAAM+K,YAAN,GAAsB,GAAtB,GAA6BhL,QAA7B,GAAyC,GAAhD,CAAf;AACA+K,qBAAS,GAAGE,aAAZ;AACD;;AAAA;AACD3N,gBAAM,GAAG,EAAT;AACA4N,kBAAQ,GAAG/L,MAAM,CAAC,KAAD,CAAN,CAAc,CAAd,CAAX;;AACA,cAAIpD,OAAO,CAACmP,QAAD,CAAX,EAAuB;AAErBC,uBAAW,GAAGnQ,QAAQ,CAACmJ,SAAS,CAAC0G,iBAAD,EAAoB1L,MAApB,CAAV,EAAuCgF,SAAS,CAAC2G,kBAAD,EAAqBL,eAArB,CAAhD,CAAtB;AACAnN,kBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,GAAL,GAAYqH,SAAZ,GAAyB,OAAzB,GAAoC/F,MAApC,GAA8C,MAA9C,GAAwDqB,IAAxD,GAAgE,UAAhE,GAA8E4K,iBAA9E,GAAmG,GAAnG,GAA0G1L,MAAnH,CAAjB;;AACA,gBAAIpD,OAAO,CAAC2F,MAAM,CAAC+I,eAAD,EAAkB,CAAlB,CAAP,CAAX,EAAyC;AACvCnN,oBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,aAAL,GAAsBwN,kBAAtB,GAA4C,GAA5C,GAAmDL,eAA5D,CAAjB;AAA+F;;AAAA;AACjGnN,kBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,KAAL,GAAc6N,WAAd,GAA6B,MAAtC,CAAjB;AACD,WAPD,MAOO;AACL7N,kBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,GAAL,GAAYqH,SAAZ,GAAyB,OAAzB,GAAoC/F,MAApC,GAA8C,MAA9C,GAAwDqB,IAAxD,GAAgE,SAAhE,GAA6E4K,iBAAtF,CAAjB;AACD;;AAAA;;AACD,cAAI9O,OAAO,CAAC2F,MAAM,CAACoJ,kBAAD,EAAqB,CAArB,CAAP,CAAX,EAA4C;AAC1CxN,kBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,KAAL,GAAcwN,kBAAd,GAAoC,QAA7C,CAAjB;AAAwE;;AAAA;AAC1E,iBAAOxN,MAAP;AACD,SApDO,EAoDLupB,qBAAqB,CAACzpB,OAAtB,GAAgC,CApD3B,GAoD+B9B,GApDhC,KAoDwC,WApD/C;AAqDD,OAvGD,EAuGGD,QAAQ,CAAC,CAAD,CAvGX,EAuGgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAvGlB,EAuGsCA,QAvGtC;AAwGD,KA7GD,EA6GGA,QAAQ,CAAC,CAAD,CA7GX,EA6GgBA,QA7GhB;AA8GD,GAnHM,CAmHJA,QAAQ,CAAC,CAAD,CAnHJ,EAmHSA,QAnHT,CAAP;AAoHD,CAnID,EAmIGN,IAnIH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASC,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAAS4C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASkJ,MAAT,CAAgBnJ,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASwG,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASuG,SAAT,CAAmBxG,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HyI,KAAK,GAAGtJ,IAAI,CAACuJ,IAA3I;AAAA,MAAiJvI,OAAO,GAAGhB,IAAI,CAACiB,MAAhK;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,OAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C4qB,sBAA/C;AAAA,YAAuEC,kBAAvE;AAAA,YAA2FC,oBAA3F;AAAA,YAAiHC,6BAAjH;AAAA,YAAgJC,iBAAhJ;AAAA,YAAmKC,cAAnK;AAAA,YAAmLC,0CAAnL;AAEAjsB,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,OAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,uCAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,sBAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,yBAAL,GAAiC,uBAAjC,GAA2D,iCAA3D,GAA+F,uCAA3I;AACAF,YAAI,CAACwB,gBAAL,CAAsB,MAAtB,EAA8B,MAA9B,EAAsC,MAAtC;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,gBAAf,EAAiC2rB,sBAAsB,GAAG,SAASO,eAAT,CAAyBthB,CAAzB,EAA4B;AACpF,cAAI5K,IAAI,GAAG,IAAX;AAEA,iBAAOA,IAAI,CAAC2f,OAAL,CAAa,KAAb,EAAoB/U,CAApB,CAAP;AACD,SAJD,EAIG+gB,sBAAsB,CAAC1pB,OAAvB,GAAiC,CAJpC;AAMArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,YAAf,EAA6B4rB,kBAAkB,GAAG,SAASO,WAAT,CAAqBC,IAArB,EAA2B;AAC3E,cAAIliB,GAAJ;AAAA,cAASlK,IAAI,GAAG,IAAhB;AAAA,cAAsBmL,KAAK,GAAGhL,GAA9B;;AAGAgL,eAAK,GAAG,CAAR;AACAjC,eAAK,CAACkjB,IAAD,EAAO,MAAP,EAAe,CAAC,UAAD,CAAf,GAA8BliB,GAAG,GAAG,aAASmiB,IAAT,EAAc;AAAC,gBAAIrsB,IAAI,GAAGkK,GAAG,CAACW,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyBX,GAAG,CAACW,GAAxC;;AAItD,gBAAIwhB,IAAI,IAAI,IAAZ,EAAkB;AAChBA,kBAAI,GAAGlsB,GAAP;AACD;;AAAA;AACD,mBAAQgL,KAAK,GAAGtL,QAAQ,CAACsL,KAAD,EAAQkhB,IAAI,CAACjoB,KAAL,EAAR,CAAxB;AAAgD,WAPf,EAOiB8F,GAAG,CAACW,GAAJ,GAAU7K,IAP3B,EAOiCkK,GAAG,CAACjI,OAAJ,GAAc,CAP/C,EAOkDiI,GAPhF,EAAL;AAQA,iBAAOiB,KAAP;AACD,SAdD,EAcGygB,kBAAkB,CAAC3pB,OAAnB,GAA6B,CAdhC;AAgBArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,cAAf,EAA+B6rB,oBAAoB,GAAG,SAASS,aAAT,CAAuBC,GAAvB,EAA4B;AAChF,cAAIvsB,IAAI,GAAG,IAAX;AAEA,iBAAOH,QAAQ,CAACA,QAAQ,CAAC,GAAD,EAAM0sB,GAAN,CAAT,EAAqB,GAArB,CAAf;AACD,SAJD,EAIGV,oBAAoB,CAAC5pB,OAArB,GAA+B,CAJlC;AAMArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,uBAAf,EAAwC8rB,6BAA6B,GAAG,SAASU,sBAAT,CAAgClpB,KAAhC,EAAuCiO,IAAvC,EAA6C;AACnH,cAAIvR,IAAI,GAAG,IAAX;AAAA,cAAiBoC,KAAK,GAAGjC,GAAzB;AAEA,iBAAQ,YAAW;AAACiC,iBAAK,GAAGkB,KAAR;;AACpB,gBAAK,CAAD,CAAI,MAAJ,EAAYlB,KAAZ,CAAJ,EAAwB;AAAC,kBAAIxB,OAAO,CAAC+B,MAAM,CAAC4O,IAAD,EAAO,CAAP,CAAP,CAAX,EAA8B;AACrD,uBAAO,aAAP;AACD,eAFwB,MAElB;AACL,uBAAO,MAAP;AACD;AAAC,aAJF,MAKK,IAAK,EAAD,CAAK,MAAL,EAAanP,KAAb,CAAJ,EAAyB;AAAC,kBAAIxB,OAAO,CAAC4F,MAAM,CAAC+K,IAAD,EAAO,EAAP,CAAP,CAAX,EAA+B;AAC5D,uBAAO,aAAP;AACD,eAF8B,MAExB;AACL,uBAAO,MAAP;AACD;AAAC,aAJG,MAKA;AAAC,kBAAI3Q,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQiO,IAAR,CAAP,CAAX,EAAkC;AACtC,uBAAO,IAAP;AACD,eAFK,MAEC;AACL,uBAAO,IAAP;AACD;AAAC;AAAC,WAfI,EAAP;AAgBD,SAnBD,EAmBGua,6BAA6B,CAAC7pB,OAA9B,GAAwC,CAnB3C;AAqBArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,WAAf,EAA4B+rB,iBAAiB,GAAG,SAASU,UAAT,CAAoBnpB,KAApB,EAA2B;AACzE,cAAItD,IAAI,GAAG,IAAX;AAAA,cAAiBoC,KAAK,GAAGjC,GAAzB;AAEA,iBAAQ,YAAW;AAACiC,iBAAK,GAAGkB,KAAR;;AACpB,gBAAK,CAAD,CAAI,MAAJ,EAAYlB,KAAZ,CAAJ,EAAwB;AAAC,qBAAO,QAAP;AAAgB,aAAzC,MACK,IAAK,EAAD,CAAK,MAAL,EAAaA,KAAb,CAAJ,EAAyB;AAAC,qBAAO,KAAP;AAAa,aAAvC,MACA;AAAE,qBAAOjC,GAAP;AAAY;AAAC,WAHb,EAAP;AAID,SAPD,EAOG4rB,iBAAiB,CAAC9pB,OAAlB,GAA4B,CAP/B;AASArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,QAAf,EAAyBgsB,cAAc,GAAG,SAASU,OAAT,CAAiB9hB,CAAjB,EAAoB+hB,GAApB,EAAyBpW,GAAzB,EAA8B;AACtE,cAAIvW,IAAI,GAAG,IAAX;;AAEA,cAAIY,OAAO,CAACqI,MAAM,CAAC2B,CAAD,EAAI+hB,GAAJ,CAAP,CAAX,EAA6B;AAC3B,mBAAOA,GAAP;AACD,WAFD,MAEO,IAAI/rB,OAAO,CAAC2F,MAAM,CAACqE,CAAD,EAAI2L,GAAJ,CAAP,CAAX,EAA6B;AAClC,mBAAOA,GAAP;AACD,WAFM,MAEA;AACL,mBAAO3L,CAAP;AACD;AACF,SAVD,EAUGohB,cAAc,CAAC/pB,OAAf,GAAyB,CAV5B;AAWA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqDisB,0CAA0C,GAAG,SAAS/pB,mCAAT,CAA6CP,OAA7C,EAAsD;AAC9J,cAAIirB,IAAJ;AAAA,cAAS5sB,IAAI,GAAG,IAAhB;AAAA,cAAsBoC,KAAK,GAAGjC,GAA9B;AAAA,cAAmCib,EAAE,GAAGjb,GAAxC;AAAA,cAA6CisB,IAAI,GAAGjsB,GAApD;AAAA,cAAyDoR,IAAI,GAAGpR,GAAhE;AAAA,cAAqE0sB,YAAY,GAAG1sB,GAApF;AAAA,cAAyFyE,SAAS,GAAGzE,GAArG;AAAA,cAA0GmD,KAAK,GAAGnD,GAAlH;AAAA,cAAuH8M,QAAQ,GAAG9M,GAAlI;AAAA,cAAuI2sB,IAAI,GAAG3sB,GAA9I;AAAA,cAAmJ4sB,IAAI,GAAG5sB,GAA1J;AAAA,cAA+J0L,QAAQ,GAAG1L,GAA1K;AAAA,cAA+K6sB,IAAI,GAAG7sB,GAAtL;AAAA,cAA2L8sB,IAAI,GAAG9sB,GAAlM;AAAA,cAAuM+sB,YAAY,GAAG/sB,GAAtN;AAAA,cAA2NgtB,WAAW,GAAGhtB,GAAzO;AAAA,cAA8O6D,MAAM,GAAG7D,GAAvP;AAAA,cAA4PgC,MAAM,GAAGhC,GAArQ;;AAGAiC,eAAK,GAAGT,OAAR;;AACA,cAAI,MAAM,MAAN,EAAcS,KAAd,CAAJ,EAA0B;AAC1BgZ,cAAE,GAAG/a,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,EAAL;AACAioB,gBAAI,GAAGhR,EAAE,CAACgS,WAAH,EAAP;AACA7b,gBAAI,GAAGvR,IAAI,CAACqtB,UAAL,CAAgBjB,IAAhB,CAAP;AACAS,wBAAY,GAAG,KAAK,OAAL,GAAgBtb,IAA/B;AACA3M,qBAAS,GAAG5E,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+B,CAA/B,EAAkC,CAAlC,CAAZ;AACAzB,iBAAK,GAAGsB,SAAS,CAACI,IAAV,EAAR;AACAiI,oBAAQ,GAAGrI,SAAS,CAACK,KAAV,CAAgB,GAAhB,CAAX;AACA6nB,gBAAI,GAAG,KAAMxpB,KAAN,GAAe,GAAf,GAAsB2J,QAAtB,GAAkC,GAAzC;AACA8f,gBAAI,GAAG/sB,IAAI,CAACstB,qBAAL,CAA2BhqB,KAA3B,EAAkCiO,IAAlC,CAAP;AACA1F,oBAAQ,GAAG,CAAC7L,IAAI,CAACutB,YAAL,CAAkBV,YAAlB,CAAD,EAAkCC,IAAlC,EAAwCC,IAAxC,CAAX;AAA0D,WAV1D,MAWK,IAAI,MAAM,MAAN,EAAc3qB,KAAd,CAAJ,EAA0B;AAC/BgZ,cAAE,GAAG/a,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,EAAL;AACAioB,gBAAI,GAAGhR,EAAE,CAACgS,WAAH,EAAP;AACAJ,gBAAI,GAAGhtB,IAAI,CAACqtB,UAAL,CAAgBjB,IAAhB,CAAP;AACAS,wBAAY,GAAG,KAAK,KAAL,GAAc7sB,IAAI,CAACwtB,cAAL,CAAoBR,IAApB,CAA7B;AACApoB,qBAAS,GAAG5E,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+B,CAA/B,EAAkC,CAAlC,CAAZ;AACAzB,iBAAK,GAAGsB,SAAS,CAACI,IAAV,EAAR;AACAiI,oBAAQ,GAAGrI,SAAS,CAACK,KAAV,CAAgB,GAAhB,CAAX;AACA6nB,gBAAI,GAAG,KAAMxpB,KAAN,GAAe,GAAf,GAAsB2J,QAAtB,GAAkC,GAAlC,GAAyCjN,IAAI,CAACwtB,cAAL,CAAoBR,IAApB,CAAhD;AACAC,gBAAI,GAAGjtB,IAAI,CAAC2D,SAAL,CAAeL,KAAf,CAAP;AACAuI,oBAAQ,GAAG,CAAC7L,IAAI,CAACutB,YAAL,CAAkBV,YAAlB,CAAD,EAAkCC,IAAlC,EAAwCG,IAAxC,EAA8CptB,QAAQ,CAACyD,KAAD,EAAQ0pB,IAAR,CAAtD,EAAqEzgB,QAArE,EAAX;AAA4F,WAVvF,MAWA,IAAI,MAAM,MAAN,EAAcnK,KAAd,CAAJ,EAA0B;AAC/BgZ,cAAE,GAAG/a,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,EAAL;AACAioB,gBAAI,GAAGhR,EAAE,CAACgS,WAAH,EAAP;AACAhS,cAAE,GAAG,YAAYjT,MAAZ,CAAmBikB,IAAnB,CAAL;;AACA,gBAAIxrB,OAAO,CAACwa,EAAD,CAAX,EAAiB,CAChB,CADD,MACO;AACL,qBAAO,gBAAP;AACD;;AAAA;AACDgR,gBAAI,GAAGhR,EAAE,CAACgS,WAAH,EAAP;AACAF,wBAAY,GAAGhkB,KAAK,CAACkS,EAAE,CAAC,KAAD,CAAF,CAAU,CAAV,EAAa1Q,MAAb,CAAoB,GAApB,CAAD,EAA2B,KAA3B,EAAkC,EAAlC,GAAuCkiB,IAAG,GAAG,aAASa,CAAT,EAAW;AAAC,kBAAIztB,IAAI,GAAG4sB,IAAG,CAAC/hB,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyB+hB,IAAG,CAAC/hB,GAAxC;;AAI3E,kBAAI4iB,CAAC,IAAI,IAAT,EAAe;AACbA,iBAAC,GAAGttB,GAAJ;AACD;;AAAA;AACD,qBAAOH,IAAI,CAACqtB,UAAL,CAAgBI,CAAhB,CAAP;AAA2B,aAP8B,EAO5Bb,IAAG,CAAC/hB,GAAJ,GAAU7K,IAPkB,EAOZ4sB,IAAG,CAAC3qB,OAAJ,GAAc,CAPF,EAOK2qB,IAP5C,EAApB;;AAQA,gBAAIhsB,OAAO,CAACssB,YAAY,CAAC5c,KAAb,GAAqB,KAArB,EAA4B,CAA5B,CAAD,CAAX,EAA6C;AAC3C,qBAAO,sBAAP;AAA8B;;AAAA;AAChC0c,gBAAI,GAAGhtB,IAAI,CAACqtB,UAAL,CAAgBjB,IAAhB,CAAP;AACAS,wBAAY,GAAG,KAAK,KAAL,GAAc7sB,IAAI,CAACwtB,cAAL,CAAoBR,IAApB,CAA7B;AACA1pB,iBAAK,GAAGtD,IAAI,CAACsB,UAAL,CAAgBoB,UAAhB,CAA2B,CAA3B,CAAR;AACAoqB,gBAAI,GAAG,KAAMxpB,KAAN,GAAgBtD,IAAI,CAACwtB,cAAL,CAAoBR,IAApB,CAAvB;AACAG,uBAAW,GAAGntB,IAAI,CAAC0tB,MAAL,CAAY7tB,QAAQ,CAACyD,KAAD,EAAQ0pB,IAAR,CAApB,EAAmC,CAAnC,EAAsC,CAAtC,CAAd;AACAhpB,kBAAM,GAAGkpB,YAAY,CAAC,KAAD,CAAZ,CAAoB5mB,SAAS,CAAC6mB,WAAD,EAAc,CAAd,CAA7B,CAAT;AACAthB,oBAAQ,GAAG,CAAC7L,IAAI,CAACutB,YAAL,CAAkBV,YAAlB,CAAD,EAAkCC,IAAlC,EAAwCjtB,QAAQ,CAACyD,KAAD,EAAQ0pB,IAAR,CAAhD,EAA+D,KAAMhpB,MAAN,GAAgB,MAA/E,CAAX;AAAmG;;AAAA;AACnG7B,gBAAM,GAAG0J,QAAQ,CAAC5G,KAAT,CAAe,KAAf,CAAT;AACA,iBAAO9C,MAAP;AACD,SAvDO,EAuDL8pB,0CAA0C,CAAChqB,OAA3C,GAAqD,CAvDhD,GAuDoD9B,GAvDrD,KAuD6D,mCAvDpE;AAwDD,OA1ID,EA0IGD,QAAQ,CAAC,CAAD,CA1IX,EA0IgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CA1IlB,EA0IsCA,QA1ItC;AA2ID,KAhJD,EAgJGA,QAAQ,CAAC,CAAD,CAhJX,EAgJgBA,QAhJhB;AAiJD,GAtJM,CAsJJA,QAAQ,CAAC,CAAD,CAtJJ,EAsJSA,QAtJT,CAAP;AAuJD,CA5KD,EA4KGN,IA5KH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACAC,IAAI,CAAC+tB,OAAL,CAAa,uCAAb,IAAwD,UAAS/tB,IAAT,EAAe;AACrE,MAAII,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAEA,SAAQ,UAASK,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,oBAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAGAnB,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,oBAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,cAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,gBAAxC;AACA,eAAON,IAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,+BAA5C,CAAP;AACD,OAVD,EAUGA,QAAQ,CAAC,CAAD,CAVX,EAUgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAVlB,EAUsCA,QAVtC;AAWD,KAhBD,EAgBGA,QAAQ,CAAC,CAAD,CAhBX,EAgBgBA,QAhBhB;AAiBD,GAtBM,CAsBJA,QAAQ,CAAC,CAAD,CAtBJ,EAsBSA,QAtBT,CAAP;AAuBD,CA1BD;AA4BA;;;AACA,CAAC,UAASN,IAAT,EAAe;AACd,MAAII,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAGAT,MAAI,CAAC4tB,QAAL,CAAc,uCAAd;AACA,SAAQ,UAAS9sB,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,YAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAGAnB,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,YAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,YAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,UAAxC;AACA,eAAON,IAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,+BAA5C,CAAP;AACD,OAVD,EAUGA,QAAQ,CAAC,CAAD,CAVX,EAUgBG,EAAE,CAACH,QAAD,EAAW,oBAAX,CAVlB,EAUoDA,QAVpD;AAWD,KAhBD,EAgBGA,QAAQ,CAAC,CAAD,CAhBX,EAgBgBA,QAhBhB;AAiBD,GAtBM,CAsBJA,QAAQ,CAAC,CAAD,CAtBJ,EAsBSA,QAtBT,CAAP;AAuBD,CA5BD,EA4BGN,IA5BH,E;;;;;;;;;;;AChCAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACAC,IAAI,CAAC+tB,OAAL,CAAa,+BAAb,IAAgD,UAAS/tB,IAAT,EAAe;AAC7D,WAASwL,UAAT,CAAoBtL,GAApB,EAAyBC,GAAzB,EAA8B;AAC5B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASiJ,SAAT,CAAmBlJ,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAAA,MAAmJC,OAAO,GAAGhB,IAAI,CAACiB,MAAlK;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,YAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C8pB,wBAA/C;AAAA,YAAyEC,wBAAzE;AAGAlrB,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,YAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,oBAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,SAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,yDAAL,GAAiE,+BAA7G;AAEAN,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8B6qB,wBAAwB,GAAG,SAASnpB,YAAT,CAAsBC,OAAtB,EAA+B;AACtF,cAAIC,KAAK,GAAGipB,wBAAwB,CAAChpB,GAArC;AAAA,cAA0CC,MAAM,GAAGF,KAAK,IAAIzB,GAA5D;AAAA,cAAiEH,IAAI,GAAG,IAAxE;AAEA,cAAI4B,KAAJ,EAAWipB,wBAAwB,CAAChpB,GAAzB,GAA+B,IAA/B;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+C6qB,wBAA/C,EAAyE,KAAzE,EAAgF,IAAhF,CAAP,EAA8F,YAA9F,EAA4G,CAAClpB,OAAD,CAA5G,EAAuH,IAAvH,CAAN;AACA3B,cAAI,CAACiO,aAAL,GAAqB,IAArB;AACAjO,cAAI,CAAC+qB,kBAAL,GAA0B,IAA1B;AACA/qB,cAAI,CAACgrB,4BAAL,GAAoC,CAApC;AACAhrB,cAAI,CAACirB,cAAL,GAAsB,IAAtB;AACA,iBAAQjrB,IAAI,CAACkrB,qBAAL,GAA6B,CAArC;AACD,SAXD,EAWGL,wBAAwB,CAAC5oB,OAAzB,GAAmC,CAXtC;AAYA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8B8qB,wBAAwB,GAAG,SAASK,YAAT,CAAsBC,WAAtB,EAAmCC,cAAnC,EAAmDxb,YAAnD,EAAiE;AAChI,cAAI7P,IAAI,GAAG,IAAX;AAAA,cAAiBsrB,mBAAmB,GAAGnrB,GAAvC;AAGAmrB,6BAAmB,GAAGlgB,UAAU,CAACpC,SAAS,CAAC,GAAD,EAAMqiB,cAAN,CAAV,EAAiC,CAAjC,CAAhC;AACArrB,cAAI,CAACqC,MAAL,CAAY,qBAAZ,EAAmCipB,mBAAnC;;AACA,cAAI1qB,OAAO,CAAC4F,MAAM,CAAC4kB,WAAD,EAAcE,mBAAd,CAAP,CAAX,EAAuD,CACtD,CADD,MACO;AACL,mBAAOnrB,GAAP;AACD;;AAAA;;AACD,cAAI0P,YAAY,CAAC,KAAD,CAAZ,CAAoB,CAApB,CAAJ,EAA4B;AAC1B,mBAAO,YAAP;AACD,WAFD,MAEO;AACL,mBAAO,MAAP;AACD;;AAAA;AACF,SAfO,EAeLib,wBAAwB,CAAC7oB,OAAzB,GAAmC,CAf9B,GAekC9B,GAfnC,KAe2C,YAflD;AAgBD,OAvCD,EAuCGD,QAAQ,CAAC,CAAD,CAvCX,EAuCgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAvClB,EAuCsCA,QAvCtC;AAwCD,KA7CD,EA6CGA,QAAQ,CAAC,CAAD,CA7CX,EA6CgBA,QA7ChB;AA8CD,GAnDM,CAmDJA,QAAQ,CAAC,CAAD,CAnDJ,EAmDSA,QAnDT,CAAP;AAoDD,CAhED;AAkEA;;;AACA,CAAC,UAASN,IAAT,EAAe;AACd,WAAS2G,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASuG,SAAT,CAAmBxG,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASF,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASqL,UAAT,CAAoBtL,GAApB,EAAyBC,GAAzB,EAA8B;AAC5B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAAA,MAAmJC,OAAO,GAAGhB,IAAI,CAACiB,MAAlK;AAGAb,MAAI,CAAC4tB,QAAL,CAAc,+BAAd;AACA,SAAQ,UAAS9sB,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,YAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C8sB,wBAA/C;AAAA,YAAyEC,+CAAzE;AAAA,YAA0HC,wBAA1H;AAEA/tB,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,YAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,oBAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,SAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,yDAAL,GAAiE,8DAAjE,GAAkI,+BAA9K;AACAF,YAAI,CAACwB,gBAAL,CAAsB,iBAAtB;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8B6tB,wBAAwB,GAAG,SAASnsB,YAAT,CAAsBC,OAAtB,EAA+B;AACtF,cAAIC,KAAK,GAAGisB,wBAAwB,CAAChsB,GAArC;AAAA,cAA0CC,MAAM,GAAGF,KAAK,IAAIzB,GAA5D;AAAA,cAAiEH,IAAI,GAAG,IAAxE;AAEA,cAAI4B,KAAJ,EAAWisB,wBAAwB,CAAChsB,GAAzB,GAA+B,IAA/B;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+C6tB,wBAA/C,EAAyE,KAAzE,EAAgF,IAAhF,CAAP,EAA8F,YAA9F,EAA4G,CAAClsB,OAAD,CAA5G,EAAuH,IAAvH,CAAN;AACA3B,cAAI,CAACiO,aAAL,GAAqB,IAArB;AACAjO,cAAI,CAAC+qB,kBAAL,GAA0B,IAA1B;AACA/qB,cAAI,CAACgrB,4BAAL,GAAoC,CAApC;AACAhrB,cAAI,CAACirB,cAAL,GAAsB,IAAtB;AACA,iBAAQjrB,IAAI,CAACkrB,qBAAL,GAA6B,CAArC;AACD,SAXD,EAWG2C,wBAAwB,CAAC5rB,OAAzB,GAAmC,CAXtC;AAaArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqD8tB,+CAA+C,GAAG,SAAS5rB,mCAAT,CAA6CP,OAA7C,EAAsD;AAC3J,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiByH,CAAC,GAAGtH,GAArB;AAAA,cAA0B6tB,MAAM,GAAG7tB,GAAnC;AAAA,cAAwC8tB,KAAK,GAAG9tB,GAAhD;AAAA,cAAqD+tB,qBAAqB,GAAG/tB,GAA7E;AAAA,cAAkFguB,oBAAoB,GAAGhuB,GAAzG;AAAA,cAA8GiuB,cAAc,GAAGjuB,GAA/H;AAAA,cAAoIkuB,aAAa,GAAGluB,GAApJ;AAAA,cAAyJmuB,YAAY,GAAGnuB,GAAxK;AAAA,cAA6K0J,MAAM,GAAG1J,GAAtL;AAGAH,cAAI,CAACqC,MAAL,CAAY,qBAAZ;AACAoF,WAAC,GAAG,gBAAgBU,MAAhB,CAAuBxG,OAAvB,CAAJ;AACAqsB,gBAAM,GAAGvmB,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,CAAT;AACAwmB,eAAK,GAAGxmB,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,EAAYrD,KAAZ,EAAR;AACA8pB,+BAAqB,GAAG9tB,GAAG,CAACA,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,QAAX,CAAH,EAAyB,eAAzB,CAAJ,EAA+C,cAA/C,CAAH,CAAkE+K,KAAlE,CAAwE+iB,MAAxE,EAAgFhuB,IAAhF,EAAsFA,IAAI,CAACsB,UAA3F,EAAuGgS,KAAvG,EAAxB;AACA7L,WAAC,GAAG,WAAWU,MAAX,CAAkB+lB,qBAAlB,CAAJ;AACAC,8BAAoB,GAAGD,qBAAvB;AACAE,wBAAc,GAAG3mB,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,EAAYrD,KAAZ,EAAjB;;AACA,cAAIxD,OAAO,CAAC2F,MAAM,CAAC6nB,cAAD,EAAiBH,KAAjB,CAAP,CAAX,EAA4C;AAE1CI,yBAAa,GAAGJ,KAAhB;AACAK,wBAAY,GAAGhoB,SAAS,CAAC8nB,cAAD,EAAiBH,KAAjB,CAAxB;AACAE,gCAAoB,GAAGD,qBAAqB,CAACK,KAAtB,CAA4B,UAA5B,EAAwC,KAAK,KAAL,GAAcF,aAAtD,CAAvB;AACAF,gCAAoB,GAAGtuB,QAAQ,CAACsuB,oBAAD,EAAuB,KAAK,SAAL,GAAkBG,YAAlB,GAAkC,GAAzD,CAA/B;AAA8F;;AAAA;AAChGzkB,gBAAM,GAAGskB,oBAAT;AACAtkB,gBAAM,GAAGA,MAAM,CAAC0kB,KAAP,CAAa,GAAb,EAAkB,IAAlB,CAAT;AACA1kB,gBAAM,GAAGA,MAAM,CAAC0kB,KAAP,CAAa,MAAb,EAAqB,KAAK,WAAL,GAAoBN,KAApB,GAA6B,MAAlD,CAAT;AACAjuB,cAAI,CAACqC,MAAL,CAAYwH,MAAZ;AACA,iBAAOA,MAAP;AACD,SAvBD,EAuBGikB,+CAA+C,CAAC7rB,OAAhD,GAA0D,CAvB7D;AAwBA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8B+tB,wBAAwB,GAAG,SAAS5C,YAAT,CAAsBC,WAAtB,EAAmCC,cAAnC,EAAmDxb,YAAnD,EAAiE;AAChI,cAAI7P,IAAI,GAAG,IAAX;AAAA,cAAiBsrB,mBAAmB,GAAGnrB,GAAvC;AAGAmrB,6BAAmB,GAAGlgB,UAAU,CAACigB,cAAc,CAAChf,KAAf,EAAD,EAAyB,CAAzB,CAAhC;AACArM,cAAI,CAACqC,MAAL,CAAY,qBAAZ,EAAmCipB,mBAAnC;;AACA,cAAI1qB,OAAO,CAAC2F,MAAM,CAAC6kB,WAAD,EAAcE,mBAAd,CAAP,CAAX,EAAuD,CACtD,CADD,MACO;AACL,mBAAOnrB,GAAP;AACD;;AAAA;;AACD,cAAI0P,YAAY,CAAC,KAAD,CAAZ,CAAoB,CAApB,CAAJ,EAA4B;AAC1B,mBAAO,YAAP;AACD,WAFD,MAEO;AACL,mBAAO,MAAP;AACD;;AAAA;AACF,SAfO,EAeLke,wBAAwB,CAAC9rB,OAAzB,GAAmC,CAf9B,GAekC9B,GAfnC,KAe2C,YAflD;AAgBD,OAlED,EAkEGD,QAAQ,CAAC,CAAD,CAlEX,EAkEgBG,EAAE,CAACH,QAAD,EAAW,YAAX,CAlElB,EAkE4CA,QAlE5C;AAmED,KAxED,EAwEGA,QAAQ,CAAC,CAAD,CAxEX,EAwEgBA,QAxEhB;AAyED,GA9EM,CA8EJA,QAAQ,CAAC,CAAD,CA9EJ,EA8ESA,QA9ET,CAAP;AA+ED,CAhGD,EAgGGN,IAhGH,E;;;;;;;;;;;ACtEAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASC,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASwG,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASiJ,SAAT,CAAmBlJ,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAAA,MAAmJ0K,MAAM,GAAGzL,IAAI,CAAC0L,KAAjK;AAAA,MAAwK1K,OAAO,GAAGhB,IAAI,CAACiB,MAAvL;AAAA,MAA+LqI,KAAK,GAAGtJ,IAAI,CAACuJ,IAA5M;AAEA,SAAQ,UAASrI,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,kBAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CytB,8BAA/C;AAAA,YAA+EC,qDAA/E;AAAA,YAAsIC,sCAAtI;AAAA,YAA8KC,gCAA9K;AAAA,YAAgNC,uBAAhN;AAEA5uB,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BtB,IAAI,CAACqB,WAAL,CAAiBuD,SAAjB,GAA6BzE,GAA3D;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,kBAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,OAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,YAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,kBAAL,GAA0B,gBAA1B,GAA6C,uBAA7C,GAAuE,oBAAnH;AAEAN,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8BwuB,8BAA8B,GAAG,SAAS9sB,YAAT,CAAsBC,OAAtB,EAA+B;AAC5F,cAAIC,KAAK,GAAG4sB,8BAA8B,CAAC3sB,GAA3C;AAAA,cAAgDC,MAAM,GAAGF,KAAK,IAAIzB,GAAlE;AAAA,cAAuEH,IAAI,GAAG,IAA9E;AAEA,cAAI4B,KAAJ,EAAW4sB,8BAA8B,CAAC3sB,GAA/B,GAAqC,IAArC;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+CwuB,8BAA/C,EAA+E,KAA/E,EAAsF,IAAtF,CAAP,EAAoG,YAApG,EAAkH,CAAC7sB,OAAD,CAAlH,EAA6H,IAA7H,CAAN;AACA,iBAAQ3B,IAAI,CAACiO,aAAL,GAAqB,IAA7B;AACD,SAPD,EAOGugB,8BAA8B,CAACvsB,OAA/B,GAAyC,CAP5C;AAQAjC,YAAI,CAACwB,gBAAL,CAAsB,QAAtB;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqDyuB,qDAAqD,GAAG,SAASvsB,mCAAT,CAA6CP,OAA7C,EAAsD;AACjK,cAAI4F,EAAJ;AAAA,cAAQvH,IAAI,GAAG,IAAf;AAAA,cAAqBwL,MAAM,GAAGrL,GAA9B;AAAA,cAAmCsL,GAAG,GAAGtL,GAAzC;AAAA,cAA8CkW,KAAK,GAAGlW,GAAtD;AAAA,cAA2DyE,SAAS,GAAGzE,GAAvE;AAAA,cAA4E0uB,iBAAiB,GAAG1uB,GAAhG;AAAA,cAAqG0N,UAAU,GAAG1N,GAAlH;AAAA,cAAuH2uB,SAAS,GAAG3uB,GAAnI;AAAA,cAAwImD,KAAK,GAAGnD,GAAhJ;AAAA,cAAqJgC,MAAM,GAAGhC,GAA9J;AAAA,cAAmK0L,QAAQ,GAAG1L,GAA9K;AAGAqL,gBAAM,GAAGpL,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,SAAX,CAAH,EAA0B,QAA1B,CAAH,CAAuC4L,IAAvC,CAA4C,OAA5C,EAAqDT,MAAM,CAAC,CAAC,YAAD,CAAD,EAAiB;AAAC,0BAAcrL,IAAI,CAAC+L,WAAL;AAAf,WAAjB,CAA3D,CAAT;AACAN,aAAG,GAAGD,MAAM,CAACS,MAAP,CAActK,OAAd,CAAN;;AACA,cAAIf,OAAO,CAAC6K,GAAD,CAAX,EAAkB,CACjB,CADD,MACO;AACL,mBAAOtL,GAAP;AACD;;AAAA;AACDkW,eAAK,GAAG5K,GAAG,CAACU,QAAJ,GAAe/H,KAAf,EAAR;AACAQ,mBAAS,GAAG5E,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+BsR,KAA/B,EAAsC,CAAtC,EAAyChI,KAAzC,EAAZ;AACArO,cAAI,CAAC4E,SAAL,GAAiB,CAACA,SAAD,CAAjB;;AACA,iBAAOhE,OAAO,CAACZ,IAAI,CAAC,iBAAD,CAAJ,CAAwB4E,SAAxB,CAAD,CAAd,EAAoD;AAElDA,qBAAS,GAAG5E,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+BsR,KAA/B,EAAsC,CAAtC,EAAyChI,KAAzC,EAAZ;AACArO,gBAAI,CAAC4E,SAAL,CAAewI,KAAf,CAAqBxI,SAArB;AACD;;AAAA;AACDiqB,2BAAiB,GAAG7uB,IAAI,CAAC4E,SAAL,CAAemqB,QAAf,EAApB;AACAlhB,oBAAU,GAAGghB,iBAAiB,CAAC7pB,IAAlB,EAAb;AACA8pB,mBAAS,GAAGD,iBAAiB,CAAC9lB,MAAlB,CAAyB,CAAzB,CAAZ;AACAzF,eAAK,GAAGzD,QAAQ,CAACgO,UAAD,EAAapC,GAAG,CAACujB,cAAJ,EAAb,CAAhB;;AACA7sB,gBAAM,GAAI,YAAW;AAAC,gBAAIvB,OAAO,CAAC6K,GAAG,CAACS,OAAJ,EAAD,CAAX,EAA4B;AAChD,kBAAItL,OAAO,CAAC0C,KAAK,CAAC4F,KAAN,CAAYuC,GAAG,CAACS,OAAJ,EAAZ,EAA2BT,GAAG,CAACW,cAAJ,EAA3B,CAAD,CAAX,EAA+D;AAC7D,uBAAO,IAAP;AACD,eAFD,MAEO;AACL,uBAAO,IAAP;AACD;AACF,aANqB,MAMf;AACL,qBAAOjM,GAAP;AACD;;AAAA;AAAE,mBAAOA,GAAP;AAAa,WARP,EAAT;;AASA0L,kBAAQ,GAAG,CAAC,KAAK,GAAL,GAAYJ,GAAZ,GAAmB,GAApB,EAAyBzL,IAAI,CAACivB,aAAL,CAAmBxjB,GAAnB,EAAwBoC,UAAxB,CAAzB,EAA8DvK,KAAK,CAACwH,KAAN,EAA9D,EAA6E3I,MAA7E,EAAqFnC,IAAI,CAACkvB,IAAL,CAAUJ,SAAV,CAArF,EAA2GviB,QAA3G,EAAX;AACA,iBAAOV,QAAQ,CAAC5G,KAAT,CAAe,KAAf,CAAP;AACD,SAjCD,EAiCGwpB,qDAAqD,CAACxsB,OAAtD,GAAgE,CAjCnE;AAmCArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,iBAAf,EAAkC0uB,sCAAsC,GAAG,gDAAS9pB,SAAT,EAAoB;AAC7F,cAAI5E,IAAI,GAAG,IAAX;AAAA,cAAiByJ,SAAS,GAAGtJ,GAA7B;;AAEA,cAAIS,OAAO,CAAE6I,SAAS,GAAGlD,MAAM,CAAC3B,SAAS,CAAC0L,KAAV,EAAD,EAAoB,CAApB,CAApB,CAAX,EAAyD;AACvD,mBAAO1L,SAAS,CAACuQ,KAAV,GAAkB7E,KAAlB,GAA0B,KAA1B,EAAiC,CAAjC,CAAP;AACD,WAFD,MAEO;AACL,mBAAO7G,SAAP;AACD;AACF,SARD,EAQGilB,sCAAsC,CAACzsB,OAAvC,GAAiD,CARpD;AAUArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,eAAf,EAAgC2uB,gCAAgC,GAAG,SAASQ,cAAT,CAAwB1jB,GAAxB,EAA6BoC,UAA7B,EAAyC;AAC1G,cAAIY,GAAJ;AAAA,cAASzO,IAAI,GAAG,IAAhB;AAAA,cAAsB4J,SAAS,GAAGzJ,GAAlC;AAAA,cAAuCyE,SAAS,GAAGzE,GAAnD;AAAA,cAAwDga,QAAQ,GAAGha,GAAnE;;AAGA,cAAIS,OAAO,CAAE,YAAW;AAAC,gBAAIA,OAAO,CAAEgJ,SAAS,GAAG5J,IAAI,CAAC4E,SAAL,CAAemqB,QAAf,GAA0Bze,KAA1B,GAAkC,KAAlC,EAAyC,CAAzC,CAAd,CAAX,EAAwE;AAC/F,qBAAO7E,GAAG,CAACujB,cAAJ,GAAqB,KAArB,EAA4B,CAA5B,CAAP;AACD,aAFwB,MAElB;AACL,qBAAOplB,SAAP;AACD;;AAAA;AAAE,mBAAOzJ,GAAP;AAAa,WAJJ,EAAD,CAAX,EAIsB;AACpB,mBAAOA,GAAP;AAAW;;AAAA;AACbyE,mBAAS,GAAGsE,KAAK,CAAClJ,IAAI,CAAC4E,SAAN,EAAiB,KAAjB,EAAwB,EAAxB,GAA6B6J,GAAG,GAAG,aAAS2gB,EAAT,EAAY;AAAC,gBAAIpvB,IAAI,GAAGyO,GAAG,CAAC5D,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyB4D,GAAG,CAAC5D,GAAxC;;AAI/D,gBAAIukB,EAAE,IAAI,IAAV,EAAgB;AACdA,gBAAE,GAAGjvB,GAAL;AACD;;AAAA;AACD,mBAAO,KAAK,GAAL,GAAYivB,EAAE,CAACnqB,KAAH,CAAS,GAAT,CAAZ,GAA6B,GAApC;AAAyC,WAPG,EAODwJ,GAAG,CAAC5D,GAAJ,GAAU7K,IAPT,EAOeyO,GAAG,CAACxM,OAAJ,GAAc,CAP7B,EAOgCwM,GAP7D,EAAL,CAOwExJ,KAPxE,CAO8E,EAP9E,CAAZ;AAQAkV,kBAAQ,GAAG9Z,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBua,SAAvB,CAAiChP,GAAG,CAACujB,cAAJ,EAAjC,CAAX;AACA,iBAAO,CAACnhB,UAAU,CAAC/C,KAAX,EAAD,EAAqBlG,SAArB,EAAgCuV,QAAhC,EAA0ClV,KAA1C,CAAgD,EAAhD,CAAP;AACD,SApBD,EAoBG0pB,gCAAgC,CAAC1sB,OAAjC,GAA2C,CApB9C;AAqBA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,MAAf,EAAuB4uB,uBAAuB,GAAG,SAASS,KAAT,CAAeP,SAAf,EAA0B;AACjF,cAAI9uB,IAAI,GAAG,IAAX;;AAEA,cAAIY,OAAO,CAAC2F,MAAM,CAACuoB,SAAD,EAAY,CAAZ,CAAP,CAAX,EAAmC;AACjC,mBAAO,KAAM9lB,SAAS,CAAC8lB,SAAD,EAAY,CAAZ,CAAf,GAAiC,OAAxC;AACD,WAFD,MAEO;AACL,mBAAO3uB,GAAP;AACD;AACF,SARO,EAQLyuB,uBAAuB,CAAC3sB,OAAxB,GAAkC,CAR7B,GAQiC9B,GARlC,KAQ0C,KARjD;AASD,OAjGD,EAiGGD,QAAQ,CAAC,CAAD,CAjGX,EAiGgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAjGlB,EAiGsCA,QAjGtC;AAkGD,KAvGD,EAuGGA,QAAQ,CAAC,CAAD,CAvGX,EAuGgBA,QAvGhB;AAwGD,GA7GM,CA6GJA,QAAQ,CAAC,CAAD,CA7GJ,EA6GSA,QA7GT,CAAP;AA8GD,CA1HD,EA0HGN,IA1HH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS0G,SAAT,CAAmBxG,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASF,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASqL,UAAT,CAAoBtL,GAApB,EAAyBC,GAAzB,EAA8B;AAC5B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAAA,MAAmJC,OAAO,GAAGhB,IAAI,CAACiB,MAAlK;AAAA,MAA0KqI,KAAK,GAAGtJ,IAAI,CAACuJ,IAAvL;AAEA,SAAQ,UAASrI,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,eAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CuuB,2BAA/C;AAAA,YAA4EC,kDAA5E;AAAA,YAAgIC,+BAAhI;AAAA,YAAiKC,2BAAjK;AAEAzvB,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,eAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,cAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,WAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,gBAAL,GAAwB,mCAAxB,GAA8D,cAA9D,GAA+E,yBAA/E,GAA2G,8BAAvJ;AACAF,YAAI,CAACwB,gBAAL,CAAsB,KAAtB,EAA6B,KAA7B;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8BsvB,2BAA2B,GAAG,SAAS5tB,YAAT,CAAsBC,OAAtB,EAA+B;AACzF,cAAIC,KAAK,GAAG0tB,2BAA2B,CAACztB,GAAxC;AAAA,cAA6CC,MAAM,GAAGF,KAAK,IAAIzB,GAA/D;AAAA,cAAoEH,IAAI,GAAG,IAA3E;AAEA,cAAI4B,KAAJ,EAAW0tB,2BAA2B,CAACztB,GAA5B,GAAkC,IAAlC;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+CsvB,2BAA/C,EAA4E,KAA5E,EAAmF,IAAnF,CAAP,EAAiG,YAAjG,EAA+G,CAAC3tB,OAAD,CAA/G,EAA0H,IAA1H,CAAN;AACA3B,cAAI,CAACiO,aAAL,GAAqB,IAArB;AACA,iBAAQjO,IAAI,CAACmQ,aAAL,GAAqB/P,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,aAAX,CAAH,EAA8B,KAA9B,CAAhC;AACD,SARD,EAQGovB,2BAA2B,CAACrtB,OAA5B,GAAsC,CARzC;AAUArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqDuvB,kDAAkD,GAAG,SAASrtB,mCAAT,CAA6CP,OAA7C,EAAsD;AAC9J,cAAIuI,GAAJ;AAAA,cAASsE,IAAT;AAAA,cAAcxO,IAAI,GAAG,IAArB;AAAA,cAA2BoC,KAAK,GAAGjC,GAAnC;AAAA,cAAwC2M,UAAU,GAAG3M,GAArD;AAAA,cAA0DsJ,SAAS,GAAGtJ,GAAtE;AAAA,cAA2EgL,KAAK,GAAGhL,GAAnF;;AAEA,iBAAQ,YAAW;AAACiC,iBAAK,GAAGT,OAAR;;AACpB,gBAAI,cAAc,MAAd,EAAsBS,KAAtB,CAAJ,EAAkC;AAClC0K,wBAAU,GAAI,YAAW;AAAC,oBAAIlM,OAAO,CAAE6I,SAAS,GAAGpJ,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAAd,CAAX,EAAkE;AAC1F,yBAAOsF,SAAP;AACD,iBAFyB,MAEnB;AACL,yBAAO,CAAP;AACD;;AAAA;AAAE,uBAAOtJ,GAAP;AAAa,eAJH,GAIOiE,KAJP,EAAb;;AAKA,qBAAO8E,KAAK,CAAC7I,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4L,IAAvB,EAAD,EAAgC,KAAhC,EAAuC,EAAvC,GAA4C5B,GAAG,GAAG,aAAS6M,CAAT,EAAW;AAAC,oBAAI/W,IAAI,GAAGkK,GAAG,CAACW,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyBX,GAAG,CAACW,GAAxC;AAAA,oBAA6CwI,OAAO,GAAGlT,GAAvD;;AAIxE,oBAAI4W,CAAC,IAAI,IAAT,EAAe;AACbA,mBAAC,GAAG5W,GAAJ;AACD;;AAAA;AAEDkT,uBAAO,GAAG,CAAC,IAAD,CAAV;AACAnK,qBAAK,CAAC6N,CAAD,EAAI,SAAJ,EAAenX,IAAI,CAACsN,IAAL,CAAUmG,OAAV,CAAf,CAAL;AACAA,uBAAO,CAAC/M,SAAS,CAAC+M,OAAO,CAAC,QAAD,CAAR,EAAoB,CAApB,CAAV,CAAP;AAAyC;AAEzCA,uBAAO,GAAG,CAACrT,IAAI,CAAC0vB,eAAL,CAAqB5iB,UAArB,CAAD,CAAV;AACA5D,qBAAK,CAAC6N,CAAD,EAAI,OAAJ,EAAanX,IAAI,CAACsN,IAAL,CAAUmG,OAAV,CAAb,CAAL;AACA,uBAAOA,OAAO,CAAC/M,SAAS,CAAC+M,OAAO,CAAC,QAAD,CAAR,EAAoB,CAApB,CAAV,CAAd;AAAgD;AAAE,eAdI,EAcFnJ,GAAG,CAACW,GAAJ,GAAU7K,IAdR,EAcckK,GAAG,CAACjI,OAAJ,GAAc,CAd5B,EAc+BiI,GAd3E,EAAZ;AAc8F,aApB9F,MAqBK,IAAI,kBAAkB,MAAlB,EAA0B9H,KAA1B,CAAJ,EAAsC;AAC3C+I,mBAAK,GAAG9K,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,EAAsCC,KAAtC,EAAR;AACA,qBAAO8E,KAAK,CAAC7I,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4L,IAAvB,EAAD,EAAgC,KAAhC,EAAuC,EAAvC,GAA4C0C,IAAG,GAAG,aAASuI,CAAT,EAAW;AAAC,oBAAI/W,IAAI,GAAGwO,IAAG,CAAC3D,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyB2D,IAAG,CAAC3D,GAAxC;AAAA,oBAA6CwI,OAAO,GAAGlT,GAAvD;;AAIxE,oBAAI4W,CAAC,IAAI,IAAT,EAAe;AACbA,mBAAC,GAAG5W,GAAJ;AACD;;AAAA;AAEDkT,uBAAO,GAAG,CAAC,IAAD,CAAV;AACAnK,qBAAK,CAAC6N,CAAD,EAAI,SAAJ,EAAenX,IAAI,CAACsN,IAAL,CAAUmG,OAAV,CAAf,CAAL;AACAA,uBAAO,CAAC/M,SAAS,CAAC+M,OAAO,CAAC,QAAD,CAAR,EAAoB,CAApB,CAAV,CAAP;AAAyC;AAEzCA,uBAAO,GAAG,CAACrT,IAAI,CAAC2vB,WAAL,CAAiBxkB,KAAjB,CAAD,CAAV;AACAjC,qBAAK,CAAC6N,CAAD,EAAI,OAAJ,EAAanX,IAAI,CAACsN,IAAL,CAAUmG,OAAV,CAAb,CAAL;AACA,uBAAOA,OAAO,CAAC/M,SAAS,CAAC+M,OAAO,CAAC,QAAD,CAAR,EAAoB,CAApB,CAAV,CAAd;AAAgD;AAAE,eAdI,EAcF7E,IAAG,CAAC3D,GAAJ,GAAU7K,IAdR,EAccwO,IAAG,CAACvM,OAAJ,GAAc,CAd5B,EAc+BuM,IAd3E,EAAZ;AAc8F,aAhBzF,MAiBA;AAAE,qBAAOrO,GAAP;AAAY;AAAC,WAvCb,EAAP;AAwCD,SA3CD,EA2CGovB,kDAAkD,CAACttB,OAAnD,GAA6D,CA3ChE;AA6CArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,iBAAf,EAAkCwvB,+BAA+B,GAAG,SAASI,gBAAT,CAA0B9iB,UAA1B,EAAsC;AACxG,cAAIgL,IAAJ;AAAA,cAAS9X,IAAI,GAAG,IAAhB;AAAA,cAAsBmC,MAAM,GAAGhC,GAA/B;;AAGAgC,gBAAM,GAAG,MAAT;AACA+G,eAAK,CAAC4D,UAAD,EAAa,OAAb,EAAsB,EAAtB,GAA2BgL,IAAG,GAAG,eAAU;AAAC,gBAAI9X,IAAI,GAAG8X,IAAG,CAACjN,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyBiN,IAAG,CAACjN,GAAxC;AAAA,gBAA6CglB,EAAE,GAAG1vB,GAAlD;AAAA,gBAAuD2vB,EAAE,GAAG3vB,GAA5D;AAAA,gBAAiE4vB,MAAM,GAAG5vB,GAA1E;AAAA,gBAA+E6vB,MAAM,GAAG7vB,GAAxF;AAAA,gBAA6FiF,KAAK,GAAGjF,GAArG;AAC/C,gBAAIH,IAAI,CAACsB,UAAL,IAAmB,IAAvB,EAA6BtB,IAAI,CAACsB,UAAL,GAAkBnB,GAAlB;AAG7B0vB,cAAE,GAAG7vB,IAAI,CAACsB,UAAL,CAAgBoB,UAAhB,CAA2B,CAA3B,CAAL;AACAotB,cAAE,GAAG9vB,IAAI,CAACsB,UAAL,CAAgBoB,UAAhB,CAA2B,CAA3B,CAAL;AACAP,kBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,QAAL,GAAiB0tB,EAAjB,GAAuB,GAAvB,GAA8BC,EAA9B,GAAoC,GAA7C,CAAjB;AACAC,kBAAM,GAAGzpB,SAAS,CAAC8E,UAAU,CAACykB,EAAD,EAAK,GAAL,CAAV,CAAoBvjB,KAApB,EAAD,EAA8B,CAA9B,CAAlB;AACA0jB,kBAAM,GAAG1pB,SAAS,CAAC8E,UAAU,CAAC0kB,EAAD,EAAK,GAAL,CAAV,CAAoBxjB,KAApB,EAAD,EAA8B,CAA9B,CAAlB;AACAlH,iBAAK,GAAG,CAAC,CAAC,aAAD,EAAgB,aAAhB,EAA+B,aAA/B,CAAD,EAAgD,CAAC,aAAD,EAAgB,aAAhB,EAA+B,aAA/B,CAAhD,EAA+F,CAAC,aAAD,EAAgB,aAAhB,EAA+B,aAA/B,CAA/F,CAAR;AACA,mBAAQjD,MAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAASiD,KAAK,CAAC,KAAD,CAAL,CAAa2qB,MAAb,EAAqB,KAArB,EAA4BC,MAA5B,CAAT,CAAzB;AAAyE,WAV3C,EAU6ClY,IAAG,CAACjN,GAAJ,GAAU7K,IAVvD,EAU6D8X,IAAG,CAAC7V,OAAJ,GAAc,CAV3E,EAU8E6V,IAVzG,EAAL;AAWA,iBAAO3V,MAAP;AACD,SAjBD,EAiBGqtB,+BAA+B,CAACvtB,OAAhC,GAA0C,CAjB7C;AAkBA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8ByvB,2BAA2B,GAAG,SAASQ,YAAT,CAAsB9kB,KAAtB,EAA6B;AAC/F,cAAI5D,EAAJ;AAAA,cAAQC,EAAR;AAAA,cAAYxH,IAAI,GAAG,IAAnB;AAAA,cAAyB6vB,EAAE,GAAG1vB,GAA9B;AAAA,cAAmC2vB,EAAE,GAAG3vB,GAAxC;AAAA,cAA6CiR,SAAS,GAAGjR,GAAzD;AAAA,cAA8DiF,KAAK,GAAGjF,GAAtE;AAAA,cAA2E+vB,OAAO,GAAG/vB,GAArF;AAAA,cAA0FgwB,OAAO,GAAGhwB,GAApG;AAAA,cAAyGiwB,KAAK,GAAGjwB,GAAjH;AAAA,cAAsHkwB,OAAO,GAAGlwB,GAAhI;AAAA,cAAqI2E,IAAI,GAAG3E,GAA5I;AAAA,cAAiJgC,MAAM,GAAGhC,GAA1J;AAGA0vB,YAAE,GAAG7vB,IAAI,CAACsB,UAAL,CAAgBoB,UAAhB,CAA2B,CAA3B,CAAL;AACAotB,YAAE,GAAG9vB,IAAI,CAACsB,UAAL,CAAgBoB,UAAhB,CAA2B,CAA3B,CAAL;AACA0O,mBAAS,GAAGvR,QAAQ,CAACA,QAAQ,CAACgwB,EAAD,EAAKC,EAAL,CAAT,EAAmB3kB,KAAnB,CAApB;AACA/F,eAAK,GAAG,CAAC,CAAC,CAAD,EAAI,UAAJ,CAAD,EAAkB,CAAC,CAAD,EAAI,cAAJ,CAAlB,EAAuC,CAAC,CAAD,EAAI,sBAAJ,CAAvC,EAAoE,CAAC,CAAD,EAAI,wBAAJ,CAApE,EAAmG,CAAC,CAAD,EAAI,uBAAJ,CAAnG,EAAiI,CAAC,EAAD,EAAK,2BAAL,CAAjI,EAAoK,CAAC,EAAD,EAAK,2BAAL,CAApK,EAAuM,CAAC,EAAD,EAAK,2BAAL,CAAvM,EAA0O,CAAC,EAAD,EAAK,yCAAL,CAA1O,EAA2R,CAAC,EAAD,EAAK,2CAAL,CAA3R,EAA8U,CAAC,EAAD,EAAK,kBAAL,CAA9U,EAAwW,CAAC,EAAD,EAAK,iBAAL,CAAxW,EAAiY,CAAC,EAAD,EAAK,4BAAL,CAAjY,EAAqa,CAAC,EAAD,EAAK,+CAAL,CAAra,CAAR;AACA8qB,iBAAO,GAAG9qB,KAAK,CAACiQ,MAAN,GAAeA,MAAf,EAAV;AACA8a,iBAAO,GAAG/qB,KAAK,CAACkrB,KAAN,GAAcjb,MAAd,EAAV;AACA+a,eAAK,GAAGhf,SAAR;AACAgf,eAAK,GAAG,CAACF,OAAD,EAAUE,KAAV,EAAiB3Z,IAAjB,EAAR;AACA2Z,eAAK,GAAG,CAACA,KAAD,EAAQD,OAAR,EAAiBnU,IAAjB,EAAR;AACAxU,YAAE,GAAGpC,KAAK,CAACmrB,MAAN,CAAaH,KAAb,CAAL,EAA0B7oB,EAAE,GAAG3H,IAAI,CAAC0I,MAAL,CAAYd,EAAZ,CAA/B,EAAiD6oB,OAAO,GAAI9oB,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAApF,EAA4FzC,IAAI,GAAIyC,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAA5H,EAAmIC,EAAnI;AACArF,gBAAM,GAAG,KAAK,aAAL,GAAsB0tB,EAAtB,GAA4B,GAA5B,GAAmCC,EAAnC,GAAyC,OAAzC,GAAoD3kB,KAApD,GAA6D,OAA7D,GAAwEiG,SAAxE,GAAqF,KAArF,GAA8FtM,IAAvG;AACA,iBAAO3C,MAAP;AACD,SAhBO,EAgBLstB,2BAA2B,CAACxtB,OAA5B,GAAsC,CAhBjC,GAgBqC9B,GAhBtC,KAgB8C,YAhBrD;AAiBD,OAvGD,EAuGGD,QAAQ,CAAC,CAAD,CAvGX,EAuGgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAvGlB,EAuGsCA,QAvGtC;AAwGD,KA7GD,EA6GGA,QAAQ,CAAC,CAAD,CA7GX,EA6GgBA,QA7GhB;AA8GD,GAnHM,CAmHJA,QAAQ,CAAC,CAAD,CAnHJ,EAmHSA,QAnHT,CAAP;AAoHD,CAhID,EAgIGN,IAhIH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASC,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAAA,MAAmJC,OAAO,GAAGhB,IAAI,CAACiB,MAAlK;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,kBAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CyvB,8BAA/C;AAAA,YAA+EC,qDAA/E;AAAA,YAAsIC,4BAAtI;AAEA1wB,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,kBAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,SAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,SAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,kCAAL,GAA0C,+BAA1C,GAA4E,IAA5E,GAAmF,gBAAnF,GAAsG,iBAAlJ;AACAF,YAAI,CAACwB,gBAAL,CAAsB,MAAtB;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8BwwB,8BAA8B,GAAG,SAAS9uB,YAAT,CAAsBC,OAAtB,EAA+B;AAC5F,cAAIC,KAAK,GAAG4uB,8BAA8B,CAAC3uB,GAA3C;AAAA,cAAgDC,MAAM,GAAGF,KAAK,IAAIzB,GAAlE;AAAA,cAAuEH,IAAI,GAAG,IAA9E;AAEA,cAAI4B,KAAJ,EAAW4uB,8BAA8B,CAAC3uB,GAA/B,GAAqC,IAArC;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+CwwB,8BAA/C,EAA+E,KAA/E,EAAsF,IAAtF,CAAP,EAAoG,YAApG,EAAkH,CAAC7uB,OAAD,CAAlH,EAA6H,IAA7H,CAAN;AACA,iBAAQ3B,IAAI,CAACgC,oBAAL,GAA4B,KAApC;AACD,SAPD,EAOGwuB,8BAA8B,CAACvuB,OAA/B,GAAyC,CAP5C;AASArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqDywB,qDAAqD,GAAG,SAASvuB,mCAAT,CAA6CP,OAA7C,EAAsD;AACjK,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiBmC,MAAM,GAAGhC,GAA1B;AAAA,cAA+BiC,KAAK,GAAGjC,GAAvC;AAGAH,cAAI,CAACqC,MAAL,CAAY,2CAAZ,EAAyDV,OAAzD;AACAQ,gBAAM,GAAG,EAAT;AACAC,eAAK,GAAGT,OAAR;;AACA,cAAI,QAAQ,MAAR,EAAgBS,KAAhB,CAAJ,EAA4B;AAACD,kBAAM,GAAGnC,IAAI,CAACsC,SAAL,EAAT;AAA0B;;AAAA;;AACvD,cAAI1B,OAAO,CAACuB,MAAM,CAAC,SAAD,CAAN,EAAD,CAAX,EAAkC;AAChC,mBAAOhC,GAAP;AAAW;;AAAA;AACb,iBAAO,KAAMwB,OAAN,GAAiB,KAAjB,GAA0BQ,MAAjC;AACD,SAXD,EAWGsuB,qDAAqD,CAACxuB,OAAtD,GAAgE,CAXnE;AAYA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,WAAf,EAA4B0wB,4BAA4B,GAAG,SAASnuB,UAAT,GAAsB;AACvF,cAAIvC,IAAI,GAAG,IAAX;AAAA,cAAiBmC,MAAM,GAAGhC,GAA1B;AAAA,cAA+BqC,IAAI,GAAGrC,GAAtC;AAAA,cAA2CsC,UAAU,GAAGtC,GAAxD;AAAA,cAA6DiC,KAAK,GAAGjC,GAArE;AAGAgC,gBAAM,GAAG,EAAT;AACAK,cAAI,GAAGxC,IAAI,CAACsB,UAAL,CAAgBoB,UAAhB,CAA2B,CAA3B,CAAP;AACAP,gBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,SAAT,CAAjB;AACAM,oBAAU,GAAG,EAAb;AACAL,eAAK,GAAGI,IAAR;;AACA,cAAK,CAAD,CAAI,MAAJ,EAAYJ,KAAZ,CAAJ,EAAwB;AAACK,sBAAU,GAAG,MAAb;AAAoB,WAA7C,MACK,IAAK,CAAD,CAAI,MAAJ,EAAYL,KAAZ,CAAJ,EAAwB;AAACK,sBAAU,GAAG,MAAb;AAAoB,WAA7C,MACA,IAAK,CAAD,CAAI,MAAJ,EAAYL,KAAZ,CAAJ,EAAwB;AAACK,sBAAU,GAAG,MAAb;AAAoB,WAA7C,MACA,IAAK,CAAD,CAAI,MAAJ,EAAYL,KAAZ,CAAJ,EAAwB;AAACK,sBAAU,GAAG,MAAb;AAAoB,WAA7C,MACA,IAAK,CAAD,CAAI,MAAJ,EAAYL,KAAZ,CAAJ,EAAwB;AAACK,sBAAU,GAAG,MAAb;AAAoB,WAA7C,MACA,IAAK,CAAD,CAAI,MAAJ,EAAYL,KAAZ,CAAJ,EAAwB;AAACK,sBAAU,GAAG,MAAb;AAAoB,WAA7C,MACA,IAAK,CAAD,CAAI,MAAJ,EAAYL,KAAZ,CAAJ,EAAwB;AAACK,sBAAU,GAAG,OAAb;AAAqB;;AAAA;AACnDN,gBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAASM,UAAT,CAAjB;AACA,iBAAON,MAAP;AACD,SAlBO,EAkBLuuB,4BAA4B,CAACzuB,OAA7B,GAAuC,CAlBlC,GAkBsC9B,GAlBvC,KAkB+C,UAlBtD;AAmBD,OArDD,EAqDGD,QAAQ,CAAC,CAAD,CArDX,EAqDgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CArDlB,EAqDsCA,QArDtC;AAsDD,KA3DD,EA2DGA,QAAQ,CAAC,CAAD,CA3DX,EA2DgBA,QA3DhB;AA4DD,GAjEM,CAiEJA,QAAQ,CAAC,CAAD,CAjEJ,EAiESA,QAjET,CAAP;AAkED,CAxED,EAwEGN,IAxEH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACAC,IAAI,CAAC+tB,OAAL,CAAa,gCAAb,IAAiD,UAAS/tB,IAAT,EAAe;AAC9D,WAAS+C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAAA,MAAmJC,OAAO,GAAGhB,IAAI,CAACiB,MAAlK;AAAA,MAA0KwK,MAAM,GAAGzL,IAAI,CAAC0L,KAAxL;AAEA,SAAQ,UAASxK,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,aAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C2lB,yBAA/C;AAAA,YAA0EC,yBAA1E;AAAA,YAAqGC,gDAArG;AAEA5mB,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,aAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,UAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,UAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,IAAL,GAAY,2DAAZ,GAA0E,YAA1E,GAAyF,mEAAzF,GAA+J,gBAA/J,GAAkL,0DAAlL,GAA+O,iCAA/O,GAAmR,IAAnR,GAA0R,aAAtU;AAEAN,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8B0mB,yBAAyB,GAAG,SAAShlB,YAAT,CAAsBC,OAAtB,EAA+B;AACvF,cAAIC,KAAK,GAAG8kB,yBAAyB,CAAC7kB,GAAtC;AAAA,cAA2CC,MAAM,GAAGF,KAAK,IAAIzB,GAA7D;AAAA,cAAkEH,IAAI,GAAG,IAAzE;AAEA,cAAI4B,KAAJ,EAAW8kB,yBAAyB,CAAC7kB,GAA1B,GAAgC,IAAhC;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+C0mB,yBAA/C,EAA0E,KAA1E,EAAiF,IAAjF,CAAP,EAA+F,YAA/F,EAA6G,CAAC/kB,OAAD,CAA7G,EAAwH,IAAxH,CAAN;AACA3B,cAAI,CAACiO,aAAL,GAAqB,IAArB;AACA,iBAAQjO,IAAI,CAACmQ,aAAL,GAAqB/P,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,aAAX,CAAH,EAA8B,KAA9B,CAAhC;AACD,SARD,EAQGwmB,yBAAyB,CAACzkB,OAA1B,GAAoC,CARvC;AAUArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8B2mB,yBAAyB,GAAG,SAAS1X,YAAT,CAAsB8D,MAAtB,EAA8BlF,UAA9B,EAA0CqB,UAA1C,EAAsD1L,MAAtD,EAA8DuS,OAA9D,EAAuE;AAC/H,cAAI/V,IAAI,GAAG,IAAX;;AAGA,cAAIwD,MAAM,CAAC,KAAD,CAAN,CAAc,IAAd,CAAJ,EAAyB,CACxB,CADD,MACO;AACL,mBAAOrD,GAAP;AACD;;AAAA;;AACD,cAAIS,OAAO,CAAC+B,MAAM,CAACkL,UAAD,EAAa,CAAb,CAAP,CAAX,EAAoC;AAClC,mBAAOxN,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB2D,OAAvB,CAA+B7D,IAAI,CAAC6mB,UAAL,CAAgB,oBAAhB,CAA/B,CAAP;AACD,WAFD,MAEO,IAAIjmB,OAAO,CAAC4F,MAAM,CAACqH,UAAD,EAAa,EAAb,CAAP,CAAX,EAAqC;AAC1C,mBAAOxN,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuByD,SAAvB,CAAiC3D,IAAI,CAAC6mB,UAAL,CAAgB,sBAAhB,CAAjC,CAAP;AACD,WAFM,MAEA;AACL,mBAAO1mB,GAAP;AACD;;AAAA;AACF,SAfD,EAeGwmB,yBAAyB,CAAC1kB,OAA1B,GAAoC,CAfvC;AAiBArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqD4mB,gDAAgD,GAAG,SAAS1kB,mCAAT,CAA6CP,OAA7C,EAAsD;AAC5J,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiByJ,SAAS,GAAGtJ,GAA7B;;AAEA,cAAIS,OAAO,CAAE6I,SAAS,GAAGzJ,IAAI,CAACqlB,YAAL,CAAkB1jB,OAAlB,EAA2BvB,GAAG,CAACJ,IAAI,CAACslB,MAAL,EAAD,EAAgB,QAAhB,CAA9B,CAAd,CAAX,EAAqF;AACnF,mBAAO7b,SAAP;AACD,WAFD,MAEO;AACL,mBAAOrJ,GAAG,CAACJ,IAAI,CAACslB,MAAL,EAAD,EAAgB,KAAhB,CAAH,CAA0BwB,aAA1B,CAAwC9mB,IAAI,CAACsB,UAA7C,EAAyDK,OAAzD,CAAP;AACD;AACF,SARD,EAQGilB,gDAAgD,CAAC3kB,OAAjD,GAA2D,CAR9D;;AASA,SAAC,UAASjC,IAAT,EAAee,eAAf,EAAgC;AAC/B,cAAIb,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,cAA+CgmB,mBAA/C;AAAA,cAAoEC,gBAApE;AAGAhnB,cAAI,CAACqN,QAAL;AAEAzN,cAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,mBAAf,EAAoC+mB,mBAAmB,GAAG,SAASE,kBAAT,CAA4BC,MAA5B,EAAoC;AAC5F,gBAAIlnB,IAAI,GAAG,IAAX;AAEA,mBAAOqL,MAAM,CAAC,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,MAAtB,EAA8B,KAA9B,EAAqC,KAArC,EAA4C,OAA5C,EAAqD,OAArD,EAA8D,OAA9D,EAAuE,MAAvE,EAA+E,QAA/E,CAAD,EAA2F;AAAC,qBAAOjL,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,OAA5B,CAAH,CAAwCinB,UAAxC,CAAmD,uBAAnD,EAA4ED,MAA5E,CAAR;AAA6F,qBAAO9mB,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,OAA5B,CAAH,CAAwCinB,UAAxC,CAAmD,uBAAnD,EAA4ED,MAA5E,CAApG;AAAyL,qBAAO9mB,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,OAA5B,CAAH,CAAwCinB,UAAxC,CAAmD,uBAAnD,EAA4ED,MAA5E,CAAhM;AAAqR,sBAAQ9mB,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,OAA5B,CAAH,CAAwCinB,UAAxC,CAAmD,wBAAnD,EAA6ED,MAA7E,CAA7R;AAAmX,qBAAO9mB,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,OAA5B,CAAH,CAAwCinB,UAAxC,CAAmD,uBAAnD,EAA4ED,MAA5E,CAA1X;AAA+c,qBAAO9mB,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,OAA5B,CAAH,CAAwCinB,UAAxC,CAAmD,uBAAnD,EAA4ED,MAA5E,CAAtd;AAA2iB,uBAAS9mB,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,OAA5B,CAAH,CAAwCinB,UAAxC,CAAmD,yBAAnD,EAA8ED,MAA9E,CAApjB;AAA2oB,uBAAS9mB,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,OAA5B,CAAH,CAAwCinB,UAAxC,CAAmD,yBAAnD,EAA8ED,MAA9E,CAAppB;AAA2uB,uBAAS9mB,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,OAA5B,CAAH,CAAwCinB,UAAxC,CAAmD,yBAAnD,EAA8ED,MAA9E,CAApvB;AAA20B,sBAAQ9mB,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,OAA5B,CAAH,CAAwCinB,UAAxC,CAAmD,wBAAnD,EAA6ED,MAA7E,CAAn1B;AAAy6B,wBAAU9mB,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,UAA5B,CAAH,CAA2CinB,UAA3C,CAAsD,0BAAtD,EAAkFD,MAAlF;AAAn7B,aAA3F,CAAb;AACD,WAJD,EAIGH,mBAAmB,CAAC9kB,OAApB,GAA8B,CAJjC;AAKA,iBAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,gBAAf,EAAiCgnB,gBAAgB,GAAG,SAASI,eAAT,CAAyBF,MAAzB,EAAiC;AAC3F,gBAAIlnB,IAAI,GAAG,IAAX;AAEA,mBAAOI,GAAG,CAACC,EAAE,CAACH,QAAD,EAAW,WAAX,CAAH,EAA4B,kBAA5B,CAAH,CAAmDinB,UAAnD,CAA8D,iBAA9D,EAAiFD,MAAjF,EAAyF7b,MAAM,CAAC,CAAC,KAAD,EAAQ,MAAR,CAAD,EAAkB;AAAC,qBAAO,IAAR;AAAc,sBAAQ,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC;AAAtB,aAAlB,CAA/F,CAAP;AACD,WAJO,EAIL2b,gBAAgB,CAAC/kB,OAAjB,GAA2B,CAJtB,GAI0B9B,GAJ3B,KAImC,eAJ1C;AAKD,SAhBD,EAgBGP,IAAI,CAACynB,mBAAL,CAAyBrnB,IAAzB,CAhBH,EAgBmCE,QAhBnC;;AAiBAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,QAA5B,EAAsCF,IAAI,CAACsnB,iBAAL,CAAuB,OAAvB,CAAtC;AACA1nB,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,KAA5B,EAAmCF,IAAI,CAACunB,cAAL,CAAoB,OAApB,CAAnC;AACA,eAAOvnB,IAAI,CAACwB,gBAAL,CAAsBnB,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBslB,KAAvB,EAAtB,EAAsDnlB,EAAE,CAACH,QAAD,EAAW,KAAX,CAAF,CAAoBsnB,SAApB,EAAtD,CAAP;AACD,OApED,EAoEGtnB,QAAQ,CAAC,CAAD,CApEX,EAoEgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CApElB,EAoEsCA,QApEtC;AAqED,KA1ED,EA0EGA,QAAQ,CAAC,CAAD,CA1EX,EA0EgBA,QA1EhB;AA2ED,GAhFM,CAgFJA,QAAQ,CAAC,CAAD,CAhFJ,EAgFSA,QAhFT,CAAP;AAiFD,CA1FD;AA4FA;;;AACA,CAAC,UAASN,IAAT,EAAe;AACd,MAAII,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAGAX,MAAI,CAAC4tB,QAAL,CAAc,gCAAd;AACA,SAAQ,UAAS9sB,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,oBAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C4vB,gCAA/C;AAGA/wB,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,oBAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,UAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,qBAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,wDAAL,GAAgE,YAAhE,GAA+E,wEAA/E,GAA0J,6DAA1J,GAA0N,oCAA1N,GAAiQ,uBAA7S;AACAF,YAAI,CAAC4wB,iCAAL;AAEAhxB,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8B2wB,gCAAgC,GAAG,SAASjvB,YAAT,CAAsBC,OAAtB,EAA+B;AAC9F,cAAIC,KAAK,GAAG+uB,gCAAgC,CAAC9uB,GAA7C;AAAA,cAAkDC,MAAM,GAAGF,KAAK,IAAIzB,GAApE;AAAA,cAAyEH,IAAI,GAAG,IAAhF;AAEA,cAAI4B,KAAJ,EAAW+uB,gCAAgC,CAAC9uB,GAAjC,GAAuC,IAAvC;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+C2wB,gCAA/C,EAAiF,KAAjF,EAAwF,IAAxF,CAAP,EAAsG,YAAtG,EAAoH,CAAChvB,OAAD,CAApH,EAA+H,IAA/H,CAAN;AACA,iBAAQ3B,IAAI,CAACknB,MAAL,GAAc,OAAtB;AACD,SAPD,EAOGyJ,gCAAgC,CAAC1uB,OAAjC,GAA2C,CAP9C;AAQArC,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,QAA5B,EAAsCF,IAAI,CAACsnB,iBAAL,CAAuB,OAAvB,EAAgC/B,OAAhC,EAAtC;AACA,eAAO3lB,IAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,KAA5B,EAAmCF,IAAI,CAACunB,cAAL,CAAoB,OAApB,CAAnC,CAAP;AACD,OAtBD,EAsBGrnB,QAAQ,CAAC,CAAD,CAtBX,EAsBgBG,EAAE,CAACH,QAAD,EAAW,aAAX,CAtBlB,EAsB6CA,QAtB7C;AAuBD,KA5BD,EA4BGA,QAAQ,CAAC,CAAD,CA5BX,EA4BgBA,QA5BhB;AA6BD,GAlCM,CAkCJA,QAAQ,CAAC,CAAD,CAlCJ,EAkCSA,QAlCT,CAAP;AAmCD,CAxCD,EAwCGN,IAxCH,E;;;;;;;;;;;AChGAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS2G,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASF,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,gBAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C8vB,6BAA/C;AAAA,YAA8EC,4BAA9E;AAGAlxB,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,gBAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,iBAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,aAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,4CAAL,GAAoD,IAApD,GAA2D,uBAA3D,GAAqF,IAArF,GAA4F,oCAAxI;AACAF,YAAI,CAACwB,gBAAL,CAAsB,IAAtB,EAA4B,IAA5B;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,cAAf,EAA+B6wB,6BAA6B,GAAG,SAASE,aAAT,CAAuBxQ,MAAvB,EAA+B;AAC5F,cAAIvgB,IAAI,GAAG,IAAX;AAEA,iBAAOugB,MAAM,CAACgO,KAAP,CAAa,QAAb,EAAuB,KAAvB,CAAP;AACD,SAJD,EAIGsC,6BAA6B,CAAC5uB,OAA9B,GAAwC,CAJ3C;AAKA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8B8wB,4BAA4B,GAAG,SAAS7hB,YAAT,CAAsB3L,KAAtB,EAA6BuK,UAA7B,EAAyCqB,UAAzC,EAAqD1L,MAArD,EAA6DC,MAA7D,EAAqE;AACxI,cAAIzD,IAAI,GAAG,IAAX;AAAA,cAAiB2L,QAAQ,GAAGxL,GAA5B;AAAA,cAAiC6M,MAAM,GAAG7M,GAA1C;AAAA,cAA+C6wB,eAAe,GAAG7wB,GAAjE;;AAGA,cAAIsD,MAAM,CAAC,KAAD,CAAN,CAAc,GAAd,CAAJ,EAAwB;AACtB,mBAAOpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBwD,QAAvB,EAAP;AAAyC;;AAAA;;AAC3C,cAAI9C,OAAO,CAAC,CAAC,IAAD,EAAO,GAAP,EAAY,WAAZ,EAAyB4C,MAAzB,CAAD,CAAX,EAA+C,CAC9C,CADD,MACO;AACL,mBAAOrD,GAAP;AACD;;AAAA;AACDwL,kBAAQ,GAAG,KAAX;AACAqB,gBAAM,GAAG,KAAT;;AACA,cAAIa,UAAU,CAAC,KAAD,CAAV,CAAkB,EAAlB,CAAJ,EAA2B;AACzBlC,oBAAQ,GAAG,IAAX;AACD,WAFD,MAEO,IAAIkC,UAAU,CAAC,KAAD,CAAV,CAAkB,CAAlB,CAAJ,EAA0B;AAC/Bb,kBAAM,GAAG,IAAT;AAAc;;AAAA;;AAChBgkB,yBAAe,GAAI,YAAW;AAAC,gBAAIxtB,MAAM,CAAC,KAAD,CAAN,CAAc,IAAd,CAAJ,EAAyB;AACtD,qBAAO,CAAP;AACD,aAF8B,MAExB;AACL,qBAAO,CAAP;AACD;;AAAA;AAAE,mBAAOrD,GAAP;AAAa,WAJE,EAAlB;;AAKA,cAAIS,OAAO,CAAC2F,MAAM,CAAC1G,QAAQ,CAACyD,KAAD,EAAQ0tB,eAAR,CAAT,EAAmCvtB,MAAnC,CAAP,CAAX,EAA+D;AAC7D,gBAAI7C,OAAO,CAAC+K,QAAD,CAAX,EAAuB;AACrB,qBAAOtL,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuByD,SAAvB,CAAiC,YAAjC,CAAP;AACD,aAFD,MAEO,IAAI/C,OAAO,CAACoM,MAAD,CAAX,EAAqB;AAC1B,qBAAO3M,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4D,QAAvB,CAAgC,MAAhC,CAAP;AACD,aAFM,MAEA;AACL,qBAAOzD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,IAAhC,CAAP;AACD;AACF,WARD,MAQO,IAAIhD,OAAO,CAAC+K,QAAD,CAAX,EAAuB;AAC5B,mBAAOtL,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,MAAhC,CAAP;AACD,WAFM,MAEA,IAAIhD,OAAO,CAACoM,MAAD,CAAX,EAAqB;AAC1B,mBAAO3M,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB2D,OAAvB,CAA+B,aAA/B,CAAP;AACD,WAFM,MAEA;AACL,mBAAOxD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4D,QAAvB,CAAgC,IAAhC,CAAP;AACD;;AAAA;AACF,SApCO,EAoCLgtB,4BAA4B,CAAC7uB,OAA7B,GAAuC,CApClC,GAoCsC9B,GApCvC,KAoC+C,YApCtD;AAqCD,OAtDD,EAsDGD,QAAQ,CAAC,CAAD,CAtDX,EAsDgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAtDlB,EAsDsCA,QAtDtC;AAuDD,KA5DD,EA4DGA,QAAQ,CAAC,CAAD,CA5DX,EA4DgBA,QA5DhB;AA6DD,GAlEM,CAkEJA,QAAQ,CAAC,CAAD,CAlEJ,EAkESA,QAlET,CAAP;AAmED,CA5ED,EA4EGN,IA5EH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASC,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASkJ,MAAT,CAAgBnJ,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAAA,MAAqJqI,KAAK,GAAGtJ,IAAI,CAACuJ,IAAlK;AAEA,SAAQ,UAASrI,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,cAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CkwB,iDAA/C;AAAA,YAAkGC,yBAAlG;AAAA,YAA6HC,4BAA7H;AAEAnxB,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,cAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,SAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,SAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,+CAAL,GAAuD,+CAAvD,GAAyG,IAAzG,GAAgH,mBAAhH,GAAsI,4CAAtI,GAAqL,2CAArL,GAAmO,IAAnO,GAA0O,SAA1O,GAAsP,2BAAtP,GAAoR,yBAApR,GAAgT,kCAAhT,GAAqV,6CAArV,GAAqY,6CAArY,GAAqb,0CAAje;AACAF,YAAI,CAACwB,gBAAL,CAAsB,IAAtB,EAA4B,IAA5B;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqDixB,iDAAiD,GAAG,SAAS/uB,mCAAT,CAA6CP,OAA7C,EAAsD;AAC7J,cAAImV,GAAJ;AAAA,cAAS9W,IAAI,GAAG,IAAhB;AAAA,cAAsB6J,MAAM,GAAG1J,GAA/B;AAAA,cAAoCiC,KAAK,GAAGjC,GAA5C;AAAA,cAAiDixB,WAAW,GAAGjxB,GAA/D;AAAA,cAAoEsD,MAAM,GAAGtD,GAA7E;AAAA,cAAkFsJ,SAAS,GAAGtJ,GAA9F;AAAA,cAAmGwJ,MAAM,GAAGxJ,GAA5G;AAAA,cAAiHyJ,SAAS,GAAGzJ,GAA7H;AAAA,cAAkIkxB,eAAe,GAAGlxB,GAApJ;AAAA,cAAyJmxB,WAAW,GAAGnxB,GAAvK;;AAGA0J,gBAAM,GAAI,YAAW;AAACzH,iBAAK,GAAGT,OAAO,CAACmI,OAAR,EAAR;;AACtB,gBAAI,wCAAwC,MAAxC,EAAgD1H,KAAhD,CAAJ,EAA4D;AAC5DgvB,yBAAW,GAAG/wB,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,EAAsC,KAAtC,EAA6C,IAA7C,CAAd;;AACAV,oBAAM,GAAI,YAAW;AAAC,oBAAI7C,OAAO,CAAE6I,SAAS,GAAGpJ,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAAd,CAAX,EAAkE;AACtF,yBAAOsF,SAAP;AACD,iBAFqB,MAEf;AACL,yBAAO,CAAP;AACD;;AAAA;AAAE,uBAAOtJ,GAAP;AAAa,eAJP,GAIWiE,KAJX,EAAT;;AAKAuF,oBAAM,GAAI,YAAW;AAAC,oBAAI/I,OAAO,CAAEgJ,SAAS,GAAGvJ,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAAd,CAAX,EAAkE;AACtF,yBAAOyF,SAAP;AACD,iBAFqB,MAEf;AACL,yBAAO,CAAP;AACD;;AAAA;AAAE,uBAAOzJ,GAAP;AAAa,eAJP,GAIWiE,KAJX,EAAT;;AAKAitB,6BAAe,GAAGhxB,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAAlB;AACAmtB,yBAAW,GAAGD,eAAe,CAACE,KAAhB,CAAsB,UAAtB,CAAd;AACAroB,mBAAK,CAACooB,WAAD,EAAc,MAAd,EAAsB,EAAtB,GAA2Bxa,GAAG,GAAG,aAASlM,CAAT,EAAW;AAAC,oBAAI5K,IAAI,GAAG8W,GAAG,CAACjM,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyBiM,GAAG,CAACjM,GAAxC;;AAIhD,oBAAID,CAAC,IAAI,IAAT,EAAe;AACbA,mBAAC,GAAGzK,GAAJ;AACD;;AAAA;AACD,uBAAQwJ,MAAM,GAAG9J,QAAQ,CAAC8J,MAAD,EAASiB,CAAC,CAACxG,KAAF,EAAT,CAAzB;AAA+C,eAPjB,EAOmB0S,GAAG,CAACjM,GAAJ,GAAU7K,IAP7B,EAOmC8W,GAAG,CAAC7U,OAAJ,GAAc,CAPjD,EAOoD6U,GAP/E,EAAL;AAQA,qBAAO9W,IAAI,CAACgK,UAAL,CAAgBonB,WAAhB,EAA6BznB,MAA7B,EAAqClG,MAArC,CAAP;AAAqD,aAtBrD,MAuBK;AAAE,qBAAOtD,GAAP;AAAY;AAAC,WAxBX,EAAT;;AAyBA,iBAAO0J,MAAP;AACD,SA9BD,EA8BGonB,iDAAiD,CAAChvB,OAAlD,GAA4D,CA9B/D;AAgCArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,YAAf,EAA6BkxB,yBAAyB,GAAG,SAASjnB,WAAT,CAAqBmnB,WAArB,EAAkCznB,MAAlC,EAA0ClG,MAA1C,EAAkD;AACzG,cAAIzD,IAAI,GAAG,IAAX;AAAA,cAAiB4E,SAAS,GAAGzE,GAA7B;AAAA,cAAkCqC,IAAI,GAAGrC,GAAzC;AAAA,cAA8C0E,QAAQ,GAAG1E,GAAzD;AAAA,cAA8DgK,YAAY,GAAGhK,GAA7E;AAAA,cAAkFiK,UAAU,GAAGjK,GAA/F;AAAA,cAAoGkK,UAAU,GAAGlK,GAAjH;AAAA,cAAsHgC,MAAM,GAAGhC,GAA/H;AAAA,cAAoI6K,SAAS,GAAG7K,GAAhJ;AAGAyE,mBAAS,GAAG5E,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+B,CAA/B,EAAkC,CAAlC,CAAZ;AACAvC,cAAI,GAAGoC,SAAS,CAACI,IAAV,EAAP;AACAH,kBAAQ,GAAGD,SAAS,CAACK,KAAV,CAAgB,GAAhB,CAAX;AACAkF,sBAAY,GAAGtK,QAAQ,CAAC2C,IAAD,EAAOmH,MAAP,CAAvB;AACAS,oBAAU,GAAGpK,IAAI,CAACyK,aAAL,CAAmBd,MAAnB,CAAb;;AACAU,oBAAU,GAAI,YAAW;AAAC,gBAAI5G,MAAM,CAAC,KAAD,CAAN,CAAc,CAAd,CAAJ,EAAsB;AAC9C,qBAAO,EAAP;AACD,aAFyB,MAEnB;AACL,qBAAO,KAAK,IAAL,GAAaA,MAApB;AACD;;AAAA;AAAE,mBAAOtD,GAAP;AAAa,WAJH,EAAb;;AAKAgC,gBAAM,GAAG,KAAK,MAAL,GAAeiI,UAAf,GAA8BC,UAA9B,GAA4C,GAArD;AACAlI,gBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,KAAL,GAAcK,IAAd,GAAsB,GAAtB,GAA6BqC,QAA7B,GAAyC,GAAzC,GAAgDuF,UAAzD,CAAjB;;AACA,cAAIxJ,OAAO,CAAE,YAAW;AAAC,gBAAIA,OAAO,CAAEoK,SAAS,GAAGomB,WAAd,CAAX,EAAwC;AAE/D,qBAAO5uB,IAAI,CAAC,KAAD,CAAJ,CAAY,EAAZ,CAAP;AACD,aAHwB,MAGlB;AACL,qBAAOwI,SAAP;AACD;;AAAA;AAAE,mBAAO7K,GAAP;AAAa,WALJ,EAAD,CAAX,EAKsB;AAEpBgC,kBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,YAAT,CAAjB;AACA,mBAAOA,MAAP;AAAe;;AAAA;AACjBA,gBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,KAAK,KAAL,GAAcgI,YAAd,GAA+BE,UAAxC,CAAjB;;AACA,cAAI5G,MAAM,CAAC,KAAD,CAAN,CAAc,CAAd,CAAJ,EAAsB;AACpB,mBAAOtB,MAAP;AAAc;;AAAA;;AAChB,cAAIvB,OAAO,CAAC4F,MAAM,CAAC2D,YAAD,EAAe1G,MAAf,CAAP,CAAX,EAA2C;AACzCtB,kBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,SAAT,CAAjB;AACD,WAFD,MAEO;AACLA,kBAAM,GAAGtC,QAAQ,CAACsC,MAAD,EAAS,SAAT,CAAjB;AACD;;AAAA;AACD,iBAAOA,MAAP;AACD,SAlCD,EAkCG+uB,yBAAyB,CAACjvB,OAA1B,GAAoC,CAlCvC;AAmCA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,eAAf,EAAgCmxB,4BAA4B,GAAG,SAASjmB,cAAT,CAAwBC,KAAxB,EAA+B;AACpG,cAAInL,IAAI,GAAG,IAAX;;AAGA,cAAImL,KAAK,CAAC,KAAD,CAAL,CAAa,CAAb,CAAJ,EAAqB;AACnB,mBAAO,EAAP;AAAU;;AAAA;;AACZ,cAAIvK,OAAO,CAACqI,MAAM,CAACkC,KAAD,EAAQ,CAAR,CAAP,CAAX,EAA+B;AAC7B,mBAAOA,KAAK,CAACL,KAAN,EAAP;AAAqB;;AAAA;AACvB,iBAAO,KAAK,GAAL,GAAYK,KAAnB;AACD,SATO,EASLgmB,4BAA4B,CAAClvB,OAA7B,GAAuC,CATlC,GASsC9B,GATvC,KAS+C,cATtD;AAUD,OA1FD,EA0FGD,QAAQ,CAAC,CAAD,CA1FX,EA0FgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CA1FlB,EA0FsCA,QA1FtC;AA2FD,KAhGD,EAgGGA,QAAQ,CAAC,CAAD,CAhGX,EAgGgBA,QAhGhB;AAiGD,GAtGM,CAsGJA,QAAQ,CAAC,CAAD,CAtGJ,EAsGSA,QAtGT,CAAP;AAuGD,CAnHD,EAmHGN,IAnHH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAASwL,UAAT,CAAoBtL,GAApB,EAAyBC,GAAzB,EAA8B;AAC5B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASwG,MAAT,CAAgBzG,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAAS4C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HG,OAAO,GAAGhB,IAAI,CAACiB,MAA7I;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,QAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CywB,sBAA/C;AAGA5xB,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,QAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,mBAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,KAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,0BAAL,GAAkC,gBAAlC,GAAqD,wCAAjG;AACA,eAAO,CAACN,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,eAAf,EAAgCwxB,sBAAsB,GAAG,SAASnuB,cAAT,CAAwBC,KAAxB,EAA+BuK,UAA/B,EAA2CrK,MAA3C,EAAmDC,MAAnD,EAA2D;AAC1H,cAAIzD,IAAI,GAAG,IAAX;AAAA,cAAiBuf,IAAI,GAAGpf,GAAxB;AAAA,cAA6Bmf,IAAI,GAAGnf,GAApC;AAAA,cAAyCsJ,SAAS,GAAGtJ,GAArD;AAAA,cAA0DyJ,SAAS,GAAGzJ,GAAtE;;AAGA,cAAIsD,MAAM,CAAC,KAAD,CAAN,CAAc,GAAd,CAAJ,EAAwB;AACtB,mBAAOtD,GAAP;AAAW;;AAAA;;AACb,cAAIqD,MAAM,CAAC,KAAD,CAAN,CAAc,IAAd,CAAJ,EAAyB,CACxB,CADD,MACO;AACL,mBAAOrD,GAAP;AACD;;AAAA;AACDof,cAAI,GAAGnU,UAAU,CAACyC,UAAD,EAAa,EAAb,CAAV,CAA2BzJ,KAA3B,GAAmC,IAAnC,EAAyC,EAAzC,CAAP;AACAkb,cAAI,GAAGzR,UAAU,CAAC,IAAD,CAAV,CAAiB,EAAjB,CAAP;;AACA,cAAI0R,IAAI,CAAC,KAAD,CAAJ,CAAYD,IAAZ,CAAJ,EAAuB;AACrB,gBAAI1e,OAAO,CAAE,YAAW;AAAC,kBAAIA,OAAO,CAAE6I,SAAS,GAAGlD,MAAM,CAACjD,KAAD,EAAQG,MAAR,CAApB,CAAX,EAAkD;AACzE,uBAAOgG,SAAP;AACD,eAFwB,MAElB;AAEL,uBAAOoE,UAAU,CAAC,KAAD,CAAV,CAAkB,GAAlB,CAAP;AACD;;AAAA;AAAE,qBAAO1N,GAAP;AAAa,aALJ,EAAD,CAAX,EAKsB;AACpB,kBAAIS,OAAO,CAAC2F,MAAM,CAAC9C,MAAD,EAAS,GAAT,CAAP,CAAX,EAAkC;AAChC,uBAAOpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4D,QAAvB,CAAgC,IAAhC,CAAP;AACD,eAFD,MAEO;AACL,uBAAOzD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB2D,OAAvB,CAA+B,OAA/B,CAAP;AACD;AACF,aAXD,MAWO;AACL,qBAAOxD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuByD,SAAvB,CAAiC,KAAjC,CAAP;AACD;AACF,WAfD,MAeO,IAAI/C,OAAO,CAAE,YAAW;AAAC,gBAAIA,OAAO,CAAEgJ,SAAS,GAAGjH,MAAM,CAACW,KAAD,EAAQG,MAAR,CAApB,CAAX,EAAkD;AAChF,qBAAOmG,SAAP;AACD,aAF+B,MAEzB;AAEL,qBAAOiE,UAAU,CAAC,KAAD,CAAV,CAAkB,CAAlB,CAAP;AACD;;AAAA;AAAE,mBAAO1N,GAAP;AAAa,WALG,EAAD,CAAX,EAKe;AACpB,gBAAIS,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQ8H,UAAU,CAAC3H,MAAD,EAAS,CAAT,CAAV,CAAsBW,KAAtB,EAAR,CAAP,CAAX,EAA2D;AACzD,qBAAO/D,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,KAAhC,CAAP;AACD,aAFD,MAEO;AACL,qBAAOvD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,KAAhC,CAAP;AACD;AACF,WAXM,MAWA;AACL,mBAAOvD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4D,QAAvB,CAAgC,IAAhC,CAAP;AACD;;AAAA;AACF,SAzCO,EAyCL0tB,sBAAsB,CAACvvB,OAAvB,GAAiC,CAzC5B,GAyCgC9B,GAzCjC,KAyCyC,cAzChD;AA0CD,OApDD,EAoDGD,QAAQ,CAAC,CAAD,CApDX,EAoDgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CApDlB,EAoDsCA,QApDtC;AAqDD,KA1DD,EA0DGA,QAAQ,CAAC,CAAD,CA1DX,EA0DgBA,QA1DhB;AA2DD,GAhEM,CAgEJA,QAAQ,CAAC,CAAD,CAhEJ,EAgESA,QAhET,CAAP;AAiED,CA7ED,EA6EGN,IA7EH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,MAAII,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HyI,KAAK,GAAGtJ,IAAI,CAACuJ,IAA3I;AAEA,SAAQ,UAASrI,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,SAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C0wB,sBAA/C;AAAA,YAAuEC,qBAAvE;AAGA9xB,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,SAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,SAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,SAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,4BAAL,GAAoC,IAApC,GAA2C,mBAA3C,GAAiE,IAAjE,GAAwE,0BAApH;AACAF,YAAI,CAACwB,gBAAL,CAAsB,GAAtB;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,cAAf,EAA+ByxB,sBAAsB,GAAG,SAASV,aAAT,CAAuBxQ,MAAvB,EAA+B;AACrF,cAAIzJ,GAAJ;AAAA,cAAS9W,IAAI,GAAG,IAAhB;;AAGAugB,gBAAM,GAAGrX,KAAK,CAACqX,MAAD,EAAS,MAAT,EAAiB,CAAC,SAAD,CAAjB,GAA+BzJ,GAAG,GAAG,eAAU;AAAC,gBAAI9W,IAAI,GAAG8W,GAAG,CAACjM,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyBiM,GAAG,CAACjM,GAAxC;AAE9D,mBAAO,KAAMxK,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBiE,WAAvB,CAAmC,CAAnC,CAAN,GAA+C,KAAtD;AAA4D,WAFf,EAEiB2S,GAAG,CAACjM,GAAJ,GAAU7K,IAF3B,EAEiC8W,GAAG,CAAC7U,OAAJ,GAAc,CAF/C,EAEkD6U,GAFjF,EAAd;AAGA,iBAAOyJ,MAAP;AACD,SARD,EAQGkR,sBAAsB,CAACxvB,OAAvB,GAAiC,CARpC;AASA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8B0xB,qBAAqB,GAAG,SAASziB,YAAT,CAAsB8D,MAAtB,EAA8BxP,WAA9B,EAA2CqB,SAA3C,EAAsD+sB,OAAtD,EAA+D5b,OAA/D,EAAwE;AACpI,cAAI/V,IAAI,GAAG,IAAX;;AAEA,cAAI4E,SAAS,CAAC,KAAD,CAAT,CAAiB,CAAC,CAAD,EAAI,CAAJ,CAAjB,CAAJ,EAA8B;AAC5B,mBAAOvE,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuByD,SAAvB,CAAiC,eAAjC,CAAP;AACD,WAFD,MAEO;AACL,mBAAOxD,GAAP;AACD;AACF,SARO,EAQLuxB,qBAAqB,CAACzvB,OAAtB,GAAgC,CAR3B,GAQ+B9B,GARhC,KAQwC,YAR/C;AASD,OA9BD,EA8BGD,QAAQ,CAAC,CAAD,CA9BX,EA8BgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CA9BlB,EA8BsCA,QA9BtC;AA+BD,KApCD,EAoCGA,QAAQ,CAAC,CAAD,CApCX,EAoCgBA,QApChB;AAqCD,GA1CM,CA0CJA,QAAQ,CAAC,CAAD,CA1CJ,EA0CSA,QA1CT,CAAP;AA2CD,CA9CD,EA8CGN,IA9CH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS4G,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAAS4C,MAAT,CAAgB7C,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASqL,UAAT,CAAoBtL,GAApB,EAAyBC,GAAzB,EAA8B;AAC5B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASuG,SAAT,CAAmBxG,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASiJ,SAAT,CAAmBlJ,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASF,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAAA,MAAmJC,OAAO,GAAGhB,IAAI,CAACiB,MAAlK;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,QAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+C6wB,oBAA/C;AAAA,YAAqEC,sBAArE;AAGAjyB,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,QAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,OAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,OAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,yCAAL,GAAiD,cAA7F;AAEAN,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8B4xB,oBAAoB,GAAG,SAASlwB,YAAT,CAAsBC,OAAtB,EAA+B;AAClF,cAAIC,KAAK,GAAGgwB,oBAAoB,CAAC/vB,GAAjC;AAAA,cAAsCC,MAAM,GAAGF,KAAK,IAAIzB,GAAxD;AAAA,cAA6DH,IAAI,GAAG,IAApE;AAEA,cAAI4B,KAAJ,EAAWgwB,oBAAoB,CAAC/vB,GAArB,GAA2B,IAA3B;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+C4xB,oBAA/C,EAAqE,KAArE,EAA4E,IAA5E,CAAP,EAA0F,YAA1F,EAAwG,CAACjwB,OAAD,CAAxG,EAAmH,IAAnH,CAAN;AACA,iBAAQ3B,IAAI,CAAC8xB,UAAL,GAAkB,IAA1B;AACD,SAPD,EAOGF,oBAAoB,CAAC3vB,OAArB,GAA+B,CAPlC;AAQA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,eAAf,EAAgC6xB,sBAAsB,GAAG,SAASxuB,cAAT,CAAwBC,KAAxB,EAA+BC,WAA/B,EAA4CC,MAA5C,EAAoDC,MAApD,EAA4D;AAC3H,cAAIzD,IAAI,GAAG,IAAX;AAAA,cAAiB+xB,KAAK,GAAG5xB,GAAzB;AAAA,cAA8B6xB,IAAI,GAAG7xB,GAArC;;AAGA,cAAIqD,MAAM,CAAC,KAAD,CAAN,CAAc,IAAd,CAAJ,EAAyB,CACxB,CADD,MACO;AACL,mBAAOrD,GAAP;AACD;;AAAA;;AACD,cAAIS,OAAO,CAAC4F,MAAM,CAAClD,KAAD,EAAQ,GAAR,CAAP,CAAX,EAAiC;AAC/B,mBAAOjD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB2D,OAAvB,CAA+B,OAA/B,CAAP;AACD,WAFD,MAEO,IAAIjD,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQ,CAAR,CAAP,CAAX,EAA+B;AACpC,mBAAOjD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuByD,SAAvB,CAAiC,eAAjC,CAAP;AACD,WAFM,MAEA,IAAIF,MAAM,CAAC,KAAD,CAAN,CAAc,GAAd,CAAJ,EAAwB;AAC7B,mBAAOpD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuBwD,QAAvB,EAAP;AACD,WAFM,MAEA,IAAI9C,OAAO,CAAC+B,MAAM,CAACW,KAAD,EAAQG,MAAR,CAAP,CAAX,EAAoC;AAEzCsuB,iBAAK,GAAG3mB,UAAU,CAAC9H,KAAD,EAAQ,EAAR,CAAV,CAAsBc,KAAtB,EAAR;AACA4tB,gBAAI,GAAG1rB,SAAS,CAAChD,KAAD,EAAQ0F,SAAS,CAAC+oB,KAAD,EAAQ,EAAR,CAAjB,CAAhB;;AACA,gBAAInxB,OAAO,CAAC4F,MAAM,CAACurB,KAAD,EAAQ,EAAR,CAAP,CAAX,EAAgC;AAC9BA,mBAAK,GAAG,CAAR;AAAU;;AAAA;;AACZ,gBAAInxB,OAAO,CAAC4F,MAAM,CAACwrB,IAAD,EAAO,EAAP,CAAP,CAAX,EAA+B;AAC7BA,kBAAI,GAAG,CAAP;AAAS;;AAAA;;AACX,gBAAIpxB,OAAO,CAAC+B,MAAM,CAACqvB,IAAD,EAAO,CAAP,CAAP,CAAX,EAA8B;AAC5B,qBAAO3xB,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuByD,SAAvB,CAAiC,kBAAjC,CAAP;AACD,aAFD,MAEO;AACL,qBAAOtD,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB0D,QAAvB,CAAgC,KAAK,QAAL,GAAiB/D,QAAQ,CAACkyB,KAAD,EAAQC,IAAR,CAAzB,GAA0C,MAA1E,CAAP;AACD;;AAAA;AACF,WAbM,MAaA;AACL,mBAAO3xB,EAAE,CAACH,QAAD,EAAW,QAAX,CAAF,CAAuB4D,QAAvB,CAAgC,IAAhC,CAAP;AACD;;AAAA;AACF,SA9BO,EA8BL+tB,sBAAsB,CAAC5vB,OAAvB,GAAiC,CA9B5B,GA8BgC9B,GA9BjC,KA8ByC,cA9BhD;AA+BD,OAlDD,EAkDGD,QAAQ,CAAC,CAAD,CAlDX,EAkDgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CAlDlB,EAkDsCA,QAlDtC;AAmDD,KAxDD,EAwDGA,QAAQ,CAAC,CAAD,CAxDX,EAwDgBA,QAxDhB;AAyDD,GA9DM,CA8DJA,QAAQ,CAAC,CAAD,CA9DJ,EA8DSA,QA9DT,CAAP;AA+DD,CApFD,EAoFGN,IApFH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,WAAS0G,SAAT,CAAmBxG,GAAnB,EAAwBC,GAAxB,EAA6B;AAC3B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASF,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,WAASyG,MAAT,CAAgB1G,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,IAAIC,GAAhE,GAAsED,GAAG,CAAC,KAAD,CAAH,CAAWC,GAAX,CAA7E;AACD;;AACD,WAASkJ,MAAT,CAAgBnJ,GAAhB,EAAqBC,GAArB,EAA0B;AACxB,WAAQ,OAAOD,GAAP,KAAgB,QAAhB,IAA4B,OAAOC,GAAP,KAAgB,QAA7C,GAAyDD,GAAG,GAAGC,GAA/D,GAAqED,GAAG,CAAC,IAAD,CAAH,CAAUC,GAAV,CAA5E;AACD;;AACD,MAAIC,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HyI,KAAK,GAAGtJ,IAAI,CAACuJ,IAA3I;AAAA,MAAiJvI,OAAO,GAAGhB,IAAI,CAACiB,MAAhK;AAEA,SAAQ,UAASC,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,kBAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CkxB,qDAA/C;AAAA,YAAsGC,yCAAtG;AAAA,YAAiJC,sCAAjJ;AAAA,YAAyLC,yCAAzL;AAEApyB,YAAI,CAACqB,WAAL,CAAiBC,UAAjB,GAA8BnB,GAA9B;AAEAP,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,kBAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,cAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,aAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,KAAK,4BAAL,GAAoC,cAApC,GAAqD,uBAArD,GAA+E,2CAA/E,GAA6H,cAA7H,GAA8I,IAA9I,GAAqJ,oBAArJ,GAA4K,iBAA5K,GAAgM,yCAAhM,GAA4O,SAAxR;AACAF,YAAI,CAACwB,gBAAL,CAAsB,IAAtB,EAA4B,IAA5B;AAEA5B,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,oCAAf,EAAqDiyB,qDAAqD,GAAG,SAAS/vB,mCAAT,CAA6CP,OAA7C,EAAsD;AACjK,cAAI3B,IAAI,GAAG,IAAX;AAAA,cAAiBoC,KAAK,GAAGjC,GAAzB;AAEA,iBAAQ,YAAW;AAACiC,iBAAK,GAAGT,OAAR;;AACpB,gBAAI,OAAO,MAAP,EAAeS,KAAf,CAAJ,EAA2B;AAAC,qBAAOpC,IAAI,CAACqyB,mBAAL,CAAyB1wB,OAAzB,CAAP;AAAyC,aAArE,MACK,IAAI,OAAO,MAAP,EAAeS,KAAf,CAAJ,EAA2B;AAAC,qBAAOpC,IAAI,CAACsyB,sBAAL,CAA4B3wB,OAA5B,CAAP;AAA4C,aAAxE,MACA;AAAC,qBAAOxB,GAAP;AAAW;AAAC,WAHX,EAAP;AAID,SAPD,EAOG8xB,qDAAqD,CAAChwB,OAAtD,GAAgE,CAPnE;AAQAjC,YAAI,CAACqN,QAAL;AAEAzN,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,wBAAf,EAAyCkyB,yCAAyC,GAAG,SAASK,uBAAT,CAAiCC,KAAjC,EAAwC;AAC3H,cAAIxyB,IAAI,GAAG,IAAX;AAAA,cAAiByyB,qBAAqB,GAAGtyB,GAAzC;AAAA,cAA8CuyB,OAAO,GAAGvyB,GAAxD;AAAA,cAA6DkT,OAAO,GAAGlT,GAAvE;AAGAsyB,+BAAqB,GAAG,EAAxB;AACAC,iBAAO,GAAGF,KAAK,CAACG,IAAN,EAAV;;AACA,cAAID,OAAO,CAAC,KAAD,CAAP,CAAe,CAAC,CAAhB,EAAmBtuB,KAAnB,GAA2B,KAA3B,EAAkC,CAAlC,CAAJ,EAA0C;AAGxCiP,mBAAO,GAAG,CAAC,CAAC,CAAF,EAAK,GAAL,CAAV;AACAnK,iBAAK,CAACwpB,OAAD,EAAU,KAAV,EAAiB9yB,IAAI,CAACsN,IAAL,CAAUmG,OAAV,CAAjB,CAAL;AACAA,mBAAO,CAAC/M,SAAS,CAAC+M,OAAO,CAAC,QAAD,CAAR,EAAoB,CAApB,CAAV,CAAP;AAAyC;AACzCof,iCAAqB,GAAG,YAAxB;AAAsC;;AAAA;AACxC,iBAAO,CAACC,OAAD,EAAUD,qBAAV,CAAP;AACD,SAdD,EAcGP,yCAAyC,CAACjwB,OAA1C,GAAoD,CAdvD;AAgBArC,YAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,qBAAf,EAAsCmyB,sCAAsC,GAAG,SAASS,oBAAT,CAA8BjxB,OAA9B,EAAuC;AACpH,cAAI6M,GAAJ;AAAA,cAASC,IAAT;AAAA,cAAclH,EAAd;AAAA,cAAkBC,EAAlB;AAAA,cAAsBxH,IAAI,GAAG,IAA7B;AAAA,cAAmCyH,CAAC,GAAGtH,GAAvC;AAAA,cAA4C0yB,aAAa,GAAG1yB,GAA5D;AAAA,cAAiE+N,UAAU,GAAG/N,GAA9E;AAAA,cAAmFqyB,KAAK,GAAGryB,GAA3F;AAAA,cAAgG2yB,YAAY,GAAG3yB,GAA/G;AAAA,cAAoHuyB,OAAO,GAAGvyB,GAA9H;AAAA,cAAmIsyB,qBAAqB,GAAGtyB,GAA3J;;AAGAH,cAAI,CAACqC,MAAL,CAAY,yCAAZ;AACAoF,WAAC,GAAG,gBAAgBU,MAAhB,CAAuBxG,OAAvB,CAAJ;;AACA,cAAIf,OAAO,CAAC6G,CAAD,CAAX,EAAgB,CACf,CADD,MACO;AACL,mBAAO,EAAP;AACD;;AAAA;AACDzH,cAAI,CAACqC,MAAL,CAAY,SAAZ,EAAuBV,OAAvB;AACAkxB,uBAAa,GAAGprB,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,EAAYrD,KAAZ,EAAhB;AACA8J,oBAAU,GAAGrO,QAAQ,CAACgzB,aAAa,CAACzR,IAAd,EAAD,EAAuB,CAAvB,CAArB;AACAoR,eAAK,GAAGxyB,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+BmJ,UAA/B,EAA2C,CAA3C,CAAR;AACA4kB,sBAAY,GAAG5pB,KAAK,CAACspB,KAAD,EAAQ,OAAR,EAAiB,EAAjB,GAAsBhkB,GAAG,GAAG,aAAShM,IAAT,EAAc;AAAC,gBAAIxC,IAAI,GAAGwO,GAAG,CAAC3D,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyB2D,GAAG,CAAC3D,GAAxC;;AAI7D,gBAAIrI,IAAI,IAAI,IAAZ,EAAkB;AAChBA,kBAAI,GAAGrC,GAAP;AACD;;AAAA;AACD,mBAAOqG,MAAM,CAAChE,IAAD,EAAO,CAAP,CAAb;AAAwB,WAPgB,EAOdgM,GAAG,CAAC3D,GAAJ,GAAU7K,IAPI,EAOEwO,GAAG,CAACvM,OAAJ,GAAc,CAPhB,EAOmBuM,GAPzC,EAApB;;AAQA,cAAI5N,OAAO,CAACqI,MAAM,CAAC4pB,aAAD,EAAgB,CAAhB,CAAP,CAAX,EAAuC;AACrCC,wBAAY,GAAGxsB,SAAS,CAACwsB,YAAD,EAAe5pB,KAAK,CAACspB,KAAD,EAAQ,OAAR,EAAiB,EAAjB,GAAsB/jB,IAAG,GAAG,aAASjM,IAAT,EAAc;AAAC,kBAAIxC,IAAI,GAAGyO,IAAG,CAAC5D,GAAJ,IAAW,IAAX,GAAkB,IAAlB,GAAyB4D,IAAG,CAAC5D,GAAxC;;AAIrF,kBAAIrI,IAAI,IAAI,IAAZ,EAAkB;AAChBA,oBAAI,GAAGrC,GAAP;AACD;;AAAA;AACD,qBAAO8I,MAAM,CAACzG,IAAD,EAAO,CAAP,CAAb;AAAwB,aAPwC,EAOtCiM,IAAG,CAAC5D,GAAJ,GAAU7K,IAP4B,EAOtByO,IAAG,CAACxM,OAAJ,GAAc,CAPQ,EAOLwM,IAPjB,EAApB,CAAxB;AAOoE;;AAAA;AACtEzO,cAAI,CAACqC,MAAL,CAAYmwB,KAAZ;AACAhrB,YAAE,GAAGxH,IAAI,CAAC+yB,sBAAL,CAA4BP,KAA5B,CAAL,EAAyCjrB,EAAE,GAAG3H,IAAI,CAAC0I,MAAL,CAAYd,EAAZ,CAA9C,EAAgEkrB,OAAO,GAAInrB,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAnG,EAA2GkrB,qBAAqB,GAAIlrB,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAA5J,EAAmKC,EAAnK;AACAxH,cAAI,CAACqC,MAAL,CAAY,0CAAZ;AACA,iBAAO,KAAK,GAAL,GAAYV,OAAZ,GAAuB,OAAvB,GAAkC+wB,OAAO,CAACztB,KAAR,CAAc,IAAd,CAAlC,GAAyD,SAAzD,GAAsE6tB,YAAtE,GAAuFL,qBAA9F;AACD,SAnCD,EAmCGN,sCAAsC,CAAClwB,OAAvC,GAAiD,CAnCpD;AAoCA,eAAO,CAACrC,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,wBAAf,EAAyCoyB,yCAAyC,GAAG,SAASY,uBAAT,CAAiCrxB,OAAjC,EAA0C;AACrI,cAAI4F,EAAJ;AAAA,cAAQC,EAAR;AAAA,cAAYxH,IAAI,GAAG,IAAnB;AAAA,cAAyByH,CAAC,GAAGtH,GAA7B;AAAA,cAAkC0yB,aAAa,GAAG1yB,GAAlD;AAAA,cAAuD+N,UAAU,GAAG/N,GAApE;AAAA,cAAyEqyB,KAAK,GAAGryB,GAAjF;AAAA,cAAsF8yB,YAAY,GAAG9yB,GAArG;AAAA,cAA0G+yB,OAAO,GAAG/yB,GAApH;AAAA,cAAyHuyB,OAAO,GAAGvyB,GAAnI;AAAA,cAAwIsyB,qBAAqB,GAAGtyB,GAAhK;AAGAH,cAAI,CAACqC,MAAL,CAAY,yCAAZ;AACAoF,WAAC,GAAG,YAAYU,MAAZ,CAAmBxG,OAAnB,CAAJ;;AACA,cAAIf,OAAO,CAAC6G,CAAD,CAAX,EAAgB,CACf,CADD,MACO;AACL,mBAAO,EAAP;AACD;;AAAA;AACDzH,cAAI,CAACqC,MAAL,CAAY,SAAZ,EAAuBV,OAAvB;AACAkxB,uBAAa,GAAGprB,CAAC,CAAC,KAAD,CAAD,CAAS,CAAT,EAAYrD,KAAZ,EAAhB;AACA8J,oBAAU,GAAGrO,QAAQ,CAACgzB,aAAa,CAACzR,IAAd,EAAD,EAAuB,CAAvB,CAArB;AACAoR,eAAK,GAAGxyB,IAAI,CAACsB,UAAL,CAAgByD,cAAhB,CAA+BmJ,UAA/B,EAA2C,CAA3C,CAAR;AACA+kB,sBAAY,GAAGT,KAAK,CAACzpB,MAAN,CAAa,CAAb,CAAf;;AACAmqB,iBAAO,GAAI,YAAW;AAAC,gBAAID,YAAY,CAAC,KAAD,CAAZ,CAAoB,CAApB,CAAJ,EAA4B;AACjD,qBAAO,IAAP;AACD,aAFsB,MAEhB;AACL,qBAAO,KAAK,KAAL,GAAcA,YAAd,GAA8B,GAArC;AACD;;AAAA;AAAE,mBAAO9yB,GAAP;AAAa,WAJN,EAAV;;AAKAqH,YAAE,GAAGxH,IAAI,CAAC+yB,sBAAL,CAA4BP,KAA5B,CAAL,EAAyCjrB,EAAE,GAAG3H,IAAI,CAAC0I,MAAL,CAAYd,EAAZ,CAA9C,EAAgEkrB,OAAO,GAAInrB,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAAnG,EAA2GkrB,qBAAqB,GAAIlrB,EAAE,CAAC,CAAD,CAAF,IAAS,IAAT,GAAgBpH,GAAhB,GAAsBoH,EAAE,CAAC,CAAD,CAA5J,EAAmKC,EAAnK;AACAxH,cAAI,CAACqC,MAAL,CAAYmwB,KAAZ;AACAxyB,cAAI,CAACqC,MAAL,CAAY,0CAAZ;AACA,iBAAO,KAAK,GAAL,GAAYV,OAAZ,GAAuB,OAAvB,GAAkC+wB,OAAO,CAACztB,KAAR,CAAc,IAAd,CAAlC,GAAyD,MAAzD,GAAmEiuB,OAAnE,GAA+ET,qBAAtF;AACD,SAxBO,EAwBLL,yCAAyC,CAACnwB,OAA1C,GAAoD,CAxB/C,GAwBmD9B,GAxBpD,KAwB4D,uBAxBnE;AAyBD,OApGD,EAoGGD,QAAQ,CAAC,CAAD,CApGX,EAoGgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CApGlB,EAoGsCA,QApGtC;AAqGD,KA1GD,EA0GGA,QAAQ,CAAC,CAAD,CA1GX,EA0GgBA,QA1GhB;AA2GD,GAhHM,CAgHJA,QAAQ,CAAC,CAAD,CAhHJ,EAgHSA,QAhHT,CAAP;AAiHD,CAhID,EAgIGN,IAhIH,E;;;;;;;;;;;ACHAD,mBAAO,CAAC,uBAAD,CAAP;AAEA;;;AACA,CAAC,UAASC,IAAT,EAAe;AACd,MAAII,IAAI,GAAGJ,IAAI,CAACK,GAAhB;AAAA,MAAqBC,QAAQ,GAAG,EAAhC;AAAA,MAAoCC,GAAG,GAAGP,IAAI,CAACO,GAA/C;AAAA,MAAoDC,GAAG,GAAGR,IAAI,CAACQ,GAA/D;AAAA,MAAoEC,EAAE,GAAGT,IAAI,CAACS,EAA9E;AAAA,MAAkFC,OAAO,GAAGV,IAAI,CAACW,MAAjG;AAAA,MAAyGC,MAAM,GAAGZ,IAAI,CAACa,KAAvH;AAAA,MAA8HC,MAAM,GAAGd,IAAI,CAACe,KAA5I;AAEA,SAAQ,UAASG,KAAT,EAAgBC,eAAhB,EAAiC;AACvC,QAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,QAAR,CAAlB;AAEA,QAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,KAAC,UAASD,KAAT,EAAgBC,eAAhB,EAAiC;AAChC,UAAIf,IAAI,GAAGM,OAAO,CAACQ,KAAD,EAAQ,YAAR,CAAlB;AAEA,UAAIZ,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;;AAEA,OAAC,UAASD,KAAT,EAAgBG,MAAhB,EAAwBF,eAAxB,EAAyC;AACxC,YAAIf,IAAI,GAAGQ,MAAM,CAACM,KAAD,EAAQG,MAAR,EAAgB,WAAhB,CAAjB;AAEA,YAAIf,QAAQ,GAAG,CAACF,IAAD,EAAOgB,MAAP,CAAcD,eAAd,CAAf;AAAA,YAA+CoyB,uBAA/C;AAGAvzB,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,IAA5B,EAAkC,WAAlC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,MAA5B,EAAoC,QAApC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,UAA5B,EAAwC,QAAxC;AACAN,YAAI,CAAC2B,SAAL,CAAerB,QAAQ,CAAC,CAAD,CAAvB,EAA4B,cAA5B,EAA4C,8BAA5C;AACA,eAAO,CAACN,IAAI,CAAC6B,GAAL,CAASzB,IAAT,EAAe,aAAf,EAA8BmzB,uBAAuB,GAAG,SAASzxB,YAAT,CAAsBC,OAAtB,EAA+B;AAC7F,cAAIC,KAAK,GAAGuxB,uBAAuB,CAACtxB,GAApC;AAAA,cAAyCC,MAAM,GAAGF,KAAK,IAAIzB,GAA3D;AAAA,cAAgEH,IAAI,GAAG,IAAvE;AAEA,cAAI4B,KAAJ,EAAWuxB,uBAAuB,CAACtxB,GAAxB,GAA8B,IAA9B;AAEXnB,gBAAM,CAACV,IAAD,EAAOJ,IAAI,CAACmC,qBAAL,CAA2B/B,IAA3B,EAAiC,YAAjC,EAA+CmzB,uBAA/C,EAAwE,KAAxE,EAA+E,IAA/E,CAAP,EAA6F,YAA7F,EAA2G,CAACxxB,OAAD,CAA3G,EAAsH,IAAtH,CAAN;AACA3B,cAAI,CAACiO,aAAL,GAAqB,IAArB;AACAjO,cAAI,CAAC+qB,kBAAL,GAA0B,IAA1B;AACA,iBAAQ/qB,IAAI,CAAC4hB,2BAAL,GAAmC,CAA3C;AACD,SATO,EASLuR,uBAAuB,CAAClxB,OAAxB,GAAkC,CAT7B,GASiC9B,GATlC,KAS0C,YATjD;AAUD,OApBD,EAoBGD,QAAQ,CAAC,CAAD,CApBX,EAoBgBG,EAAE,CAACH,QAAD,EAAW,MAAX,CApBlB,EAoBsCA,QApBtC;AAqBD,KA1BD,EA0BGA,QAAQ,CAAC,CAAD,CA1BX,EA0BgBA,QA1BhB;AA2BD,GAhCM,CAgCJA,QAAQ,CAAC,CAAD,CAhCJ,EAgCSA,QAhCT,CAAP;AAiCD,CApCD,EAoCGN,IApCH,E","file":"common.js","sourcesContent":["require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Paranoia');\n\n        var $nesting = [self].concat($parent_nesting), $Paranoia_initialize$1, $Paranoia_eval_game_system_specific_command$2, $Paranoia_getaRoll$3;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"Paranoia\");\n        Opal.const_set($nesting[0], 'NAME', \"パラノイア\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"はらのいあ\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"※「パラノイア」は完璧なゲームであるため特殊なダイスコマンドを必要としません。\\n\" + \"※このダイスボットは部屋のシステム名表示用となります。\\n\");\n        self.$register_prefix(\"geta\");\n        \n        Opal.def(self, '$initialize', $Paranoia_initialize$1 = function $$initialize(command) {\n          var $iter = $Paranoia_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $Paranoia_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $Paranoia_initialize$1, false, true), 'initialize', [command], null);\n          return (self.enabled_upcase_input = false);\n        }, $Paranoia_initialize$1.$$arity = 1);\n        \n        Opal.def(self, '$eval_game_system_specific_command', $Paranoia_eval_game_system_specific_command$2 = function $$eval_game_system_specific_command(command) {\n          var self = this, result = nil, $case = nil;\n\n          \n          self.$debug(\"eval_game_system_specific_command command\", command);\n          result = \"\";\n          $case = command;\n          if (/geta/i['$===']($case)) {result = self.$getaRoll()};\n          if ($truthy(result['$empty?']())) {\n            return nil};\n          return \"\" + (command) + \" ＞ \" + (result);\n        }, $Paranoia_eval_game_system_specific_command$2.$$arity = 1);\n        return (Opal.def(self, '$getaRoll', $Paranoia_getaRoll$3 = function $$getaRoll() {\n          var self = this, result = nil, dice = nil, getaString = nil, $case = nil;\n\n          \n          result = \"\";\n          dice = self.randomizer.$roll_once(2);\n          result = $rb_plus(result, \"幸福ですか？ ＞ \");\n          getaString = \"\";\n          $case = dice;\n          if ((1)['$===']($case)) {getaString = \"幸福です\"}\n          else if ((2)['$===']($case)) {getaString = \"幸福ではありません\"};\n          result = $rb_plus(result, getaString);\n          return result;\n        }, $Paranoia_getaRoll$3.$$arity = 0), nil) && 'getaRoll';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'HarnMaster');\n\n        var $nesting = [self].concat($parent_nesting), $HarnMaster_result_1d100$1, $HarnMaster_eval_game_system_specific_command$2, $HarnMaster_getCheckShockResult$3, $HarnMaster_getStrikeLocationHuman$4, $HarnMaster_getLocationSide$5, $HarnMaster_getFaceLocation$6, $HarnMaster_getStrikeLocationHumanUpperTable$7, $HarnMaster_getStrikeLocationHumanNormalTable$8, $HarnMaster_getStrikeLocationHumanDownTable$9;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"HarnMaster\");\n        Opal.const_set($nesting[0], 'NAME', \"ハーンマスター\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"はあんますたあ\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・判定\\n\" + \"　1D100<=XX の判定時に致命的失敗・決定的成功を判定\\n\" + \"・ショック判定（SHKx）\\n\" + \"　例）SHK13,3\\n\" + \"・人型用　中段命中部位表 (SLH)／上段命中部位 (SLHU)／上段命中部位 (SLHD)\\n\");\n        self.$register_prefix(\"SHK\", \"SLH\", \"SLHU\", \"SLHD\");\n        \n        Opal.def(self, '$result_1d100', $HarnMaster_result_1d100$1 = function $$result_1d100(total, _dice_total, cmp_op, target) {\n          var self = this;\n\n          \n          if (target['$=='](\"?\")) {\n            return $$($nesting, 'Result').$nothing()};\n          if (cmp_op['$=='](\"<=\")) {\n          } else {\n            return nil\n          };\n          if ($truthy($rb_le(total, target))) {\n            if (total['$%'](5)['$=='](0)) {\n              return $$($nesting, 'Result').$critical(\"決定的成功\")\n            } else {\n              return $$($nesting, 'Result').$success(\"成功\")\n            }\n          } else if (total['$%'](5)['$=='](0)) {\n            return $$($nesting, 'Result').$fumble(\"致命的失敗\")\n          } else {\n            return $$($nesting, 'Result').$failure(\"失敗\")\n          };\n        }, $HarnMaster_result_1d100$1.$$arity = 4);\n        \n        Opal.def(self, '$eval_game_system_specific_command', $HarnMaster_eval_game_system_specific_command$2 = function $$eval_game_system_specific_command(command) {\n          var self = this, result = nil, $case = nil, toughness = nil, damage = nil, type = nil, e = nil;\n\n          try {\n            \n            result = nil;\n            $case = command;\n            if (/^SHK(\\d*),(\\d+)/i['$===']($case)) {\n            toughness = $$($nesting, 'Regexp').$last_match(1).$to_i();\n            damage = $$($nesting, 'Regexp').$last_match(2).$to_i();\n            result = self.$getCheckShockResult(damage, toughness);}\n            else if (/SLH(U|D)?/i['$===']($case)) {\n            type = $$($nesting, 'Regexp').$last_match(1);\n            result = self.$getStrikeLocationHuman(type);}\n            else {result = nil};\n            return result;\n          } catch ($err) {\n            if (Opal.rescue($err, [$$($nesting, 'StandardError')])) {(e = $err)\n              try {\n                return e.$message()\n              } finally { Opal.pop_exception() }\n            } else { throw $err; }\n          }\n        }, $HarnMaster_eval_game_system_specific_command$2.$$arity = 1);\n        \n        Opal.def(self, '$getCheckShockResult', $HarnMaster_getCheckShockResult$3 = function $$getCheckShockResult(damage, toughness) {\n          var self = this, dice_list = nil, dice = nil, diceText = nil, result = nil, text = nil;\n\n          \n          dice_list = self.randomizer.$roll_barabara(damage, 6);\n          dice = dice_list.$sum();\n          diceText = dice_list.$join(\",\");\n          result = (function() {if ($truthy($rb_le(dice, toughness))) {\n            return \"成功\"\n          } else {\n            return \"失敗\"\n          }; return nil; })();\n          text = \"\" + \"ショック判定(ダメージ:\" + (damage) + \", 耐久力:\" + (toughness) + \") ＞ (\" + (dice) + \"[\" + (diceText) + \"]) ＞ \" + (result);\n          return text;\n        }, $HarnMaster_getCheckShockResult$3.$$arity = 2);\n        \n        Opal.def(self, '$getStrikeLocationHuman', $HarnMaster_getStrikeLocationHuman$4 = function $$getStrikeLocationHuman(type) {\n          var self = this, typeName = nil, table = nil, $case = nil, number = nil, part = nil, result = nil;\n\n          \n          typeName = \"\";\n          table = nil;\n          $case = type;\n          if (\"U\"['$===']($case)) {\n          typeName = \"命中部位(人型 上段)\";\n          table = self.$getStrikeLocationHumanUpperTable();}\n          else if (\"D\"['$===']($case)) {\n          typeName = \"命中部位(人型 下段)\";\n          table = self.$getStrikeLocationHumanDownTable();}\n          else if (nil['$===']($case)) {\n          typeName = \"命中部位(人型 中段)\";\n          table = self.$getStrikeLocationHumanNormalTable();}\n          else {self.$raise(\"\" + \"unknow atak type \" + (type))};\n          number = self.randomizer.$roll_once(100);\n          part = self.$get_table_by_number(number, table);\n          part = self.$getLocationSide(part, number);\n          part = self.$getFaceLocation(part);\n          result = \"\" + (typeName) + \" ＞ (\" + (number) + \")\" + (part);\n          return result;\n        }, $HarnMaster_getStrikeLocationHuman$4.$$arity = 1);\n        \n        Opal.def(self, '$getLocationSide', $HarnMaster_getLocationSide$5 = function $$getLocationSide(part, number) {\n          var self = this, side = nil;\n\n          \n          if ($truthy(part['$=~'](/^\\*/))) {\n          } else {\n            \n            self.$debug(\"part has NO side\", part);\n            return part;\n          };\n          self.$debug(\"part has side\", part);\n          side = (function() {if ($truthy(number['$odd?']())) {\n            return \"左\"\n          } else {\n            return \"右\"\n          }; return nil; })();\n          return part.$sub(/\\*/, side);\n        }, $HarnMaster_getLocationSide$5.$$arity = 2);\n        \n        Opal.def(self, '$getFaceLocation', $HarnMaster_getFaceLocation$6 = function $$getFaceLocation(part) {\n          var self = this, table = nil, number = nil, faceLocation = nil, result = nil;\n\n          \n          self.$debug(\"getFaceLocation part\", part);\n          if ($truthy(part['$=~'](/\\+$/))) {\n          } else {\n            \n            self.$debug(\"is NOT Face\");\n            return part;\n          };\n          self.$debug(\"is Face\");\n          table = [[15, \"顎\"], [30, \"*目\"], [64, \"*頬\"], [80, \"鼻\"], [90, \"*耳\"], [100, \"口\"]];\n          number = self.randomizer.$roll_once(100);\n          faceLocation = self.$get_table_by_number(number, table);\n          self.$debug(\"faceLocation\", faceLocation);\n          self.$debug(\"number\", number);\n          faceLocation = self.$getLocationSide(faceLocation, number);\n          result = part.$sub(/\\+$/, \"\" + \" ＞ (\" + (number) + \")\" + (faceLocation));\n          return result;\n        }, $HarnMaster_getFaceLocation$6.$$arity = 1);\n        \n        Opal.def(self, '$getStrikeLocationHumanUpperTable', $HarnMaster_getStrikeLocationHumanUpperTable$7 = function $$getStrikeLocationHumanUpperTable() {\n          var self = this, table = nil;\n\n          \n          table = [[15, \"頭部\"], [30, \"顔+\"], [45, \"首\"], [57, \"*肩\"], [69, \"*上腕\"], [73, \"*肘\"], [81, \"*前腕\"], [85, \"*手\"], [95, \"胸部\"], [100, \"腹部\"]];\n          return table;\n        }, $HarnMaster_getStrikeLocationHumanUpperTable$7.$$arity = 0);\n        \n        Opal.def(self, '$getStrikeLocationHumanNormalTable', $HarnMaster_getStrikeLocationHumanNormalTable$8 = function $$getStrikeLocationHumanNormalTable() {\n          var self = this, table = nil;\n\n          \n          table = [[5, \"頭部\"], [10, \"顔+\"], [15, \"首\"], [27, \"*肩\"], [33, \"*上腕\"], [35, \"*肘\"], [39, \"*前腕\"], [43, \"*手\"], [60, \"胸部\"], [70, \"腹部\"], [74, \"股間\"], [80, \"*臀部\"], [88, \"*腿\"], [90, \"*膝\"], [96, \"*脛\"], [100, \"*足\"]];\n          return table;\n        }, $HarnMaster_getStrikeLocationHumanNormalTable$8.$$arity = 0);\n        return (Opal.def(self, '$getStrikeLocationHumanDownTable', $HarnMaster_getStrikeLocationHumanDownTable$9 = function $$getStrikeLocationHumanDownTable() {\n          var self = this, table = nil;\n\n          \n          table = [[6, \"*前腕\"], [12, \"*手\"], [19, \"胸部\"], [29, \"腹部\"], [35, \"股間\"], [49, \"*臀部\"], [70, \"*腿\"], [78, \"*膝\"], [92, \"*脛\"], [100, \"*足\"]];\n          return table;\n        }, $HarnMaster_getStrikeLocationHumanDownTable$9.$$arity = 0), nil) && 'getStrikeLocationHumanDownTable';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'YearZeroEngine');\n\n        var $nesting = [self].concat($parent_nesting), $YearZeroEngine_dice_info_init$1, $YearZeroEngine_eval_game_system_specific_command$2, $YearZeroEngine_make_result_text$3, $YearZeroEngine_make_result_with_yze$4, $YearZeroEngine_make_result_with_myz$5, $YearZeroEngine_make_dice_roll$6;\n\n        self.$$prototype.total_success_dice = self.$$prototype.total_botch_dice = self.$$prototype.base_botch_dice = self.$$prototype.push_dice = self.$$prototype.skill_botch_dice = self.$$prototype.gear_botch_dice = self.$$prototype.difficulty = self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"YearZeroEngine\");\n        Opal.const_set($nesting[0], 'NAME', \"YearZeroEngine\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"いやあせろえんしん\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・判定コマンド(nYZEx+x+x)\\n\" + \"  (難易度)YZE(能力ダイス数)+(技能ダイス数)+(アイテムダイス数)  # (6のみを数える)\\n\" + \"\\n\" + \"・判定コマンド(nMYZx+x+x)\\n\" + \"  (難易度)MYZ(能力ダイス数)+(技能ダイス数)+(アイテムダイス数)  # (1と6を数え、プッシュ可能数を表示)\\n\" + \"\\n\" + \"  ※ 難易度と技能、アイテムダイス数は省略可能\\n\");\n        Opal.const_set($nesting[0], 'DIFFICULTY_INDEX', 1);\n        Opal.const_set($nesting[0], 'COMMAND_TYPE_INDEX', 2);\n        Opal.const_set($nesting[0], 'ABILITY_INDEX', 3);\n        Opal.const_set($nesting[0], 'SKILL_INDEX', 5);\n        Opal.const_set($nesting[0], 'MODIFIED_INDEX', 7);\n        self.$register_prefix(\"(\\\\d+)?(YZE|MYZ)\");\n        \n        Opal.def(self, '$dice_info_init', $YearZeroEngine_dice_info_init$1 = function $$dice_info_init() {\n          var self = this;\n\n          \n          self.total_success_dice = 0;\n          self.total_botch_dice = 0;\n          self.base_botch_dice = 0;\n          self.skill_botch_dice = 0;\n          self.gear_botch_dice = 0;\n          self.push_dice = 0;\n          return (self.difficulty = 0);\n        }, $YearZeroEngine_dice_info_init$1.$$arity = 0);\n        \n        Opal.def(self, '$eval_game_system_specific_command', $YearZeroEngine_eval_game_system_specific_command$2 = function $$eval_game_system_specific_command(command) {\n          var $a, $b, self = this, m = nil, command_type = nil, dice_pool = nil, ability_dice_text = nil, success_dice = nil, botch_dice = nil, dice_count_text = nil, dice_text = nil, skill_dice_text = nil, modified_dice_text = nil;\n\n          \n          m = /^(\\d+)?(YZE|MYZ)(\\d+)(\\+(\\d+))?(\\+(\\d+))?/.$match(command);\n          if ($truthy(m)) {\n          } else {\n            return \"\"\n          };\n          self.$dice_info_init();\n          self.difficulty = m['$[]']($$($nesting, 'DIFFICULTY_INDEX')).$to_i();\n          command_type = m['$[]']($$($nesting, 'COMMAND_TYPE_INDEX'));\n          self.total_success_dice = 0;\n          dice_pool = m['$[]']($$($nesting, 'ABILITY_INDEX')).$to_i();\n          $b = self.$make_dice_roll(dice_pool), $a = Opal.to_ary($b), (ability_dice_text = ($a[0] == null ? nil : $a[0])), (success_dice = ($a[1] == null ? nil : $a[1])), (botch_dice = ($a[2] == null ? nil : $a[2])), $b;\n          self.total_success_dice = $rb_plus(self.total_success_dice, success_dice);\n          self.total_botch_dice = $rb_plus(self.total_botch_dice, botch_dice);\n          self.base_botch_dice = $rb_plus(self.base_botch_dice, botch_dice);\n          self.push_dice = $rb_plus(self.push_dice, $rb_minus(dice_pool, $rb_plus(success_dice, botch_dice)));\n          dice_count_text = \"\" + \"(\" + (dice_pool) + \"D6)\";\n          dice_text = ability_dice_text;\n          if ($truthy(m['$[]']($$($nesting, 'SKILL_INDEX')))) {\n            \n            dice_pool = m['$[]']($$($nesting, 'SKILL_INDEX')).$to_i();\n            $b = self.$make_dice_roll(dice_pool), $a = Opal.to_ary($b), (skill_dice_text = ($a[0] == null ? nil : $a[0])), (success_dice = ($a[1] == null ? nil : $a[1])), (botch_dice = ($a[2] == null ? nil : $a[2])), $b;\n            self.total_success_dice = $rb_plus(self.total_success_dice, success_dice);\n            self.total_botch_dice = $rb_plus(self.total_botch_dice, botch_dice);\n            self.skill_botch_dice = $rb_plus(self.skill_botch_dice, botch_dice);\n            self.push_dice = $rb_plus(self.push_dice, $rb_minus(dice_pool, success_dice));\n            dice_count_text = $rb_plus(dice_count_text, \"\" + \"+(\" + (dice_pool) + \"D6)\");\n            dice_text = $rb_plus(dice_text, \"\" + \"+\" + (skill_dice_text));};\n          if ($truthy(m['$[]']($$($nesting, 'MODIFIED_INDEX')))) {\n            \n            dice_pool = m['$[]']($$($nesting, 'MODIFIED_INDEX')).$to_i();\n            $b = self.$make_dice_roll(dice_pool), $a = Opal.to_ary($b), (modified_dice_text = ($a[0] == null ? nil : $a[0])), (success_dice = ($a[1] == null ? nil : $a[1])), (botch_dice = ($a[2] == null ? nil : $a[2])), $b;\n            self.total_success_dice = $rb_plus(self.total_success_dice, success_dice);\n            self.total_botch_dice = $rb_plus(self.total_botch_dice, botch_dice);\n            self.gear_botch_dice = $rb_plus(self.gear_botch_dice, botch_dice);\n            self.push_dice = $rb_plus(self.push_dice, $rb_minus(dice_pool, $rb_plus(success_dice, botch_dice)));\n            dice_count_text = $rb_plus(dice_count_text, \"\" + \"+(\" + (dice_pool) + \"D6)\");\n            dice_text = $rb_plus(dice_text, \"\" + \"+\" + (modified_dice_text));};\n          return self.$make_result_text(command_type, dice_count_text, dice_text);\n        }, $YearZeroEngine_eval_game_system_specific_command$2.$$arity = 1);\n        \n        Opal.def(self, '$make_result_text', $YearZeroEngine_make_result_text$3 = function $$make_result_text(command_type, dice_count_text, dice_text) {\n          var self = this;\n\n          \n          if (command_type['$=='](\"YZE\")) {\n            return self.$make_result_with_yze(dice_count_text, dice_text)\n          } else if (command_type['$=='](\"MYZ\")) {\n            return self.$make_result_with_myz(dice_count_text, dice_text)};\n          return \"Error\";\n        }, $YearZeroEngine_make_result_text$3.$$arity = 3);\n        \n        Opal.def(self, '$make_result_with_yze', $YearZeroEngine_make_result_with_yze$4 = function $$make_result_with_yze(dice_count_text, dice_text) {\n          var self = this, result_text = nil;\n\n          \n          result_text = \"\" + (dice_count_text) + \" ＞ \" + (dice_text) + \" 成功数:\" + (self.total_success_dice);\n          if ($truthy($rb_gt(self.difficulty, 0))) {\n            if ($truthy($rb_ge(self.total_success_dice, self.difficulty))) {\n              result_text = \"\" + (result_text) + \" 難易度=\" + (self.difficulty) + \":判定成功！\"\n            } else {\n              result_text = \"\" + (result_text) + \" 難易度=\" + (self.difficulty) + \":判定失敗！\"\n            }};\n          return result_text;\n        }, $YearZeroEngine_make_result_with_yze$4.$$arity = 2);\n        \n        Opal.def(self, '$make_result_with_myz', $YearZeroEngine_make_result_with_myz$5 = function $$make_result_with_myz(dice_count_text, dice_text) {\n          var self = this, result_text = nil;\n\n          \n          result_text = self.$make_result_with_yze(dice_count_text, dice_text);\n          return \"\" + (result_text) + \"\\n出目1：[能力：\" + (self.base_botch_dice) + \",技能：\" + (self.skill_botch_dice) + \",アイテム：\" + (self.gear_botch_dice) + \") プッシュ可能=\" + (self.push_dice) + \"ダイス\";\n        }, $YearZeroEngine_make_result_with_myz$5.$$arity = 2);\n        return (Opal.def(self, '$make_dice_roll', $YearZeroEngine_make_dice_roll$6 = function $$make_dice_roll(dice_pool) {\n          var self = this, dice_list = nil, success_dice = nil, botch_dice = nil;\n\n          \n          dice_list = self.randomizer.$roll_barabara(dice_pool, 6);\n          success_dice = dice_list.$count(6);\n          botch_dice = dice_list.$count(1);\n          return [\"\" + \"[\" + (dice_list.$join(\",\")) + \"]\", success_dice, botch_dice];\n        }, $YearZeroEngine_make_dice_roll$6.$$arity = 1), nil) && 'make_dice_roll';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'DarkSouls');\n\n        var $nesting = [self].concat($parent_nesting), $DarkSouls_eval_game_system_specific_command$1, $DarkSouls_checkRoll$2, $DarkSouls_getValue$4, $DarkSouls_getValueText$5;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"DarkSouls\");\n        Opal.const_set($nesting[0], 'NAME', \"ダークソウルTRPG\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"たあくそうるTRPG\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・行為判定：[n]DS[a±b][@t]　　[]内のコマンドは省略可\\n\" + \"・能動判定：[n]ADS[a±b][@t]　　FP消費を判定\\n\" + \"　n：ダイス数。省略時は「2」\\n\" + \"　a±b：修正値。「1+2-1」のように、複数定可\\n\" + \"　@t：目標値。省略時は達成値を、指定時は判定の正否を表示\\n\" + \"例）DS → 2D6の達成値を表示\\n\" + \"　　1DS → 1D6の達成値を表示\\n\" + \"　　ADS+2-2 → 2D6+2の達成値を表示（能動判定）\\n\" + \"　　DS+2@10 → 2D6+2で目標値10の判定\\n\");\n        self.$register_prefix(\"(\\\\d+)?(A)?DS([-+\\\\d]*)(@\\\\d+)?\");\n        \n        Opal.def(self, '$eval_game_system_specific_command', $DarkSouls_eval_game_system_specific_command$1 = function $$eval_game_system_specific_command(command) {\n          var self = this, m = nil, diceCount = nil, $ret_or_1 = nil, isActive = nil, modify = nil, target = nil, $ret_or_2 = nil, output = nil;\n\n          \n          if ($truthy((m = /(\\d+)?(A)?DS([-+\\d]*)(@(\\d+))?$/i.$match(command.$upcase())))) {\n          } else {\n            return nil\n          };\n          diceCount = (function() {if ($truthy(($ret_or_1 = m['$[]'](1)))) {\n            return $ret_or_1\n          } else {\n            return 2\n          }; return nil; })().$to_i();\n          isActive = m['$[]'](2)['$nil?']()['$!']();\n          modify = self.$getValue(m['$[]'](3));\n          target = (function() {if ($truthy(($ret_or_2 = m['$[]'](5)))) {\n            return $ret_or_2\n          } else {\n            return 0\n          }; return nil; })().$to_i();\n          output = self.$checkRoll(diceCount, isActive, modify, target);\n          return output;\n        }, $DarkSouls_eval_game_system_specific_command$1.$$arity = 1);\n        \n        Opal.def(self, '$checkRoll', $DarkSouls_checkRoll$2 = function $$checkRoll(diceCount, isActive, modify, target) {\n          var $$3, self = this, dice_list = nil, dice = nil, diceText = nil, successValue = nil, modifyText = nil, targetText = nil, diceArray = nil, focusDamage = nil, focusText = nil, result = nil;\n\n          \n          dice_list = self.randomizer.$roll_barabara(diceCount, 6);\n          dice = dice_list.$sum();\n          diceText = dice_list.$join(\",\");\n          successValue = $rb_plus(dice, modify);\n          modifyText = self.$getValueText(modify);\n          targetText = (function() {if (target['$=='](0)) {\n            return \"\"\n          } else {\n            return \"\" + \">=\" + (target)\n          }; return nil; })();\n          if ($truthy(isActive)) {\n            \n            diceArray = $send(diceText.$split(/,/), 'map', [], \"to_i\".$to_proc());\n            focusDamage = $send(diceArray, 'count', [], ($$3 = function(i){var self = $$3.$$s == null ? this : $$3.$$s;\n\n            \n              \n              if (i == null) {\n                i = nil;\n              };\n              return i['$=='](1);}, $$3.$$s = self, $$3.$$arity = 1, $$3));\n            if ($truthy($rb_gt(focusDamage, 0))) {\n              \n              focusText = $rb_times(\"■\", focusDamage);\n              focusText = \"\" + \"（FP\" + (focusText) + \"消費）\";};};\n          result = \"\" + \"(\" + (diceCount) + \"D6\" + (modifyText) + (targetText) + \")\";\n          result = $rb_plus(result, \"\" + \" ＞ \" + (dice) + \"(\" + (diceText) + \")\" + (modifyText));\n          result = $rb_plus(result, \"\" + \" ＞ \" + (successValue) + (targetText));\n          if ($truthy($rb_gt(target, 0))) {\n            if ($truthy($rb_ge(successValue, target))) {\n              result = $rb_plus(result, \" ＞ 【成功】\")\n            } else {\n              result = $rb_plus(result, \" ＞ 【失敗】\")\n            }};\n          result = $rb_plus(result, focusText.$to_s());\n          return result;\n        }, $DarkSouls_checkRoll$2.$$arity = 4);\n        \n        Opal.def(self, '$getValue', $DarkSouls_getValue$4 = function $$getValue(text) {\n          var self = this, $ret_or_3 = nil;\n\n          \n          text = (function() {if ($truthy(($ret_or_3 = text))) {\n            return $ret_or_3\n          } else {\n            return \"\"\n          }; return nil; })();\n          return $$($nesting, 'ArithmeticEvaluator').$eval(text);\n        }, $DarkSouls_getValue$4.$$arity = 1);\n        return (Opal.def(self, '$getValueText', $DarkSouls_getValueText$5 = function $$getValueText(value) {\n          var self = this;\n\n          \n          if (value['$=='](0)) {\n            return \"\"};\n          if ($truthy($rb_lt(value, 0))) {\n            return value.$to_s()};\n          return \"\" + \"+\" + (value);\n        }, $DarkSouls_getValueText$5.$$arity = 1), nil) && 'getValueText';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'DiceBot');\n\n        var $nesting = [self].concat($parent_nesting);\n\n        \n        Opal.const_set($nesting[0], 'ID', \"DiceBot\");\n        Opal.const_set($nesting[0], 'NAME', \"DiceBot\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"*たいすほつと\");\n        return Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"3D6+1>=9 ：3d6+1で目標値9以上かの判定\\n\" + \"1D100<=50 ：D100で50％目標の下方ロールの例\\n\" + \"3U6[5] ：3d6のダイス目が5以上の場合に振り足しして合計する(上方無限)\\n\" + \"3B6 ：3d6のダイス目をバラバラのまま出力する（合計しない）\\n\" + \"10B6>=4 ：10d6を振り4以上のダイス目の個数を数える\\n\" + \"2R6[>3]>=5 ：2D6のダイス目が3より大きい場合に振り足して、5以上のダイス目の個数を数える\\n\" + \"(8/2)D(4+6)<=(5*3)：個数・ダイス・達成値には四則演算も使用可能\\n\" + \"c(10-4*3/2+2)：c(計算式）で計算だけの実行も可能\\n\" + \"choice[a,b,c]：列挙した要素から一つを選択表示。ランダム攻撃対象決定などに\\n\" + \"S3d6 ： 各コマンドの先頭に「S」を付けると他人結果の見えないシークレットロール\\n\" + \"3d6/2 ： ダイス出目を割り算（端数処理はゲームシステム依存）。切り上げは /2C、四捨五入は /2R、切り捨ては /2F\\n\" + \"D66 ： D66ダイス。順序はゲームに依存。D66N：そのまま、D66A：昇順、D66D：降順\\n\" + \"\\n\" + \"詳細は下記URLのコマンドガイドを参照\\n\" + \"https://docs.bcdice.org/\\n\");\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'TokyoNova');\n\n        var $nesting = [self].concat($parent_nesting);\n\n        \n        Opal.const_set($nesting[0], 'ID', \"TokyoNova\");\n        Opal.const_set($nesting[0], 'NAME', \"トーキョーN◎VA\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"とおきよおのは\");\n        return Opal.const_set($nesting[0], 'HELP_MESSAGE', \"※このダイスボットは部屋のシステム名表示用となります。\\n\");\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'RecordOfLodossWar');\n\n        var $nesting = [self].concat($parent_nesting), $RecordOfLodossWar_eval_game_system_specific_command$1;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"RecordOfLodossWar\");\n        Opal.const_set($nesting[0], 'NAME', \"ロードス島戦記RPG\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"ろおとすとうせんきRPG\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"●判定\\n\" + \"　LW<=(目標値)で判定。\\n\" + \"　達成値が目標値の1/10(端数切り上げ)以下であれば大成功。1～10であれば自動成功。\\n\" + \"　91～100であれば自動失敗となります。\\n\" + \"\\n\" + \"●回避判定\\n\" + \"　LWD<=(目標値)で回避判定。この時出目が51以上で自動失敗となります。\\n\" + \"\\n\" + \"　判定と回避判定は、どちらもコマンドだけの場合、出目の表示と自動成功と自動失敗の判定のみを行います。\\n\");\n        self.$register_prefix(\"LW\");\n        return (Opal.def(self, '$eval_game_system_specific_command', $RecordOfLodossWar_eval_game_system_specific_command$1 = function $$eval_game_system_specific_command(command) {\n          var self = this, parser = nil, cmd = nil, $ret_or_1 = nil, auto_failure = nil, critical = nil, dice_value = nil, result = nil, sequence = nil;\n\n          \n          parser = $$$($$($nesting, 'Command'), 'Parser').$new(\"LWD\", \"LW\", $hash2([\"round_type\"], {\"round_type\": self.$round_type()})).$restrict_cmp_op_to(nil, \"<=\");\n          cmd = parser.$parse(command);\n          if ($truthy((function() {if ($truthy(($ret_or_1 = cmd['$nil?']()))) {\n            return $ret_or_1\n          } else {\n            return [nil, \"<=\"]['$include?'](cmd.$cmp_op())['$!']()\n          }; return nil; })())) {\n            return nil};\n          auto_failure = (function() {if (cmd.$command()['$=='](\"LWD\")) {\n            return 51\n          } else {\n            return 91\n          }; return nil; })();\n          critical = $rb_divide(cmd.$target_number().$to_f(), 10).$ceil();\n          dice_value = self.randomizer.$roll_once(100);\n          result = (function() {if ($truthy($rb_ge(dice_value, auto_failure))) {\n            return \"\" + \"自動失敗(\" + (auto_failure) + \")\"\n          } else if ($truthy($rb_le(dice_value, critical))) {\n            return \"\" + \"大成功(\" + (critical) + \")\"\n          } else if ($truthy($rb_le(dice_value, 10))) {\n            return \"自動成功\"\n          } else if ($truthy(cmd.$cmp_op())) {\n            if ($truthy($rb_le(dice_value, cmd.$target_number()))) {\n              return \"成功\"\n            } else {\n              return \"失敗\"\n            }\n          } else {\n            return nil\n          }; return nil; })();\n          sequence = [\"\" + \"(1D100\" + (cmd.$cmp_op()) + (cmd.$target_number()) + \")\", dice_value.$to_s(), result].$compact();\n          return sequence.$join(\" ＞ \");\n        }, $RecordOfLodossWar_eval_game_system_specific_command$1.$$arity = 1), nil) && 'eval_game_system_specific_command';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'BBN');\n\n        var $nesting = [self].concat($parent_nesting), $BBN_eval_game_system_specific_command$1, $BBN_parse$2, $BBN_critical_base$3, $BBN_critical_$ques$4, $BBN_fumble_$ques$5, $BBN_additional_roll$6;\n\n        self.$$prototype.randomizer = self.$$prototype.roll_times = self.$$prototype.modify = self.$$prototype.modify_str = self.$$prototype.difficulty = self.$$prototype.critical = self.$$prototype.fumble = nil;\n        \n        self.$register_prefix(\"\\\\d+BN\");\n        Opal.const_set($nesting[0], 'ID', \"BBN\");\n        Opal.const_set($nesting[0], 'NAME', \"BBNTRPG\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"ひいひいえぬTRPG\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・判定(xBN±y>=z[c,f])\\n\" + \"　xD6の判定。クリティカル、ファンブルの自動判定を行います。\\n\" + \"　1Dのクリティカル値とファンブル値は1。2Dのクリティカル値とファンブル値は2。\\n\" + \"　nDのクリティカル値とファンブル値は n/2 の切り上げ。\\n\" + \"　クリティカルとファンブルが同時に発生した場合、クリティカルを優先。\\n\" + \"　x：xに振るダイス数を入力。\\n\" + \"　y：yに修正値を入力。省略可能。\\n\" + \"  z：zに目標値を入力。省略可能。\\n\" + \"  c：クリティカルに必要なダイス目「6」の数の増減。省略可能。\\n\" + \"  f：ファンブルに必要なダイス目「1」の数の増減。省略可能。\\n\" + \"　例） 3BN+4　3BN>=8　3BN+1>=10[-1] 3BN+1>=10[,1] 3BN+1>=10[1,1]\\n\");\n        \n        Opal.def(self, '$eval_game_system_specific_command', $BBN_eval_game_system_specific_command$1 = function $$eval_game_system_specific_command(command) {\n          var self = this, dice_list = nil, dice = nil, dice_str = nil, total = nil, sequence = nil;\n\n          \n          if ($truthy(self.$parse(command))) {\n          } else {\n            return nil\n          };\n          dice_list = self.randomizer.$roll_barabara(self.roll_times, 6);\n          dice = dice_list.$sum();\n          dice_str = dice_list.$join(\",\");\n          total = $rb_plus(dice, self.modify);\n          sequence = [\"\" + \"(\" + (command) + \")\", \"\" + (dice) + \"[\" + (dice_str) + \"]\" + (self.modify_str), total];\n          if ($truthy(self['$critical_?'](dice_list))) {\n            $send(sequence, 'push', [\"クリティカル！\"].concat(Opal.to_a(self.$additional_roll(dice_list.$count(6), total))))\n          } else if ($truthy(self['$fumble_?'](dice_list))) {\n            sequence.$push(\"ファンブル！\")\n          } else if ($truthy(self.difficulty)) {\n            sequence.$push((function() {if ($truthy($rb_ge(total, self.difficulty))) {\n              return \"成功\"\n            } else {\n              return \"失敗\"\n            }; return nil; })())};\n          return sequence.$join(\" ＞ \");\n        }, $BBN_eval_game_system_specific_command$1.$$arity = 1);\n        self.$private();\n        \n        Opal.def(self, '$parse', $BBN_parse$2 = function $$parse(command) {\n          var self = this, m = nil, $ret_or_1 = nil, base = nil;\n\n          \n          m = /^(\\d+)BN([+-]\\d+)?(>=(([+-]?\\d+)))?(\\[([+-]?\\d+)?(,([+-]?\\d+))?\\])?/.$match(command);\n          if ($truthy(m)) {\n          } else {\n            return false\n          };\n          self.roll_times = m['$[]'](1).$to_i();\n          self.modify_str = (function() {if ($truthy(($ret_or_1 = m['$[]'](2)))) {\n            return $ret_or_1\n          } else {\n            return \"\"\n          }; return nil; })();\n          self.modify = m['$[]'](2).$to_i();\n          self.difficulty = (function() {if ($truthy(m['$[]'](4))) {\n            return m['$[]'](4).$to_i()\n          } else {\n            return nil\n          }; return nil; })();\n          base = self.$critical_base(self.roll_times);\n          self.critical = $rb_plus(base, m['$[]'](7).$to_i());\n          self.fumble = $rb_plus(base, m['$[]'](9).$to_i());\n          return true;\n        }, $BBN_parse$2.$$arity = 1);\n        \n        Opal.def(self, '$critical_base', $BBN_critical_base$3 = function $$critical_base(roll_times) {\n          var self = this, $case = nil;\n\n          return (function() {$case = roll_times;\n          if ((1)['$===']($case) || (2)['$===']($case)) {return roll_times}\n          else {return $rb_divide(roll_times.$to_f(), 2).$ceil()}})()\n        }, $BBN_critical_base$3.$$arity = 1);\n        \n        Opal.def(self, '$critical_?', $BBN_critical_$ques$4 = function(dice_list) {\n          var self = this;\n\n          return $rb_ge(dice_list.$count(6), self.critical)\n        }, $BBN_critical_$ques$4.$$arity = 1);\n        \n        Opal.def(self, '$fumble_?', $BBN_fumble_$ques$5 = function(dice_list) {\n          var self = this;\n\n          return $rb_ge(dice_list.$count(1), self.fumble)\n        }, $BBN_fumble_$ques$5.$$arity = 1);\n        return (Opal.def(self, '$additional_roll', $BBN_additional_roll$6 = function $$additional_roll(additional_dice, total) {\n          var $a, self = this, sequence = nil, reroll_count = nil, $ret_or_2 = nil, dice_list = nil, dice_total = nil, dice_str = nil;\n\n          \n          sequence = [];\n          reroll_count = 0;\n          while ($truthy((function() {if ($truthy(($ret_or_2 = $rb_gt(additional_dice, 0)))) {\n            return $rb_lt(reroll_count, 10)\n          } else {\n            return $ret_or_2\n          }; return nil; })())) {\n            \n            reroll_count = $rb_plus(reroll_count, 1);\n            dice_list = self.randomizer.$roll_barabara(additional_dice, 6);\n            dice_total = dice_list.$sum();\n            dice_str = dice_list.$join(\",\");\n            additional_dice = dice_list.$count(6);\n            sequence.$push(\"\" + (total) + \"+\" + (dice_total) + \"[\" + (dice_str) + \"]\");\n            if ($truthy($rb_gt(additional_dice, 0))) {\n              sequence.$push(\"追加クリティカル！\")};\n            total = $rb_plus(total, dice_total);\n          };\n          if ($truthy($rb_gt(additional_dice, 0))) {\n            sequence.$push(\"無限ループ防止のため中断\")};\n          sequence.$push(total);\n          if ($truthy(self.difficulty)) {\n            sequence.$push((function() {if ($truthy($rb_ge(total, self.difficulty))) {\n              return \"成功\"\n            } else {\n              return \"失敗\"\n            }; return nil; })())};\n          return sequence;\n        }, $BBN_additional_roll$6.$$arity = 2), nil) && 'additional_roll';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'OrgaRain');\n\n        var $nesting = [self].concat($parent_nesting), $OrgaRain_initialize$1, $OrgaRain_eval_game_system_specific_command$2, $OrgaRain_check_roll$3;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"OrgaRain\");\n        Opal.const_set($nesting[0], 'NAME', \"在りて遍くオルガレイン\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"ありてあまねくおるかれいん\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"判定：[n]OR(count)\\n\" + \"\\n\" + \"[]内のコマンドは省略可能。\\n\" + \"「n」でダイス数を指定。省略時は「1」。\\n\" + \"(count)で命数を指定。「3111」のように記述。最大6つ。順不同可。\\n\" + \"\\n\" + \"【書式例】\\n\" + \"・5OR6042 → 5dで命数「0,2,4,6」の判定\\n\" + \"・6OR33333 → 6dで命数「3,3,3,3,3」の判定。\\n\");\n        \n        Opal.def(self, '$initialize', $OrgaRain_initialize$1 = function $$initialize(command) {\n          var $iter = $OrgaRain_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $OrgaRain_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $OrgaRain_initialize$1, false, true), 'initialize', [command], null);\n          return (self.sort_add_dice = true);\n        }, $OrgaRain_initialize$1.$$arity = 1);\n        self.$register_prefix(\"(\\\\d+)?OR(\\\\d{0,6})?\");\n        \n        Opal.def(self, '$eval_game_system_specific_command', $OrgaRain_eval_game_system_specific_command$2 = function $$eval_game_system_specific_command(command) {\n          var self = this, m = nil, dice_count = nil, $ret_or_1 = nil, count_no = nil, $ret_or_2 = nil;\n\n          \n          m = command.$match(/(\\d+)?OR(\\d{0,6})$/i);\n          if ($truthy(m)) {\n          } else {\n            return nil\n          };\n          dice_count = (function() {if ($truthy(($ret_or_1 = m['$[]'](1)))) {\n            return $ret_or_1\n          } else {\n            return 1\n          }; return nil; })().$to_i();\n          count_no = $send((function() {if ($truthy(($ret_or_2 = m['$[]'](2)))) {\n            return $ret_or_2\n          } else {\n            return \"\"\n          }; return nil; })().$each_char(), 'map', [], \"to_i\".$to_proc()).$sort();\n          return self.$check_roll(dice_count, count_no);\n        }, $OrgaRain_eval_game_system_specific_command$2.$$arity = 1);\n        return (Opal.def(self, '$check_roll', $OrgaRain_check_roll$3 = function $$check_roll(dice_count, count_no) {\n          var $$4, $$5, self = this, dice_array = nil, dice_text = nil, result_array = nil, success = nil, count_text = nil, result_text = nil;\n\n          \n          dice_array = self.randomizer.$roll_barabara(dice_count, 10).$sort();\n          dice_text = dice_array.$join(\",\");\n          result_array = [];\n          success = 0;\n          $send($send(dice_array, 'map', [], ($$4 = function(x){var self = $$4.$$s == null ? this : $$4.$$s;\n\n          \n            \n            if (x == null) {\n              x = nil;\n            };\n            if (x['$=='](10)) {\n              return 0\n            } else {\n              return x\n            };}, $$4.$$s = self, $$4.$$arity = 1, $$4)), 'each', [], ($$5 = function(i){var self = $$5.$$s == null ? this : $$5.$$s, multiple = nil;\n\n          \n            \n            if (i == null) {\n              i = nil;\n            };\n            multiple = count_no.$count(i);\n            if ($truthy($rb_gt(multiple, 0))) {\n              \n              result_array.$push(\"\" + (i) + \"(x\" + (multiple) + \")\");\n              return (success = $rb_plus(success, multiple));\n            } else {\n              return result_array.$push(\"×\")\n            };}, $$5.$$s = self, $$5.$$arity = 1, $$5));\n          count_text = count_no.$join(\",\");\n          result_text = result_array.$join(\",\");\n          return \"\" + (dice_count) + \"D10(命数：\" + (count_text) + \") ＞ \" + (dice_text) + \" ＞ \" + (result_text) + \" ＞ 成功数：\" + (success);\n        }, $OrgaRain_check_roll$3.$$arity = 2), nil) && 'check_roll';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'WARPS');\n\n        var $nesting = [self].concat($parent_nesting), $WARPS_result_2d6$1;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"WARPS\");\n        Opal.const_set($nesting[0], 'NAME', \"ワープス\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"わあふす\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"失敗、成功度の自動判定を行います。\\n\");\n        return (Opal.def(self, '$result_2d6', $WARPS_result_2d6$1 = function $$result_2d6(total, dice_total, _dice_list, cmp_op, target) {\n          var self = this;\n\n          \n          if (cmp_op['$=='](\"<=\")) {\n          } else {\n            return nil\n          };\n          if ($truthy($rb_le(dice_total, 2))) {\n            return $$($nesting, 'Result').$critical(\"クリティカル\")\n          } else if ($truthy($rb_ge(dice_total, 12))) {\n            return $$($nesting, 'Result').$fumble(\"ファンブル\")\n          } else if (target['$=='](\"?\")) {\n            return $$($nesting, 'Result').$nothing()\n          } else if ($truthy($rb_le(total, target))) {\n            return $$($nesting, 'Result').$success(\"\" + ($rb_minus(target, total)) + \"成功\")\n          } else {\n            return $$($nesting, 'Result').$failure(\"失敗\")\n          };\n        }, $WARPS_result_2d6$1.$$arity = 5), nil) && 'result_2d6';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Airgetlamh');\n\n        var $nesting = [self].concat($parent_nesting), $Airgetlamh_initialize$1, $Airgetlamh_eval_game_system_specific_command$2, $Airgetlamh_checkRoll$3;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"Airgetlamh\");\n        Opal.const_set($nesting[0], 'NAME', \"朱の孤塔のエアゲトラム\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"あけのことうのえあけとらむ\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"【Reg2.0『THE ANSWERER』～】\\n\" + \"・調査判定（成功数を表示）：[n]AA[m]\\n\" + \"・命中判定（ダメージ表示）：[n]AA[m]*p[+t][Cx]\\n\" + \"【～Reg1.1『昇華』】\\n\" + \"・調査判定（成功数を表示）：[n]AL[m]\\n\" + \"・命中判定（ダメージ表示）：[n]AL[m]*p\\n\" + \"----------------------------------------\\n\" + \"[]内のコマンドは省略可能。\\n\" + \"\\n\" + \"「n」でダイス数（攻撃回数）を指定。省略時は「2」。\\n\" + \"「m」で目標値を指定。省略時は「6」。\\n\" + \"「p」で威力を指定。「*」は「x」で代用可。\\n\" + \"「+t」でクリティカルトリガーを指定。省略可。\\n\" + \"「Cx」でクリティカル値を指定。省略時は「1」、最大値は「3」、「0」でクリティカル無し。\\n\" + \"\\n\" + \"攻撃力指定で命中判定となり、成功数ではなく、ダメージを結果表示します。\\n\" + \"クリティカルヒットの分だけ、自動で振り足し処理を行います。\\n\" + \"（ALコマンドではクリティカル処理を行いません）\\n\" + \"\\n\" + \"【書式例】\\n\" + \"・AL → 2d10で目標値6の調査判定。\\n\" + \"・5AA7*12 → 5d10で目標値7、威力12の命中判定。\\n\" + \"・AA7x28+5 → 2d10で目標値7、威力28、クリティカルトリガー5の命中判定。\\n\" + \"・9aa5*10C2 → 9d10で目標値5、威力10、クリティカル値2の命中判定。\\n\" + \"・15AAx4c0 → 15d10で目標値6、威力4、クリティカル無しの命中判定。\\n\");\n        self.$register_prefix(\"\\\\d*A[AL]\");\n        \n        Opal.def(self, '$initialize', $Airgetlamh_initialize$1 = function $$initialize(command) {\n          var $iter = $Airgetlamh_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $Airgetlamh_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $Airgetlamh_initialize$1, false, true), 'initialize', [command], null);\n          return (self.sort_add_dice = true);\n        }, $Airgetlamh_initialize$1.$$arity = 1);\n        \n        Opal.def(self, '$eval_game_system_specific_command', $Airgetlamh_eval_game_system_specific_command$2 = function $$eval_game_system_specific_command(command) {\n          var self = this, diceCount = nil, $ret_or_1 = nil, target = nil, $ret_or_2 = nil, damage = nil, $ret_or_3 = nil, criticalTrigger = nil, criticalNumber = nil, $ret_or_4 = nil, $ret_or_5 = nil;\n\n          \n          if ($truthy(command['$=~'](/(\\d+)?A(A|L)(\\d+)?((x|\\*)(\\d+)(\\+(\\d+))?)?(C(\\d+))?$/i))) {\n            \n            diceCount = (function() {if ($truthy(($ret_or_1 = $$($nesting, 'Regexp').$last_match(1)))) {\n              return $ret_or_1\n            } else {\n              return 2\n            }; return nil; })().$to_i();\n            target = (function() {if ($truthy(($ret_or_2 = $$($nesting, 'Regexp').$last_match(3)))) {\n              return $ret_or_2\n            } else {\n              return 6\n            }; return nil; })().$to_i();\n            damage = (function() {if ($truthy(($ret_or_3 = $$($nesting, 'Regexp').$last_match(6)))) {\n              return $ret_or_3\n            } else {\n              return 0\n            }; return nil; })().$to_i();\n            if ($$($nesting, 'Regexp').$last_match(2)['$=='](\"L\")) {\n              \n              criticalTrigger = 0;\n              criticalNumber = 0;\n            } else {\n              \n              criticalTrigger = (function() {if ($truthy(($ret_or_4 = $$($nesting, 'Regexp').$last_match(8)))) {\n                return $ret_or_4\n              } else {\n                return 0\n              }; return nil; })().$to_i();\n              criticalNumber = (function() {if ($truthy(($ret_or_5 = $$($nesting, 'Regexp').$last_match(10)))) {\n                return $ret_or_5\n              } else {\n                return 1\n              }; return nil; })().$to_i();\n            };\n            if ($truthy($rb_gt(criticalNumber, 4))) {\n              criticalNumber = 3};\n            return self.$checkRoll(diceCount, target, damage, criticalTrigger, criticalNumber);};\n          return nil;\n        }, $Airgetlamh_eval_game_system_specific_command$2.$$arity = 1);\n        return (Opal.def(self, '$checkRoll', $Airgetlamh_checkRoll$3 = function $$checkRoll(diceCount, target, damage, criticalTrigger, criticalNumber) {\n          var $a, $$4, $$5, self = this, totalSuccessCount = nil, totalCriticalCount = nil, text = nil, rollCount = nil, diceArray = nil, diceText = nil, successCount = nil, criticalCount = nil, result = nil, isDamage = nil, totalDamage = nil;\n\n          \n          totalSuccessCount = 0;\n          totalCriticalCount = 0;\n          text = \"\";\n          rollCount = diceCount;\n          while ($truthy($rb_gt(rollCount, 0))) {\n            \n            diceArray = self.randomizer.$roll_barabara(rollCount, 10).$sort();\n            diceText = diceArray.$join(\",\");\n            successCount = $send(diceArray, 'count', [], ($$4 = function(i){var self = $$4.$$s == null ? this : $$4.$$s;\n\n            \n              \n              if (i == null) {\n                i = nil;\n              };\n              return $rb_le(i, target);}, $$4.$$s = self, $$4.$$arity = 1, $$4));\n            criticalCount = $send(diceArray, 'count', [], ($$5 = function(i){var self = $$5.$$s == null ? this : $$5.$$s;\n\n            \n              \n              if (i == null) {\n                i = nil;\n              };\n              return $rb_le(i, criticalNumber);}, $$5.$$s = self, $$5.$$arity = 1, $$5));\n            totalSuccessCount = $rb_plus(totalSuccessCount, successCount);\n            totalCriticalCount = $rb_plus(totalCriticalCount, criticalCount);\n            if ($truthy(text['$empty?']())) {\n            } else {\n              text = $rb_plus(text, \"+\")\n            };\n            text = $rb_plus(text, \"\" + (successCount) + \"[\" + (diceText) + \"]\");\n            rollCount = criticalCount;\n          };\n          result = \"\";\n          isDamage = damage['$!='](0);\n          if ($truthy(isDamage)) {\n            \n            totalDamage = $rb_plus($rb_times(totalSuccessCount, damage), $rb_times(totalCriticalCount, criticalTrigger));\n            result = $rb_plus(result, \"\" + \"(\" + (diceCount) + \"D10<=\" + (target) + \") ＞ \" + (text) + \" ＞ Hits：\" + (totalSuccessCount) + \"*\" + (damage));\n            if ($truthy($rb_gt(criticalTrigger, 0))) {\n              result = $rb_plus(result, \"\" + \" + Trigger：\" + (totalCriticalCount) + \"*\" + (criticalTrigger))};\n            result = $rb_plus(result, \"\" + \" ＞ \" + (totalDamage) + \"ダメージ\");\n          } else {\n            result = $rb_plus(result, \"\" + \"(\" + (diceCount) + \"D10<=\" + (target) + \") ＞ \" + (text) + \" ＞ 成功数：\" + (totalSuccessCount))\n          };\n          if ($truthy($rb_gt(totalCriticalCount, 0))) {\n            result = $rb_plus(result, \"\" + \" / \" + (totalCriticalCount) + \"クリティカル\")};\n          return result;\n        }, $Airgetlamh_checkRoll$3.$$arity = 5), nil) && 'checkRoll';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Arianrhod');\n\n        var $nesting = [self].concat($parent_nesting), $Arianrhod_initialize$1, $Arianrhod_result_nd6$2;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"Arianrhod\");\n        Opal.const_set($nesting[0], 'NAME', \"アリアンロッドRPG\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"ありあんろつとRPG\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・クリティカル、ファンブルの自動判定を行います。(クリティカル時の追加ダメージも表示されます)\\n\" + \"・D66ダイスあり\\n\");\n        \n        Opal.def(self, '$initialize', $Arianrhod_initialize$1 = function $$initialize(command) {\n          var $iter = $Arianrhod_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $Arianrhod_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $Arianrhod_initialize$1, false, true), 'initialize', [command], null);\n          self.sort_add_dice = true;\n          return (self.d66_sort_type = $$$($$($nesting, 'D66SortType'), 'NO_SORT'));\n        }, $Arianrhod_initialize$1.$$arity = 1);\n        return (Opal.def(self, '$result_nd6', $Arianrhod_result_nd6$2 = function $$result_nd6(total, _dice_total, dice_list, cmp_op, target) {\n          var self = this, n_max = nil, $ret_or_1 = nil;\n\n          \n          n_max = dice_list.$count(6);\n          if (dice_list.$count(1)['$=='](dice_list.$size())) {\n            return $$($nesting, 'Result').$fumble(\"ファンブル\")\n          } else if ($truthy($rb_ge(n_max, 2))) {\n            return $$($nesting, 'Result').$critical(\"\" + \"クリティカル(+\" + (n_max) + \"D6)\")\n          } else if ($truthy((function() {if ($truthy(($ret_or_1 = cmp_op['$!='](\">=\")))) {\n            return $ret_or_1\n          } else {\n            return target['$=='](\"?\")\n          }; return nil; })())) {\n            return nil\n          } else if ($truthy($rb_ge(total, target))) {\n            return $$($nesting, 'Result').$success(\"成功\")\n          } else {\n            return $$($nesting, 'Result').$failure(\"失敗\")\n          };\n        }, $Arianrhod_result_nd6$2.$$arity = 5), nil) && 'result_nd6';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'ZettaiReido');\n\n        var $nesting = [self].concat($parent_nesting), $ZettaiReido_eval_game_system_specific_command$1, $ZettaiReido_roll2DR$2, $ZettaiReido_roll2DarkDice$3, $ZettaiReido_changeDiceToDarkDice$4, $ZettaiReido_getModInfo$5, $ZettaiReido_getDiffInfo$6, $ZettaiReido_getDarkPointResult$7, $ZettaiReido_getSuccessText$8;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"ZettaiReido\");\n        Opal.const_set($nesting[0], 'NAME', \"絶対隷奴\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"せつたいれいと\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・判定\\n\" + \"m-2DR+n>=x\\n\" + \"m(基本能力),n(修正値),x(目標値)\\n\" + \"DPの取得の有無も表示されます。\\n\");\n        self.$register_prefix(\"\\\\d+\\\\-2DR\");\n        \n        Opal.def(self, '$eval_game_system_specific_command', $ZettaiReido_eval_game_system_specific_command$1 = function $$eval_game_system_specific_command(command) {\n          var self = this, baseAvility = nil, modText = nil, diffValue = nil;\n\n          \n          if ($truthy(command['$=~'](/^(\\d+)-2DR([+\\-\\d]*)(>=(\\d+))?$/i))) {\n          } else {\n            return nil\n          };\n          baseAvility = $$($nesting, 'Regexp').$last_match(1).$to_i();\n          modText = $$($nesting, 'Regexp').$last_match(2);\n          diffValue = $$($nesting, 'Regexp').$last_match(4);\n          return self.$roll2DR(baseAvility, modText, diffValue);\n        }, $ZettaiReido_eval_game_system_specific_command$1.$$arity = 1);\n        \n        Opal.def(self, '$roll2DR', $ZettaiReido_roll2DR$2 = function $$roll2DR(baseAvility, modText, diffValue) {\n          var $a, $b, self = this, diceTotal = nil, diceText = nil, darkPoint = nil, mod = nil, diff = nil, diffText = nil, output = nil, total = nil, successText = nil, darkPointText = nil;\n\n          \n          $b = self.$roll2DarkDice(), $a = Opal.to_ary($b), (diceTotal = ($a[0] == null ? nil : $a[0])), (diceText = ($a[1] == null ? nil : $a[1])), (darkPoint = ($a[2] == null ? nil : $a[2])), $b;\n          $b = self.$getModInfo(modText), $a = Opal.to_ary($b), (mod = ($a[0] == null ? nil : $a[0])), (modText = ($a[1] == null ? nil : $a[1])), $b;\n          $b = self.$getDiffInfo(diffValue), $a = Opal.to_ary($b), (diff = ($a[0] == null ? nil : $a[0])), (diffText = ($a[1] == null ? nil : $a[1])), $b;\n          output = \"\";\n          output = $rb_plus(output, \"\" + \"(\" + (baseAvility) + \"-2DR\" + (modText) + (diffText) + \")\");\n          output = $rb_plus(output, \"\" + \" ＞ \" + (baseAvility) + \"-\" + (diceTotal) + \"[\" + (diceText) + \"]\" + (modText));\n          total = $rb_plus($rb_minus(baseAvility, diceTotal), mod);\n          output = $rb_plus(output, \"\" + \" ＞ \" + (total));\n          successText = self.$getSuccessText(diceTotal, total, diff);\n          output = $rb_plus(output, successText);\n          darkPointText = self.$getDarkPointResult(total, diff, darkPoint);\n          output = $rb_plus(output, darkPointText);\n          return output;\n        }, $ZettaiReido_roll2DR$2.$$arity = 3);\n        \n        Opal.def(self, '$roll2DarkDice', $ZettaiReido_roll2DarkDice$3 = function $$roll2DarkDice() {\n          var $a, $b, self = this, dice1 = nil, dice2 = nil, darkDice1 = nil, darkPoint1 = nil, darkDice2 = nil, darkPoint2 = nil, darkPoint = nil, darkTotal = nil, darkDiceText = nil;\n\n          \n          dice1 = self.randomizer.$roll_once(6);\n          dice2 = self.randomizer.$roll_once(6);\n          $b = self.$changeDiceToDarkDice(dice1), $a = Opal.to_ary($b), (darkDice1 = ($a[0] == null ? nil : $a[0])), (darkPoint1 = ($a[1] == null ? nil : $a[1])), $b;\n          $b = self.$changeDiceToDarkDice(dice2), $a = Opal.to_ary($b), (darkDice2 = ($a[0] == null ? nil : $a[0])), (darkPoint2 = ($a[1] == null ? nil : $a[1])), $b;\n          darkPoint = $rb_plus(darkPoint1, darkPoint2);\n          if (darkPoint['$=='](2)) {\n            darkPoint = 4};\n          darkTotal = $rb_plus(darkDice1, darkDice2);\n          darkDiceText = \"\" + (darkDice1) + \",\" + (darkDice2);\n          return [darkTotal, darkDiceText, darkPoint];\n        }, $ZettaiReido_roll2DarkDice$3.$$arity = 0);\n        \n        Opal.def(self, '$changeDiceToDarkDice', $ZettaiReido_changeDiceToDarkDice$4 = function $$changeDiceToDarkDice(dice) {\n          var self = this, darkPoint = nil, darkDice = nil;\n\n          \n          darkPoint = 0;\n          darkDice = dice;\n          if (dice['$=='](6)) {\n            \n            darkDice = 0;\n            darkPoint = 1;};\n          return [darkDice, darkPoint];\n        }, $ZettaiReido_changeDiceToDarkDice$4.$$arity = 1);\n        \n        Opal.def(self, '$getModInfo', $ZettaiReido_getModInfo$5 = function $$getModInfo(modText) {\n          var self = this, value = nil, text = nil;\n\n          \n          value = $$($nesting, 'ArithmeticEvaluator').$eval(modText);\n          text = \"\";\n          if ($truthy($rb_lt(value, 0))) {\n            text = value.$to_s()\n          } else if ($truthy($rb_gt(value, 0))) {\n            text = $rb_plus(\"+\", value.$to_s())};\n          return [value, text];\n        }, $ZettaiReido_getModInfo$5.$$arity = 1);\n        \n        Opal.def(self, '$getDiffInfo', $ZettaiReido_getDiffInfo$6 = function $$getDiffInfo(diffValue) {\n          var self = this, diffText = nil;\n\n          \n          diffText = \"\";\n          if ($truthy(diffValue['$nil?']())) {\n          } else {\n            \n            diffValue = diffValue.$to_i();\n            diffText = \"\" + \">=\" + (diffValue.$to_i());\n          };\n          return [diffValue, diffText];\n        }, $ZettaiReido_getDiffInfo$6.$$arity = 1);\n        \n        Opal.def(self, '$getDarkPointResult', $ZettaiReido_getDarkPointResult$7 = function $$getDarkPointResult(_total, _diff, darkPoint) {\n          var self = this, text = nil;\n\n          \n          text = \"\";\n          if ($truthy($rb_gt(darkPoint, 0))) {\n            text = \"\" + \" ＞ \" + (darkPoint) + \"DP\"};\n          return text;\n        }, $ZettaiReido_getDarkPointResult$7.$$arity = 3);\n        return (Opal.def(self, '$getSuccessText', $ZettaiReido_getSuccessText$8 = function $$getSuccessText(diceTotal, total, diff) {\n          var self = this, successLevel = nil;\n\n          \n          if (diceTotal['$=='](0)) {\n            return \" ＞ クリティカル\"};\n          if (diceTotal['$=='](10)) {\n            return \" ＞ ファンブル\"};\n          if ($truthy(diff['$nil?']())) {\n            diff = 0};\n          successLevel = $rb_minus(total, diff);\n          if ($truthy($rb_ge(successLevel, 0))) {\n            return \"\" + \" ＞ \" + (successLevel) + \" 成功\"};\n          return \" ＞ 失敗\";\n        }, $ZettaiReido_getSuccessText$8.$$arity = 3), nil) && 'getSuccessText';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'NjslyrBattle');\n\n        var $nesting = [self].concat($parent_nesting), $NjslyrBattle_result_2d6$1, $NjslyrBattle_juuten$2;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"NjslyrBattle\");\n        Opal.const_set($nesting[0], 'NAME', \"NJSLYRBATTLE\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"にんしやすれいやあはとる\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・カラテロール\\n\" + \"2d6<=(カラテ点)\\n\" + \"例）2d6<=5\\n\" + \"(2D6<=5) ＞ 2[1,1] ＞ 2 ＞ 成功 重点 3 溜まる\\n\");\n        \n        Opal.def(self, '$result_2d6', $NjslyrBattle_result_2d6$1 = function $$result_2d6(total, _dice_total, dice_list, cmp_op, target) {\n          var self = this, result = nil, $writer = nil;\n\n          \n          if (target['$=='](\"?\")) {\n            return $$($nesting, 'Result').$nothing()};\n          if ($truthy(cmp_op['$!='](\"<=\"))) {\n            return nil};\n          result = (function() {if ($truthy($rb_le(total, target))) {\n            return $$($nesting, 'Result').$success(\"成功\")\n          } else {\n            return $$($nesting, 'Result').$failure(\"失敗\")\n          }; return nil; })();\n          \n          $writer = [$rb_plus(result.$text(), self.$juuten(dice_list))];\n          $send(result, 'text=', Opal.to_a($writer));\n          $writer[$rb_minus($writer[\"length\"], 1)];;\n          return result;\n        }, $NjslyrBattle_result_2d6$1.$$arity = 5);\n        self.$private();\n        return (Opal.def(self, '$juuten', $NjslyrBattle_juuten$2 = function $$juuten(dice_list) {\n          var self = this, juuten = nil;\n\n          \n          juuten = $rb_plus(dice_list.$count(1), dice_list.$count(6));\n          if (dice_list['$[]'](0)['$=='](dice_list['$[]'](1))) {\n            juuten = $rb_plus(juuten, 1)};\n          if ($truthy($rb_gt(juuten, 0))) {\n            return \"\" + \" 重点 \" + (juuten) + \" 溜まる\"\n          } else {\n            return \"\"\n          };\n        }, $NjslyrBattle_juuten$2.$$arity = 1), nil) && 'juuten';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'RecordOfSteam');\n\n        var $nesting = [self].concat($parent_nesting), $RecordOfSteam_eval_game_system_specific_command$1, $RecordOfSteam_getDiceRollResult$2, $RecordOfSteam_getRoundCountText$4, $RecordOfSteam_getSuccessText$5, $RecordOfSteam_getSpecialText$6, $RecordOfSteam_getFumbleText$7;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"RecordOfSteam\");\n        Opal.const_set($nesting[0], 'NAME', \"Record of Steam\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"れこおとおふすちいむ\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"2S2@1\\n\" + \"RecordOfSteam : (2S2@1) ＞ 1,2,3,4 ＞ 1回転 ＞ 成功数2\\n\" + \"\\n\" + \"4S3@2\\n\" + \"RecordOfSteam : (4S3@2) ＞ 2,1,2,4,4,4,2,3,4,5,6,6 ＞ 4回転 ＞ 成功数5\\n\");\n        self.$register_prefix(\"\\\\d+S\\\\d+\");\n        \n        Opal.def(self, '$eval_game_system_specific_command', $RecordOfSteam_eval_game_system_specific_command$1 = function $$eval_game_system_specific_command(command) {\n          var $a, $b, self = this, diceCount = nil, targetNumber = nil, criticalValue = nil, $ret_or_1 = nil, specialValue = nil, rollResult = nil, successCount = nil, roundCount = nil, specialCount = nil, fumbleCount = nil, output = nil, roundCountText = nil, successText = nil, specialText = nil, fumbleText = nil, result = nil;\n\n          \n          if ($truthy(/(\\d+)[sS](\\d+)(@(\\d+))?/i['$=~'](command))) {\n          } else {\n            return \"1\"\n          };\n          diceCount = $$($nesting, 'Regexp').$last_match(1).$to_i();\n          targetNumber = $$($nesting, 'Regexp').$last_match(2).$to_i();\n          criticalValue = $$($nesting, 'Regexp').$last_match(4);\n          criticalValue = (function() {if ($truthy(($ret_or_1 = criticalValue))) {\n            return $ret_or_1\n          } else {\n            return 1\n          }; return nil; })();\n          criticalValue = criticalValue.$to_i();\n          if ($truthy($rb_ge(diceCount, 150))) {\n            return \"(多分)無限個なので振れません！ ヤメテクダサイ、(プロセスが)死んでしまいますっ\"};\n          if ($truthy($rb_ge(criticalValue, 3))) {\n            return \"(多分)無限個なので振れません！ ヤメテクダサイ、(プロセスが)死んでしまいますっ\"};\n          specialValue = criticalValue;\n          $b = self.$getDiceRollResult(diceCount, targetNumber, criticalValue, specialValue), $a = Opal.to_ary($b), (rollResult = ($a[0] == null ? nil : $a[0])), (successCount = ($a[1] == null ? nil : $a[1])), (roundCount = ($a[2] == null ? nil : $a[2])), (specialCount = ($a[3] == null ? nil : $a[3])), (fumbleCount = ($a[4] == null ? nil : $a[4])), $b;\n          output = \"\" + \"(\" + (command) + \") ＞ \" + (rollResult);\n          roundCountText = self.$getRoundCountText(roundCount);\n          successText = self.$getSuccessText(successCount);\n          specialText = self.$getSpecialText(specialCount);\n          fumbleText = self.$getFumbleText(fumbleCount);\n          result = \"\" + (output) + (roundCountText) + (specialText) + (successText) + (fumbleText);\n          return result;\n        }, $RecordOfSteam_eval_game_system_specific_command$1.$$arity = 1);\n        \n        Opal.def(self, '$getDiceRollResult', $RecordOfSteam_getDiceRollResult$2 = function $$getDiceRollResult(diceCount, targetNumber, criticalValue, specialValue) {\n          var $a, $$3, self = this, successCount = nil, roundCount = nil, rollResult = nil, specialCount = nil, specialFlag = nil, fumbleCount = nil, fumbleFlag = nil, diceList = nil, diceListText = nil, $ret_or_2 = nil;\n\n          \n          successCount = 0;\n          roundCount = 0;\n          rollResult = \"\";\n          specialCount = 0;\n          specialFlag = false;\n          fumbleCount = 0;\n          fumbleFlag = false;\n          while ($truthy($rb_gt(diceCount, 0))) {\n            \n            diceList = self.randomizer.$roll_barabara(diceCount, 6);\n            diceListText = diceList.$join(\",\");\n            if ($truthy(rollResult['$!='](\"\"))) {\n              rollResult = $rb_plus(rollResult, \",\")};\n            rollResult = $rb_plus(rollResult, diceListText);\n            if ($truthy((function() {if ($truthy(($ret_or_2 = diceList.$uniq().$length()['$=='](1)))) {\n              return roundCount['$=='](0)\n            } else {\n              return $ret_or_2\n            }; return nil; })())) {\n              if ($truthy($rb_le(diceList.$uniq().$first(), specialValue))) {\n                specialFlag = true\n              } else if (diceList.$uniq().$first()['$=='](6)) {\n                fumbleFlag = true}};\n            self.$debug(\"diceList\", diceList);\n            if ($truthy(specialFlag)) {\n              \n              specialCount = 1;\n              successCount = $rb_times(diceCount, 3);\n              return [rollResult, successCount, roundCount, specialCount, fumbleCount];\n            } else if ($truthy(fumbleFlag)) {\n              \n              fumbleCount = 1;\n              return [rollResult, successCount, roundCount, specialCount, fumbleCount];};\n            diceCount = 0;\n            $send(diceList, 'map', [], ($$3 = function(diceValue){var self = $$3.$$s == null ? this : $$3.$$s;\n\n            \n              \n              if (diceValue == null) {\n                diceValue = nil;\n              };\n              self.$debug(\"diceValue\", diceValue);\n              self.$debug(\"criticalValue\", criticalValue);\n              self.$debug(\"specialValue\", specialValue);\n              if ($truthy($rb_le(diceValue, criticalValue))) {\n                \n                diceCount = $rb_plus(diceCount, 2);\n                roundCount = $rb_plus(roundCount, 1);};\n              if ($truthy($rb_le(diceValue, targetNumber))) {\n                return (successCount = $rb_plus(successCount, 1))\n              } else {\n                return nil\n              };}, $$3.$$s = self, $$3.$$arity = 1, $$3));\n          };\n          return [rollResult, successCount, roundCount, specialCount, fumbleCount];\n        }, $RecordOfSteam_getDiceRollResult$2.$$arity = 4);\n        \n        Opal.def(self, '$getRoundCountText', $RecordOfSteam_getRoundCountText$4 = function $$getRoundCountText(roundCount) {\n          var self = this;\n\n          \n          if ($truthy($rb_le(roundCount, 0))) {\n            return \"\"};\n          return \"\" + \" ＞ \" + (roundCount) + \"回転\";\n        }, $RecordOfSteam_getRoundCountText$4.$$arity = 1);\n        \n        Opal.def(self, '$getSuccessText', $RecordOfSteam_getSuccessText$5 = function $$getSuccessText(successCount) {\n          var self = this;\n\n          \n          if ($truthy($rb_gt(successCount, 0))) {\n            return \"\" + \" ＞ 成功数\" + (successCount)};\n          return \" ＞ 失敗\";\n        }, $RecordOfSteam_getSuccessText$5.$$arity = 1);\n        \n        Opal.def(self, '$getSpecialText', $RecordOfSteam_getSpecialText$6 = function $$getSpecialText(specialCount) {\n          var self = this;\n\n          if (specialCount['$=='](1)) {\n            return \" ＞ スペシャル\"\n          } else {\n            return nil\n          }\n        }, $RecordOfSteam_getSpecialText$6.$$arity = 1);\n        return (Opal.def(self, '$getFumbleText', $RecordOfSteam_getFumbleText$7 = function $$getFumbleText(fumbleCount) {\n          var self = this;\n\n          if (fumbleCount['$=='](1)) {\n            return \" ＞ ファンブル\"\n          } else {\n            return nil\n          }\n        }, $RecordOfSteam_getFumbleText$7.$$arity = 1), nil) && 'getFumbleText';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'RuneQuest');\n\n        var $nesting = [self].concat($parent_nesting), $RuneQuest_result_1d100$1;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"RuneQuest\");\n        Opal.const_set($nesting[0], 'NAME', \"ルーンクエスト\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"るうんくえすと\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"クリティカル、エフェクティブ(効果的成功)、ファンブルの自動判定を行います。\\n\");\n        return (Opal.def(self, '$result_1d100', $RuneQuest_result_1d100$1 = function $$result_1d100(total, _dice_total, cmp_op, target) {\n          var self = this, critical_value = nil, $ret_or_1 = nil;\n\n          \n          if (target['$=='](\"?\")) {\n            return $$($nesting, 'Result').$nothing()};\n          if (cmp_op['$=='](\"<=\")) {\n          } else {\n            return nil\n          };\n          critical_value = $rb_divide(target.$to_f(), 20).$round();\n          if ($truthy((function() {if ($truthy(($ret_or_1 = $rb_le(total, 1)))) {\n            return $ret_or_1\n          } else {\n            \n            return $rb_le(total, critical_value);\n          }; return nil; })())) {\n            return $$($nesting, 'Result').$critical(\"決定的成功\")\n          } else if ($truthy($rb_ge(total, 100))) {\n            return $$($nesting, 'Result').$fumble(\"致命的失敗\")\n          } else if ($truthy($rb_le(total, $rb_divide(target.$to_f(), 5).$round()))) {\n            return $$($nesting, 'Result').$success(\"効果的成功\")\n          } else if ($truthy($rb_le(total, target))) {\n            return $$($nesting, 'Result').$success(\"成功\")\n          } else if ($truthy($rb_ge(total, $rb_plus(95, critical_value)))) {\n            return $$($nesting, 'Result').$fumble(\"致命的失敗\")\n          } else {\n            return $$($nesting, 'Result').$failure(\"失敗\")\n          };\n        }, $RuneQuest_result_1d100$1.$$arity = 4), nil) && 'result_1d100';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'WaresBlade');\n\n        var $nesting = [self].concat($parent_nesting), $WaresBlade_result_nd10$1;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"WaresBlade\");\n        Opal.const_set($nesting[0], 'NAME', \"ワースブレイド\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"わあすふれいと\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"nD10>=m 方式の判定で成否、完全成功、完全失敗を自動判定します。\\n\");\n        return (Opal.def(self, '$result_nd10', $WaresBlade_result_nd10$1 = function $$result_nd10(_total, _dice_total, dice_list, cmp_op, _target) {\n          var self = this;\n\n          \n          if (cmp_op['$=='](\">=\")) {\n          } else {\n            return nil\n          };\n          if (dice_list.$count(10)['$=='](dice_list.$size())) {\n            return $$($nesting, 'Result').$critical(\"完全成功\")\n          } else if (dice_list.$count(1)['$=='](dice_list.$size())) {\n            return $$($nesting, 'Result').$fumble(\"絶対失敗\")\n          } else {\n            return nil\n          };\n        }, $WaresBlade_result_nd10$1.$$arity = 5), nil) && 'result_nd10';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Ainecadette');\n\n        var $nesting = [self].concat($parent_nesting), $Ainecadette_eval_game_system_specific_command$1, $Ainecadette_roll_action$2;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"Ainecadette\");\n        Opal.const_set($nesting[0], 'NAME', \"エネカデット\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"えねかてつと\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"■ 判定\\n\" + \"- 先輩 (AI) 10面ダイスを2つ振って判定します。『有利』なら【3AI】、『不利』なら【1AI】を使います。\\n\" + \"- 後輩 (CA) 6面ダイスを2つ振って判定します。『有利』なら【3CA】、『不利』なら【1CA】を使います。\\n\");\n        self.$register_prefix(\"(\\\\d+)?AI\", \"(\\\\d+)?CA\");\n        \n        Opal.def(self, '$eval_game_system_specific_command', $Ainecadette_eval_game_system_specific_command$1 = function $$eval_game_system_specific_command(command) {\n          var self = this;\n\n          return self.$roll_action(command)\n        }, $Ainecadette_eval_game_system_specific_command$1.$$arity = 1);\n        self.$private();\n        Opal.const_set($nesting[0], 'SUCCESS_THRESHOLD', 4);\n        Opal.const_set($nesting[0], 'SPECIAL_DICE', 6);\n        return (Opal.def(self, '$roll_action', $Ainecadette_roll_action$2 = function $$roll_action(command) {\n          var $a, self = this, m = nil, is_senpai = nil, times = nil, $ret_or_1 = nil, sides = nil, dice_list = nil, max = nil, result = nil, me = nil, target = nil, $writer = nil;\n\n          \n          m = /^(\\d+)?(AI|CA)$/.$match(command);\n          if ($truthy(m)) {\n          } else {\n            return nil\n          };\n          is_senpai = m['$[]'](2)['$=='](\"AI\");\n          times = (function() {if ($truthy(($ret_or_1 = ($a = m['$[]'](1), ($a === nil || $a == null) ? nil : $send($a, 'to_i', []))))) {\n            return $ret_or_1\n          } else {\n            return 2\n          }; return nil; })();\n          sides = (function() {if ($truthy(is_senpai)) {\n            return 10\n          } else {\n            return 6\n          }; return nil; })();\n          if ($truthy($rb_le(times, 0))) {\n            return nil};\n          dice_list = self.randomizer.$roll_barabara(times, sides);\n          max = dice_list.$max();\n          result = (function() {if ($truthy($rb_le(max, 1))) {\n            return $$($nesting, 'Result').$fumble(\"ファンブル（もやもやカウンターを2個獲得）\")\n          } else if ($truthy(dice_list['$include?'](6))) {\n            \n            me = (function() {if ($truthy(is_senpai)) {\n              return \"先輩\"\n            } else {\n              return \"後輩\"\n            }; return nil; })();\n            target = (function() {if ($truthy(is_senpai)) {\n              return \"後輩\"\n            } else {\n              return \"先輩\"\n            }; return nil; })();\n            return $$($nesting, 'Result').$critical(\"\" + \"スペシャル（絆カウンターを1個獲得し、\" + (target) + \"は\" + (me) + \"への感情を1つ獲得）\");\n          } else if ($truthy($rb_ge(max, $$($nesting, 'SUCCESS_THRESHOLD')))) {\n            return $$($nesting, 'Result').$success(\"成功\")\n          } else {\n            return $$($nesting, 'Result').$failure(\"失敗\")\n          }; return nil; })();\n          \n          $writer = [\"\" + \"(\" + (command) + \") ＞ [\" + (dice_list.$join(\",\")) + \"] ＞ \" + (result.$text())];\n          $send(result, 'text=', Opal.to_a($writer));\n          $writer[$rb_minus($writer[\"length\"], 1)];;\n          return result;\n        }, $Ainecadette_roll_action$2.$$arity = 1), nil) && 'roll_action';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'JamesBond');\n\n        var $nesting = [self].concat($parent_nesting), $JamesBond_result_1d100$1;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"JamesBond\");\n        Opal.const_set($nesting[0], 'NAME', \"ジェームズ・ボンド007\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"しええむすほんと007\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・1D100の目標値判定で、効果レーティングを1～4で自動判定。\\n\" + \"　例）1D100<=50\\n\" + \"　　　JamesBond : (1D100<=50) ＞ 20 ＞ 効果3（良）\\n\");\n        return (Opal.def(self, '$result_1d100', $JamesBond_result_1d100$1 = function $$result_1d100(total, _dice_total, cmp_op, target) {\n          var self = this, base = nil;\n\n          \n          if (target['$=='](\"?\")) {\n            return $$($nesting, 'Result').$nothing()};\n          if (cmp_op['$=='](\"<=\")) {\n          } else {\n            return nil\n          };\n          base = $rb_divide($rb_plus(target, 9), 10).$floor();\n          if ($truthy($rb_ge(total, 100))) {\n            return $$($nesting, 'Result').$failure(\"失敗\")\n          } else if ($truthy($rb_le(total, base))) {\n            return $$($nesting, 'Result').$success(\"効果1（完璧）\")\n          } else if ($truthy($rb_le(total, $rb_times(base, 2)))) {\n            return $$($nesting, 'Result').$success(\"効果2（かなり良い）\")\n          } else if ($truthy($rb_le(total, $rb_times(base, 5)))) {\n            return $$($nesting, 'Result').$success(\"効果3（良）\")\n          } else if ($truthy($rb_le(total, target))) {\n            return $$($nesting, 'Result').$success(\"効果4（まあまあ）\")\n          } else {\n            return $$($nesting, 'Result').$failure(\"失敗\")\n          };\n        }, $JamesBond_result_1d100$1.$$arity = 4), nil) && 'result_1d100';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'InfiniteFantasia');\n\n        var $nesting = [self].concat($parent_nesting), $InfiniteFantasia_result_1d20$1;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"InfiniteFantasia\");\n        Opal.const_set($nesting[0], 'NAME', \"無限のファンタジア\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"むけんのふあんたしあ\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"失敗、成功レベルの自動判定を行います。\");\n        return (Opal.def(self, '$result_1d20', $InfiniteFantasia_result_1d20$1 = function $$result_1d20(total, _dice_total, cmp_op, target) {\n          var $$2, self = this, output = nil;\n\n          \n          if (target['$=='](\"?\")) {\n            return $$($nesting, 'Result').$nothing()};\n          if (cmp_op['$=='](\"<=\")) {\n          } else {\n            return nil\n          };\n          if ($truthy($rb_gt(total, target))) {\n            return $$($nesting, 'Result').$failure(\"失敗\")};\n          output = (function() {if ($truthy($rb_le(total, $rb_divide(target, 32).$to_i()))) {\n            return \"32レベル成功(32Lv+)\"\n          } else if ($truthy($rb_le(total, $rb_divide(target, 16).$to_i()))) {\n            return \"16レベル成功(16Lv+)\"\n          } else if ($truthy($rb_le(total, $rb_divide(target, 8).$to_i()))) {\n            return \"8レベル成功\"\n          } else if ($truthy($rb_le(total, $rb_divide(target, 4).$to_i()))) {\n            return \"4レベル成功\"\n          } else if ($truthy($rb_le(total, $rb_divide(target, 2).$to_i()))) {\n            return \"2レベル成功\"\n          } else {\n            return \"1レベル成功\"\n          }; return nil; })();\n          return $send($$($nesting, 'Result').$new(), 'tap', [], ($$2 = function(r){var self = $$2.$$s == null ? this : $$2.$$s, $writer = nil;\n\n          \n            \n            if (r == null) {\n              r = nil;\n            };\n            \n            $writer = [output];\n            $send(r, 'text=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [true];\n            $send(r, 'success=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            if ($truthy($rb_le(total, 1))) {\n              \n              \n              $writer = [true];\n              $send(r, 'critical=', Opal.to_a($writer));\n              $writer[$rb_minus($writer[\"length\"], 1)];;\n              \n              $writer = [$rb_plus(r.$text(), \"/クリティカル\")];\n              $send(r, 'text=', Opal.to_a($writer));\n              return $writer[$rb_minus($writer[\"length\"], 1)];;\n            } else {\n              return nil\n            };}, $$2.$$s = self, $$2.$$arity = 1, $$2));\n        }, $InfiniteFantasia_result_1d20$1.$$arity = 4), nil) && 'result_1d20';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'StrangerOfSwordCity');\n\n        var $nesting = [self].concat($parent_nesting), $StrangerOfSwordCity_initialize$1, $StrangerOfSwordCity_eval_game_system_specific_command$2, $StrangerOfSwordCity_checkRoll$3, $StrangerOfSwordCity_getModifyText$4, $StrangerOfSwordCity_getCriticalResult$5, $StrangerOfSwordCity_isFumble$7;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"StrangerOfSwordCity\");\n        Opal.const_set($nesting[0], 'NAME', \"剣の街の異邦人TRPG\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"つるきのまちのいほうしんTRPG\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・判定　xSR or xSRy or xSR+y or xSR-y or xSR+y>=z\\n\" + \"　x=ダイス数、y=修正値(省略可、±省略時は＋として扱う)、z=難易度(省略可)\\n\" + \"　判定時はクリティカル、ファンブルの自動判定を行います。\\n\" + \"・通常のnD6ではクリティカル、ファンブルの自動判定は行いません。\\n\" + \"・D66ダイスあり\\n\");\n        self.$register_prefix(\"\\\\d+SR\");\n        \n        Opal.def(self, '$initialize', $StrangerOfSwordCity_initialize$1 = function $$initialize(command) {\n          var $iter = $StrangerOfSwordCity_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $StrangerOfSwordCity_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $StrangerOfSwordCity_initialize$1, false, true), 'initialize', [command], null);\n          self.sort_add_dice = true;\n          self.d66_sort_type = $$$($$($nesting, 'D66SortType'), 'NO_SORT');\n          return (self.round_type = $$$($$($nesting, 'RoundType'), 'FLOOR'));\n        }, $StrangerOfSwordCity_initialize$1.$$arity = 1);\n        \n        Opal.def(self, '$eval_game_system_specific_command', $StrangerOfSwordCity_eval_game_system_specific_command$2 = function $$eval_game_system_specific_command(command) {\n          var self = this, result = nil;\n\n          \n          self.$debug(\"eval_game_system_specific_command command\", command);\n          command = command.$upcase();\n          result = self.$checkRoll(command);\n          if ($truthy(result['$empty?']())) {\n          } else {\n            return result\n          };\n          return result;\n        }, $StrangerOfSwordCity_eval_game_system_specific_command$2.$$arity = 1);\n        \n        Opal.def(self, '$checkRoll', $StrangerOfSwordCity_checkRoll$3 = function $$checkRoll(command) {\n          var self = this, result = nil, diceCount = nil, modify = nil, difficulty = nil, diceList = nil, dice = nil, totalValue = nil, modifyText = nil, criticalResult = nil;\n\n          \n          self.$debug(\"checkRoll begin command\", command);\n          result = \"\";\n          if ($truthy(command['$=~'](/^(\\d+)SR([+\\-]?\\d+)?(>=(\\d+))?$/i))) {\n          } else {\n            return result\n          };\n          diceCount = $$($nesting, 'Regexp').$last_match(1).$to_i();\n          modify = $$($nesting, 'Regexp').$last_match(2).$to_i();\n          if ($truthy($$($nesting, 'Regexp').$last_match(4))) {\n            difficulty = $$($nesting, 'Regexp').$last_match(4).$to_i()};\n          diceList = self.randomizer.$roll_barabara(diceCount, 6).$sort();\n          dice = diceList.$sum();\n          totalValue = $rb_plus(dice, modify);\n          modifyText = self.$getModifyText(modify);\n          result = $rb_plus(result, \"\" + \"(\" + (command) + \") ＞ \" + (dice) + \"[\" + (diceList.$join(\",\")) + \"]\" + (modifyText) + \" ＞ \" + (totalValue));\n          criticalResult = self.$getCriticalResult(diceList);\n          if ($truthy(criticalResult['$nil?']())) {\n          } else {\n            \n            result = $rb_plus(result, \"\" + \" ＞ クリティカル(+\" + (criticalResult) + \"D6)\");\n            return result;\n          };\n          if ($truthy(self.$isFumble(diceList, diceCount))) {\n            \n            result = $rb_plus(result, \" ＞ ファンブル\");\n            return result;};\n          if ($truthy(difficulty['$nil?']())) {\n          } else {\n            result = $rb_plus(result, (function() {if ($truthy($rb_ge(totalValue, difficulty))) {\n              return \" ＞ 成功\"\n            } else {\n              return \" ＞ 失敗\"\n            }; return nil; })())\n          };\n          return result;\n        }, $StrangerOfSwordCity_checkRoll$3.$$arity = 1);\n        \n        Opal.def(self, '$getModifyText', $StrangerOfSwordCity_getModifyText$4 = function $$getModifyText(modify) {\n          var self = this;\n\n          \n          if (modify['$=='](0)) {\n            return \"\"};\n          if ($truthy($rb_lt(modify, 0))) {\n            return modify.$to_s()};\n          return \"\" + \"+\" + (modify);\n        }, $StrangerOfSwordCity_getModifyText$4.$$arity = 1);\n        \n        Opal.def(self, '$getCriticalResult', $StrangerOfSwordCity_getCriticalResult$5 = function $$getCriticalResult(diceList) {\n          var $$6, self = this, dice6Count = nil;\n\n          \n          dice6Count = $send(diceList, 'select', [], ($$6 = function(i){var self = $$6.$$s == null ? this : $$6.$$s;\n\n          \n            \n            if (i == null) {\n              i = nil;\n            };\n            return i['$=='](6);}, $$6.$$s = self, $$6.$$arity = 1, $$6)).$size();\n          if ($truthy($rb_ge(dice6Count, 2))) {\n            return dice6Count.$to_s()};\n          return nil;\n        }, $StrangerOfSwordCity_getCriticalResult$5.$$arity = 1);\n        return (Opal.def(self, '$isFumble', $StrangerOfSwordCity_isFumble$7 = function $$isFumble(diceList, diceCount) {\n          var $$8, self = this;\n\n          return $rb_ge($send(diceList, 'select', [], ($$8 = function(i){var self = $$8.$$s == null ? this : $$8.$$s;\n\n          \n            \n            if (i == null) {\n              i = nil;\n            };\n            return i['$=='](1);}, $$8.$$s = self, $$8.$$arity = 1, $$8)).$size(), diceCount)\n        }, $StrangerOfSwordCity_isFumble$7.$$arity = 2), nil) && 'isFumble';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'EclipsePhase');\n\n        var $nesting = [self].concat($parent_nesting), $EclipsePhase_result_1d100$1;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"EclipsePhase\");\n        Opal.const_set($nesting[0], 'NAME', \"エクリプス・フェイズ\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"えくりふすふえいす\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"1D100<=m 方式の判定で成否、クリティカル・ファンブルを自動判定\");\n        return (Opal.def(self, '$result_1d100', $EclipsePhase_result_1d100$1 = function $$result_1d100(total, _dice_total, cmp_op, target) {\n          var self = this, dice_value = nil, dice_ten_place = nil, dice_one_place = nil, diff_threshold = nil;\n\n          \n          if (target['$=='](\"?\")) {\n            return nil};\n          if (cmp_op['$=='](\"<=\")) {\n          } else {\n            return nil\n          };\n          dice_value = total['$%'](100);\n          dice_ten_place = $rb_divide(dice_value, 10).$to_i();\n          dice_one_place = dice_value['$%'](10);\n          if (dice_ten_place['$=='](dice_one_place)) {\n            \n            if (dice_value['$=='](99)) {\n              return $$($nesting, 'Result').$fumble(\"決定的失敗\")};\n            if (dice_value['$=='](0)) {\n              return $$($nesting, 'Result').$critical(\"00 ＞ 決定的成功\")};\n            if ($truthy($rb_le(total, target))) {\n              return $$($nesting, 'Result').$critical(\"決定的成功\")};\n            return $$($nesting, 'Result').$fumble(\"決定的失敗\");};\n          diff_threshold = 30;\n          if ($truthy($rb_le(total, target))) {\n            if ($truthy($rb_ge(total, diff_threshold))) {\n              return $$($nesting, 'Result').$success(\"エクセレント\")\n            } else {\n              return $$($nesting, 'Result').$success(\"成功\")\n            }\n          } else if ($truthy($rb_ge($rb_minus(total, target), diff_threshold))) {\n            return $$($nesting, 'Result').$failure(\"シビア\")\n          } else {\n            return $$($nesting, 'Result').$failure(\"失敗\")\n          };\n        }, $EclipsePhase_result_1d100$1.$$arity = 4), nil) && 'result_1d100';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'SamsaraBallad');\n\n        var $nesting = [self].concat($parent_nesting), $SamsaraBallad_eval_game_system_specific_command$1, $SamsaraBallad_compare$3, $SamsaraBallad_fumble_$ques$4, $SamsaraBallad_critical_$ques$5;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"SamsaraBallad\");\n        Opal.const_set($nesting[0], 'NAME', \"サンサーラ・バラッド\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"さんさあらはらつと\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"SB\\t 通常のD100ロールを行う\\n\" + \"SBS\\t スワップロールでD100ロールを行う\\n\" + \"SB#x@y\\t F値をx、C値をyとして通常のD100ロールを行う\\n\" + \"SBS#x@y\\t F値をx、C値をyとしてスワップロールでD100ロールを行う\\n\" + \"\\n\" + \"例：\\n\" + \"SB<=85 通常の技能で成功率85%の判定\\n\" + \"SBS<=70 習熟を得た技能で成功率70%の判定\\n\" + \"SBS#3@7<=80 習熟を得た技能で、F値3、C値7で成功率80%の攻撃判定\\n\" + \"SB<57 通常の技能で、能動側の達成値が57の受動判定\\n\" + \"SBS<70 習熟を得た技能で、能動側の達成値が70の受動判定\\n\");\n        self.$register_prefix(\"SBS?\");\n        \n        Opal.def(self, '$eval_game_system_specific_command', $SamsaraBallad_eval_game_system_specific_command$1 = function $$eval_game_system_specific_command(command) {\n          var $$2, self = this, parser = nil, cmd = nil, places_text = nil, total = nil, a = nil, b = nil, places = nil, cmp_result = nil, sequence = nil;\n\n          \n          self.$debug(\"eval_game_system_specific_command Begin\");\n          parser = $$$($$($nesting, 'Command'), 'Parser').$new(\"SBS\", \"SB\", $hash2([\"round_type\"], {\"round_type\": self.$round_type()})).$enable_critical().$enable_fumble().$restrict_cmp_op_to(nil, \"<=\", \"<\");\n          cmd = parser.$parse(command);\n          if ($truthy(cmd)) {\n          } else {\n            return nil\n          };\n          if (cmd.$command()['$=='](\"SB\")) {\n            \n            places_text = nil;\n            total = self.randomizer.$roll_once(100);\n          } else {\n            \n            a = self.randomizer.$roll_once(10);\n            b = self.randomizer.$roll_once(10);\n            places_text = \"\" + (a) + \",\" + (b);\n            places = $send([a, b], 'map', [], ($$2 = function(n){var self = $$2.$$s == null ? this : $$2.$$s;\n\n            \n              \n              if (n == null) {\n                n = nil;\n              };\n              if (n['$=='](10)) {\n                return 0\n              } else {\n                return n\n              };}, $$2.$$s = self, $$2.$$arity = 1, $$2)).$sort();\n            total = $rb_plus($rb_times(places['$[]'](0), 10), places['$[]'](1));\n            if (total['$=='](0)) {\n              total = 100};\n          };\n          cmp_result = self.$compare(total, cmd);\n          sequence = [\"\" + \"(D100\" + (cmd.$cmp_op()) + (cmd.$target_number()) + \")\", places_text, total.$to_s(), cmp_result].$compact();\n          return sequence.$join(\" ＞ \");\n        }, $SamsaraBallad_eval_game_system_specific_command$1.$$arity = 1);\n        self.$private();\n        \n        Opal.def(self, '$compare', $SamsaraBallad_compare$3 = function $$compare(total, cmd) {\n          var self = this;\n\n          if ($truthy([\"<=\", \"<\"]['$include?'](cmd.$cmp_op()))) {\n            if ($truthy(total.$send(cmd.$cmp_op(), cmd.$target_number())['$!']())) {\n              return \"失敗\"\n            } else if ($truthy(self['$fumble_?'](total, cmd.$fumble()))) {\n              return \"ファンブル\"\n            } else if ($truthy(self['$critical_?'](total, cmd.$critical()))) {\n              return \"クリティカル\"\n            } else {\n              return \"成功\"\n            }\n          } else if ($truthy(self['$fumble_?'](total, cmd.$fumble()))) {\n            return \"ファンブル\"\n          } else if ($truthy(self['$critical_?'](total, cmd.$critical()))) {\n            return \"クリティカル\"\n          } else {\n            return nil\n          }\n        }, $SamsaraBallad_compare$3.$$arity = 2);\n        \n        Opal.def(self, '$fumble_?', $SamsaraBallad_fumble_$ques$4 = function(total, fumble) {\n          var self = this, $ret_or_1 = nil;\n\n          if ($truthy(($ret_or_1 = fumble))) {\n            \n            return $rb_le(total['$%'](10), fumble);\n          } else {\n            return $ret_or_1\n          }\n        }, $SamsaraBallad_fumble_$ques$4.$$arity = 2);\n        return (Opal.def(self, '$critical_?', $SamsaraBallad_critical_$ques$5 = function(total, critical) {\n          var self = this, $ret_or_2 = nil;\n\n          if ($truthy(($ret_or_2 = critical))) {\n            \n            return $rb_ge(total['$%'](10), critical);\n          } else {\n            return $ret_or_2\n          }\n        }, $SamsaraBallad_critical_$ques$5.$$arity = 2), nil) && 'critical_?';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Illusio');\n\n        var $nesting = [self].concat($parent_nesting), $Illusio_initialize$1, $Illusio_eval_game_system_specific_command$2, $Illusio_check_roll$3;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"Illusio\");\n        Opal.const_set($nesting[0], 'NAME', \"晃天のイルージオ\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"こうてんのいるうしお\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"判定：[n]IL(BNo)[P]\\n\" + \"\\n\" + \"[]内のコマンドは省略可能。\\n\" + \"「n」でダイス数を指定。省略時は「1」。\\n\" + \"(BNo)でブロックナンバーを指定。「236」のように記述。順不同可。\\n\" + \"コマンド末に「P」を指定で、(BNo)のパリィ判定。（一応、複数指定可）\\n\" + \"\\n\" + \"【書式例】\\n\" + \"・6IL236 → 6dでブロックナンバー「2,3,6」の判定。\\n\" + \"・IL4512 → 1dでブロックナンバー「1,2,4,5」の判定。\\n\" + \"・2IL1P → 2dでパリィナンバー「1」の判定。\\n\");\n        \n        Opal.def(self, '$initialize', $Illusio_initialize$1 = function $$initialize(command) {\n          var $iter = $Illusio_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $Illusio_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $Illusio_initialize$1, false, true), 'initialize', [command], null);\n          return (self.sort_add_dice = true);\n        }, $Illusio_initialize$1.$$arity = 1);\n        self.$register_prefix(\"(\\\\d+)?IL([1-6]{0,6})(P)?\");\n        \n        Opal.def(self, '$eval_game_system_specific_command', $Illusio_eval_game_system_specific_command$2 = function $$eval_game_system_specific_command(command) {\n          var self = this, m = nil, dice_count = nil, $ret_or_1 = nil, block_no = nil, $ret_or_2 = nil, is_parry = nil;\n\n          \n          m = command.$match(/(\\d+)?IL([1-6]{0,6})(P)?$/i);\n          if ($truthy(m)) {\n          } else {\n            return nil\n          };\n          dice_count = (function() {if ($truthy(($ret_or_1 = m['$[]'](1)))) {\n            return $ret_or_1\n          } else {\n            return 1\n          }; return nil; })().$to_i();\n          block_no = $send((function() {if ($truthy(($ret_or_2 = m['$[]'](2)))) {\n            return $ret_or_2\n          } else {\n            return \"\"\n          }; return nil; })().$each_char(), 'map', [], \"to_i\".$to_proc()).$uniq().$sort();\n          is_parry = m['$[]'](3)['$nil?']()['$!']();\n          return self.$check_roll(dice_count, block_no, is_parry);\n        }, $Illusio_eval_game_system_specific_command$2.$$arity = 1);\n        return (Opal.def(self, '$check_roll', $Illusio_check_roll$3 = function $$check_roll(dice_count, block_no, is_parry) {\n          var $$4, self = this, dice_array = nil, dice_text = nil, result_array = nil, success = nil, block_text = nil, block_text2 = nil, result_text = nil, result = nil;\n\n          \n          dice_array = self.randomizer.$roll_barabara(dice_count, 6).$sort();\n          dice_text = dice_array.$join(\",\");\n          result_array = [];\n          success = 0;\n          $send(dice_array, 'each', [], ($$4 = function(i){var self = $$4.$$s == null ? this : $$4.$$s;\n\n          \n            \n            if (i == null) {\n              i = nil;\n            };\n            if ($truthy($rb_gt(block_no.$count(i), 0))) {\n              return result_array.$push(\"×\")\n            } else {\n              \n              result_array.$push(i);\n              return (success = $rb_plus(success, 1));\n            };}, $$4.$$s = self, $$4.$$arity = 1, $$4));\n          block_text = block_no.$join(\",\");\n          block_text2 = (function() {if ($truthy(is_parry)) {\n            return \"Parry\"\n          } else {\n            return \"Block\"\n          }; return nil; })();\n          result_text = result_array.$join(\",\");\n          result = \"\" + (dice_count) + \"D6(\" + (block_text2) + \":\" + (block_text) + \") ＞ \" + (dice_text) + \" ＞ \" + (result_text) + \" ＞ \";\n          if ($truthy(is_parry)) {\n          } else {\n            return \"\" + (result) + \"成功数：\" + (success)\n          };\n          if ($truthy($rb_lt(success, dice_count))) {\n            return \"\" + (result) + \"パリィ成立！　次の非ダメージ2倍。\"\n          } else {\n            return \"\" + (result) + \"成功数：\" + (success) + \"　パリィ失敗\"\n          };\n        }, $Illusio_check_roll$3.$$arity = 3), nil) && 'check_roll';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Hieizan');\n\n        var $nesting = [self].concat($parent_nesting), $Hieizan_result_1d100$1;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"Hieizan\");\n        Opal.const_set($nesting[0], 'NAME', \"比叡山炎上\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"ひえいさんえんしよう\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"大成功、自動成功、失敗、自動失敗、大失敗の自動判定を行います。\\n\");\n        return (Opal.def(self, '$result_1d100', $Hieizan_result_1d100$1 = function $$result_1d100(total, _dice_total, cmp_op, target) {\n          var self = this;\n\n          \n          if (target['$=='](\"?\")) {\n            return $$($nesting, 'Result').$nothing()};\n          if (cmp_op['$=='](\"<=\")) {\n          } else {\n            return nil\n          };\n          if ($truthy($rb_ge(total, 100))) {\n            return $$($nesting, 'Result').$fumble(\"大失敗\")\n          } else if ($truthy($rb_ge(total, 96))) {\n            return $$($nesting, 'Result').$failure(\"自動失敗\")\n          } else if ($truthy($rb_le(total, $rb_divide(target, 5).$to_i()))) {\n            return $$($nesting, 'Result').$critical(\"大成功\")\n          } else if ($truthy($rb_le(total, 1))) {\n            return $$($nesting, 'Result').$success(\"自動成功\")\n          } else if ($truthy($rb_le(total, target))) {\n            return $$($nesting, 'Result').$success(\"成功\")\n          } else {\n            return $$($nesting, 'Result').$failure(\"失敗\")\n          };\n        }, $Hieizan_result_1d100$1.$$arity = 4), nil) && 'result_1d100';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'CodeLayerd');\n\n        var $nesting = [self].concat($parent_nesting), $CodeLayerd_initialize$1, $CodeLayerd_eval_game_system_specific_command$2, $CodeLayerd_check_roll$3;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"CodeLayerd\");\n        Opal.const_set($nesting[0], 'NAME', \"コード：レイヤード\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"こおとれいやあと\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・行為判定（nCL@m[c]+x または nCL+x@m[c]） クリティカル・ファンブル判定あり\\n\" + \"  (ダイス数)CL+(修正値)@(判定値)[(クリティカル値)]+(修正値2)\\n\" + \"\\n\" + \"  @m,[c],+xは省略可能。(@6[1]として処理)\\n\" + \"  n個のD10でmを判定値、cをクリティカル値とした行為判定を行う。\\n\" + \"  nが0以下のときはクリティカルしない1CL判定を行う。(1CL[0]と同一)\\n\" + \"  例）\\n\" + \"  7CL>=5 ：サイコロ7個で判定値6のロールを行い、目標値5に対して判定\\n\" + \"  4CL@7  ：サイコロ4個で判定値7のロールを行い達成値を出す\\n\" + \"  4CL+2@7 または 4CL@7+2  ：サイコロ4個で判定値7のロールを行い達成値を出し、修正値2を足す。\\n\" + \"  4CL[2] ：サイコロ4個でクリティカル値2のロールを行う。\\n\" + \"  0CL : 1CL[0]と同じ判定\\n\" + \"\\n\" + \"  デフォルトダイス：10面\\n\");\n        self.$register_prefix(\"[+-]?\\\\d*CL([+-]\\\\d+)?[@\\\\d]*\");\n        \n        Opal.def(self, '$initialize', $CodeLayerd_initialize$1 = function $$initialize(command) {\n          var $iter = $CodeLayerd_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $CodeLayerd_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $CodeLayerd_initialize$1, false, true), 'initialize', [command], null);\n          return (self.sides_implicit_d = 10);\n        }, $CodeLayerd_initialize$1.$$arity = 1);\n        \n        Opal.def(self, '$eval_game_system_specific_command', $CodeLayerd_eval_game_system_specific_command$2 = function $$eval_game_system_specific_command(command) {\n          var self = this, result = nil, $case = nil, m = nil, base = nil, $ret_or_1 = nil, modifier1 = nil, target = nil, $ret_or_2 = nil, critical_target = nil, $ret_or_3 = nil, modifier2 = nil, diff = nil;\n\n          \n          self.$debug(\"eval_game_system_specific_command command\", command);\n          result = \"\";\n          $case = command;\n          if (/([+-]?\\d+)?CL([+-]\\d+)?(@(\\d))?(\\[(\\d+)\\])?([+-]\\d+)?(>=(\\d+))?/i['$===']($case)) {\n          m = $$($nesting, 'Regexp').$last_match();\n          base = (function() {if ($truthy(($ret_or_1 = m['$[]'](1)))) {\n            return $ret_or_1\n          } else {\n            return 1\n          }; return nil; })().$to_i();\n          modifier1 = m['$[]'](2).$to_i();\n          target = (function() {if ($truthy(($ret_or_2 = m['$[]'](4)))) {\n            return $ret_or_2\n          } else {\n            return 6\n          }; return nil; })().$to_i();\n          critical_target = (function() {if ($truthy(($ret_or_3 = m['$[]'](6)))) {\n            return $ret_or_3\n          } else {\n            return 1\n          }; return nil; })().$to_i();\n          modifier2 = m['$[]'](7).$to_i();\n          diff = m['$[]'](9).$to_i();\n          result = self.$check_roll(base, target, critical_target, diff, $rb_plus(modifier1, modifier2));};\n          if ($truthy(result['$empty?']())) {\n            return nil};\n          return \"\" + (command) + \" ＞ \" + (result);\n        }, $CodeLayerd_eval_game_system_specific_command$2.$$arity = 1);\n        return (Opal.def(self, '$check_roll', $CodeLayerd_check_roll$3 = function $$check_roll(base, target, critical_target, diff, modifier) {\n          var $$4, $$5, self = this, dice_list = nil, success_count = nil, critical_count = nil, success_total = nil, mod_text = nil, result = nil, $ret_or_4 = nil, success_text = nil;\n\n          \n          if ($truthy($rb_le(base, 0))) {\n            \n            critical_target = 0;\n            base = 1;};\n          if ($truthy($rb_gt(target, 10))) {\n            target = 10};\n          dice_list = self.randomizer.$roll_barabara(base, 10).$sort();\n          success_count = $send(dice_list, 'count', [], ($$4 = function(x){var self = $$4.$$s == null ? this : $$4.$$s;\n\n          \n            \n            if (x == null) {\n              x = nil;\n            };\n            return $rb_le(x, target);}, $$4.$$s = self, $$4.$$arity = 1, $$4));\n          critical_count = $send(dice_list, 'count', [], ($$5 = function(x){var self = $$5.$$s == null ? this : $$5.$$s;\n\n          \n            \n            if (x == null) {\n              x = nil;\n            };\n            return $rb_le(x, critical_target);}, $$5.$$s = self, $$5.$$arity = 1, $$5));\n          success_total = $rb_plus($rb_plus(success_count, critical_count), modifier);\n          mod_text = $$($nesting, 'Format').$modifier(modifier);\n          result = \"\" + \"(\" + (base) + \"d10\" + (mod_text) + \") ＞ [\" + (dice_list.$join(\",\")) + \"]\" + (mod_text) + \" ＞ \";\n          if (target['$=='](6)) {\n          } else {\n            result = $rb_plus(result, \"\" + \"判定値[\" + (target) + \"] \")\n          };\n          if (critical_target['$=='](1)) {\n          } else {\n            result = $rb_plus(result, \"\" + \"クリティカル値[\" + (critical_target) + \"] \")\n          };\n          result = $rb_plus(result, \"\" + \"達成値[\" + (success_count) + \"]\");\n          if ($truthy($rb_le(success_count, 0))) {\n            return \"\" + (result) + \" ＞ ファンブル！\"};\n          if ($truthy($rb_gt(critical_count, 0))) {\n            result = $rb_plus(result, \"\" + \"+クリティカル[\" + (critical_count) + \"]\")};\n          result = $rb_plus(result, mod_text);\n          if ($truthy((function() {if ($truthy(($ret_or_4 = $rb_gt(critical_count, 0)))) {\n            return $ret_or_4\n          } else {\n            return modifier['$!='](0)\n          }; return nil; })())) {\n            result = $rb_plus(result, \"\" + \"=[\" + (success_total) + \"]\")};\n          success_text = (function() {if (diff['$=='](0)) {\n            return success_total.$to_s()\n          } else if ($truthy($rb_ge(success_total, diff))) {\n            return \"成功\"\n          } else {\n            return \"失敗\"\n          }; return nil; })();\n          return \"\" + (result) + \" ＞ \" + (success_text);\n        }, $CodeLayerd_check_roll$3.$$arity = 5), nil) && 'check_roll';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'WorldOfDarkness');\n\n        var $nesting = [self].concat($parent_nesting), $WorldOfDarkness_initialize$1, $WorldOfDarkness_eval_game_system_specific_command$2, $WorldOfDarkness_roll_wod$3;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"WorldOfDarkness\");\n        Opal.const_set($nesting[0], 'NAME', \"ワールド・オブ・ダークネス\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"わあるとおふたあくねす\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・判定コマンド(xSTn+y or xSTSn+y or xSTAn+y)\\n\" + \"　(ダイス個数)ST(難易度)+(自動成功)\\n\" + \"　(ダイス個数)STS(難易度)+(自動成功) ※出目10で振り足し\\n\" + \"　(ダイス個数)STA(難易度)+(自動成功) ※出目10は2成功 [20thルール]\\n\" + \"\\n\" + \"　難易度=省略時6\\n\" + \"　自動成功=省略時0\\n\");\n        self.$register_prefix(\"\\\\d+ST\");\n        \n        Opal.def(self, '$initialize', $WorldOfDarkness_initialize$1 = function $$initialize(command) {\n          var $iter = $WorldOfDarkness_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $WorldOfDarkness_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $WorldOfDarkness_initialize$1, false, true), 'initialize', [command], null);\n          self.successDice = 0;\n          self.botchDice = 0;\n          return (self.rerollDice = 0);\n        }, $WorldOfDarkness_initialize$1.$$arity = 1);\n        \n        Opal.def(self, '$eval_game_system_specific_command', $WorldOfDarkness_eval_game_system_specific_command$2 = function $$eval_game_system_specific_command(command) {\n          var $a, $b, $c, self = this, diff = nil, auto_success = nil, enabled_reroll = nil, enabled_20th = nil, md = nil, dice_pool = nil, $case = nil, sequence = nil, total_success = nil, total_botch = nil, dice = nil, success = nil, botch = nil, output = nil;\n\n          \n          diff = 6;\n          auto_success = 0;\n          enabled_reroll = false;\n          enabled_20th = false;\n          md = command.$match(/^(\\d+)(ST[SA]?)(\\d+)?([+-]\\d+)?/);\n          dice_pool = md['$[]'](1).$to_i();\n          $case = md['$[]'](2);\n          if (\"STS\"['$===']($case)) {enabled_reroll = true}\n          else if (\"STA\"['$===']($case)) {enabled_20th = true};\n          if ($truthy(md['$[]'](3))) {\n            diff = md['$[]'](3).$to_i()};\n          if ($truthy(md['$[]'](4))) {\n            auto_success = md['$[]'](4).$to_i()};\n          if ($truthy($rb_lt(diff, 2))) {\n            diff = 6};\n          sequence = [];\n          sequence.$push(\"\" + \"DicePool=\" + (dice_pool) + \", Difficulty=\" + (diff) + \", AutomaticSuccess=\" + (auto_success));\n          if ($truthy($rb_gt(diff, 10))) {\n            diff = 10};\n          total_success = auto_success;\n          total_botch = 0;\n          $b = self.$roll_wod(dice_pool, diff, true, (function() {if ($truthy(enabled_20th)) {\n            return 2\n          } else {\n            return 1\n          }; return nil; })()), $a = Opal.to_ary($b), (dice = ($a[0] == null ? nil : $a[0])), (success = ($a[1] == null ? nil : $a[1])), (botch = ($a[2] == null ? nil : $a[2])), (auto_success = ($a[3] == null ? nil : $a[3])), $b;\n          sequence.$push(dice.$join(\",\"));\n          total_success = $rb_plus(total_success, success);\n          total_botch = $rb_plus(total_botch, botch);\n          if ($truthy(enabled_reroll)) {\n            while ($truthy($rb_gt(auto_success, 0))) {\n              \n              dice_pool = auto_success;\n              $c = self.$roll_wod(dice_pool, diff, false), $b = Opal.to_ary($c), (dice = ($b[0] == null ? nil : $b[0])), (success = ($b[1] == null ? nil : $b[1])), (botch = ($b[2] == null ? nil : $b[2])), (auto_success = ($b[3] == null ? nil : $b[3])), $c;\n              sequence.$push(dice.$join(\",\"));\n              total_success = $rb_plus(total_success, success);\n              total_botch = $rb_plus(total_botch, botch);\n            }};\n          if ($truthy($rb_gt(total_success, 0))) {\n            sequence.$push(\"\" + \"成功数\" + (total_success))\n          } else if ($truthy($rb_gt(total_botch, 0))) {\n            sequence.$push(\"大失敗\")\n          } else {\n            sequence.$push(\"失敗\")\n          };\n          output = sequence.$join(\" ＞ \");\n          return output;\n        }, $WorldOfDarkness_eval_game_system_specific_command$2.$$arity = 1);\n        return (Opal.def(self, '$roll_wod', $WorldOfDarkness_roll_wod$3 = function $$roll_wod(dice_pool, diff, enabled_botch, auto_success_value) {\n          var $$4, $$5, self = this, dice = nil, success = nil, botch = nil, auto_success = nil, c = nil;\n\n          \n          \n          if (enabled_botch == null) {\n            enabled_botch = true;\n          };\n          \n          if (auto_success_value == null) {\n            auto_success_value = 1;\n          };\n          dice = $send($$($nesting, 'Array'), 'new', [dice_pool], ($$4 = function(){var self = $$4.$$s == null ? this : $$4.$$s, dice_now = nil;\n            if (self.randomizer == null) self.randomizer = nil;\n\n          \n            dice_now = self.randomizer.$roll_once(10);\n            return dice_now;}, $$4.$$s = self, $$4.$$arity = 0, $$4));\n          dice['$sort!']();\n          success = 0;\n          botch = 0;\n          auto_success = 0;\n          $send(dice, 'each', [], ($$5 = function(d){var self = $$5.$$s == null ? this : $$5.$$s, $case = nil;\n\n          \n            \n            if (d == null) {\n              d = nil;\n            };\n            return (function() {$case = d;\n            if ((10)['$===']($case)) {return (auto_success = $rb_plus(auto_success, auto_success_value))}\n            else if (Opal.Range.$new(diff, 10, false)['$===']($case)) {return (success = $rb_plus(success, 1))}\n            else if ((1)['$===']($case)) {if ($truthy(enabled_botch)) {\n              return (botch = $rb_plus(botch, 1))\n            } else {\n              return nil\n            }}\n            else { return nil }})();}, $$5.$$s = self, $$5.$$arity = 1, $$5));\n          success = $rb_plus(success, auto_success);\n          if ($truthy(enabled_botch)) {\n            \n            c = [success, botch].$min();\n            success = $rb_minus(success, c);\n            botch = $rb_minus(botch, c);};\n          return [dice, success, botch, auto_success];\n        }, $WorldOfDarkness_roll_wod$3.$$arity = -3), nil) && 'roll_wod';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'CrashWorld');\n\n        var $nesting = [self].concat($parent_nesting), $CrashWorld_eval_game_system_specific_command$1, $CrashWorld_getCrashWorldRoll$2;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"CrashWorld\");\n        Opal.const_set($nesting[0], 'NAME', \"墜落世界\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"ついらくせかい\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・判定 CWn\\n\" + \"初期目標値n (必須)\\n\" + \"例・CW8\\n\");\n        self.$register_prefix(\"CW\");\n        \n        Opal.def(self, '$eval_game_system_specific_command', $CrashWorld_eval_game_system_specific_command$1 = function $$eval_game_system_specific_command(command) {\n          var self = this, result = nil, $case = nil;\n\n          \n          result = nil;\n          $case = command;\n          if (/CW(\\d+)/i['$===']($case)) {result = self.$getCrashWorldRoll($$($nesting, 'Regexp').$last_match(1).$to_i())};\n          return result;\n        }, $CrashWorld_eval_game_system_specific_command$1.$$arity = 1);\n        return (Opal.def(self, '$getCrashWorldRoll', $CrashWorld_getCrashWorldRoll$2 = function $$getCrashWorldRoll(target) {\n          var $a, self = this, output = nil, isEnd = nil, successness = nil, num = nil, $ret_or_1 = nil;\n\n          \n          self.$debug(\"target\", target);\n          output = \"(\";\n          isEnd = false;\n          successness = 0;\n          num = 0;\n          while ($truthy(isEnd['$!']())) {\n            \n            num = self.randomizer.$roll_once(12);\n            if (output['$=='](\"(\")) {\n              output = \"\" + \"(\" + (num)\n            } else {\n              output = \"\" + (output) + \", \" + (num)\n            };\n            if ($truthy((function() {if ($truthy(($ret_or_1 = $rb_le(num, target)))) {\n              return $ret_or_1\n            } else {\n              return num['$=='](11)\n            }; return nil; })())) {\n              \n              target = num;\n              successness = $rb_plus(successness, 1);\n            } else if (num['$=='](12)) {\n              isEnd = true\n            } else {\n              isEnd = true\n            };\n          };\n          if (num['$=='](12)) {\n            successness = 0};\n          output = \"\" + (output) + \")  成功度 : \" + (successness);\n          if (num['$=='](12)) {\n            output = \"\" + (output) + \" ファンブル\"};\n          return output;\n        }, $CrashWorld_getCrashWorldRoll$2.$$arity = 1), nil) && 'getCrashWorldRoll';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send = Opal.send, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Emoklore');\n\n        var $nesting = [self].concat($parent_nesting), $Emoklore_eval_game_system_specific_command$1, $Emoklore_dice_roll$2, $Emoklore_result_text$6, $Emoklore_roll_dm$7, $Emoklore_roll_da$8;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"Emoklore\");\n        Opal.const_set($nesting[0], 'NAME', \"エモクロアTRPG\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"えもくろあTRPG\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・技能値判定（xDM<=y）\\n\" + \"  \\\"(個数)DM<=(判定値)\\\"で指定します。\\n\" + \"  ダイスの個数は省略可能で、省略した場合1個になります。\\n\" + \"  例）2DM<=5 DM<=8\\n\" + \"・技能値判定（sDAa+z)\\n\" + \"  \\\"(技能レベル)DA(能力値)+(ボーナスダイス)\\\"で指定します。\\n\" + \"  ボーナスダイスの個数は省略可能で、省略した場合0になります。\\n\" + \"  技能レベルは1～3の数値、またはベース技能の場合\\\"b\\\"が入ります。\\n\" + \"  ダイスの個数は技能レベルとボーナスダイスの個数により決定し、s+z個のダイスを振ります。（s=\\\"b\\\"の場合はs=1）\\n\" + \"  判定値はs+aとなります。（s=\\\"b\\\"の場合はs=0）\\n\");\n        self.$register_prefix(\"\\\\d*DM<=\", \"(B|\\\\d*)DA\");\n        Opal.const_set($nesting[0], 'CRITICAL_VALUE', 1);\n        Opal.const_set($nesting[0], 'FUMBLE_VALUE', 10);\n        \n        Opal.def(self, '$eval_game_system_specific_command', $Emoklore_eval_game_system_specific_command$1 = function $$eval_game_system_specific_command(command) {\n          var self = this, $case = nil;\n\n          return (function() {$case = command;\n          if (/^\\d*DM<=\\d/['$===']($case)) {return self.$roll_dm(command)}\n          else if (/^(B|\\d*)DA\\d+(\\+)?\\d*/['$===']($case)) {return self.$roll_da(command)}\n          else { return nil }})()\n        }, $Emoklore_eval_game_system_specific_command$1.$$arity = 1);\n        self.$private();\n        \n        Opal.def(self, '$dice_roll', $Emoklore_dice_roll$2 = function $$dice_roll(num_dice, success_threshold) {\n          var $$3, $$4, $$5, self = this, values = nil, values_without_critical = nil, critical = nil, success = nil, fumble = nil, success_value = nil;\n\n          \n          values = self.randomizer.$roll_barabara(num_dice, 10);\n          values_without_critical = $send(values, 'reject', [], ($$3 = function(num){var self = $$3.$$s == null ? this : $$3.$$s;\n\n          \n            \n            if (num == null) {\n              num = nil;\n            };\n            return $rb_le(num, $$($nesting, 'CRITICAL_VALUE'));}, $$3.$$s = self, $$3.$$arity = 1, $$3));\n          critical = $rb_minus(values.$size(), values_without_critical.$size());\n          success = $send(values_without_critical, 'count', [], ($$4 = function(num){var self = $$4.$$s == null ? this : $$4.$$s;\n\n          \n            \n            if (num == null) {\n              num = nil;\n            };\n            return $rb_le(num, success_threshold);}, $$4.$$s = self, $$4.$$arity = 1, $$4));\n          fumble = $send(values_without_critical, 'count', [], ($$5 = function(num){var self = $$5.$$s == null ? this : $$5.$$s;\n\n          \n            \n            if (num == null) {\n              num = nil;\n            };\n            return $rb_ge(num, $$($nesting, 'FUMBLE_VALUE'));}, $$5.$$s = self, $$5.$$arity = 1, $$5));\n          success_value = $rb_minus($rb_plus($rb_times(2, critical), success), fumble);\n          return \"\" + \"[\" + (values.$join(\", \")) + \"] ＞ \" + (success_value) + \" ＞ \" + (self.$result_text(success_value));\n        }, $Emoklore_dice_roll$2.$$arity = 2);\n        \n        Opal.def(self, '$result_text', $Emoklore_result_text$6 = function $$result_text(success) {\n          var self = this;\n\n          if ($truthy($rb_lt(success, 0))) {\n            return \"ファンブル!\"\n          } else if (success['$=='](0)) {\n            return \"失敗!\"\n          } else if (success['$=='](1)) {\n            return \"成功!\"\n          } else if (success['$=='](2)) {\n            return \"ダブル!\"\n          } else if (success['$=='](3)) {\n            return \"トリプル!\"\n          } else if ($truthy($rb_le(success, 9))) {\n            return \"ミラクル!\"\n          } else {\n            return \"カタストロフ!\"\n          }\n        }, $Emoklore_result_text$6.$$arity = 1);\n        \n        Opal.def(self, '$roll_dm', $Emoklore_roll_dm$7 = function $$roll_dm(command) {\n          var $a, self = this, m = nil, num_dice = nil, $ret_or_1 = nil, success_threshold = nil, ret_str = nil;\n\n          \n          m = /^(\\d+)?DM<=(\\d+)$/.$match(command);\n          if ($truthy(m)) {\n          } else {\n            return nil\n          };\n          num_dice = (function() {if ($truthy(($ret_or_1 = ($a = m['$[]'](1), ($a === nil || $a == null) ? nil : $send($a, 'to_i', []))))) {\n            return $ret_or_1\n          } else {\n            return 1\n          }; return nil; })();\n          success_threshold = m['$[]'](2).$to_i();\n          if ($truthy($rb_le(num_dice, 0))) {\n            return nil};\n          ret_str = self.$dice_roll(num_dice, success_threshold);\n          return \"\" + \"(\" + (num_dice) + \"DM<=\" + (success_threshold) + \") ＞ \" + (ret_str);\n        }, $Emoklore_roll_dm$7.$$arity = 1);\n        return (Opal.def(self, '$roll_da', $Emoklore_roll_da$8 = function $$roll_da(command) {\n          var $a, self = this, m = nil, bonus = nil, num_dice = nil, $ret_or_2 = nil, success_threshold = nil, ret_str = nil;\n\n          \n          m = /^(B|\\d+)?DA(\\d+)(\\+\\d+)?$/.$match(command);\n          if ($truthy(m)) {\n          } else {\n            return nil\n          };\n          bonus = m['$[]'](3).$to_i();\n          num_dice = $rb_plus((function() {if (m['$[]'](1)['$=='](\"B\")) {\n            return 1\n          } else {\n            \n            if ($truthy(($ret_or_2 = ($a = m['$[]'](1), ($a === nil || $a == null) ? nil : $send($a, 'to_i', []))))) {\n              return $ret_or_2\n            } else {\n              return 1\n            };\n          }; return nil; })(), bonus);\n          success_threshold = $rb_plus(m['$[]'](1).$to_i(), m['$[]'](2).$to_i());\n          ret_str = self.$dice_roll(num_dice, success_threshold);\n          return \"\" + \"(\" + (command) + \") ＞ (\" + (num_dice) + \"DM<=\" + (success_threshold) + \") ＞ \" + (ret_str);\n        }, $Emoklore_roll_da$8.$$arity = 1), nil) && 'roll_da';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'DungeonsAndDragons');\n\n        var $nesting = [self].concat($parent_nesting);\n\n        \n        Opal.const_set($nesting[0], 'ID', \"DungeonsAndDragons\");\n        Opal.const_set($nesting[0], 'NAME', \"ダンジョンズ＆ドラゴンズ\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"たんしよんすあんととらこんす\");\n        return Opal.const_set($nesting[0], 'HELP_MESSAGE', \"※このダイスボットは部屋のシステム名表示用となります。\\n\");\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $truthy = Opal.truthy, $send = Opal.send, $range = Opal.range;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'EndBreaker');\n\n        var $nesting = [self].concat($parent_nesting), $EndBreaker_initialize$1, $EndBreaker_eval_game_system_specific_command$2, $EndBreaker_checkRoll$3, $EndBreaker_getLifeAndDeathUnknownResult$7;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"EndBreaker\");\n        Opal.const_set($nesting[0], 'NAME', \"エンドブレイカー！\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"えんとふれいかあ\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・判定 (nEB)\\n\" + \"  n個のD6を振る判定。ダブルトリガー発動で自動振り足し。\\n\" + \"・各種表\\n\" + \"  ・生死不明表 (LDUT)\\n\");\n        self.$register_prefix(\"\\\\d+EB\", \"LDUT\");\n        \n        Opal.def(self, '$initialize', $EndBreaker_initialize$1 = function $$initialize(command) {\n          var $iter = $EndBreaker_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $EndBreaker_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $EndBreaker_initialize$1, false, true), 'initialize', [command], null);\n          return (self.d66_sort_type = $$$($$($nesting, 'D66SortType'), 'NO_SORT'));\n        }, $EndBreaker_initialize$1.$$arity = 1);\n        \n        Opal.def(self, '$eval_game_system_specific_command', $EndBreaker_eval_game_system_specific_command$2 = function $$eval_game_system_specific_command(command) {\n          var $a, $b, self = this, diceCount = nil, tableName = nil, text = nil, number = nil, $case = nil, result = nil;\n\n          \n          if ($truthy(command['$=~'](/(\\d+)EB/i))) {\n            \n            diceCount = $$($nesting, 'Regexp').$last_match(1).$to_i();\n            return self.$checkRoll(diceCount);};\n          tableName = \"\";\n          text = \"\";\n          number = 0;\n          $case = command;\n          if (\"LDUT\"['$===']($case)) {\n          tableName = \"生死不明表\";\n          $b = self.$getLifeAndDeathUnknownResult(), $a = Opal.to_ary($b), (text = ($a[0] == null ? nil : $a[0])), (number = ($a[1] == null ? nil : $a[1])), $b;}\n          else {return nil};\n          result = \"\" + (tableName) + \"(\" + (number) + \"):\" + (text);\n          return result;\n        }, $EndBreaker_eval_game_system_specific_command$2.$$arity = 1);\n        \n        Opal.def(self, '$checkRoll', $EndBreaker_checkRoll$3 = function $$checkRoll(diceCount) {\n          var $a, $$4, $$5, self = this, rollCount = nil, result = nil, diceFullList = nil, diceList = nil;\n\n          \n          self.$debug(\"EndBreaker diceCount\", diceCount);\n          rollCount = diceCount;\n          result = \"\";\n          diceFullList = [];\n          while ($truthy(rollCount['$!='](0))) {\n            \n            diceList = self.randomizer.$roll_barabara(rollCount, 6).$sort();\n            diceFullList.$concat(diceList);\n            rollCount = $rb_times($send(diceList, 'select', [], ($$4 = function(i){var self = $$4.$$s == null ? this : $$4.$$s;\n\n            \n              \n              if (i == null) {\n                i = nil;\n              };\n              return i['$=='](1);}, $$4.$$s = self, $$4.$$arity = 1, $$4)).$size(), 2);\n            result = $rb_plus(result, \"\" + \"[\" + (diceList.$join()) + \"]\");\n            if ($truthy($rb_gt(rollCount, 0))) {\n              result = $rb_plus(result, \" ダブルトリガー! \")};\n          };\n          result = $rb_plus(result, \" ＞\");\n          $send($range(2, 6, false), 'each', [], ($$5 = function(num){var self = $$5.$$s == null ? this : $$5.$$s, $$6, count = nil;\n\n          \n            \n            if (num == null) {\n              num = nil;\n            };\n            count = $send(diceFullList, 'select', [], ($$6 = function(i){var self = $$6.$$s == null ? this : $$6.$$s;\n\n            \n              \n              if (i == null) {\n                i = nil;\n              };\n              return i['$=='](num);}, $$6.$$s = self, $$6.$$arity = 1, $$6)).$size();\n            if (count['$=='](0)) {\n              return nil\n            } else {\n              return (result = $rb_plus(result, \"\" + \" [\" + (num) + \":\" + (count) + \"個]\"))\n            };}, $$5.$$s = self, $$5.$$arity = 1, $$5));\n          return result;\n        }, $EndBreaker_checkRoll$3.$$arity = 1);\n        return (Opal.def(self, '$getLifeAndDeathUnknownResult', $EndBreaker_getLifeAndDeathUnknownResult$7 = function $$getLifeAndDeathUnknownResult() {\n          var self = this, table = nil;\n\n          \n          table = [\" 1日：生還！\", \" 1日：生還！\", \" 1日：生還！\", \" 1日：生還！\", \" 1日：生還！\", \" 1日：生還！\", \" 1日：生還！\", \" 5日：敵に捕らわれ、ひどい暴行と拷問を受けた。\", \" 2日：謎の人物に命を救われた。\", \"10日：奴隷として売り飛ばされた。\", \" 8日：おぞましい儀式の生贄として連れ去られた。\", \" 9日：幽閉・投獄された。\", \" 1日：生還！\", \" 7日：モンスター蠢く地下迷宮に滑落した。\", \"12日強力なマスカレイドにとらわれ、実験台にされた。\", \" 8日：放浪中に遭遇した事件を、颯爽と解決していた。\", \" 5日：飢餓状態に追い込まれた。\", \"15日：記憶を失い放浪した。\", \" 1日：生還！\", \"10日：異性に命を救われて、手厚い看病を受けた。\", \" 3日：負傷からくる熱病で、生死の境を彷徨った。\", \"11日：闘奴にされたが、戦いと友情の末に自由を獲得した。\", \" 6日：負傷したまま川に落ち、遥か下流まで流された。\", \" 9日：敵に連れ去られ、執拗な拷問を受け続けた。\", \" 1日：生還！\", \" 4日：繰り返す「死の悪夢」に苛まれた。\", \" 3日：巨獣の巣に連れ去られた。\", \"10日：謎の集団に救われて、手厚い看病を受けた。\", \" 3日：チッタニアンの集落に迷い込み、もてなしを受けた。\", \" 7日：ピュアリィの群れにとらわれ、弄ばれた。\", \" 1日：生還！\", \" 6日：楽園のような場所を発見し、しばらく逗留した。\", \" 9日：盗賊団に救われ、恩返しとして少し用心棒をした。\", \"10日：熱病の見せる官能的な幻影にとらわれ、彷徨った。\", \" 5日：謎の賞金首に狙われ、傷めつけられていた。\", \" - ：「五分五分」の一般判定。失敗すると死亡。\"];\n          return self.$get_table_by_d66(table);\n        }, $EndBreaker_getLifeAndDeathUnknownResult$7.$$arity = 0), nil) && 'getLifeAndDeathUnknownResult';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'ShinMegamiTenseiKakuseihen');\n\n        var $nesting = [self].concat($parent_nesting), $ShinMegamiTenseiKakuseihen_check_1D100$1, $ShinMegamiTenseiKakuseihen_split_tens$2, $ShinMegamiTenseiKakuseihen_getCheckResultText$3, $ShinMegamiTenseiKakuseihen_getCheckResult$4, $ShinMegamiTenseiKakuseihen_getSuccessResult$5, $ShinMegamiTenseiKakuseihen_getFailResult$6;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"ShinMegamiTenseiKakuseihen\");\n        Opal.const_set($nesting[0], 'NAME', \"真・女神転生TRPG 覚醒篇\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"しんめかみてんせいTRPGかくせいへん\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・判定\\n\" + \"1D100<=(目標値) でスワップ・通常・逆スワップ判定を判定。\\n\" + \"威力ダイスは nU6[6] (nはダイス個数)でロール可能です。\\n\");\n        \n        Opal.def(self, '$check_1D100', $ShinMegamiTenseiKakuseihen_check_1D100$1 = function $$check_1D100(total, dice_total, cmp_op, target) {\n          var $a, $b, self = this, dice1 = nil, dice2 = nil, total1 = nil, total2 = nil, isRepdigit = nil, result = nil;\n\n          \n          if (target['$=='](\"?\")) {\n            return \"\"};\n          if (cmp_op['$=='](\"<=\")) {\n          } else {\n            return \"\"\n          };\n          $b = self.$split_tens(dice_total), $a = Opal.to_ary($b), (dice1 = ($a[0] == null ? nil : $a[0])), (dice2 = ($a[1] == null ? nil : $a[1])), $b;\n          total1 = $rb_plus($rb_times(dice1, 10), dice2);\n          total2 = $rb_plus($rb_times(dice2, 10), dice1);\n          isRepdigit = dice1['$=='](dice2);\n          result = \" ＞ スワップ\";\n          result = $rb_plus(result, self.$getCheckResultText(target, [total1, total2].$min(), isRepdigit));\n          result = $rb_plus(result, \"／通常\");\n          result = $rb_plus(result, self.$getCheckResultText(target, total['$%'](100), isRepdigit));\n          result = $rb_plus(result, \"／逆スワップ\");\n          result = $rb_plus(result, self.$getCheckResultText(target, [total1, total2].$max(), isRepdigit));\n          return result;\n        }, $ShinMegamiTenseiKakuseihen_check_1D100$1.$$arity = 4);\n        \n        Opal.def(self, '$split_tens', $ShinMegamiTenseiKakuseihen_split_tens$2 = function $$split_tens(value) {\n          var self = this, ones = nil, tens = nil;\n\n          \n          value = value['$%'](100);\n          ones = $rb_divide(value, 10).$to_i();\n          tens = value['$%'](10);\n          return [ones, tens];\n        }, $ShinMegamiTenseiKakuseihen_split_tens$2.$$arity = 1);\n        \n        Opal.def(self, '$getCheckResultText', $ShinMegamiTenseiKakuseihen_getCheckResultText$3 = function $$getCheckResultText(diff, total, isRepdigit) {\n          var self = this, checkResult = nil, text = nil;\n\n          \n          checkResult = self.$getCheckResult(diff, total, isRepdigit);\n          text = $rb_plus(self.$format(\"(%02d)\", total), checkResult);\n          return text;\n        }, $ShinMegamiTenseiKakuseihen_getCheckResultText$3.$$arity = 3);\n        \n        Opal.def(self, '$getCheckResult', $ShinMegamiTenseiKakuseihen_getCheckResult$4 = function $$getCheckResult(diff, total, isRepdigit) {\n          var self = this;\n\n          \n          if ($truthy($rb_ge(diff, total))) {\n            return self.$getSuccessResult(isRepdigit)};\n          return self.$getFailResult(isRepdigit);\n        }, $ShinMegamiTenseiKakuseihen_getCheckResult$4.$$arity = 3);\n        \n        Opal.def(self, '$getSuccessResult', $ShinMegamiTenseiKakuseihen_getSuccessResult$5 = function $$getSuccessResult(isRepdigit) {\n          var self = this;\n\n          \n          if ($truthy(isRepdigit)) {\n            return \"絶対成功\"};\n          return \"成功\";\n        }, $ShinMegamiTenseiKakuseihen_getSuccessResult$5.$$arity = 1);\n        return (Opal.def(self, '$getFailResult', $ShinMegamiTenseiKakuseihen_getFailResult$6 = function $$getFailResult(isRepdigit) {\n          var self = this;\n\n          \n          if ($truthy(isRepdigit)) {\n            return \"絶対失敗\"};\n          return \"失敗\";\n        }, $ShinMegamiTenseiKakuseihen_getFailResult$6.$$arity = 1), nil) && 'getFailResult';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $send = Opal.send, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'RokumonSekai2');\n\n        var $nesting = [self].concat($parent_nesting), $RokumonSekai2_initialize$1, $RokumonSekai2_replace_text$2, $RokumonSekai2_eval_game_system_specific_command$5, $RokumonSekai2_rokumon2_roll$6, $RokumonSekai2_rokumon2_suc_rank$9;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"RokumonSekai2\");\n        Opal.const_set($nesting[0], 'NAME', \"六門世界RPG セカンドエディション\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"ろくもんせかいRPG2\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・判定\\n\" + \"aRSm<=t\\n\" + \"能力値a,修正値m,目標値tで判定ロールを行います。\\n\" + \"Rコマンド(3R6m<=t[a])に読み替えます。\\n\" + \"成功度、評価、ボーナスダイスを自動表示します。\\n\" + \"　例) 3RS+1<=9　3R6+1<=9[3]\\n\");\n        self.$register_prefix(\"\\\\d+RS\", \"3R6\");\n        \n        Opal.def(self, '$initialize', $RokumonSekai2_initialize$1 = function $$initialize(command) {\n          var $iter = $RokumonSekai2_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $RokumonSekai2_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $RokumonSekai2_initialize$1, false, true), 'initialize', [command], null);\n          return (self.sort_add_dice = true);\n        }, $RokumonSekai2_initialize$1.$$arity = 1);\n        \n        Opal.def(self, '$replace_text', $RokumonSekai2_replace_text$2 = function $$replace_text(string) {\n          var $$3, $$4, self = this;\n\n          \n          string = $send(string, 'gsub', [/(\\d+)RS([+\\-][+\\-\\d]+)<=(\\d+)/i], ($$3 = function(){var self = $$3.$$s == null ? this : $$3.$$s;\n\n          return \"\" + \"3R6\" + ($$($nesting, 'Regexp').$last_match(2)) + \"<=\" + ($$($nesting, 'Regexp').$last_match(3)) + \"[\" + ($$($nesting, 'Regexp').$last_match(1)) + \"]\"}, $$3.$$s = self, $$3.$$arity = 0, $$3));\n          string = $send(string, 'gsub', [/(\\d+)RS<=(\\d+)/i], ($$4 = function(){var self = $$4.$$s == null ? this : $$4.$$s;\n\n          return \"\" + \"3R6<=\" + ($$($nesting, 'Regexp').$last_match(2)) + \"[\" + ($$($nesting, 'Regexp').$last_match(1)) + \"]\"}, $$4.$$s = self, $$4.$$arity = 0, $$4));\n          return string;\n        }, $RokumonSekai2_replace_text$2.$$arity = 1);\n        \n        Opal.def(self, '$eval_game_system_specific_command', $RokumonSekai2_eval_game_system_specific_command$5 = function $$eval_game_system_specific_command(string) {\n          var $a, $b, self = this, modText = nil, target = nil, abl = nil, mod = nil, dstr = nil, suc = nil, sum = nil, output = nil;\n\n          \n          string = self.$replace_text(string);\n          if ($truthy(/3R6([+\\-\\d]*)<=(\\d+)\\[(\\d+)\\]/i['$=~'](string))) {\n          } else {\n            return nil\n          };\n          modText = $$($nesting, 'Regexp').$last_match(1);\n          target = $$($nesting, 'Regexp').$last_match(2).$to_i();\n          abl = $$($nesting, 'Regexp').$last_match(3).$to_i();\n          mod = 0;\n          if ($truthy(modText)) {\n            mod = $$($nesting, 'ArithmeticEvaluator').$eval(modText)};\n          $b = self.$rokumon2_roll(mod, target, abl), $a = Opal.to_ary($b), (dstr = ($a[0] == null ? nil : $a[0])), (suc = ($a[1] == null ? nil : $a[1])), (sum = ($a[2] == null ? nil : $a[2])), $b;\n          output = \"\" + (sum) + \"[\" + (dstr) + \"] ＞ \" + (suc) + \" ＞ 評価\" + (self.$rokumon2_suc_rank(suc));\n          if ($truthy(suc['$!='](0))) {\n            output = $rb_plus(output, \"\" + \"(+\" + (suc) + \"d6)\")};\n          output = \"\" + \"(\" + (string) + \") ＞ \" + (output);\n          return output;\n        }, $RokumonSekai2_eval_game_system_specific_command$5.$$arity = 1);\n        \n        Opal.def(self, '$rokumon2_roll', $RokumonSekai2_rokumon2_roll$6 = function $$rokumon2_roll(mod, target, abl) {\n          var $$7, $$8, self = this, suc = nil, dice = nil, dicestr = nil, cnt5 = nil, cnt2 = nil, sum = nil;\n\n          \n          suc = 0;\n          dice = self.randomizer.$roll_barabara($rb_plus(3, mod.$abs()), 6).$sort();\n          dicestr = dice.$join(\",\");\n          $send(mod.$abs(), 'times', [], ($$7 = function(_i){var self = $$7.$$s == null ? this : $$7.$$s;\n\n          \n            \n            if (_i == null) {\n              _i = nil;\n            };\n            if ($truthy($rb_lt(mod, 0))) {\n              return dice.$shift()\n            } else {\n              return dice.$pop()\n            };}, $$7.$$s = self, $$7.$$arity = 1, $$7));\n          cnt5 = 0;\n          cnt2 = 0;\n          sum = 0;\n          $send(dice, 'each', [], ($$8 = function(die1){var self = $$8.$$s == null ? this : $$8.$$s;\n\n          \n            \n            if (die1 == null) {\n              die1 = nil;\n            };\n            if ($truthy($rb_ge(die1, 5))) {\n              cnt5 = $rb_plus(cnt5, 1)};\n            if ($truthy($rb_le(die1, 2))) {\n              cnt2 = $rb_plus(cnt2, 1)};\n            if ($truthy($rb_le(die1, abl))) {\n              suc = $rb_plus(suc, 1)};\n            return (sum = $rb_plus(sum, die1));}, $$8.$$s = self, $$8.$$arity = 1, $$8));\n          if ($truthy($rb_lt(sum, target))) {\n            suc = $rb_plus(suc, 2)\n          } else if (sum['$=='](target)) {\n            suc = $rb_plus(suc, 1)};\n          if ($truthy($rb_ge(cnt5, 3))) {\n            suc = 0};\n          if ($truthy($rb_ge(cnt2, 3))) {\n            suc = 5};\n          return [dicestr, suc, sum];\n        }, $RokumonSekai2_rokumon2_roll$6.$$arity = 3);\n        return (Opal.def(self, '$rokumon2_suc_rank', $RokumonSekai2_rokumon2_suc_rank$9 = function $$rokumon2_suc_rank(suc) {\n          var self = this, suc_rank = nil;\n\n          \n          suc_rank = [\"E\", \"D\", \"C\", \"B\", \"A\", \"S\"];\n          return suc_rank['$[]'](suc);\n        }, $RokumonSekai2_rokumon2_suc_rank$9.$$arity = 1), nil) && 'rokumon2_suc_rank';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'RoleMaster');\n\n        var $nesting = [self].concat($parent_nesting), $RoleMaster_initialize$1;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"RoleMaster\");\n        Opal.const_set($nesting[0], 'NAME', \"ロールマスター\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"ろおるますたあ\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"上方無限ロール(xUn)の境界値を96にセットします。\\n\");\n        return (Opal.def(self, '$initialize', $RoleMaster_initialize$1 = function $$initialize(command) {\n          var $iter = $RoleMaster_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $RoleMaster_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $RoleMaster_initialize$1, false, true), 'initialize', [command], null);\n          return (self.upper_dice_reroll_threshold = 96);\n        }, $RoleMaster_initialize$1.$$arity = 1), nil) && 'initialize';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'VampireTheMasquerade5th');\n\n        var $nesting = [self].concat($parent_nesting), $VampireTheMasquerade5th_eval_game_system_specific_command$1, $VampireTheMasquerade5th_get_critical_success$2, $VampireTheMasquerade5th_make_dice_roll$3, $VampireTheMasquerade5th_get_success_result$5, $VampireTheMasquerade5th_get_fail_result$6;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"VampireTheMasquerade5th\");\n        Opal.const_set($nesting[0], 'NAME', \"Vampire: The Masquerade 5th Edition\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"うあんはいあさますかれえと5\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・判定コマンド(nVMFx+x)\\n\" + \"  注意：難易度は必要成功数を表す\\n\" + \"\\n\" + \"  難易度指定：判定成功と失敗、Critical判定、\\n\" + \"             （Hungerダイスがある場合）Messy CriticalとBestial Failureチェックを行う\\n\" + \"  例) (難易度)VMF(ダイスプール)+(Hungerダイス)\\n\" + \"      (難易度)VMF(ダイスプール)\\n\" + \"\\n\" + \"  難易度省略：判定失敗、Critical、（Hungerダイスがある場合）Bestial Failureチェックを行う\\n\" + \"              判定成功、Messy Criticalのチェックを行わない\\n\" + \"  例) VMF(ダイスプール)+(Hungerダイス)\\n\" + \"      VMF(ダイスプール)\\n\" + \"\\n\" + \"  難易度0指定：全てのチェックを行わない\\n\" + \"  例) 0VMF(ダイスプール)+(Hungerダイス)\\n\" + \"      0VMF(ダイスプール)\\n\" + \"\\n\");\n        Opal.const_set($nesting[0], 'DIFFICULTY_INDEX', 1);\n        Opal.const_set($nesting[0], 'DICE_POOL_INDEX', 3);\n        Opal.const_set($nesting[0], 'HUNGER_DICE_INDEX', 5);\n        Opal.const_set($nesting[0], 'NOT_CHECK_SUCCESS', -1);\n        self.$register_prefix(\"\\\\d*VMF\");\n        \n        Opal.def(self, '$eval_game_system_specific_command', $VampireTheMasquerade5th_eval_game_system_specific_command$1 = function $$eval_game_system_specific_command(command) {\n          var $a, $b, $c, self = this, m = nil, dice_pool = nil, dice_text = nil, success_dice = nil, ten_dice = nil, result_text = nil, hunger_dice_pool = nil, hunger_dice_text = nil, hunger_success_dice = nil, hunger_ten_dice = nil, hunger_botch_dice = nil, difficulty = nil, judgment_result = nil;\n\n          \n          m = /^(\\d+)?(VMF)(\\d+)(\\+(\\d+))?/.$match(command);\n          if ($truthy(m)) {\n          } else {\n            return \"\"\n          };\n          dice_pool = m['$[]']($$($nesting, 'DICE_POOL_INDEX')).$to_i();\n          $b = self.$make_dice_roll(dice_pool), $a = Opal.to_ary($b), (dice_text = ($a[0] == null ? nil : $a[0])), (success_dice = ($a[1] == null ? nil : $a[1])), (ten_dice = ($a[2] == null ? nil : $a[2])), $b;\n          result_text = \"\" + \"(\" + (dice_pool) + \"D10\";\n          hunger_dice_pool = ($a = m['$[]']($$($nesting, 'HUNGER_DICE_INDEX')), ($a === nil || $a == null) ? nil : $send($a, 'to_i', []));\n          if ($truthy(hunger_dice_pool)) {\n            \n            $c = self.$make_dice_roll(hunger_dice_pool), $b = Opal.to_ary($c), (hunger_dice_text = ($b[0] == null ? nil : $b[0])), (hunger_success_dice = ($b[1] == null ? nil : $b[1])), (hunger_ten_dice = ($b[2] == null ? nil : $b[2])), (hunger_botch_dice = ($b[3] == null ? nil : $b[3])), $c;\n            ten_dice = $rb_plus(ten_dice, hunger_ten_dice);\n            success_dice = $rb_plus(success_dice, hunger_success_dice);\n            result_text = \"\" + (result_text) + \"+\" + (hunger_dice_pool) + \"D10) ＞ [\" + (dice_text) + \"]+[\" + (hunger_dice_text) + \"] \";\n          } else {\n            \n            hunger_ten_dice = 0;\n            hunger_botch_dice = 0;\n            result_text = \"\" + (result_text) + \") ＞ [\" + (dice_text) + \"] \";\n          };\n          success_dice = $rb_plus(success_dice, self.$get_critical_success(ten_dice));\n          difficulty = (function() {if ($truthy(m['$[]']($$($nesting, 'DIFFICULTY_INDEX')))) {\n            return m['$[]']($$($nesting, 'DIFFICULTY_INDEX')).$to_i()\n          } else {\n            return $$($nesting, 'NOT_CHECK_SUCCESS')\n          }; return nil; })();\n          result_text = \"\" + (result_text) + \" 成功数=\" + (success_dice);\n          if ($truthy($rb_gt(difficulty, 0))) {\n            \n            if ($truthy($rb_ge(success_dice, difficulty))) {\n              judgment_result = self.$get_success_result($rb_ge(ten_dice, 2), hunger_ten_dice)\n            } else {\n              judgment_result = self.$get_fail_result(hunger_botch_dice)\n            };\n            result_text = \"\" + (result_text) + \" 難易度=\" + (difficulty) + (judgment_result);\n          } else if ($truthy($rb_lt(difficulty, 0))) {\n            \n            if (success_dice['$=='](0)) {\n              judgment_result = self.$get_fail_result(hunger_botch_dice)\n            } else {\n              judgment_result = \"\"\n            };\n            result_text = \"\" + (result_text) + (judgment_result);};\n          return result_text;\n        }, $VampireTheMasquerade5th_eval_game_system_specific_command$1.$$arity = 1);\n        \n        Opal.def(self, '$get_critical_success', $VampireTheMasquerade5th_get_critical_success$2 = function $$get_critical_success(ten_dice) {\n          var self = this;\n\n          return $rb_times($rb_divide(ten_dice, 2).$to_i(), 2)\n        }, $VampireTheMasquerade5th_get_critical_success$2.$$arity = 1);\n        \n        Opal.def(self, '$make_dice_roll', $VampireTheMasquerade5th_make_dice_roll$3 = function $$make_dice_roll(dice_pool) {\n          var $$4, self = this, dice_list = nil, dice_text = nil, success_dice = nil, ten_dice = nil, botch_dice = nil;\n\n          \n          dice_list = self.randomizer.$roll_barabara(dice_pool, 10);\n          dice_text = dice_list.$join(\",\");\n          success_dice = $send(dice_list, 'count', [], ($$4 = function(x){var self = $$4.$$s == null ? this : $$4.$$s;\n\n          \n            \n            if (x == null) {\n              x = nil;\n            };\n            return $rb_ge(x, 6);}, $$4.$$s = self, $$4.$$arity = 1, $$4));\n          ten_dice = dice_list.$count(10);\n          botch_dice = dice_list.$count(1);\n          return [dice_text, success_dice, ten_dice, botch_dice];\n        }, $VampireTheMasquerade5th_make_dice_roll$3.$$arity = 1);\n        \n        Opal.def(self, '$get_success_result', $VampireTheMasquerade5th_get_success_result$5 = function $$get_success_result(is_critical, hunger_ten_dice) {\n          var self = this, judgment_result = nil, $ret_or_1 = nil;\n\n          \n          judgment_result = \"：判定成功!\";\n          if ($truthy((function() {if ($truthy(($ret_or_1 = $rb_gt(hunger_ten_dice, 0)))) {\n            return is_critical\n          } else {\n            return $ret_or_1\n          }; return nil; })())) {\n            return \"\" + (judgment_result) + \" [Messy Critical]\"\n          } else if ($truthy(is_critical)) {\n            return \"\" + (judgment_result) + \" [Critical Win]\"};\n          return judgment_result;\n        }, $VampireTheMasquerade5th_get_success_result$5.$$arity = 2);\n        return (Opal.def(self, '$get_fail_result', $VampireTheMasquerade5th_get_fail_result$6 = function $$get_fail_result(hunger_botch_dice) {\n          var self = this, judgment_result = nil;\n\n          \n          judgment_result = \"：判定失敗!\";\n          if ($truthy($rb_gt(hunger_botch_dice, 0))) {\n            return \"\" + (judgment_result) + \" [Bestial Failure]\"};\n          return judgment_result;\n        }, $VampireTheMasquerade5th_get_fail_result$6.$$arity = 1), nil) && 'get_fail_result';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'PhantasmAdventure');\n\n        var $nesting = [self].concat($parent_nesting), $PhantasmAdventure_result_1d20$1;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"PhantasmAdventure\");\n        Opal.const_set($nesting[0], 'NAME', \"ファンタズム・アドベンチャー\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"ふあんたすむあとへんちやあ\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"成功、失敗、決定的成功、決定的失敗の表示とクリティカル・ファンブル値計算の実装。\\n\");\n        return (Opal.def(self, '$result_1d20', $PhantasmAdventure_result_1d20$1 = function $$result_1d20(total, _dice_total, cmp_op, diff) {\n          var self = this, skill_mod = nil, fumble = nil, critical = nil, dice_now = nil, $ret_or_1 = nil, fum_num = nil, fum_str = nil, $ret_or_2 = nil, crit_num = nil;\n\n          \n          if (diff['$=='](\"?\")) {\n            return $$($nesting, 'Result').$nothing()};\n          if (cmp_op['$=='](\"<=\")) {\n          } else {\n            return nil\n          };\n          skill_mod = 0;\n          if ($truthy($rb_lt(diff, 1))) {\n            skill_mod = $rb_minus(diff, 1)\n          } else if ($truthy($rb_gt(diff, 20))) {\n            skill_mod = $rb_minus(diff, 20)};\n          fumble = $rb_plus(20, skill_mod);\n          if ($truthy($rb_gt(fumble, 20))) {\n            fumble = 20};\n          critical = $rb_plus(1, skill_mod);\n          dice_now = self.randomizer.$roll_once(20);\n          if ($truthy((function() {if ($truthy(($ret_or_1 = $rb_ge(total, fumble)))) {\n            return $ret_or_1\n          } else {\n            \n            return $rb_ge(total, 20);\n          }; return nil; })())) {\n            \n            fum_num = $rb_minus(dice_now, skill_mod);\n            if ($truthy($rb_gt(fum_num, 20))) {\n              fum_num = 20};\n            if ($truthy($rb_lt(fum_num, 1))) {\n              fum_num = 1};\n            fum_str = dice_now.$to_s();\n            if ($truthy($rb_lt(skill_mod, 0))) {\n              fum_str = $rb_plus(fum_str, \"\" + \"+\" + ($rb_times(skill_mod, -1)) + \"=\" + (fum_num))\n            } else {\n              fum_str = $rb_plus(fum_str, \"\" + \"-\" + (skill_mod) + \"=\" + (fum_num))\n            };\n            return $$($nesting, 'Result').$fumble(\"\" + \"致命的失敗(\" + (fum_str) + \")\");\n          } else if ($truthy((function() {if ($truthy(($ret_or_2 = $rb_le(total, critical)))) {\n            return $ret_or_2\n          } else {\n            \n            return $rb_le(total, 1);\n          }; return nil; })())) {\n            \n            crit_num = $rb_plus(dice_now, skill_mod);\n            if ($truthy($rb_gt(crit_num, 20))) {\n              crit_num = 20};\n            if ($truthy($rb_lt(crit_num, 1))) {\n              crit_num = 1};\n            if ($truthy($rb_lt(skill_mod, 0))) {\n              return $$($nesting, 'Result').$success(\"成功\")};\n            return $$($nesting, 'Result').$critical(\"\" + \"決定的成功(\" + (dice_now) + \"+\" + (skill_mod) + \"=\" + (crit_num) + \")\");\n          } else if ($truthy($rb_le(total, diff))) {\n            return $$($nesting, 'Result').$success(\"成功\")\n          } else {\n            return $$($nesting, 'Result').$failure(\"失敗\")\n          };\n        }, $PhantasmAdventure_result_1d20$1.$$arity = 4), nil) && 'result_1d20';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Elric');\n\n        var $nesting = [self].concat($parent_nesting), $Elric_result_1d100$1;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"Elric\");\n        Opal.const_set($nesting[0], 'NAME', \"エルリック！\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"えるりつく\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"貫通、クリティカル、ファンブルの自動判定を行います。\\n\");\n        return (Opal.def(self, '$result_1d100', $Elric_result_1d100$1 = function $$result_1d100(total, _dice_total, cmp_op, target) {\n          var self = this, $ret_or_1 = nil;\n\n          \n          if (cmp_op['$=='](\"<=\")) {\n          } else {\n            return nil\n          };\n          if ($truthy($rb_le(total, 1))) {\n            return $$($nesting, 'Result').$critical(\"貫通\")\n          } else if ($truthy($rb_ge(total, 100))) {\n            return $$($nesting, 'Result').$fumble(\"致命的失敗\")\n          } else if (target['$=='](\"?\")) {\n            return $$($nesting, 'Result').$nothing()\n          } else if ($truthy($rb_le(total, $rb_divide(target, 5.0).$ceil()))) {\n            return $$($nesting, 'Result').$critical(\"決定的成功\")\n          } else if ($truthy($rb_le(total, target))) {\n            return $$($nesting, 'Result').$success(\"成功\")\n          } else if ($truthy((function() {if ($truthy(($ret_or_1 = $rb_ge(total, 99)))) {\n            \n            return $rb_lt(target, 100);\n          } else {\n            return $ret_or_1\n          }; return nil; })())) {\n            return $$($nesting, 'Result').$fumble(\"致命的失敗\")\n          } else {\n            return $$($nesting, 'Result').$failure(\"失敗\")\n          };\n        }, $Elric_result_1d100$1.$$arity = 4), nil) && 'result_1d100';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy, $hash = Opal.hash;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'GeishaGirlwithKatana');\n\n        var $nesting = [self].concat($parent_nesting), $GeishaGirlwithKatana_eval_game_system_specific_command$1, $GeishaGirlwithKatana_isChomba$2, $GeishaGirlwithKatana_getChombaResultText$3, $GeishaGirlwithKatana_getYaku$4, $GeishaGirlwithKatana_getDemeZorome$5, $GeishaGirlwithKatana_getResultTextByDice$6, $GeishaGirlwithKatana_getResultText$7;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"GeishaGirlwithKatana\");\n        Opal.const_set($nesting[0], 'NAME', \"ゲイシャ・ガール・ウィズ・カタナ\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"けいしやかあるういすかたな\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・判定 (GK#n)\\n\" + \"  役やチョムバを含めて1回分のダイスロールを判定します。\\n\" + \"　役は　（通常判定）／（戦闘時）　の順で両方出力されます。\\n\" + \"  GK のみの場合5%の確率でチョムバます。\\n\" + \"  GK#3 の様に #n をつけることによってチョムバの確率をn%にすることができます。\\n\" + \"　例）GK　GK#10\\n\" + \"・隠しコマンド (GL)\\n\" + \"  必ずチョムバします。GMが空気を読んでチョムバさせたいときや、\\n\" + \"  GKコマンドを打ち間違えてチョムバするを想定してます。\\n\" + \"　例）GL\\n\");\n        self.$register_prefix(\"GK\", \"GL\");\n        \n        Opal.def(self, '$eval_game_system_specific_command', $GeishaGirlwithKatana_eval_game_system_specific_command$1 = function $$eval_game_system_specific_command(command) {\n          var $a, $b, self = this, output = nil, chomba_counter = nil, diceList = nil, yakuResult = nil, deme = nil, zorome = nil, yp = nil;\n\n          \n          output = nil;\n          if ($truthy(/^GL$/i['$=~'](command))) {\n            return self.$getChombaResultText()};\n          if ($truthy(/^GK(#(\\d+))?$/i['$=~'](command))) {\n          } else {\n            return output\n          };\n          chomba_counter = $$($nesting, 'Regexp').$last_match(2);\n          if ($truthy(self.$isChomba(chomba_counter))) {\n            return self.$getChombaResultText()};\n          diceList = self.randomizer.$roll_barabara(3, 6).$sort();\n          yakuResult = self.$getYaku(diceList);\n          if ($truthy(yakuResult['$nil?']())) {\n          } else {\n            return self.$getResultTextByDice(diceList, \"\" + \"【役】\" + (yakuResult))\n          };\n          $b = self.$getDemeZorome(diceList), $a = Opal.to_ary($b), (deme = ($a[0] == null ? nil : $a[0])), (zorome = ($a[1] == null ? nil : $a[1])), $b;\n          if (deme['$=='](0)) {\n            return self.$getResultTextByDice(diceList, \"失敗\")};\n          yp = (function() {if (zorome['$=='](1)) {\n            return \" YPが1増加\"\n          } else {\n            return \"\"\n          }; return nil; })();\n          output = self.$getResultTextByDice(diceList, \"\" + \"達成値\" + (deme) + (yp));\n          self.$debug(\"getGGwKResult(command) result\", output);\n          return output;\n        }, $GeishaGirlwithKatana_eval_game_system_specific_command$1.$$arity = 1);\n        \n        Opal.def(self, '$isChomba', $GeishaGirlwithKatana_isChomba$2 = function $$isChomba(chomba_counter) {\n          var self = this, $ret_or_1 = nil, chomba = nil;\n\n          \n          chomba_counter = (function() {if ($truthy(($ret_or_1 = chomba_counter))) {\n            return $ret_or_1\n          } else {\n            return 5\n          }; return nil; })();\n          chomba_counter = chomba_counter.$to_i();\n          chomba = self.randomizer.$roll_once(100);\n          return $rb_le(chomba, chomba_counter);\n        }, $GeishaGirlwithKatana_isChomba$2.$$arity = 1);\n        \n        Opal.def(self, '$getChombaResultText', $GeishaGirlwithKatana_getChombaResultText$3 = function $$getChombaResultText() {\n          var self = this;\n\n          return self.$getResultText(\"チョムバ！！\")\n        }, $GeishaGirlwithKatana_getChombaResultText$3.$$arity = 0);\n        \n        Opal.def(self, '$getYaku', $GeishaGirlwithKatana_getYaku$4 = function $$getYaku(diceList) {\n          var self = this, rule = nil, yaku = nil;\n\n          \n          rule = $hash([1, 2, 3], \"自動失敗／自分の装甲効果無しでダメージを受けてしまう\", [4, 5, 6], \"自動成功／敵の装甲を無視してダメージを与える\", [1, 1, 1], \"10倍成功 YPが10増加／10倍ダメージ YPが10増加\", [2, 2, 2], \"2倍成功／2倍ダメージ\", [3, 3, 3], \"3倍成功／3倍ダメージ\", [4, 4, 4], \"4倍成功／4倍ダメージ\", [5, 5, 5], \"5倍成功／5倍ダメージ\", [6, 6, 6], \"6倍成功／6倍ダメージ\");\n          yaku = rule['$[]'](diceList);\n          return yaku;\n        }, $GeishaGirlwithKatana_getYaku$4.$$arity = 1);\n        \n        Opal.def(self, '$getDemeZorome', $GeishaGirlwithKatana_getDemeZorome$5 = function $$getDemeZorome(diceList) {\n          var self = this, deme = nil, zorome = nil;\n\n          \n          deme = 0;\n          zorome = 0;\n          if (diceList['$[]'](0)['$=='](diceList['$[]'](1))) {\n            \n            deme = diceList['$[]'](2);\n            zorome = diceList['$[]'](0);\n          } else if (diceList['$[]'](1)['$=='](diceList['$[]'](2))) {\n            \n            deme = diceList['$[]'](0);\n            zorome = diceList['$[]'](1);};\n          return [deme, zorome];\n        }, $GeishaGirlwithKatana_getDemeZorome$5.$$arity = 1);\n        \n        Opal.def(self, '$getResultTextByDice', $GeishaGirlwithKatana_getResultTextByDice$6 = function $$getResultTextByDice(diceList, result) {\n          var self = this;\n\n          return self.$getResultText(\"\" + (diceList.$join(\",\")) + \" ＞ \" + (result))\n        }, $GeishaGirlwithKatana_getResultTextByDice$6.$$arity = 2);\n        return (Opal.def(self, '$getResultText', $GeishaGirlwithKatana_getResultText$7 = function $$getResultText(result) {\n          var self = this;\n\n          return \"\" + \"(3B6) ＞ \" + (result)\n        }, $GeishaGirlwithKatana_getResultText$7.$$arity = 1), nil) && 'getResultText';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $hash2 = Opal.hash2;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Comes');\n\n        var $nesting = [self].concat($parent_nesting), $Comes_initialize$1, $Comes_eval_game_system_specific_command$2;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"Comes\");\n        Opal.const_set($nesting[0], 'NAME', \"カムズ\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"かむす\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・各種表\\n\" + \"　判定ペナルティ表 PT\\n\");\n        \n        Opal.def(self, '$initialize', $Comes_initialize$1 = function $$initialize(command) {\n          var $iter = $Comes_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $Comes_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $Comes_initialize$1, false, true), 'initialize', [command], null);\n          self.sort_add_dice = true;\n          return (self.d66_sort_type = $$$($$($nesting, 'D66SortType'), 'ASC'));\n        }, $Comes_initialize$1.$$arity = 1);\n        \n        Opal.def(self, '$eval_game_system_specific_command', $Comes_eval_game_system_specific_command$2 = function $$eval_game_system_specific_command(command) {\n          var self = this;\n\n          return self.$roll_tables(command, $$$(self.$class(), 'TABLES'))\n        }, $Comes_eval_game_system_specific_command$2.$$arity = 1);\n        Opal.const_set($nesting[0], 'TABLES', $hash2([\"PT\"], {\"PT\": $$$($$($nesting, 'DiceTable'), 'Table').$new(\"判定ペナルティ表\", \"1D6\", [\"恐ろしい目に合う。『恐怖』を与える。\", \"今見ているものを理解できない。『混乱』を与える。\", \"我を忘れて見とれてしまう。『魅了』を与える。\", \"思わぬ遠回りをしてしまう。『疲労』を与える。\", \"大きな失態を演じてしまう。『負傷』を与える。\", \"別の困難が立ちはだかる。新たに判定を行わせる。\"])}).$freeze());\n        return self.$register_prefix($$($nesting, 'TABLES').$keys());\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Chill');\n\n        var $nesting = [self].concat($parent_nesting), $Chill_result_1d100$1, $Chill_eval_game_system_specific_command$2, $Chill_roll_strike_rank_result$3, $Chill_check_strike_rank$4;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"Chill\");\n        Opal.const_set($nesting[0], 'NAME', \"Chill\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"ちる\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・ストライク・ランク　(SRx)\\n\" + \"　\\\"SRストライク・ランク\\\"の形で記入します。\\n\" + \"　ストライク・ランク・チャートに従って自動でダイスロールを行い、\\n\" + \"　負傷とスタミナロスを計算します。\\n\" + \"　ダイスロールと同様に、他のプレイヤーに隠れてロールすることも可能です。\\n\" + \"　例）SR7　　　sr13　　　SR(7+4)　　　Ssr10\\n\");\n        self.$register_prefix(\"SR\");\n        \n        Opal.def(self, '$result_1d100', $Chill_result_1d100$1 = function $$result_1d100(total, _dice_total, cmp_op, target) {\n          var self = this;\n\n          \n          if (target['$=='](\"?\")) {\n            return nil};\n          if ($truthy(cmp_op['$!='](\"<=\"))) {\n            return nil};\n          if ($truthy($rb_ge(total, 100))) {\n            return $$($nesting, 'Result').$fumble(\"ファンブル\")\n          } else if ($truthy($rb_gt(total, target))) {\n            return $$($nesting, 'Result').$failure(\"失敗\")\n          } else if ($truthy($rb_ge(total, $rb_times(target, 0.9)))) {\n            return $$($nesting, 'Result').$success(\"Ｌ成功\")\n          } else if ($truthy($rb_ge(total, $rb_divide(target, 2).$to_i()))) {\n            return $$($nesting, 'Result').$success(\"Ｍ成功\")\n          } else if ($truthy($rb_ge(total, $rb_divide(target, 10).$to_i()))) {\n            return $$($nesting, 'Result').$success(\"Ｈ成功\")\n          } else {\n            return $$($nesting, 'Result').$critical(\"Ｃ成功\")\n          };\n        }, $Chill_result_1d100$1.$$arity = 4);\n        \n        Opal.def(self, '$eval_game_system_specific_command', $Chill_eval_game_system_specific_command$2 = function $$eval_game_system_specific_command(command) {\n          var self = this;\n\n          return self.$roll_strike_rank_result(command)\n        }, $Chill_eval_game_system_specific_command$2.$$arity = 1);\n        \n        Opal.def(self, '$roll_strike_rank_result', $Chill_roll_strike_rank_result$3 = function $$roll_strike_rank_result(string) {\n          var $a, $b, self = this, wounds = nil, sta_loss = nil, dice = nil, dice_add = nil, dice_str = nil, strikeRank = nil, dice_w = nil, dice_wa = nil, dice_ws = nil, _dice = nil, dice_list = nil, wounds_wk = nil, output = nil;\n\n          \n          self.$debug(\"strike_rank begin string\", string);\n          wounds = 0;\n          sta_loss = 0;\n          dice = \"\";\n          dice_add = \"\";\n          dice_str = \"\";\n          if ($truthy(/(^|\\s)[sS]?(SR|sr)(\\d+)($|\\s)/['$=~'](string))) {\n          } else {\n            \n            self.$debug(\"invalid string\", string);\n            return \"1\";\n          };\n          strikeRank = $$($nesting, 'Regexp').$last_match(3).$to_i();\n          if ($truthy($rb_lt(strikeRank, 14))) {\n            \n            $b = self.$check_strike_rank(strikeRank), $a = Opal.to_ary($b), (sta_loss = ($a[0] == null ? nil : $a[0])), (dice = ($a[1] == null ? nil : $a[1])), (dice_add = ($a[2] == null ? nil : $a[2])), (dice_str = ($a[3] == null ? nil : $a[3])), $b;\n            $b = self.$check_strike_rank($rb_minus(strikeRank, 3)), $a = Opal.to_ary($b), (wounds = ($a[0] == null ? nil : $a[0])), (dice_w = ($a[1] == null ? nil : $a[1])), (dice_wa = ($a[2] == null ? nil : $a[2])), (dice_ws = ($a[3] == null ? nil : $a[3])), $b;\n            dice = $rb_plus($rb_plus(dice, \", \"), dice_w);\n            dice_add = $rb_plus(dice_add, $rb_plus(\", \", dice_wa));\n            dice_str = $rb_plus($rb_plus(dice_str, \", \"), dice_ws);\n          } else {\n            \n            $b = self.$check_strike_rank(13), $a = Opal.to_ary($b), (sta_loss = ($a[0] == null ? nil : $a[0])), (_dice = ($a[1] == null ? nil : $a[1])), (dice_add = ($a[2] == null ? nil : $a[2])), (dice_str = ($a[3] == null ? nil : $a[3])), $b;\n            dice_list = self.randomizer.$roll_barabara(4, 10);\n            wounds = dice_list.$sum();\n            dice_ws = dice_list.$join(\",\");\n            dice = $rb_plus($rb_plus(\"5d10*3, 4d10+\", $rb_times($rb_minus(strikeRank, 13), 2).$to_s()), \"d10\");\n            dice_add = $rb_plus(dice_add, $rb_plus(\", \", wounds.$to_s()));\n            dice_str = \"\" + (dice_str) + \", \" + (dice_ws);\n            dice_list = self.randomizer.$roll_barabara($rb_times($rb_minus(strikeRank, 13), 2), 10);\n            wounds_wk = dice_list.$sum();\n            dice_ws = dice_list.$join(\",\");\n            dice_str = $rb_plus(dice_str, \"\" + \"+\" + (dice_ws));\n            dice_add = $rb_plus(dice_add, \"\" + \"+\" + (wounds_wk));\n            wounds = $rb_plus(wounds, wounds_wk);\n          };\n          output = \"\" + (dice_str) + \" ＞ \" + (dice_add) + \" ＞ スタミナ損失\" + (sta_loss) + \", 負傷\" + (wounds);\n          string = $rb_plus(string, $rb_plus(\":\", dice));\n          if ($truthy(output['$empty?']())) {\n            return \"1\"};\n          output = \"\" + \"(\" + (string) + \") ＞ \" + (output);\n          self.$debug(\"strike_rank end output\", output);\n          return output;\n        }, $Chill_roll_strike_rank_result$3.$$arity = 1);\n        return (Opal.def(self, '$check_strike_rank', $Chill_check_strike_rank$4 = function $$check_strike_rank(strikeRank) {\n          var self = this, dice = nil, dice_add = nil, dice_str = nil, damage = nil, dice_list = nil, total = nil;\n\n          \n          strikeRank = strikeRank.$to_i();\n          dice = \"\";\n          dice_add = \"\";\n          dice_str = \"\";\n          damage = 0;\n          if ($truthy($rb_lt(strikeRank, 1))) {\n            \n            damage = 0;\n            dice_str = \"-\";\n            dice_add = \"-\";\n            dice = \"-\";\n          } else if ($truthy($rb_lt(strikeRank, 2))) {\n            \n            dice = \"0or1\";\n            damage = self.randomizer.$roll_once(2);\n            dice_str = damage.$to_s();\n            damage = $rb_minus(damage, 1);\n            dice_add = damage.$to_s();\n          } else if ($truthy($rb_lt(strikeRank, 3))) {\n            \n            dice = \"1or2\";\n            damage = self.randomizer.$roll_once(2);\n            dice_str = damage.$to_s();\n            dice_add = damage.$to_s();\n          } else if ($truthy($rb_lt(strikeRank, 4))) {\n            \n            dice = \"1d5\";\n            damage = self.randomizer.$roll_once(5);\n            dice_str = damage.$to_s();\n            dice_add = damage.$to_s();\n          } else if ($truthy($rb_lt(strikeRank, 10))) {\n            \n            dice = $rb_plus($rb_minus(strikeRank, 3).$to_s(), \"d10\");\n            dice_list = self.randomizer.$roll_barabara($rb_minus(strikeRank, 3), 10);\n            damage = dice_list.$sum();\n            dice_add = damage.$to_s();\n            dice_str = dice_list.$join(\",\");\n          } else if ($truthy($rb_lt(strikeRank, 13))) {\n            \n            dice = $rb_plus($rb_minus(strikeRank, 6).$to_s(), \"d10*2\");\n            dice_list = self.randomizer.$roll_barabara($rb_minus(strikeRank, 6), 10);\n            total = dice_list.$sum();\n            dice_add = \"\" + (total) + \"*2\";\n            damage = $rb_times(total, 2);\n            dice_str = \"\" + \"(\" + (dice_list.$join(\",\")) + \")*2\";\n          } else {\n            \n            dice = \"5d10*3\";\n            dice_list = self.randomizer.$roll_barabara(5, 10);\n            total = dice_list.$sum();\n            dice_add = \"\" + (total) + \"*3\";\n            damage = $rb_times(total, 3);\n            dice_str = \"\" + \"(\" + (dice_list.$join(\",\")) + \")*3\";\n          };\n          return [damage, dice, dice_add, dice_str];\n        }, $Chill_check_strike_rank$4.$$arity = 1), nil) && 'check_strike_rank';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $truthy = Opal.truthy, $hash2 = Opal.hash2;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'StratoShout');\n\n        var $nesting = [self].concat($parent_nesting), $StratoShout_initialize$1, $StratoShout_result_2d6$2, $StratoShout_eval_game_system_specific_command$3;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"StratoShout\");\n        Opal.const_set($nesting[0], 'NAME', \"ストラトシャウト\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"すとらとしやうと\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"\\n\" + \"VOT, GUT, BAT, KEYT, DRT: (ボーカル、ギター、ベース、キーボード、ドラム)トラブル表\\n\" + \"EMO: 感情表\\n\" + \"ATn, RTTn: 特技表(n＝分野。空:ランダム 1:主義 2:身体 3:モチーフ 4:エモーション 5:行動 6:逆境)\\n\" + \"RCT: 分野ランダム表\\n\" + \"SCENE, MACHI, GAKKO, BAND: (汎用、街角、学校、バンド)シーン表 接近シーンで使用\\n\" + \"TENKAI: シーン展開表 奔走シーン 練習シーンで使用\\n\" + \"\\n\" + \"D66入れ替えあり\\n\");\n        \n        Opal.def(self, '$initialize', $StratoShout_initialize$1 = function $$initialize(command) {\n          var $iter = $StratoShout_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $StratoShout_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $StratoShout_initialize$1, false, true), 'initialize', [command], null);\n          self.sort_add_dice = true;\n          return (self.d66_sort_type = $$$($$($nesting, 'D66SortType'), 'ASC'));\n        }, $StratoShout_initialize$1.$$arity = 1);\n        \n        Opal.def(self, '$result_2d6', $StratoShout_result_2d6$2 = function $$result_2d6(_total, dice_total, _dice_list, cmp_op, _target) {\n          var self = this;\n\n          \n          if (cmp_op['$=='](\">=\")) {\n          } else {\n            return nil\n          };\n          if ($truthy($rb_le(dice_total, 2))) {\n            return $$($nesting, 'Result').$fumble(self.$translate(\"StratoShout.fumble\"))\n          } else if ($truthy($rb_ge(dice_total, 12))) {\n            return $$($nesting, 'Result').$critical(self.$translate(\"StratoShout.critical\"))\n          } else {\n            return nil\n          };\n        }, $StratoShout_result_2d6$2.$$arity = 5);\n        \n        Opal.def(self, '$eval_game_system_specific_command', $StratoShout_eval_game_system_specific_command$3 = function $$eval_game_system_specific_command(command) {\n          var self = this, $ret_or_1 = nil;\n\n          if ($truthy(($ret_or_1 = self.$roll_tables(command, $$$(self.$class(), 'TABLES'))))) {\n            return $ret_or_1\n          } else {\n            return $$$(self.$class(), 'RTT').$roll_command(self.randomizer, command)\n          }\n        }, $StratoShout_eval_game_system_specific_command$3.$$arity = 1);\n        (function(self, $parent_nesting) {\n          var $nesting = [self].concat($parent_nesting), $translate_tables$4, $translate_rtt$5;\n\n          \n          self.$private();\n          \n          Opal.def(self, '$translate_tables', $translate_tables$4 = function $$translate_tables(locale) {\n            var self = this;\n\n            return $hash2([\"VOT\", \"GUT\", \"BAT\", \"KEYT\", \"DRT\", \"EMO\", \"SCENE\", \"MACHI\", \"GAKKO\", \"BAND\", \"TENKAI\"], {\"VOT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"StratoShout.table.VOT\", locale), \"GUT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"StratoShout.table.GUT\", locale), \"BAT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"StratoShout.table.BAT\", locale), \"KEYT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"StratoShout.table.KEYT\", locale), \"DRT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"StratoShout.table.DRT\", locale), \"EMO\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"StratoShout.table.EMO\", locale), \"SCENE\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"StratoShout.table.SCENE\", locale), \"MACHI\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"StratoShout.table.MACHI\", locale), \"GAKKO\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"StratoShout.table.GAKKO\", locale), \"BAND\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"StratoShout.table.BAND\", locale), \"TENKAI\": $$$($$($nesting, 'DiceTable'), 'D66Table').$from_i18n(\"StratoShout.table.TENKAI\", locale)})\n          }, $translate_tables$4.$$arity = 1);\n          return (Opal.def(self, '$translate_rtt', $translate_rtt$5 = function $$translate_rtt(locale) {\n            var self = this;\n\n            return $$$($$($nesting, 'DiceTable'), 'SaiFicSkillTable').$from_i18n(\"StratoShout.RTT\", locale, $hash2([\"rtt\", \"rttn\"], {\"rtt\": \"AT\", \"rttn\": [\"AT1\", \"AT2\", \"AT3\", \"AT4\", \"AT5\", \"AT6\"]}))\n          }, $translate_rtt$5.$$arity = 1), nil) && 'translate_rtt';\n        })(Opal.get_singleton_class(self), $nesting);\n        Opal.const_set($nesting[0], 'TABLES', self.$translate_tables(\"ja_jp\"));\n        Opal.const_set($nesting[0], 'RTT', self.$translate_rtt(\"ja_jp\"));\n        return self.$register_prefix($$($nesting, 'TABLES').$keys(), $$($nesting, 'RTT').$prefixes());\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'IthaWenUa');\n\n        var $nesting = [self].concat($parent_nesting), $IthaWenUa_result_1d100$1;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"IthaWenUa\");\n        Opal.const_set($nesting[0], 'NAME', \"イサー・ウェン＝アー\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"いさあうえんああ\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"1D100<=m 方式の判定で成否、クリティカル(01)・ファンブル(00)を自動判定します。\\n\");\n        return (Opal.def(self, '$result_1d100', $IthaWenUa_result_1d100$1 = function $$result_1d100(total, _dice_total, cmp_op, target) {\n          var self = this;\n\n          \n          if (cmp_op['$=='](\"<=\")) {\n          } else {\n            return nil\n          };\n          if (total['$%'](100)['$=='](1)) {\n            return $$($nesting, 'Result').$critical(\"01 ＞ クリティカル\")\n          } else if (total['$%'](100)['$=='](0)) {\n            return $$($nesting, 'Result').$fumble(\"00 ＞ ファンブル\")\n          } else if (target['$=='](\"?\")) {\n            return $$($nesting, 'Result').$nothing()\n          } else {\n            return nil\n          };\n        }, $IthaWenUa_result_1d100$1.$$arity = 4), nil) && 'result_1d100';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Alsetto');\n\n        var $nesting = [self].concat($parent_nesting), $Alsetto_initialize$1, $Alsetto_eval_game_system_specific_command$2, $Alsetto_checkRoll$3;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"Alsetto\");\n        Opal.const_set($nesting[0], 'NAME', \"詩片のアルセット\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"うたかたのあるせつと\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・成功判定：nAL[m]　　　　・トライアンフ無し：nALC[m]\\n\" + \"・命中判定：nAL[m]*p　　　・トライアンフ無し：nALC[m]*p\\n\" + \"・命中判定（ガンスリンガーの根源詩）：nALG[m]*p\\n\" + \"[]内は省略可能。\\n\" + \"\\n\" + \"ALコマンドはトライアンフの分だけ、自動で振り足し処理を行います。\\n\" + \"「n」でダイス数を指定。\\n\" + \"「m」で目標値を指定。省略時は、デフォルトの「3」が使用されます。\\n\" + \"「p」で攻撃力を指定。「*」は「x」でも可。\\n\" + \"攻撃力指定で命中判定となり、成功数ではなく、ダメージを結果表示します。\\n\" + \"\\n\" + \"ALCコマンドはトライアンフ無しで、成功数、ダメージを結果表示します。\\n\" + \"ALGコマンドは「2以下」でトライアンフ処理を行います。\\n\" + \"\\n\" + \"【書式例】\\n\" + \"・5AL → 5d6で目標値3。\\n\" + \"・5ALC → 5d6で目標値3。トライアンフ無し。\\n\" + \"・6AL2 → 6d6で目標値2。\\n\" + \"・4AL*5 → 4d6で目標値3、攻撃力5の命中判定。\\n\" + \"・7AL2x10 → 7d6で目標値2、攻撃力10の命中判定。\\n\" + \"・8ALC4x5 → 8d6で目標値4、攻撃力5、トライアンフ無しの命中判定。\\n\");\n        self.$register_prefix(\"\\\\d+AL[CG]?\");\n        \n        Opal.def(self, '$initialize', $Alsetto_initialize$1 = function $$initialize(command) {\n          var $iter = $Alsetto_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $Alsetto_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $Alsetto_initialize$1, false, true), 'initialize', [command], null);\n          return (self.sort_add_dice = true);\n        }, $Alsetto_initialize$1.$$arity = 1);\n        \n        Opal.def(self, '$eval_game_system_specific_command', $Alsetto_eval_game_system_specific_command$2 = function $$eval_game_system_specific_command(command) {\n          var self = this, rapid = nil, isCritical = nil, criticalNumber = nil, target = nil, $ret_or_1 = nil, damage = nil, $ret_or_2 = nil;\n\n          \n          if ($truthy(command['$=~'](/(\\d+)AL(C|G)?(\\d+)?((x|\\*)(\\d+))?$/i))) {\n            \n            rapid = $$($nesting, 'Regexp').$last_match(1).$to_i();\n            isCritical = $$($nesting, 'Regexp').$last_match(2)['$nil?']();\n            if ($truthy(isCritical)) {\n              criticalNumber = 1\n            } else if ($$($nesting, 'Regexp').$last_match(2)['$=='](\"G\")) {\n              \n              isCritical = true;\n              criticalNumber = 2;\n            } else {\n              criticalNumber = 0\n            };\n            target = (function() {if ($truthy(($ret_or_1 = $$($nesting, 'Regexp').$last_match(3)))) {\n              return $ret_or_1\n            } else {\n              return 3\n            }; return nil; })().$to_i();\n            damage = (function() {if ($truthy(($ret_or_2 = $$($nesting, 'Regexp').$last_match(6)))) {\n              return $ret_or_2\n            } else {\n              return 0\n            }; return nil; })().$to_i();\n            return self.$checkRoll(rapid, target, damage, isCritical, criticalNumber);};\n          return nil;\n        }, $Alsetto_eval_game_system_specific_command$2.$$arity = 1);\n        return (Opal.def(self, '$checkRoll', $Alsetto_checkRoll$3 = function $$checkRoll(rapid, target, damage, isCritical, criticalNumber) {\n          var $a, $$4, self = this, totalSuccessCount = nil, totalCriticalCount = nil, text = nil, rollCount = nil, diceArray = nil, diceText = nil, successCount = nil, criticalCount = nil, isDamage = nil, totalDamage = nil, result = nil;\n\n          \n          totalSuccessCount = 0;\n          totalCriticalCount = 0;\n          text = \"\";\n          rollCount = rapid;\n          while ($truthy($rb_gt(rollCount, 0))) {\n            \n            diceArray = self.randomizer.$roll_barabara(rollCount, 6).$sort();\n            diceText = diceArray.$join(\",\");\n            successCount = 0;\n            criticalCount = 0;\n            $send(diceArray, 'each', [], ($$4 = function(i){var self = $$4.$$s == null ? this : $$4.$$s;\n\n            \n              \n              if (i == null) {\n                i = nil;\n              };\n              if ($truthy($rb_le(i, target))) {\n                successCount = $rb_plus(successCount, 1)};\n              if ($truthy($rb_le(i, criticalNumber))) {\n                return (criticalCount = $rb_plus(criticalCount, 1))\n              } else {\n                return nil\n              };}, $$4.$$s = self, $$4.$$arity = 1, $$4));\n            totalSuccessCount = $rb_plus(totalSuccessCount, successCount);\n            if (criticalCount['$=='](0)) {\n            } else {\n              totalCriticalCount = $rb_plus(totalCriticalCount, 1)\n            };\n            if ($truthy(text['$empty?']())) {\n            } else {\n              text = $rb_plus(text, \"+\")\n            };\n            text = $rb_plus(text, \"\" + (successCount) + \"[\" + (diceText) + \"]\");\n            if ($truthy(isCritical)) {\n            } else {\n              break;\n            };\n            rollCount = criticalCount;\n          };\n          isDamage = damage['$!='](0);\n          if ($truthy(isDamage)) {\n            \n            totalDamage = $rb_times(totalSuccessCount, damage);\n            result = \"\" + \"(\" + (rapid) + \"D6<=\" + (target) + \") ＞ \" + (text) + \" ＞ Hits：\" + (totalSuccessCount) + \"*\" + (damage) + \" ＞ \" + (totalDamage) + \"ダメージ\";\n          } else {\n            result = \"\" + \"(\" + (rapid) + \"D6<=\" + (target) + \") ＞ \" + (text) + \" ＞ 成功数：\" + (totalSuccessCount)\n          };\n          if ($truthy(isCritical)) {\n            result = $rb_plus(result, \"\" + \" / \" + (totalCriticalCount) + \"トライアンフ\")};\n          return result;\n        }, $Alsetto_checkRoll$3.$$arity = 5), nil) && 'checkRoll';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'TokyoGhostResearch');\n\n        var $nesting = [self].concat($parent_nesting), $TokyoGhostResearch_eval_game_system_specific_command$1, $TokyoGhostResearch_getCheckResult$2, $TokyoGhostResearch_getCheckResultText$3, $TokyoGhostResearch_tgr_opening_table$4, $TokyoGhostResearch_tgr_common_trouble_table$5, $TokyoGhostResearch_get_1d10_table_result$6, $TokyoGhostResearch_get_table_result$7;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"TokyoGhostResearch\");\n        Opal.const_set($nesting[0], 'NAME', \"東京ゴーストリサーチ\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"とうきようこおすとりさあち\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"判定\\n\" + \"・タスク処理は目標値以上の値で成功となります。\\n\" + \"  1d10>={目標値}\\n\" + \"  例：目標値「5」の場合、5～0で成功\\n\" + \"各種表\\n\" + \"  ・導入表  OP\\n\" + \"  ・一般トラブル表  TB\\n\");\n        self.$register_prefix(\"OP\", \"TB\", \"TK?\");\n        \n        Opal.def(self, '$eval_game_system_specific_command', $TokyoGhostResearch_eval_game_system_specific_command$1 = function $$eval_game_system_specific_command(command) {\n          var self = this, output = nil, $case = nil;\n\n          \n          output = (function() {$case = command.$upcase();\n          if (/TK/i['$===']($case)) {return self.$getCheckResult(command)}\n          else if (\"OP\"['$===']($case)) {return self.$tgr_opening_table()}\n          else if (\"TB\"['$===']($case)) {return self.$tgr_common_trouble_table()}\n          else { return nil }})();\n          return output;\n        }, $TokyoGhostResearch_eval_game_system_specific_command$1.$$arity = 1);\n        \n        Opal.def(self, '$getCheckResult', $TokyoGhostResearch_getCheckResult$2 = function $$getCheckResult(command) {\n          var self = this, output = nil, diff = nil, total_n = nil;\n\n          \n          output = \"\";\n          diff = 0;\n          if ($truthy(/TK?<=(\\d+)/i['$=~'](command))) {\n            diff = $$($nesting, 'Regexp').$last_match(2).$to_i()};\n          if ($truthy($rb_gt(diff, 0))) {\n            \n            output = $rb_plus(output, \"\" + \"(1D10<=\" + (diff) + \")\");\n            total_n = self.randomizer.$roll_once(10);\n            output = $rb_plus(output, $rb_plus(\" ＞ \", total_n.$to_s()));\n            output = $rb_plus(output, $rb_plus(\" ＞ \", self.$getCheckResultText(total_n, diff)));};\n          return output;\n        }, $TokyoGhostResearch_getCheckResult$2.$$arity = 1);\n        \n        Opal.def(self, '$getCheckResultText', $TokyoGhostResearch_getCheckResultText$3 = function $$getCheckResultText(total_n, diff) {\n          var self = this, result = nil;\n\n          \n          if ($truthy($rb_ge(total_n, diff))) {\n            result = \"成功\"\n          } else {\n            result = \"失敗\"\n          };\n          return result;\n        }, $TokyoGhostResearch_getCheckResultText$3.$$arity = 2);\n        \n        Opal.def(self, '$tgr_opening_table', $TokyoGhostResearch_tgr_opening_table$4 = function $$tgr_opening_table() {\n          var self = this, name = nil, table = nil;\n\n          \n          name = \"導入表\";\n          table = [[1, \"【病休中断】体調不良または怪我で療養中だったが強制召喚された。\"], [2, \"【忙殺中】別の業務で忙殺中であった。\"], [3, \"【出張帰り】遠方での仕事から戻ったばかり。\"], [4, \"【休暇取り消し】休暇中だったが呼び戻された。\"], [5, \"【平常運転】いつもどおりの仕事中だった。\"], [6, \"【休暇明け】十分に休養をとったあとで、心身ともに充実している。\"], [7, \"【人生の岐路】人生の岐路にまさに差し掛かったところであった。\"], [8, \"【同窓会】かつての同級生に会い、差を実感したばかりだった。\"], [9, \"【転職活動中】転職を考えて求人サイトを見ているところだった。\"], [10, \"【サボリ中】仕事をサボっているところに呼び出しがあった。\"]];\n          return self.$get_1d10_table_result(name, table);\n        }, $TokyoGhostResearch_tgr_opening_table$4.$$arity = 0);\n        \n        Opal.def(self, '$tgr_common_trouble_table', $TokyoGhostResearch_tgr_common_trouble_table$5 = function $$tgr_common_trouble_table() {\n          var self = this, name = nil, table = nil;\n\n          \n          name = \"一般トラブル表\";\n          table = [[1, \"トラブルが生じたが、間一髪、危機を脱した。【ダメージなし】\"], [2, \"どうにかタスクを処理したが、非常に疲労してしまった。【肉体ダメージ1点】\"], [3, \"タスク処理の過程で負傷してしまった。【肉体ダメージ1点】\"], [4, \"恐怖や混乱、ストレスなどで精神の均衡を崩してしまった。【精神ダメージ1点】\"], [5, \"過去のトラウマなどを思い出し、気分が沈んでしまった。【精神ダメージ1点】\"], [6, \"自身の信用をキズつけたり、汚名を背負ってしまった。【環境ダメージ1点】\"], [7, \"会社や上司の不興を買ってしまった。【環境ダメージ1点】\"], [8, \"疲労困憊で動くこともままならない。【肉体ダメージ1点＋精神ダメージ1点】\"], [9, \"負傷したうえ、会社に損害を与えてしまった。【肉体ダメージ1点＋環境ダメージ1点】\"], [10, \"上司から厳しく叱責され、まずい立場になった。【精神ダメージ1点＋環境ダメージ1点】\"]];\n          return self.$get_1d10_table_result(name, table);\n        }, $TokyoGhostResearch_tgr_common_trouble_table$5.$$arity = 0);\n        \n        Opal.def(self, '$get_1d10_table_result', $TokyoGhostResearch_get_1d10_table_result$6 = function $$get_1d10_table_result(name, table) {\n          var self = this, dice = nil, output = nil;\n\n          \n          dice = self.randomizer.$roll_once(10);\n          output = self.$get_table_by_number(dice, table);\n          return self.$get_table_result(name, dice, output);\n        }, $TokyoGhostResearch_get_1d10_table_result$6.$$arity = 2);\n        return (Opal.def(self, '$get_table_result', $TokyoGhostResearch_get_table_result$7 = function $$get_table_result(name, dice, output) {\n          var self = this;\n\n          return \"\" + (name) + \"(\" + (dice) + \") ＞ \" + (output)\n        }, $TokyoGhostResearch_get_table_result$7.$$arity = 3), nil) && 'get_table_result';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Pendragon');\n\n        var $nesting = [self].concat($parent_nesting), $Pendragon_result_1d20$1;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"Pendragon\");\n        Opal.const_set($nesting[0], 'NAME', \"ペンドラゴン\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"へんとらこん\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"クリティカル、成功、失敗、ファンブルの自動判定を行います。\\n\");\n        return (Opal.def(self, '$result_1d20', $Pendragon_result_1d20$1 = function $$result_1d20(total, _dice_total, cmp_op, target) {\n          var self = this, $ret_or_1 = nil;\n\n          \n          if (target['$=='](\"?\")) {\n            return $$($nesting, 'Result').$nothing()};\n          if (cmp_op['$=='](\"<=\")) {\n          } else {\n            return nil\n          };\n          if ($truthy($rb_le(total, target))) {\n            if ($truthy((function() {if ($truthy(($ret_or_1 = $rb_ge(total, $rb_minus(40, target))))) {\n              return $ret_or_1\n            } else {\n              \n              return total['$=='](target);\n            }; return nil; })())) {\n              return $$($nesting, 'Result').$critical(\"クリティカル\")\n            } else {\n              return $$($nesting, 'Result').$success(\"成功\")\n            }\n          } else if (total['$=='](20)) {\n            return $$($nesting, 'Result').$fumble(\"ファンブル\")\n          } else {\n            return $$($nesting, 'Result').$failure(\"失敗\")\n          };\n        }, $Pendragon_result_1d20$1.$$arity = 4), nil) && 'result_1d20';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy, $send = Opal.send, $hash2 = Opal.hash2;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Fiasco');\n\n        var $nesting = [self].concat($parent_nesting), $Fiasco_eval_game_system_specific_command$1, $Fiasco_roll_fs$2, $Fiasco_roll_white_black_single$5, $Fiasco_roll_white_black$6, $Fiasco_color$7;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"Fiasco\");\n        Opal.const_set($nesting[0], 'NAME', \"フィアスコ\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"ふいあすこ\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"  ・判定コマンド(FSx, WxBx)\\n\" + \"    相関図・転落要素用(FSx)：相関図や転落要素のためにx個ダイスを振り、出目ごとに分類する\\n\" + \"    黒白差分判定用(WxBx)  ：転落、残響のために白ダイス(W指定)と黒ダイス(B指定)で差分を求める\\n\" + \"      ※ WとBは片方指定(Bx, Wx)、入替指定(WxBx,BxWx)可能\\n\");\n        self.$register_prefix(\"FS\", \"W\", \"B\");\n        \n        Opal.def(self, '$eval_game_system_specific_command', $Fiasco_eval_game_system_specific_command$1 = function $$eval_game_system_specific_command(command) {\n          var self = this, $ret_or_1 = nil, $ret_or_2 = nil;\n\n          if ($truthy(($ret_or_1 = (function() {if ($truthy(($ret_or_2 = self.$roll_fs(command)))) {\n            return $ret_or_2\n          } else {\n            return self.$roll_white_black(command)\n          }; return nil; })()))) {\n            return $ret_or_1\n          } else {\n            return self.$roll_white_black_single(command)\n          }\n        }, $Fiasco_eval_game_system_specific_command$1.$$arity = 1);\n        self.$private();\n        \n        Opal.def(self, '$roll_fs', $Fiasco_roll_fs$2 = function $$roll_fs(command) {\n          var $$3, $$4, self = this, m = nil, dice_count = nil, dice_list = nil, bucket = nil;\n\n          \n          m = /^FS(\\d+)$/.$match(command);\n          if ($truthy(m)) {\n          } else {\n            return nil\n          };\n          dice_count = m['$[]'](1).$to_i();\n          dice_list = self.randomizer.$roll_barabara(dice_count, 6);\n          bucket = [nil, 0, 0, 0, 0, 0, 0];\n          $send(dice_list, 'each', [], ($$3 = function(val){var self = $$3.$$s == null ? this : $$3.$$s, $writer = nil;\n\n          \n            \n            if (val == null) {\n              val = nil;\n            };\n            $writer = [val, $rb_plus(bucket['$[]'](val), 1)];\n            $send(bucket, '[]=', Opal.to_a($writer));\n            return $writer[$rb_minus($writer[\"length\"], 1)];}, $$3.$$s = self, $$3.$$arity = 1, $$3));\n          $send(bucket, 'map!', [], ($$4 = function(count){var self = $$4.$$s == null ? this : $$4.$$s;\n\n          \n            \n            if (count == null) {\n              count = nil;\n            };\n            return self.$translate(\"Fiasco.fs.count\", $hash2([\"count\"], {\"count\": count}));}, $$4.$$s = self, $$4.$$arity = 1, $$4));\n          return \"\" + \"1 => \" + (bucket['$[]'](1)) + \", 2 => \" + (bucket['$[]'](2)) + \", 3 => \" + (bucket['$[]'](3)) + \", 4 => \" + (bucket['$[]'](4)) + \", 5 => \" + (bucket['$[]'](5)) + \", 6 => \" + (bucket['$[]'](6));\n        }, $Fiasco_roll_fs$2.$$arity = 1);\n        \n        Opal.def(self, '$roll_white_black_single', $Fiasco_roll_white_black_single$5 = function $$roll_white_black_single(command) {\n          var self = this, m = nil, a = nil, result = nil;\n\n          \n          m = /^([WB])(\\d+)$/.$match(command);\n          if ($truthy(m)) {\n          } else {\n            return nil\n          };\n          a = $$($nesting, 'Side').$new(self.$color(m['$[]'](1)), m['$[]'](2).$to_i());\n          result = a.$roll(self.randomizer);\n          return \"\" + (result) + \" ＞ \" + (a.$color()) + (a.$total());\n        }, $Fiasco_roll_white_black_single$5.$$arity = 1);\n        \n        Opal.def(self, '$roll_white_black', $Fiasco_roll_white_black$6 = function $$roll_white_black(command) {\n          var self = this, m = nil, $case = nil, a = nil, result_a = nil, b = nil, result_b = nil;\n\n          \n          m = /^([WB])(\\d+)([WB])(\\d+)$/.$match(command);\n          if ($truthy(m)) {\n          } else {\n            return nil\n          };\n          $case = command;\n          if (/^W\\d+W\\d+$/['$===']($case)) {return \"\" + (command) + \"：\" + (self.$translate(\"Fiasco.wb.duplicate_error.white\"))}\n          else if (/^B\\d+B\\d+$/['$===']($case)) {return \"\" + (command) + \"：\" + (self.$translate(\"Fiasco.wb.duplicate_error.black\"))};\n          a = $$($nesting, 'Side').$new(self.$color(m['$[]'](1)), m['$[]'](2).$to_i());\n          result_a = a.$roll(self.randomizer);\n          b = $$($nesting, 'Side').$new(self.$color(m['$[]'](3)), m['$[]'](4).$to_i());\n          result_b = b.$roll(self.randomizer);\n          return \"\" + (result_a) + \" \" + (result_b) + \" ＞ \" + (a.$diff(b));\n        }, $Fiasco_roll_white_black$6.$$arity = 1);\n        \n        Opal.def(self, '$color', $Fiasco_color$7 = function $$color(c) {\n          var self = this;\n\n          if (c['$=='](\"W\")) {\n            return self.$translate(\"Fiasco.white\")\n          } else {\n            return self.$translate(\"Fiasco.black\")\n          }\n        }, $Fiasco_color$7.$$arity = 1);\n        return (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'Side');\n\n          var $nesting = [self].concat($parent_nesting), $Side_initialize$8, $Side_roll$9, $Side_diff$10;\n\n          self.$$prototype.count = self.$$prototype.dice_list = self.$$prototype.color = self.$$prototype.total = nil;\n          \n          \n          Opal.def(self, '$initialize', $Side_initialize$8 = function $$initialize(color, count) {\n            var self = this;\n\n            \n            self.color = color;\n            return (self.count = count);\n          }, $Side_initialize$8.$$arity = 2);\n          \n          Opal.def(self, '$roll', $Side_roll$9 = function $$roll(randomizer) {\n            var self = this;\n\n            \n            self.dice_list = (function() {if (self.count['$=='](0)) {\n              return [0]\n            } else {\n              return randomizer.$roll_barabara(self.count, 6)\n            }; return nil; })();\n            self.total = self.dice_list.$sum();\n            return \"\" + (self.color) + (self.total) + \"[\" + (self.dice_list.$join(\",\")) + \"]\";\n          }, $Side_roll$9.$$arity = 1);\n          \n          Opal.def(self, '$diff', $Side_diff$10 = function $$diff(other) {\n            var self = this;\n\n            if (self.total['$=='](other.$total())) {\n              return \"0\"\n            } else if ($truthy($rb_gt(self.total, other.$total()))) {\n              return \"\" + (self.color) + ($rb_minus(self.total, other.$total()))\n            } else {\n              return \"\" + (other.$color()) + ($rb_minus(other.$total(), self.total))\n            }\n          }, $Side_diff$10.$$arity = 1);\n          return self.$attr_reader(\"color\", \"total\");\n        })($nesting[0], null, $nesting);\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'ShadowRun4');\n\n        var $nesting = [self].concat($parent_nesting), $ShadowRun4_initialize$1, $ShadowRun4_grich_text$2;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"ShadowRun4\");\n        Opal.const_set($nesting[0], 'NAME', \"シャドウラン 4th Edition\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"しやとうらん4\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"個数振り足しロール(xRn)の境界値を6にセット、バラバラロール(xBn)の目標値を5以上にセットします。\\n\" + \"BコマンドとRコマンド時に、グリッチの表示を行います。\\n\");\n        \n        Opal.def(self, '$initialize', $ShadowRun4_initialize$1 = function $$initialize(command) {\n          var $iter = $ShadowRun4_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $ShadowRun4_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $ShadowRun4_initialize$1, false, true), 'initialize', [command], null);\n          self.sort_add_dice = true;\n          self.sort_barabara_dice = true;\n          self.reroll_dice_reroll_threshold = 6;\n          self.default_cmp_op = \">=\";\n          return (self.default_target_number = 5);\n        }, $ShadowRun4_initialize$1.$$arity = 1);\n        return (Opal.def(self, '$grich_text', $ShadowRun4_grich_text$2 = function $$grich_text(numberSpot1, dice_cnt_total, successCount) {\n          var self = this, dice_cnt_total_half = nil;\n\n          \n          dice_cnt_total_half = $rb_divide($rb_times(1.0, dice_cnt_total), 2);\n          self.$debug(\"dice_cnt_total_half\", dice_cnt_total_half);\n          if ($truthy($rb_ge(numberSpot1, dice_cnt_total_half))) {\n          } else {\n            return nil\n          };\n          if (successCount['$=='](0)) {\n            return \"クリティカルグリッチ\"\n          } else {\n            return \"グリッチ\"\n          };\n        }, $ShadowRun4_grich_text$2.$$arity = 3), nil) && 'grich_text';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'LostRecord');\n\n        var $nesting = [self].concat($parent_nesting), $LostRecord_initialize$1;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"LostRecord\");\n        Opal.const_set($nesting[0], 'NAME', \"ロストレコード\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"ろすとれこおと\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"※このダイスボットは部屋のシステム名表示用となります。\\n\" + \"D66を振った時、小さい目が十の位になります。\\n\");\n        return (Opal.def(self, '$initialize', $LostRecord_initialize$1 = function $$initialize(command) {\n          var $iter = $LostRecord_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $LostRecord_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $LostRecord_initialize$1, false, true), 'initialize', [command], null);\n          return (self.d66_sort_type = $$$($$($nesting, 'D66SortType'), 'ASC'));\n        }, $LostRecord_initialize$1.$$arity = 1), nil) && 'initialize';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Avandner');\n\n        var $nesting = [self].concat($parent_nesting), $Avandner_initialize$1, $Avandner_eval_game_system_specific_command$2, $Avandner_checkRoll$3;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"Avandner\");\n        Opal.const_set($nesting[0], 'NAME', \"黒絢のアヴァンドナー\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"こつけんのあうあんとなあ\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・調査判定：nAVm[Cx]\\n\" + \"・命中判定：nAVm*p[+t][Cx]\\n\" + \"[]内は省略可能。\\n\" + \"\\n\" + \"クリティカルヒットの分だけ、自動で振り足し処理を行います。0\\n\" + \"「n」でダイス数を指定。\\n\" + \"「m」で目標値を指定。省略は出来ません。\\n\" + \"「Cx」でクリティカル値を指定。省略時は「1」、最大値は「2」、「0」でクリティカル無し。\\n\" + \"「p」で攻撃力を指定。「*」は「x」でも可。\\n\" + \"「+t」でクリティカルトリガーを指定。省略可能です。\\n\" + \"攻撃力指定で命中判定となり、成功数ではなく、ダメージを結果表示します。\\n\" + \"\\n\" + \"【書式例】\\n\" + \"・5AV3 → 5d10で目標値3。\\n\" + \"・6AV2C0 → 6d10で目標値2。クリティカル無し。\\n\" + \"・4AV3*5 → 4d10で目標値3、攻撃力5の命中判定。\\n\" + \"・7AV2x10 → 7d10で目標値2、攻撃力10の命中判定。\\n\" + \"・8av4*7+10 → 8d10で目標値4、攻撃力7、クリティカルトリガー10の命中判定。\\n\");\n        self.$register_prefix(\"\\\\d+AV\");\n        \n        Opal.def(self, '$initialize', $Avandner_initialize$1 = function $$initialize(command) {\n          var $iter = $Avandner_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $Avandner_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $Avandner_initialize$1, false, true), 'initialize', [command], null);\n          return (self.sort_add_dice = true);\n        }, $Avandner_initialize$1.$$arity = 1);\n        \n        Opal.def(self, '$eval_game_system_specific_command', $Avandner_eval_game_system_specific_command$2 = function $$eval_game_system_specific_command(command) {\n          var self = this, diceCount = nil, target = nil, damage = nil, $ret_or_1 = nil, criticalTrigger = nil, $ret_or_2 = nil, criticalNumber = nil, $ret_or_3 = nil;\n\n          \n          if ($truthy(command['$=~'](/(\\d+)AV(\\d+)((x|\\*)(\\d+))?(\\+(\\d+))?(C(\\d+))?$/i))) {\n            \n            diceCount = $$($nesting, 'Regexp').$last_match(1).$to_i();\n            target = $$($nesting, 'Regexp').$last_match(2).$to_i();\n            damage = (function() {if ($truthy(($ret_or_1 = $$($nesting, 'Regexp').$last_match(5)))) {\n              return $ret_or_1\n            } else {\n              return 0\n            }; return nil; })().$to_i();\n            criticalTrigger = (function() {if ($truthy(($ret_or_2 = $$($nesting, 'Regexp').$last_match(7)))) {\n              return $ret_or_2\n            } else {\n              return 0\n            }; return nil; })().$to_i();\n            criticalNumber = (function() {if ($truthy(($ret_or_3 = $$($nesting, 'Regexp').$last_match(9)))) {\n              return $ret_or_3\n            } else {\n              return 1\n            }; return nil; })().$to_i();\n            if ($truthy($rb_gt(criticalNumber, 3))) {\n              criticalNumber = 2};\n            return self.$checkRoll(diceCount, target, damage, criticalTrigger, criticalNumber);};\n          return nil;\n        }, $Avandner_eval_game_system_specific_command$2.$$arity = 1);\n        return (Opal.def(self, '$checkRoll', $Avandner_checkRoll$3 = function $$checkRoll(diceCount, target, damage, criticalTrigger, criticalNumber) {\n          var $a, $$4, $$5, self = this, totalSuccessCount = nil, totalCriticalCount = nil, text = nil, rollCount = nil, diceArray = nil, diceText = nil, successCount = nil, criticalCount = nil, result = nil, isDamage = nil, totalDamage = nil;\n\n          \n          totalSuccessCount = 0;\n          totalCriticalCount = 0;\n          text = \"\";\n          rollCount = diceCount;\n          while ($truthy($rb_gt(rollCount, 0))) {\n            \n            diceArray = self.randomizer.$roll_barabara(rollCount, 10).$sort();\n            diceText = diceArray.$join(\",\");\n            successCount = $send(diceArray, 'count', [], ($$4 = function(i){var self = $$4.$$s == null ? this : $$4.$$s;\n\n            \n              \n              if (i == null) {\n                i = nil;\n              };\n              return $rb_le(i, target);}, $$4.$$s = self, $$4.$$arity = 1, $$4));\n            criticalCount = $send(diceArray, 'count', [], ($$5 = function(i){var self = $$5.$$s == null ? this : $$5.$$s;\n\n            \n              \n              if (i == null) {\n                i = nil;\n              };\n              return $rb_le(i, criticalNumber);}, $$5.$$s = self, $$5.$$arity = 1, $$5));\n            totalSuccessCount = $rb_plus(totalSuccessCount, successCount);\n            totalCriticalCount = $rb_plus(totalCriticalCount, criticalCount);\n            if ($truthy(text['$empty?']())) {\n            } else {\n              text = $rb_plus(text, \"+\")\n            };\n            text = $rb_plus(text, \"\" + (successCount) + \"[\" + (diceText) + \"]\");\n            rollCount = criticalCount;\n          };\n          result = \"\";\n          isDamage = damage['$!='](0);\n          if ($truthy(isDamage)) {\n            \n            totalDamage = $rb_plus($rb_times(totalSuccessCount, damage), $rb_times(totalCriticalCount, criticalTrigger));\n            result = $rb_plus(result, \"\" + \"(\" + (diceCount) + \"D10<=\" + (target) + \") ＞ \" + (text) + \" ＞ Hits：\" + (totalSuccessCount) + \"*\" + (damage));\n            if ($truthy($rb_gt(criticalTrigger, 0))) {\n              result = $rb_plus(result, \"\" + \" + Trigger：\" + (totalCriticalCount) + \"*\" + (criticalTrigger))};\n            result = $rb_plus(result, \"\" + \" ＞ \" + (totalDamage) + \"ダメージ\");\n          } else {\n            result = $rb_plus(result, \"\" + \"(\" + (diceCount) + \"D10<=\" + (target) + \") ＞ \" + (text) + \" ＞ 成功数：\" + (totalSuccessCount))\n          };\n          if ($truthy($rb_gt(totalCriticalCount, 0))) {\n            result = $rb_plus(result, \"\" + \" / \" + (totalCriticalCount) + \"クリティカル\")};\n          return result;\n        }, $Avandner_checkRoll$3.$$arity = 5), nil) && 'checkRoll';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send = Opal.send, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'AFF2e');\n\n        var $nesting = [self].concat($parent_nesting), $AFF2e_explicit_sign$1, $AFF2e_eval_term$2, $AFF2e_parentheses$4, $AFF2e_successful_or_failed$5, $AFF2e_critical$6, $AFF2e_clamp$7, $AFF2e_eval_game_system_specific_command$8;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"AFF2e\");\n        Opal.const_set($nesting[0], 'NAME', \"ADVANCED FIGHTING FANTASY 2nd Edition\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"あとはんすとふあいていんくふあんたしい2\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"対抗なしロール\\tFF{目標値}+{補正}\\n\" + \"対抗ロール\\tFR{能力値}+{補正}\\n\" + \"武器ロール\\tFD[2,3,3,3,3,3,4]+{補正}\\n\" + \"防具ロール\\tFD[0,0,0,0,1+1,1+1,2+2]+{補正}\\n\");\n        self.$register_prefix(\"FF.+\", \"FR.+\", \"FD.+\");\n        \n        Opal.def(self, '$explicit_sign', $AFF2e_explicit_sign$1 = function $$explicit_sign(i) {\n          var self = this;\n\n          return self.$format(\"%+d\", i)\n        }, $AFF2e_explicit_sign$1.$$arity = 1);\n        \n        Opal.def(self, '$eval_term', $AFF2e_eval_term$2 = function $$eval_term(term) {\n          var $$3, self = this, value = nil;\n\n          \n          value = 0;\n          $send(term, 'scan', [/[+-]?\\d+/], ($$3 = function(fact){var self = $$3.$$s == null ? this : $$3.$$s;\n\n          \n            \n            if (fact == null) {\n              fact = nil;\n            };\n            return (value = $rb_plus(value, fact.$to_i()));}, $$3.$$s = self, $$3.$$arity = 1, $$3));\n          return value;\n        }, $AFF2e_eval_term$2.$$arity = 1);\n        \n        Opal.def(self, '$parentheses', $AFF2e_parentheses$4 = function $$parentheses(str) {\n          var self = this;\n\n          return $rb_plus($rb_plus(\"(\", str), \")\")\n        }, $AFF2e_parentheses$4.$$arity = 1);\n        \n        Opal.def(self, '$successful_or_failed', $AFF2e_successful_or_failed$5 = function $$successful_or_failed(total, diff) {\n          var self = this, $case = nil;\n\n          return (function() {$case = total;\n          if ((2)['$===']($case)) {if ($truthy($rb_le(diff, 1))) {\n            return \"成功（大成功ではない）\"\n          } else {\n            return \"大成功！\"\n          }}\n          else if ((12)['$===']($case)) {if ($truthy($rb_ge(diff, 12))) {\n            return \"失敗（大失敗ではない）\"\n          } else {\n            return \"大失敗！\"\n          }}\n          else {if ($truthy($rb_le(total, diff))) {\n            return \"成功\"\n          } else {\n            return \"失敗\"\n          }}})()\n        }, $AFF2e_successful_or_failed$5.$$arity = 2);\n        \n        Opal.def(self, '$critical', $AFF2e_critical$6 = function $$critical(total) {\n          var self = this, $case = nil;\n\n          return (function() {$case = total;\n          if ((2)['$===']($case)) {return \"ファンブル！\"}\n          else if ((12)['$===']($case)) {return \"強打！\"}\n          else { return nil }})()\n        }, $AFF2e_critical$6.$$arity = 1);\n        \n        Opal.def(self, '$clamp', $AFF2e_clamp$7 = function $$clamp(i, min, max) {\n          var self = this;\n\n          if ($truthy($rb_lt(i, min))) {\n            return min\n          } else if ($truthy($rb_gt(i, max))) {\n            return max\n          } else {\n            return i\n          }\n        }, $AFF2e_clamp$7.$$arity = 3);\n        return (Opal.def(self, '$eval_game_system_specific_command', $AFF2e_eval_game_system_specific_command$8 = function $$eval_game_system_specific_command(command) {\n          var $$9, self = this, $case = nil, md = nil, term = nil, diff = nil, dice_command = nil, dice_list = nil, total = nil, dice_str = nil, expr = nil, succ = nil, sequence = nil, corr = nil, crit = nil, damage_slots = nil, slot_number = nil, damage = nil, result = nil;\n\n          \n          $case = command;\n          if (/^FF/['$===']($case)) {\n          md = $$($nesting, 'Regexp').$last_match();\n          term = md.$post_match();\n          diff = self.$eval_term(term);\n          dice_command = \"\" + \"2D6<=\" + (diff);\n          dice_list = self.randomizer.$roll_barabara(2, 6);\n          total = dice_list.$sum();\n          dice_str = dice_list.$join(\",\");\n          expr = \"\" + (total) + \"[\" + (dice_str) + \"]\";\n          succ = self.$successful_or_failed(total, diff);\n          sequence = [self.$parentheses(dice_command), expr, succ];}\n          else if (/^FR/['$===']($case)) {\n          md = $$($nesting, 'Regexp').$last_match();\n          term = md.$post_match();\n          corr = self.$eval_term(term);\n          dice_command = \"\" + \"2D6\" + (self.$explicit_sign(corr));\n          dice_list = self.randomizer.$roll_barabara(2, 6);\n          total = dice_list.$sum();\n          dice_str = dice_list.$join(\",\");\n          expr = \"\" + (total) + \"[\" + (dice_str) + \"]\" + (self.$explicit_sign(corr));\n          crit = self.$critical(total);\n          sequence = [self.$parentheses(dice_command), expr, crit, $rb_plus(total, corr)].$compact();}\n          else if (/^FD/['$===']($case)) {\n          md = $$($nesting, 'Regexp').$last_match();\n          term = md.$post_match();\n          md = /^\\[(.+)\\]/.$match(term);\n          if ($truthy(md)) {\n          } else {\n            return \"ダメージスロットは必須です。\"\n          };\n          term = md.$post_match();\n          damage_slots = $send(md['$[]'](1).$split(\",\"), 'map', [], ($$9 = function(t){var self = $$9.$$s == null ? this : $$9.$$s;\n\n          \n            \n            if (t == null) {\n              t = nil;\n            };\n            return self.$eval_term(t);}, $$9.$$s = self, $$9.$$arity = 1, $$9));\n          if ($truthy(damage_slots.$size()['$!='](7))) {\n            return \"ダメージスロットの長さに誤りがあります。\"};\n          corr = self.$eval_term(term);\n          dice_command = \"\" + \"1D6\" + (self.$explicit_sign(corr));\n          total = self.randomizer.$roll_once(6);\n          expr = \"\" + (total) + (self.$explicit_sign(corr));\n          slot_number = self.$clamp($rb_plus(total, corr), 1, 7);\n          damage = damage_slots['$[]']($rb_minus(slot_number, 1));\n          sequence = [self.$parentheses(dice_command), expr, $rb_plus(total, corr), \"\" + (damage) + \"ダメージ\"];};\n          result = sequence.$join(\" ＞ \");\n          return result;\n        }, $AFF2e_eval_game_system_specific_command$8.$$arity = 1), nil) && 'eval_game_system_specific_command';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/game_system/DungeonsAndDragons\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'DungeonsAndDragons');\n\n        var $nesting = [self].concat($parent_nesting);\n\n        \n        Opal.const_set($nesting[0], 'ID', \"DungeonsAndDragons\");\n        Opal.const_set($nesting[0], 'NAME', \"ダンジョンズ＆ドラゴンズ\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"たんしよんすあんととらこんす\");\n        return Opal.const_set($nesting[0], 'HELP_MESSAGE', \"※このダイスボットは部屋のシステム名表示用となります。\\n\");\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass;\n\n  \n  self.$require(\"bcdice/game_system/DungeonsAndDragons\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Pathfinder');\n\n        var $nesting = [self].concat($parent_nesting);\n\n        \n        Opal.const_set($nesting[0], 'ID', \"Pathfinder\");\n        Opal.const_set($nesting[0], 'NAME', \"Pathfinder\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"はすふあいんたあ\");\n        return Opal.const_set($nesting[0], 'HELP_MESSAGE', \"※このダイスボットは部屋のシステム名表示用となります。\\n\");\n      })($nesting[0], $$($nesting, 'DungeonsAndDragons'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/game_system/ShadowRun4\"] = function(Opal) {\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'ShadowRun4');\n\n        var $nesting = [self].concat($parent_nesting), $ShadowRun4_initialize$1, $ShadowRun4_grich_text$2;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"ShadowRun4\");\n        Opal.const_set($nesting[0], 'NAME', \"シャドウラン 4th Edition\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"しやとうらん4\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"個数振り足しロール(xRn)の境界値を6にセット、バラバラロール(xBn)の目標値を5以上にセットします。\\n\" + \"BコマンドとRコマンド時に、グリッチの表示を行います。\\n\");\n        \n        Opal.def(self, '$initialize', $ShadowRun4_initialize$1 = function $$initialize(command) {\n          var $iter = $ShadowRun4_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $ShadowRun4_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $ShadowRun4_initialize$1, false, true), 'initialize', [command], null);\n          self.sort_add_dice = true;\n          self.sort_barabara_dice = true;\n          self.reroll_dice_reroll_threshold = 6;\n          self.default_cmp_op = \">=\";\n          return (self.default_target_number = 5);\n        }, $ShadowRun4_initialize$1.$$arity = 1);\n        return (Opal.def(self, '$grich_text', $ShadowRun4_grich_text$2 = function $$grich_text(numberSpot1, dice_cnt_total, successCount) {\n          var self = this, dice_cnt_total_half = nil;\n\n          \n          dice_cnt_total_half = $rb_divide($rb_times(1.0, dice_cnt_total), 2);\n          self.$debug(\"dice_cnt_total_half\", dice_cnt_total_half);\n          if ($truthy($rb_ge(numberSpot1, dice_cnt_total_half))) {\n          } else {\n            return nil\n          };\n          if (successCount['$=='](0)) {\n            return \"クリティカルグリッチ\"\n          } else {\n            return \"グリッチ\"\n          };\n        }, $ShadowRun4_grich_text$2.$$arity = 3), nil) && 'grich_text';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $truthy = Opal.truthy;\n\n  \n  self.$require(\"bcdice/game_system/ShadowRun4\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'ShadowRun5');\n\n        var $nesting = [self].concat($parent_nesting), $ShadowRun5_initialize$1, $ShadowRun5_eval_game_system_specific_command$2, $ShadowRun5_grich_text$3;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"ShadowRun5\");\n        Opal.const_set($nesting[0], 'NAME', \"シャドウラン 5th Edition\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"しやとうらん5\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"個数振り足しロール(xRn)の境界値を6にセット、バラバラロール(xBn)の目標値を5以上にセットします。\\n\" + \"バラバラロール(xBn)のみ、リミットをセットできます。リミットの指定は(xBn@l)のように指定します。(省略可)\\n\" + \"BコマンドとRコマンド時に、グリッチの表示を行います。\\n\");\n        self.$register_prefix(\"(\\\\d+)B6@(\\\\d+)\");\n        \n        Opal.def(self, '$initialize', $ShadowRun5_initialize$1 = function $$initialize(command) {\n          var $iter = $ShadowRun5_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $ShadowRun5_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $ShadowRun5_initialize$1, false, true), 'initialize', [command], null);\n          self.sort_add_dice = true;\n          self.sort_barabara_dice = true;\n          self.reroll_dice_reroll_threshold = 6;\n          self.default_cmp_op = \">=\";\n          return (self.default_target_number = 5);\n        }, $ShadowRun5_initialize$1.$$arity = 1);\n        \n        Opal.def(self, '$eval_game_system_specific_command', $ShadowRun5_eval_game_system_specific_command$2 = function $$eval_game_system_specific_command(command) {\n          var self = this, m = nil, b_dice = nil, limit = nil, output_before_limited = nil, output_after_limited = nil, before_suc_cnt = nil, after_suc_cnt = nil, over_suc_cnt = nil, output = nil;\n\n          \n          self.$debug(\"chatch limit prefix\");\n          m = /(\\d+B6)@(\\d+)/.$match(command);\n          b_dice = m['$[]'](1);\n          limit = m['$[]'](2).$to_i();\n          output_before_limited = $$$($$$($$($nesting, 'BCDice'), 'CommonCommand'), 'BarabaraDice').$eval(b_dice, self, self.randomizer).$text();\n          m = /成功数(\\d+)/.$match(output_before_limited);\n          output_after_limited = output_before_limited;\n          before_suc_cnt = m['$[]'](1).$to_i();\n          if ($truthy($rb_gt(before_suc_cnt, limit))) {\n            \n            after_suc_cnt = limit;\n            over_suc_cnt = $rb_minus(before_suc_cnt, limit);\n            output_after_limited = output_before_limited.$gsub(/成功数(\\d+)/, \"\" + \"成功数\" + (after_suc_cnt));\n            output_after_limited = $rb_plus(output_after_limited, \"\" + \"(リミット超過\" + (over_suc_cnt) + \")\");};\n          output = output_after_limited;\n          output = output.$gsub(\"B\", \"B6\");\n          output = output.$gsub(\"6>=5\", \"\" + \"[6]Limit[\" + (limit) + \"]>=5\");\n          self.$debug(output);\n          return output;\n        }, $ShadowRun5_eval_game_system_specific_command$2.$$arity = 1);\n        return (Opal.def(self, '$grich_text', $ShadowRun5_grich_text$3 = function $$grich_text(numberSpot1, dice_cnt_total, successCount) {\n          var self = this, dice_cnt_total_half = nil;\n\n          \n          dice_cnt_total_half = $rb_divide(dice_cnt_total.$to_f(), 2);\n          self.$debug(\"dice_cnt_total_half\", dice_cnt_total_half);\n          if ($truthy($rb_gt(numberSpot1, dice_cnt_total_half))) {\n          } else {\n            return nil\n          };\n          if (successCount['$=='](0)) {\n            return \"クリティカルグリッチ\"\n          } else {\n            return \"グリッチ\"\n          };\n        }, $ShadowRun5_grich_text$3.$$arity = 3), nil) && 'grich_text';\n      })($nesting[0], $$($nesting, 'ShadowRun4'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $hash2 = Opal.hash2, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'TokumeiTenkousei');\n\n        var $nesting = [self].concat($parent_nesting), $TokumeiTenkousei_initialize$1, $TokumeiTenkousei_eval_game_system_specific_command$2, $TokumeiTenkousei_same_all_dice$ques$3, $TokumeiTenkousei_interim_expr$4, $TokumeiTenkousei_epp$6;\n\n        self.$$prototype.randomizer = self.$$prototype.dice_list = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"TokumeiTenkousei\");\n        Opal.const_set($nesting[0], 'NAME', \"特命転攻生\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"とくめいてんこうせい\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・判定 (xD6+y>=n)\\n\" + \"　ゾロ目での自動振り足し\\n\" + \"　1の出目に応じてEPPの獲得量を表示\\n\" + \"　目標値 \\\"?\\\" には未対応\\n\");\n        \n        Opal.def(self, '$initialize', $TokumeiTenkousei_initialize$1 = function $$initialize(command) {\n          var $iter = $TokumeiTenkousei_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $TokumeiTenkousei_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $TokumeiTenkousei_initialize$1, false, true), 'initialize', [command], null);\n          return (self.sort_add_dice = true);\n        }, $TokumeiTenkousei_initialize$1.$$arity = 1);\n        self.$register_prefix(\"\\\\d+D6\");\n        \n        Opal.def(self, '$eval_game_system_specific_command', $TokumeiTenkousei_eval_game_system_specific_command$2 = function $$eval_game_system_specific_command(command) {\n          var $a, self = this, parser = nil, cmd = nil, times = nil, dice_list = nil, dice_list_flatten = nil, dice_total = nil, count_one = nil, total = nil, result = nil, sequence = nil;\n\n          \n          parser = $$$($$($nesting, 'Command'), 'Parser').$new(/\\d+D6/, $hash2([\"round_type\"], {\"round_type\": self.$round_type()}));\n          cmd = parser.$parse(command);\n          if ($truthy(cmd)) {\n          } else {\n            return nil\n          };\n          times = cmd.$command().$to_i();\n          dice_list = self.randomizer.$roll_barabara(times, 6).$sort();\n          self.dice_list = [dice_list];\n          while ($truthy(self['$same_all_dice?'](dice_list))) {\n            \n            dice_list = self.randomizer.$roll_barabara(times, 6).$sort();\n            self.dice_list.$push(dice_list);\n          };\n          dice_list_flatten = self.dice_list.$flatten();\n          dice_total = dice_list_flatten.$sum();\n          count_one = dice_list_flatten.$count(1);\n          total = $rb_plus(dice_total, cmd.$modify_number());\n          result = (function() {if ($truthy(cmd.$cmp_op())) {\n            if ($truthy(total.$send(cmd.$cmp_op(), cmd.$target_number()))) {\n              return \"成功\"\n            } else {\n              return \"失敗\"\n            }\n          } else {\n            return nil\n          }; return nil; })();\n          sequence = [\"\" + \"(\" + (cmd) + \")\", self.$interim_expr(cmd, dice_total), total.$to_s(), result, self.$epp(count_one)].$compact();\n          return sequence.$join(\" ＞ \");\n        }, $TokumeiTenkousei_eval_game_system_specific_command$2.$$arity = 1);\n        \n        Opal.def(self, '$same_all_dice?', $TokumeiTenkousei_same_all_dice$ques$3 = function(dice_list) {\n          var self = this, $ret_or_1 = nil;\n\n          if ($truthy(($ret_or_1 = $rb_gt(dice_list.$size(), 1)))) {\n            return dice_list.$uniq().$size()['$=='](1)\n          } else {\n            return $ret_or_1\n          }\n        }, $TokumeiTenkousei_same_all_dice$ques$3.$$arity = 1);\n        \n        Opal.def(self, '$interim_expr', $TokumeiTenkousei_interim_expr$4 = function $$interim_expr(cmd, dice_total) {\n          var $$5, self = this, $ret_or_2 = nil, dice_list = nil, modifier = nil;\n\n          \n          if ($truthy((function() {if ($truthy(($ret_or_2 = self.dice_list.$flatten().$size()['$=='](1)))) {\n            return cmd.$modify_number()['$=='](0)\n          } else {\n            return $ret_or_2\n          }; return nil; })())) {\n            return nil};\n          dice_list = $send(self.dice_list, 'map', [], ($$5 = function(ds){var self = $$5.$$s == null ? this : $$5.$$s;\n\n          \n            \n            if (ds == null) {\n              ds = nil;\n            };\n            return \"\" + \"[\" + (ds.$join(\",\")) + \"]\";}, $$5.$$s = self, $$5.$$arity = 1, $$5)).$join(\"\");\n          modifier = $$($nesting, 'Format').$modifier(cmd.$modify_number());\n          return [dice_total.$to_s(), dice_list, modifier].$join(\"\");\n        }, $TokumeiTenkousei_interim_expr$4.$$arity = 2);\n        return (Opal.def(self, '$epp', $TokumeiTenkousei_epp$6 = function $$epp(count_one) {\n          var self = this;\n\n          if ($truthy($rb_gt(count_one, 0))) {\n            return \"\" + ($rb_times(count_one, 5)) + \"EPP獲得\"\n          } else {\n            return nil\n          }\n        }, $TokumeiTenkousei_epp$6.$$arity = 1), nil) && 'epp';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'DiceOfTheDead');\n\n        var $nesting = [self].concat($parent_nesting), $DiceOfTheDead_initialize$1, $DiceOfTheDead_eval_game_system_specific_command$2, $DiceOfTheDead_checkInfection$5, $DiceOfTheDead_rollZombie$7;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"DiceOfTheDead\");\n        Opal.const_set($nesting[0], 'NAME', \"ダイス・オブ・ザ・デッド\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"たいすおふさてつと\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・ゾンビ化表　ZMB+x\\n\" + \"（x=オープン中の感染度マスの数。+xは省略可能、省略時は0）\\n\" + \"・感染度表　BIOx\\n\" + \"（xは被弾回数。xは省略可能、省略時は1）\\n\" + \"（上記二つは最初からシークレットダイスで行われます）\\n\");\n        self.$register_prefix(\"ZMB\", \"BIO\");\n        \n        Opal.def(self, '$initialize', $DiceOfTheDead_initialize$1 = function $$initialize(command) {\n          var $iter = $DiceOfTheDead_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $DiceOfTheDead_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $DiceOfTheDead_initialize$1, false, true), 'initialize', [command], null);\n          self.sort_add_dice = true;\n          return (self.d66_sort_type = $$$($$($nesting, 'D66SortType'), 'ASC'));\n        }, $DiceOfTheDead_initialize$1.$$arity = 1);\n        \n        Opal.def(self, '$eval_game_system_specific_command', $DiceOfTheDead_eval_game_system_specific_command$2 = function $$eval_game_system_specific_command(command) {\n          var $$3, $$4, self = this, $case = nil, roll_times = nil, $ret_or_1 = nil, value = nil;\n\n          return (function() {$case = command;\n          if (/^BIO(\\d+)?$/['$===']($case)) {\n          roll_times = (function() {if ($truthy(($ret_or_1 = $$($nesting, 'Regexp').$last_match(1)))) {\n            return $ret_or_1\n          } else {\n            return 1\n          }; return nil; })().$to_i();\n          return $send($$($nesting, 'Result').$new(), 'tap', [], ($$3 = function(r){var self = $$3.$$s == null ? this : $$3.$$s, $writer = nil;\n\n          \n            \n            if (r == null) {\n              r = nil;\n            };\n            \n            $writer = [true];\n            $send(r, 'secret=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [self.$checkInfection(roll_times)];\n            $send(r, 'text=', Opal.to_a($writer));\n            return $writer[$rb_minus($writer[\"length\"], 1)];;}, $$3.$$s = self, $$3.$$arity = 1, $$3));}\n          else if (/^ZMB(\\+(\\d+))?$/['$===']($case)) {\n          value = $$($nesting, 'Regexp').$last_match(2).$to_i();\n          return $send($$($nesting, 'Result').$new(), 'tap', [], ($$4 = function(r){var self = $$4.$$s == null ? this : $$4.$$s, $writer = nil;\n\n          \n            \n            if (r == null) {\n              r = nil;\n            };\n            \n            $writer = [true];\n            $send(r, 'secret=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [self.$rollZombie(value)];\n            $send(r, 'text=', Opal.to_a($writer));\n            return $writer[$rb_minus($writer[\"length\"], 1)];;}, $$4.$$s = self, $$4.$$arity = 1, $$4));}\n          else { return nil }})()\n        }, $DiceOfTheDead_eval_game_system_specific_command$2.$$arity = 1);\n        \n        Opal.def(self, '$checkInfection', $DiceOfTheDead_checkInfection$5 = function $$checkInfection(roll_times) {\n          var $$6, self = this, result = nil;\n\n          \n          result = \"感染度表\";\n          $send(roll_times, 'times', [], ($$6 = function(){var self = $$6.$$s == null ? this : $$6.$$s, d1 = nil, d2 = nil, index1 = nil, index2 = nil, table = nil;\n            if (self.randomizer == null) self.randomizer = nil;\n\n          \n            d1 = self.randomizer.$roll_once(6);\n            d2 = self.randomizer.$roll_once(6);\n            result = $rb_plus(result, \"\" + \"　＞　出目：\" + (d1) + \"、\" + (d2) + \"　\");\n            index1 = $rb_minus($rb_divide(d1, 2.0).$ceil(), 1);\n            index2 = $rb_minus($rb_divide(d2, 2.0).$ceil(), 1);\n            table = [[\"「右下（【足】＋１）」\", \"「右中（【足】＋１）」\", \"「右上（【足】＋１）」\"], [\"「中下（【腕】＋１）」\", \"「真中（【腕】＋１）」\", \"「中上（【腕】＋１）」\"], [\"「左下（【頭】＋１）」\", \"「左中（【頭】＋１）」\", \"「左上（【頭】＋１）」\"]];\n            return (result = $rb_plus(result, table['$[]'](index1)['$[]'](index2)));}, $$6.$$s = self, $$6.$$arity = 0, $$6));\n          return result;\n        }, $DiceOfTheDead_checkInfection$5.$$arity = 1);\n        return (Opal.def(self, '$rollZombie', $DiceOfTheDead_rollZombie$7 = function $$rollZombie(value) {\n          var $a, $b, self = this, d1 = nil, d2 = nil, diceTotal = nil, table = nil, minDice = nil, maxDice = nil, index = nil, _number = nil, text = nil, result = nil;\n\n          \n          d1 = self.randomizer.$roll_once(6);\n          d2 = self.randomizer.$roll_once(6);\n          diceTotal = $rb_plus($rb_plus(d1, d2), value);\n          table = [[5, \"５以下：影響なし\"], [6, \"６：任意の部位を１点回復\"], [7, \"７：〈アイテム〉武器を１つその場に落とす\"], [8, \"８：〈アイテム〉便利道具１つをその場に落とす\"], [9, \"９：〈アイテム〉消耗品１つをその場に落とす\"], [10, \"１０：腕の傷が広がる。「部位：【腕】」１点ダメージ\"], [11, \"１１：足の傷が広がる。「部位：【足】」１点ダメージ\"], [12, \"１２：頭の傷が広がる。「部位：【頭】」１点ダメージ\"], [13, \"１３：【ゾンビ化表】が新たに適用されるまで「【感染度】＋１マス」の効果を受ける\"], [14, \"１４：即座に自分以外の味方１人のスロット内の〈アイテム〉１つをランダムに捨てさせる\"], [15, \"１５：味方１人に素手で攻撃を行う\"], [16, \"１６：即座に感染度が１上昇する\"], [17, \"１７：次のターンのみ、すべての【能力値】を２倍にする\"], [18, \"１８以上：自分以外の味方１人にできる限り全力で攻撃を行う。〈アイテム〉も可能な限り使用する\"]];\n          minDice = table.$first().$first();\n          maxDice = table.$last().$first();\n          index = diceTotal;\n          index = [minDice, index].$max();\n          index = [index, maxDice].$min();\n          $b = table.$assoc(index), $a = Opal.to_ary($b), (_number = ($a[0] == null ? nil : $a[0])), (text = ($a[1] == null ? nil : $a[1])), $b;\n          result = \"\" + \"ゾンビ化表　＞　出目：\" + (d1) + \"＋\" + (d2) + \"　感染度：\" + (value) + \"　合計値：\" + (diceTotal) + \"　＞　\" + (text);\n          return result;\n        }, $DiceOfTheDead_rollZombie$7.$$arity = 1), nil) && 'rollZombie';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'GoldenSkyStories');\n\n        var $nesting = [self].concat($parent_nesting), $GoldenSkyStories_initialize$1, $GoldenSkyStories_eval_game_system_specific_command$2, $GoldenSkyStories_getaRoll$3;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"GoldenSkyStories\");\n        Opal.const_set($nesting[0], 'NAME', \"ゆうやけこやけ\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"ゆうやけこやけ\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"※「ゆうやけこやけ」はダイスロールを使用しないシステムです。\\n\" + \"※このダイスボットは部屋のシステム名表示用となります。\\n\" + \"\\n\" + \"・下駄占い (GETA)\\n\" + \"  あーしたてんきになーれ\\n\");\n        self.$register_prefix(\"geta\");\n        \n        Opal.def(self, '$initialize', $GoldenSkyStories_initialize$1 = function $$initialize(command) {\n          var $iter = $GoldenSkyStories_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $GoldenSkyStories_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $GoldenSkyStories_initialize$1, false, true), 'initialize', [command], null);\n          return (self.enabled_upcase_input = false);\n        }, $GoldenSkyStories_initialize$1.$$arity = 1);\n        \n        Opal.def(self, '$eval_game_system_specific_command', $GoldenSkyStories_eval_game_system_specific_command$2 = function $$eval_game_system_specific_command(command) {\n          var self = this, result = nil, $case = nil;\n\n          \n          self.$debug(\"eval_game_system_specific_command command\", command);\n          result = \"\";\n          $case = command;\n          if (/geta/i['$===']($case)) {result = self.$getaRoll()};\n          if ($truthy(result['$empty?']())) {\n            return nil};\n          return \"\" + (command) + \" ＞ \" + (result);\n        }, $GoldenSkyStories_eval_game_system_specific_command$2.$$arity = 1);\n        return (Opal.def(self, '$getaRoll', $GoldenSkyStories_getaRoll$3 = function $$getaRoll() {\n          var self = this, result = nil, dice = nil, getaString = nil, $case = nil;\n\n          \n          result = \"\";\n          dice = self.randomizer.$roll_once(7);\n          result = $rb_plus(result, \"下駄占い ＞ \");\n          getaString = \"\";\n          $case = dice;\n          if ((1)['$===']($case)) {getaString = \"裏：あめ\"}\n          else if ((2)['$===']($case)) {getaString = \"表：はれ\"}\n          else if ((3)['$===']($case)) {getaString = \"裏：あめ\"}\n          else if ((4)['$===']($case)) {getaString = \"表：はれ\"}\n          else if ((5)['$===']($case)) {getaString = \"裏：あめ\"}\n          else if ((6)['$===']($case)) {getaString = \"表：はれ\"}\n          else if ((7)['$===']($case)) {getaString = \"横：くもり\"};\n          result = $rb_plus(result, getaString);\n          return result;\n        }, $GoldenSkyStories_getaRoll$3.$$arity = 0), nil) && 'getaRoll';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/game_system/StratoShout\"] = function(Opal) {\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $truthy = Opal.truthy, $hash2 = Opal.hash2;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'StratoShout');\n\n        var $nesting = [self].concat($parent_nesting), $StratoShout_initialize$1, $StratoShout_result_2d6$2, $StratoShout_eval_game_system_specific_command$3;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"StratoShout\");\n        Opal.const_set($nesting[0], 'NAME', \"ストラトシャウト\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"すとらとしやうと\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"\\n\" + \"VOT, GUT, BAT, KEYT, DRT: (ボーカル、ギター、ベース、キーボード、ドラム)トラブル表\\n\" + \"EMO: 感情表\\n\" + \"ATn, RTTn: 特技表(n＝分野。空:ランダム 1:主義 2:身体 3:モチーフ 4:エモーション 5:行動 6:逆境)\\n\" + \"RCT: 分野ランダム表\\n\" + \"SCENE, MACHI, GAKKO, BAND: (汎用、街角、学校、バンド)シーン表 接近シーンで使用\\n\" + \"TENKAI: シーン展開表 奔走シーン 練習シーンで使用\\n\" + \"\\n\" + \"D66入れ替えあり\\n\");\n        \n        Opal.def(self, '$initialize', $StratoShout_initialize$1 = function $$initialize(command) {\n          var $iter = $StratoShout_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $StratoShout_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $StratoShout_initialize$1, false, true), 'initialize', [command], null);\n          self.sort_add_dice = true;\n          return (self.d66_sort_type = $$$($$($nesting, 'D66SortType'), 'ASC'));\n        }, $StratoShout_initialize$1.$$arity = 1);\n        \n        Opal.def(self, '$result_2d6', $StratoShout_result_2d6$2 = function $$result_2d6(_total, dice_total, _dice_list, cmp_op, _target) {\n          var self = this;\n\n          \n          if (cmp_op['$=='](\">=\")) {\n          } else {\n            return nil\n          };\n          if ($truthy($rb_le(dice_total, 2))) {\n            return $$($nesting, 'Result').$fumble(self.$translate(\"StratoShout.fumble\"))\n          } else if ($truthy($rb_ge(dice_total, 12))) {\n            return $$($nesting, 'Result').$critical(self.$translate(\"StratoShout.critical\"))\n          } else {\n            return nil\n          };\n        }, $StratoShout_result_2d6$2.$$arity = 5);\n        \n        Opal.def(self, '$eval_game_system_specific_command', $StratoShout_eval_game_system_specific_command$3 = function $$eval_game_system_specific_command(command) {\n          var self = this, $ret_or_1 = nil;\n\n          if ($truthy(($ret_or_1 = self.$roll_tables(command, $$$(self.$class(), 'TABLES'))))) {\n            return $ret_or_1\n          } else {\n            return $$$(self.$class(), 'RTT').$roll_command(self.randomizer, command)\n          }\n        }, $StratoShout_eval_game_system_specific_command$3.$$arity = 1);\n        (function(self, $parent_nesting) {\n          var $nesting = [self].concat($parent_nesting), $translate_tables$4, $translate_rtt$5;\n\n          \n          self.$private();\n          \n          Opal.def(self, '$translate_tables', $translate_tables$4 = function $$translate_tables(locale) {\n            var self = this;\n\n            return $hash2([\"VOT\", \"GUT\", \"BAT\", \"KEYT\", \"DRT\", \"EMO\", \"SCENE\", \"MACHI\", \"GAKKO\", \"BAND\", \"TENKAI\"], {\"VOT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"StratoShout.table.VOT\", locale), \"GUT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"StratoShout.table.GUT\", locale), \"BAT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"StratoShout.table.BAT\", locale), \"KEYT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"StratoShout.table.KEYT\", locale), \"DRT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"StratoShout.table.DRT\", locale), \"EMO\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"StratoShout.table.EMO\", locale), \"SCENE\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"StratoShout.table.SCENE\", locale), \"MACHI\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"StratoShout.table.MACHI\", locale), \"GAKKO\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"StratoShout.table.GAKKO\", locale), \"BAND\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"StratoShout.table.BAND\", locale), \"TENKAI\": $$$($$($nesting, 'DiceTable'), 'D66Table').$from_i18n(\"StratoShout.table.TENKAI\", locale)})\n          }, $translate_tables$4.$$arity = 1);\n          return (Opal.def(self, '$translate_rtt', $translate_rtt$5 = function $$translate_rtt(locale) {\n            var self = this;\n\n            return $$$($$($nesting, 'DiceTable'), 'SaiFicSkillTable').$from_i18n(\"StratoShout.RTT\", locale, $hash2([\"rtt\", \"rttn\"], {\"rtt\": \"AT\", \"rttn\": [\"AT1\", \"AT2\", \"AT3\", \"AT4\", \"AT5\", \"AT6\"]}))\n          }, $translate_rtt$5.$$arity = 1), nil) && 'translate_rtt';\n        })(Opal.get_singleton_class(self), $nesting);\n        Opal.const_set($nesting[0], 'TABLES', self.$translate_tables(\"ja_jp\"));\n        Opal.const_set($nesting[0], 'RTT', self.$translate_rtt(\"ja_jp\"));\n        return self.$register_prefix($$($nesting, 'TABLES').$keys(), $$($nesting, 'RTT').$prefixes());\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2;\n\n  \n  self.$require(\"bcdice/game_system/StratoShout\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'StratoShout_Korean');\n\n        var $nesting = [self].concat($parent_nesting), $StratoShout_Korean_initialize$1;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"StratoShout:Korean\");\n        Opal.const_set($nesting[0], 'NAME', \"스트라토 샤우트\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"国際化:Korean:스트라토 샤우트\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"VOT, GUT, BAT, KEYT, DRT: (보컬, 기타, 베이스, 키보드, 드럼)트러블표\\n\" + \"EMO: 감정표\\n\" + \"RTT[1-6], AT[1-6]: 특기표(공백: 랜덤 1: 주의 2: 신체 3: 모티브 4: 이모션 5: 행동 6: 역경)\\n\" + \"SCENE, MACHI, GAKKO, BAND: (범용, 거리, 학교, 밴드)장면표. 접근 장면에 사용\\n\" + \"TENKAI: 장면 전개표. 분주 장면, 연습 장면에 사용\\n\" + \"[]내는 생략가능　D66는 변동있음\\n\");\n        self.$register_prefix_from_super_class();\n        \n        Opal.def(self, '$initialize', $StratoShout_Korean_initialize$1 = function $$initialize(command) {\n          var $iter = $StratoShout_Korean_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $StratoShout_Korean_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $StratoShout_Korean_initialize$1, false, true), 'initialize', [command], null);\n          return (self.locale = \"ko_kr\");\n        }, $StratoShout_Korean_initialize$1.$$arity = 1);\n        Opal.const_set($nesting[0], 'TABLES', self.$translate_tables(\"ko_kr\").$freeze());\n        return Opal.const_set($nesting[0], 'RTT', self.$translate_rtt(\"ko_kr\"));\n      })($nesting[0], $$($nesting, 'StratoShout'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'SharedFantasia');\n\n        var $nesting = [self].concat($parent_nesting), $SharedFantasia_change_text$1, $SharedFantasia_result_2d6$2;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"SharedFantasia\");\n        Opal.const_set($nesting[0], 'NAME', \"Shared†Fantasia\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"しえああとふあんたしあ\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"2D6の成功判定に 自動成功、自動失敗、致命的失敗、劇的成功 の判定があります。\\n\" + \"\\n\" + \"SF/ST = 2D6のショートカット\\n\" + \"\\n\" + \"例) SF+4>=9 : 2D6して4を足した値が9以上なら成功\\n\");\n        self.$register_prefix(\"SF\", \"ST\");\n        \n        Opal.def(self, '$change_text', $SharedFantasia_change_text$1 = function $$change_text(string) {\n          var self = this;\n\n          return string.$gsub(/S[FT]/i, \"2D6\")\n        }, $SharedFantasia_change_text$1.$$arity = 1);\n        return (Opal.def(self, '$result_2d6', $SharedFantasia_result_2d6$2 = function $$result_2d6(total, dice_total, _dice_list, cmp_op, target) {\n          var self = this, critical = nil, fumble = nil, totalValueBonus = nil;\n\n          \n          if (target['$=='](\"?\")) {\n            return $$($nesting, 'Result').$nothing()};\n          if ($truthy([\">=\", \">\"]['$include?'](cmp_op))) {\n          } else {\n            return nil\n          };\n          critical = false;\n          fumble = false;\n          if (dice_total['$=='](12)) {\n            critical = true\n          } else if (dice_total['$=='](2)) {\n            fumble = true};\n          totalValueBonus = (function() {if (cmp_op['$=='](\">=\")) {\n            return 1\n          } else {\n            return 0\n          }; return nil; })();\n          if ($truthy($rb_gt($rb_plus(total, totalValueBonus), target))) {\n            if ($truthy(critical)) {\n              return $$($nesting, 'Result').$critical(\"自動成功(劇的成功)\")\n            } else if ($truthy(fumble)) {\n              return $$($nesting, 'Result').$failure(\"自動失敗\")\n            } else {\n              return $$($nesting, 'Result').$success(\"成功\")\n            }\n          } else if ($truthy(critical)) {\n            return $$($nesting, 'Result').$success(\"自動成功\")\n          } else if ($truthy(fumble)) {\n            return $$($nesting, 'Result').$fumble(\"自動失敗(致命的失敗)\")\n          } else {\n            return $$($nesting, 'Result').$failure(\"失敗\")\n          };\n        }, $SharedFantasia_result_2d6$2.$$arity = 5), nil) && 'result_2d6';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'TherapieSein');\n\n        var $nesting = [self].concat($parent_nesting), $TherapieSein_eval_game_system_specific_command$1, $TherapieSein_checkRoll$3, $TherapieSein_getValueText$4;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"TherapieSein\");\n        Opal.const_set($nesting[0], 'NAME', \"セラフィザイン\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"せらふいさいん\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・一般判定：TS[n][±m][@t]　　[]内のコマンドは省略可能。クリティカル無。\\n\" + \"・戦闘判定：OP[n][±m][@t]　　[]内のコマンドは省略可能。クリティカル有。\\n\" + \"\\n\" + \"「n」で能力値修正などを指定。\\n\" + \"「±m」で達成値への修正値を追加指定。+5+1-3のように、複数指定も可能です。\\n\" + \"「@t」で目標値を指定。省略時は達成値のみ表示、指定時は判定の正否を追加表示。\\n\" + \"\\n\" + \"【書式例】\\n\" + \"・TS → ダイスの合計値を達成値として表示。\\n\" + \"・TS4 → ダイス合計+4を達成値表示。\\n\" + \"・TS4-1 → ダイス合計+4-1（計+3）を達成値表示。\\n\" + \"・TS2+1@10 → ダイス合計+2+1（計+3）の達成値と、判定の成否を表示。\\n\" + \"・OP4+3+1 → ダイス合計+4+3+1（計+8）を達成値＆クリティカル表示。\\n\" + \"・OP3@12 → ダイス合計+3の達成値＆クリティカル、判定の成否を表示。\\n\");\n        self.$register_prefix(\"TS\", \"OP\");\n        \n        Opal.def(self, '$eval_game_system_specific_command', $TherapieSein_eval_game_system_specific_command$1 = function $$eval_game_system_specific_command(command) {\n          var $$2, self = this, output = nil, $case = nil, hasCritical = nil, target = nil, $ret_or_1 = nil, modify = nil, $ret_or_2 = nil, modifyAddString = nil, modify_list = nil;\n\n          \n          output = (function() {$case = command.$upcase();\n          if (/(TS|OP)(\\d+)?(([+\\-]\\d+)*)(@(\\d+))?$/i['$===']($case)) {\n          hasCritical = $$($nesting, 'Regexp').$last_match(1)['$=='](\"OP\");\n          target = (function() {if ($truthy(($ret_or_1 = $$($nesting, 'Regexp').$last_match(6)))) {\n            return $ret_or_1\n          } else {\n            return 0\n          }; return nil; })().$to_i();\n          modify = (function() {if ($truthy(($ret_or_2 = $$($nesting, 'Regexp').$last_match(2)))) {\n            return $ret_or_2\n          } else {\n            return 0\n          }; return nil; })().$to_i();\n          modifyAddString = $$($nesting, 'Regexp').$last_match(3);\n          modify_list = modifyAddString.$scan(/[+\\-]\\d+/);\n          $send(modify_list, 'each', [], ($$2 = function(i){var self = $$2.$$s == null ? this : $$2.$$s;\n\n          \n            \n            if (i == null) {\n              i = nil;\n            };\n            return (modify = $rb_plus(modify, i.$to_i()));}, $$2.$$s = self, $$2.$$arity = 1, $$2));\n          return self.$checkRoll(hasCritical, modify, target);}\n          else { return nil }})();\n          return output;\n        }, $TherapieSein_eval_game_system_specific_command$1.$$arity = 1);\n        \n        Opal.def(self, '$checkRoll', $TherapieSein_checkRoll$3 = function $$checkRoll(hasCritical, modify, target) {\n          var self = this, dice_list = nil, dice = nil, diceText = nil, successValue = nil, modifyText = nil, targetText = nil, result = nil, $ret_or_3 = nil;\n\n          \n          dice_list = self.randomizer.$roll_barabara(2, 6);\n          dice = dice_list.$sum();\n          diceText = dice_list.$join(\",\");\n          successValue = $rb_plus(dice, modify);\n          modifyText = self.$getValueText(modify);\n          targetText = (function() {if (target['$=='](0)) {\n            return \"\"\n          } else {\n            return \"\" + \">=\" + (target)\n          }; return nil; })();\n          result = \"\" + \"(2D6\" + (modifyText) + (targetText) + \")\";\n          result = $rb_plus(result, \"\" + \" ＞ \" + (dice) + \"(\" + (diceText) + \")\" + (modifyText));\n          if ($truthy((function() {if ($truthy(($ret_or_3 = hasCritical))) {\n            \n            return dice['$=='](12);\n          } else {\n            return $ret_or_3\n          }; return nil; })())) {\n            \n            result = $rb_plus(result, \" ＞ クリティカル！\");\n            return result;};\n          result = $rb_plus(result, \"\" + \" ＞ \" + (successValue) + (targetText));\n          if (target['$=='](0)) {\n            return result};\n          if ($truthy($rb_ge(successValue, target))) {\n            result = $rb_plus(result, \" ＞ 【成功】\")\n          } else {\n            result = $rb_plus(result, \" ＞ 【失敗】\")\n          };\n          return result;\n        }, $TherapieSein_checkRoll$3.$$arity = 3);\n        return (Opal.def(self, '$getValueText', $TherapieSein_getValueText$4 = function $$getValueText(value) {\n          var self = this;\n\n          \n          if (value['$=='](0)) {\n            return \"\"};\n          if ($truthy($rb_lt(value, 0))) {\n            return value.$to_s()};\n          return \"\" + \"+\" + (value);\n        }, $TherapieSein_getValueText$4.$$arity = 1), nil) && 'getValueText';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Chill3');\n\n        var $nesting = [self].concat($parent_nesting), $Chill3_result_1d100$1;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"Chill3\");\n        Opal.const_set($nesting[0], 'NAME', \"Chill 3rd Edition\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"ちる3\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・1D100で判定時に成否、Botchを判定\\n\" + \"　例）1D100<=50\\n\" + \"　　　Chill3 : (1D100<=50) ＞ 55 ＞ Botch\\n\");\n        return (Opal.def(self, '$result_1d100', $Chill3_result_1d100$1 = function $$result_1d100(total, dice_total, cmp_op, target) {\n          var self = this, tens = nil, ones = nil, $ret_or_1 = nil, $ret_or_2 = nil;\n\n          \n          if (target['$=='](\"?\")) {\n            return nil};\n          if (cmp_op['$=='](\"<=\")) {\n          } else {\n            return nil\n          };\n          tens = $rb_divide(dice_total, 10).$to_i()['$%'](10);\n          ones = dice_total['$%'](10);\n          if (tens['$=='](ones)) {\n            if ($truthy((function() {if ($truthy(($ret_or_1 = $rb_gt(total, target)))) {\n              return $ret_or_1\n            } else {\n              \n              return dice_total['$=='](100);\n            }; return nil; })())) {\n              if ($truthy($rb_gt(target, 100))) {\n                return $$($nesting, 'Result').$failure(\"失敗\")\n              } else {\n                return $$($nesting, 'Result').$fumble(\"Botch\")\n              }\n            } else {\n              return $$($nesting, 'Result').$critical(\"Ｃ成功\")\n            }\n          } else if ($truthy((function() {if ($truthy(($ret_or_2 = $rb_le(total, target)))) {\n            return $ret_or_2\n          } else {\n            \n            return dice_total['$=='](1);\n          }; return nil; })())) {\n            if ($truthy($rb_le(total, $rb_divide(target, 2).$to_i()))) {\n              return $$($nesting, 'Result').$success(\"Ｈ成功\")\n            } else {\n              return $$($nesting, 'Result').$success(\"Ｌ成功\")\n            }\n          } else {\n            return $$($nesting, 'Result').$failure(\"失敗\")\n          };\n        }, $Chill3_result_1d100$1.$$arity = 4), nil) && 'result_1d100';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Gorilla');\n\n        var $nesting = [self].concat($parent_nesting), $Gorilla_change_text$1, $Gorilla_result_2d6$3;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"Gorilla\");\n        Opal.const_set($nesting[0], 'NAME', \"ゴリラTRPG\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"こりらTRPG\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"2D6ロール時のゴリティカル自動判定を行います。\\n\" + \"\\n\" + \"G = 2D6のショートカット\\n\" + \"\\n\" + \"例) G>=7 : 2D6して7以上なら成功\\n\");\n        self.$register_prefix(\"G\");\n        \n        Opal.def(self, '$change_text', $Gorilla_change_text$1 = function $$change_text(string) {\n          var $$2, self = this;\n\n          \n          string = $send(string, 'gsub', [/^(S)?G/i], ($$2 = function(){var self = $$2.$$s == null ? this : $$2.$$s;\n\n          return \"\" + ($$($nesting, 'Regexp').$last_match(1)) + \"2D6\"}, $$2.$$s = self, $$2.$$arity = 0, $$2));\n          return string;\n        }, $Gorilla_change_text$1.$$arity = 1);\n        return (Opal.def(self, '$result_2d6', $Gorilla_result_2d6$3 = function $$result_2d6(_total, _dice_total, dice_list, _cmp_op, _target) {\n          var self = this;\n\n          if (dice_list['$==']([5, 5])) {\n            return $$($nesting, 'Result').$critical(\"ゴリティカル（自動的成功）\")\n          } else {\n            return nil\n          }\n        }, $Gorilla_result_2d6$3.$$arity = 5), nil) && 'result_2d6';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Gundog');\n\n        var $nesting = [self].concat($parent_nesting), $Gundog_initialize$1, $Gundog_result_1d100$2;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"Gundog\");\n        Opal.const_set($nesting[0], 'NAME', \"ガンドッグ\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"かんとつく\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"失敗、成功、クリティカル、ファンブルとロールの達成値の自動判定を行います。\\n\" + \"nD9ロールも対応。\\n\");\n        \n        Opal.def(self, '$initialize', $Gundog_initialize$1 = function $$initialize(command) {\n          var $iter = $Gundog_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $Gundog_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $Gundog_initialize$1, false, true), 'initialize', [command], null);\n          return (self.enabled_d9 = true);\n        }, $Gundog_initialize$1.$$arity = 1);\n        return (Opal.def(self, '$result_1d100', $Gundog_result_1d100$2 = function $$result_1d100(total, _dice_total, cmp_op, target) {\n          var self = this, dig10 = nil, dig1 = nil;\n\n          \n          if (cmp_op['$=='](\"<=\")) {\n          } else {\n            return nil\n          };\n          if ($truthy($rb_ge(total, 100))) {\n            return $$($nesting, 'Result').$fumble(\"ファンブル\")\n          } else if ($truthy($rb_le(total, 1))) {\n            return $$($nesting, 'Result').$critical(\"絶対成功(達成値1+SL)\")\n          } else if (target['$=='](\"?\")) {\n            return $$($nesting, 'Result').$nothing()\n          } else if ($truthy($rb_le(total, target))) {\n            \n            dig10 = $rb_divide(total, 10).$to_i();\n            dig1 = $rb_minus(total, $rb_times(dig10, 10));\n            if ($truthy($rb_ge(dig10, 10))) {\n              dig10 = 0};\n            if ($truthy($rb_ge(dig1, 10))) {\n              dig1 = 0};\n            if ($truthy($rb_le(dig1, 0))) {\n              return $$($nesting, 'Result').$critical(\"クリティカル(達成値20+SL)\")\n            } else {\n              return $$($nesting, 'Result').$success(\"\" + \"成功(達成値\" + ($rb_plus(dig10, dig1)) + \"+SL)\")\n            };\n          } else {\n            return $$($nesting, 'Result').$failure(\"失敗\")\n          };\n        }, $Gundog_result_1d100$2.$$arity = 4), nil) && 'result_1d100';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send = Opal.send, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'ParanoiaRebooted');\n\n        var $nesting = [self].concat($parent_nesting), $ParanoiaRebooted_eval_game_system_specific_command$1, $ParanoiaRebooted_generate_roll_results$2, $ParanoiaRebooted_get_node_dice_roll$3, $ParanoiaRebooted_get_mutant_power_roll$6;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"ParanoiaRebooted\");\n        Opal.const_set($nesting[0], 'NAME', \"パラノイア リブーテッド\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"はらのいありふうてつと\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"※コマンドは入力内容の前方一致で検出しています。\\n\" + \"・通常の判定　NDx\\n\" + \"　x：ノードダイスの数.マイナスも可.\\n\" + \"　ノードダイスの絶対値 + 1個(コンピュータダイス)のダイスがロールされる.\\n\" + \"例）ND2　ND-3\\n\" + \"\\n\" + \"・ミュータントパワー判定　MPx\\n\" + \"  x：ノードダイスの数.\\n\" + \"　ノードダイスの値 + 1個(コンピュータダイス)のダイスがロールされる.\\n\" + \"例）MP2\\n\");\n        self.$register_prefix(\"ND\", \"MP\");\n        \n        Opal.def(self, '$eval_game_system_specific_command', $ParanoiaRebooted_eval_game_system_specific_command$1 = function $$eval_game_system_specific_command(command) {\n          var self = this, $case = nil;\n\n          return (function() {$case = command;\n          if (/^ND/i['$===']($case)) {return self.$get_node_dice_roll(command)}\n          else if (/^MP/i['$===']($case)) {return self.$get_mutant_power_roll(command)}\n          else {return nil}})()\n        }, $ParanoiaRebooted_eval_game_system_specific_command$1.$$arity = 1);\n        self.$private();\n        \n        Opal.def(self, '$generate_roll_results', $ParanoiaRebooted_generate_roll_results$2 = function $$generate_roll_results(dices) {\n          var self = this, computer_dice_message = nil, results = nil, $writer = nil;\n\n          \n          computer_dice_message = \"\";\n          results = dices.$dup();\n          if (results['$[]'](-1).$to_i()['$=='](6)) {\n            \n            \n            $writer = [-1, \"C\"];\n            $send(results, '[]=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            computer_dice_message = \"(Computer)\";};\n          return [results, computer_dice_message];\n        }, $ParanoiaRebooted_generate_roll_results$2.$$arity = 1);\n        \n        Opal.def(self, '$get_node_dice_roll', $ParanoiaRebooted_get_node_dice_roll$3 = function $$get_node_dice_roll(command) {\n          var $$4, $$5, $a, $b, self = this, m = nil, parameter_num = nil, dice_count = nil, dices = nil, success_rate = nil, results = nil, computer_dice_message = nil;\n\n          \n          self.$debug(\"eval_game_system_specific_command Begin\");\n          m = /^ND((-)?\\d+)/i.$match(command);\n          if ($truthy(m)) {\n          } else {\n            return \"\"\n          };\n          self.$debug(\"command\", command);\n          parameter_num = m['$[]'](1).$to_i();\n          dice_count = $rb_plus(parameter_num.$abs(), 1);\n          dices = self.randomizer.$roll_barabara(dice_count, 6);\n          success_rate = $send(dices, 'count', [], ($$4 = function(dice){var self = $$4.$$s == null ? this : $$4.$$s;\n\n          \n            \n            if (dice == null) {\n              dice = nil;\n            };\n            return $rb_ge(dice, 5);}, $$4.$$s = self, $$4.$$arity = 1, $$4));\n          if ($truthy($rb_lt(parameter_num, 0))) {\n            success_rate = $rb_minus(success_rate, $send(dices, 'count', [], ($$5 = function(dice){var self = $$5.$$s == null ? this : $$5.$$s;\n\n            \n              \n              if (dice == null) {\n                dice = nil;\n              };\n              return $rb_lt(dice, 5);}, $$5.$$s = self, $$5.$$arity = 1, $$5)))};\n          self.$debug(dices);\n          $b = self.$generate_roll_results(dices), $a = Opal.to_ary($b), (results = ($a[0] == null ? nil : $a[0])), (computer_dice_message = ($a[1] == null ? nil : $a[1])), $b;\n          self.$debug(\"eval_game_system_specific_command result\");\n          return \"\" + \"(\" + (command) + \") ＞ [\" + (results.$join(\", \")) + \"] ＞ 成功度\" + (success_rate) + (computer_dice_message);\n        }, $ParanoiaRebooted_get_node_dice_roll$3.$$arity = 1);\n        return (Opal.def(self, '$get_mutant_power_roll', $ParanoiaRebooted_get_mutant_power_roll$6 = function $$get_mutant_power_roll(command) {\n          var $a, $b, self = this, m = nil, parameter_num = nil, dice_count = nil, dices = nil, failure_rate = nil, message = nil, results = nil, computer_dice_message = nil;\n\n          \n          self.$debug(\"eval_game_system_specific_command Begin\");\n          m = /^MP(\\d+)/i.$match(command);\n          if ($truthy(m)) {\n          } else {\n            return \"\"\n          };\n          self.$debug(\"command\", command);\n          parameter_num = m['$[]'](1).$to_i();\n          dice_count = $rb_plus(parameter_num.$abs(), 1);\n          dices = self.randomizer.$roll_barabara(dice_count, 6);\n          failure_rate = dices.$count(1);\n          message = (function() {if (failure_rate['$=='](0)) {\n            return \"成功\"\n          } else {\n            return \"\" + \"失敗(\" + (failure_rate) + \")\"\n          }; return nil; })();\n          $b = self.$generate_roll_results(dices), $a = Opal.to_ary($b), (results = ($a[0] == null ? nil : $a[0])), (computer_dice_message = ($a[1] == null ? nil : $a[1])), $b;\n          self.$debug(dices);\n          self.$debug(\"eval_game_system_specific_command result\");\n          return \"\" + \"(\" + (command) + \") ＞ [\" + (results.$join(\", \")) + \"] ＞ \" + (message) + (computer_dice_message);\n        }, $ParanoiaRebooted_get_mutant_power_roll$6.$$arity = 1), nil) && 'get_mutant_power_roll';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n","require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'ShadowRun');\n\n        var $nesting = [self].concat($parent_nesting), $ShadowRun_initialize$1;\n\n        \n        Opal.const_set($nesting[0], 'ID', \"ShadowRun\");\n        Opal.const_set($nesting[0], 'NAME', \"シャドウラン\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"しやとうらん\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"上方無限ロール(xUn)の境界値を6にセットします。\\n\");\n        return (Opal.def(self, '$initialize', $ShadowRun_initialize$1 = function $$initialize(command) {\n          var $iter = $ShadowRun_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $ShadowRun_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $ShadowRun_initialize$1, false, true), 'initialize', [command], null);\n          self.sort_add_dice = true;\n          self.sort_barabara_dice = true;\n          return (self.upper_dice_reroll_threshold = 6);\n        }, $ShadowRun_initialize$1.$$arity = 1), nil) && 'initialize';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n"],"sourceRoot":"webpack:///"}