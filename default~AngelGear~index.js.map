{"version":3,"sources":["./node_modules/bcdice/lib/bcdice/game_system/AngelGear.js"],"names":["require","Opal","modules","$rb_minus","lhs","rhs","self","top","$nesting","nil","$$$","$$","$module","module","$klass","klass","$hash2","hash2","$truthy","truthy","$base","$parent_nesting","concat","$super","$Table_from_i18n$1","$Table_initialize$2","$Table_roll$3","$Table_choice$4","$$prototype","times","sides","name","items","defs","$$from_i18n","key","locale","table","$t","$new","$$arity","def","$$initialize","type","m","$freeze","$match","$raise","$to_i","$$roll","bcdice","value","$roll_sum","$choice","$$choice","index","$rb_plus","$rb_times","$D66GridTable_from_i18n$1","$D66GridTable_initialize$2","$D66GridTable_roll$3","randomizer","dice1","dice2","index1","index2","$roll_once","$rb_divide","$send2","send2","$BinaryOp_initialize$1","$BinaryOp_eval$2","$BinaryOp_output$3","$BinaryOp_s_exp$4","$BinaryOp_op_for_s_exp$5","op","round_type","l","r","$eval","$send","$$output","$output","$$s_exp","$op_for_s_exp","$s_exp","$$op_for_s_exp","$DivideBase_initialize$6","$DivideBase_eval$7","$DivideBase_output$8","$DivideBase_rounding_method$9","$DivideBase_op_for_s_exp$10","$DivideBase_divide_and_round$11","$iter","$$p","$yield","find_super_dispatcher","$divide_and_round","$zuper","$zuper_i","$zuper_ii","arguments","length","Array","$rounding_method","$private","$$rounding_method","$class","$$divide_and_round","_dividend","_divisor","_round_type","$DivideWithGameSystemDefault_divide_and_round$12","const_set","dividend","divisor","$case","$to_f","$ceil","$round","$DivideWithCeil_divide_and_round$13","$DivideWithRound_divide_and_round$14","$DivideWithFloor_divide_and_round$15","$Negative_initialize$16","$Negative_eval$17","$Negative_output$18","$Negative_s_exp$19","body","$Parenthesis_initialize$20","$Parenthesis_eval$21","$Parenthesis_output$22","$Parenthesis_s_exp$23","expr","$Number_initialize$24","$Number_eval$25","$Number_output$26","$to_s","alias","$rb_lt","$rb_ge","$rb_gt","$rb_le","$a","$gvars","gvars","send","$Parser_racc_runtime_type$1","$Parser__racc_setup$2","$Parser__racc_init_sysvars$3","$Parser_do_parse$4","$Parser_next_token$5","$Parser__racc_do_parse_rb$6","$Parser_yyparse$8","$Parser__racc_yyparse_rb$9","$Parser__racc_evalact$12","$Parser__racc_do_reduce$14","$Parser_on_error$15","$Parser_yyerror$16","$Parser_yyaccept$17","$Parser_yyerrok$18","$Parser_racc_read_token$19","$Parser_racc_shift$20","$Parser_racc_reduce$21","$Parser_racc_accept$23","$Parser_racc_e_pop$24","$Parser_racc_next_state$25","$Parser_racc_print_stacks$26","$Parser_racc_print_states$28","$Parser_racc_token2str$30","$Parser_token_to_str$31","yydebug","racc_debug_out","racc_error_status","racc_t","racc_vstack","racc_val","racc_state","racc_tstack","$$racc_runtime_type","$$_racc_setup","$b","$ret_or_1","arg","$writer","stderr","$size","to_a","$$_racc_init_sysvars","racc_read_next","racc_user_yyerror","$$do_parse","$__send__","$_racc_setup","$$next_token","$$_racc_do_parse_rb","in_debug","$$7","action_table","action_check","action_default","action_pointer","_","token_table","tok","act","i","to_ary","$_racc_init_sysvars","$$s","$c","$d","$e","$ret_or_2","$ret_or_3","$ret_or_4","$next_token","$racc_read_token","$_racc_evalact","$$yyparse","recv","mid","$$_racc_yyparse_rb","c_debug","$$10","$$11","val","$f","$ret_or_5","$ret_or_6","$ret_or_7","$ret_or_8","$ret_or_9","$ret_or_10","$ret_or_11","$ret_or_12","$ret_or_13","$$_racc_evalact","$$13","shift_n","reduce_n","$ret_or_14","$ret_or_15","code","$ret_or_16","$ret_or_17","$push","$racc_shift","$_racc_do_reduce","$racc_accept","$throw","$on_error","$pop","$racc_e_pop","$inspect","$racc_next_state","$$_racc_do_reduce","goto_table","goto_check","goto_default","goto_pointer","nt_base","reduce_table","use_result","state","vstack","tstack","len","reduce_to","method_id","void_array","tmp_t","tmp_v","k1","$ret_or_18","$ret_or_19","curstate","$racc_reduce","$$on_error","t","$ret_or_20","$sprintf","$token_to_str","$$yyerror","$$yyaccept","$$yyerrok","$$racc_read_token","$print","$racc_token2str","$puts","$$racc_shift","$racc_print_stacks","$$racc_reduce","toks","sim","$$22","out","$$racc_accept","$$racc_e_pop","$racc_print_states","$$racc_next_state","$$racc_print_stacks","v","$$27","$$racc_print_states","s","$$29","st","$$racc_token2str","$ret_or_21","$$token_to_str","$StringScanner_initialize$1","$StringScanner_beginning_of_line$ques$2","$StringScanner_scan$3","$StringScanner_scan_until$4","$StringScanner_$$$5","$StringScanner_check$6","$StringScanner_check_until$7","$StringScanner_peek$8","$StringScanner_eos$ques$9","$StringScanner_exist$ques$10","$StringScanner_skip$11","$StringScanner_skip_until$12","$StringScanner_get_byte$13","$StringScanner_match$ques$14","$StringScanner_pos$eq$15","$StringScanner_matched_size$16","$StringScanner_post_match$17","$StringScanner_pre_match$18","$StringScanner_reset$19","$StringScanner_rest$20","$StringScanner_rest$ques$21","$StringScanner_rest_size$22","$StringScanner_terminate$23","$StringScanner_unscan$24","$StringScanner_anchor$25","pos","string","working","matched","prev_pos","match","$attr_reader","charAt","$$scan","pattern","$anchor","result","exec","substring","$$scan_until","substr","idx","$$check","$$check_until","$scan_until","$$peek","$$skip","match_str","match_len","$$skip_until","$$get_byte","$length","slice","$$matched_size","$$post_match","$$pre_match","$$reset","$$rest","$$rest_size","$rest","$$terminate","$$unscan","$$anchor","flags","toString","undefined","RegExp","source","$Normalize_comparison_operator$1","$Normalize_target_number$2","$module_function","$$comparison_operator","$$target_number","$require","$Lexer_initialize$1","$Lexer_next_token$2","$Lexer_source$3","scanner","$split","$first","number","cmp_op","char$","$scan","$comparison_operator","$getch","$upcase","$to_sym","$$source","$string","$hash","hash","$Parser_parse$1","$Parser_parse$2","$Parser_next_token$3","$Parser__reduce_1$4","$Parser__reduce_2$5","$Parser__reduce_4$6","$Parser__reduce_5$7","$Parser__reduce_7$8","$Parser__reduce_8$9","$Parser__reduce_9$10","$Parser__reduce_10$11","$Parser__reduce_11$12","$Parser__reduce_12$13","$Parser__reduce_13$14","$Parser__reduce_15$15","$Parser__reduce_16$16","$Parser__reduce_none$17","racc_action_table","racc_action_check","racc_action_pointer","racc_action_default","racc_goto_table","racc_goto_check","racc_goto_pointer","racc_goto_default","racc_reduce_table","racc_reduce_n","racc_shift_n","racc_token_table","racc_nt_base","racc_use_result_var","lexer","$$parse","$parse","$do_parse","$err","rescue","pop_exception","$$_reduce_1","_values","$$_reduce_2","$$_reduce_4","$$_reduce_5","divied_class","$$_reduce_7","$$_reduce_8","$$_reduce_9","$$_reduce_10","$$_reduce_11","$$_reduce_12","$$_reduce_13","$$_reduce_15","$$_reduce_16","$$_reduce_none","$eval$1","node","get_singleton_class","$AngelGear_initialize$1","$AngelGear_eval_game_system_specific_command$2","$AngelGear_resolute_action$3","command","sort_barabara_dice","$$eval_game_system_specific_command","$resolute_action","$roll_tables","$$resolute_action","num_dice","skill_value","modify","$$4","dice","dice_text","modify_n","success","output","$roll_barabara","$sort","$join","$format","$register_prefix","$keys"],"mappings":"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","file":"default~AngelGear~index.js","sourcesContent":["require('./../opal');\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/table\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Table');\n\n        var $nesting = [self].concat($parent_nesting), $Table_from_i18n$1, $Table_initialize$2, $Table_roll$3, $Table_choice$4;\n\n        self.$$prototype.times = self.$$prototype.sides = self.$$prototype.name = self.$$prototype.items = nil;\n        \n        Opal.defs(self, '$from_i18n', $Table_from_i18n$1 = function $$from_i18n(key, locale) {\n          var self = this, table = nil;\n\n          \n          table = $$($nesting, 'I18n').$t(key, $hash2([\"locale\"], {\"locale\": locale}));\n          return self.$new(table['$[]'](\"name\"), table['$[]'](\"type\"), table['$[]'](\"items\"));\n        }, $Table_from_i18n$1.$$arity = 2);\n        \n        Opal.def(self, '$initialize', $Table_initialize$2 = function $$initialize(name, type, items) {\n          var self = this, m = nil;\n\n          \n          self.name = name;\n          self.items = items.$freeze();\n          m = /(\\d+)D(\\d+)/i.$match(type);\n          if ($truthy(m)) {\n          } else {\n            self.$raise($$($nesting, 'ArgumentError'), \"\" + \"Unexpected table type: \" + (type))\n          };\n          self.times = m['$[]'](1).$to_i();\n          return (self.sides = m['$[]'](2).$to_i());\n        }, $Table_initialize$2.$$arity = 3);\n        \n        Opal.def(self, '$roll', $Table_roll$3 = function $$roll(bcdice) {\n          var self = this, value = nil;\n\n          \n          value = bcdice.$roll_sum(self.times, self.sides);\n          return self.$choice(value);\n        }, $Table_roll$3.$$arity = 1);\n        return (Opal.def(self, '$choice', $Table_choice$4 = function $$choice(value) {\n          var self = this, index = nil;\n\n          \n          index = $rb_minus(value, self.times);\n          return $$($nesting, 'RollResult').$new(self.name, value, self.items['$[]'](index));\n        }, $Table_choice$4.$$arity = 1), nil) && 'choice';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/d66_grid_table\"] = function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'D66GridTable');\n\n        var $nesting = [self].concat($parent_nesting), $D66GridTable_from_i18n$1, $D66GridTable_initialize$2, $D66GridTable_roll$3;\n\n        self.$$prototype.name = self.$$prototype.items = nil;\n        \n        Opal.defs(self, '$from_i18n', $D66GridTable_from_i18n$1 = function $$from_i18n(key, locale) {\n          var self = this, table = nil;\n\n          \n          table = $$($nesting, 'I18n').$t(key, $hash2([\"locale\", \"raise\"], {\"locale\": locale, \"raise\": true}));\n          return self.$new(table['$[]'](\"name\"), table['$[]'](\"items\"));\n        }, $D66GridTable_from_i18n$1.$$arity = 2);\n        \n        Opal.def(self, '$initialize', $D66GridTable_initialize$2 = function $$initialize(name, items) {\n          var self = this;\n\n          \n          self.name = name;\n          return (self.items = items.$freeze());\n        }, $D66GridTable_initialize$2.$$arity = 2);\n        return (Opal.def(self, '$roll', $D66GridTable_roll$3 = function $$roll(randomizer) {\n          var self = this, dice1 = nil, dice2 = nil, value = nil, index1 = nil, index2 = nil;\n\n          \n          dice1 = randomizer.$roll_once(6);\n          dice2 = randomizer.$roll_once(6);\n          value = $rb_plus($rb_times(dice1, 10), dice2);\n          index1 = $rb_minus(dice1, 1);\n          index2 = $rb_minus(dice2, 1);\n          return $$($nesting, 'RollResult').$new(self.name, value, self.items['$[]'](index1)['$[]'](index2));\n        }, $D66GridTable_roll$3.$$arity = 1), nil) && 'roll';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/arithmetic/node\"] = function(Opal) {\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'Arithmetic');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $parent_nesting) {\n        var self = $module($base, 'Node');\n\n        var $nesting = [self].concat($parent_nesting);\n\n        \n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'BinaryOp');\n\n          var $nesting = [self].concat($parent_nesting), $BinaryOp_initialize$1, $BinaryOp_eval$2, $BinaryOp_output$3, $BinaryOp_s_exp$4, $BinaryOp_op_for_s_exp$5;\n\n          self.$$prototype.lhs = self.$$prototype.rhs = self.$$prototype.op = nil;\n          \n          \n          Opal.def(self, '$initialize', $BinaryOp_initialize$1 = function $$initialize(lhs, op, rhs) {\n            var self = this;\n\n            \n            self.lhs = lhs;\n            self.op = op;\n            return (self.rhs = rhs);\n          }, $BinaryOp_initialize$1.$$arity = 3);\n          \n          Opal.def(self, '$eval', $BinaryOp_eval$2 = function(round_type) {\n            var self = this, l = nil, r = nil;\n\n            \n            l = self.lhs.$eval(round_type);\n            r = self.rhs.$eval(round_type);\n            return l.$send(self.op, r);\n          }, $BinaryOp_eval$2.$$arity = 1);\n          \n          Opal.def(self, '$output', $BinaryOp_output$3 = function $$output() {\n            var self = this;\n\n            return \"\" + (self.lhs.$output()) + (self.op) + (self.rhs.$output())\n          }, $BinaryOp_output$3.$$arity = 0);\n          \n          Opal.def(self, '$s_exp', $BinaryOp_s_exp$4 = function $$s_exp() {\n            var self = this;\n\n            return \"\" + \"(\" + (self.$op_for_s_exp()) + \" \" + (self.lhs.$s_exp()) + \" \" + (self.rhs.$s_exp()) + \")\"\n          }, $BinaryOp_s_exp$4.$$arity = 0);\n          return (Opal.def(self, '$op_for_s_exp', $BinaryOp_op_for_s_exp$5 = function $$op_for_s_exp() {\n            var self = this;\n\n            return self.op\n          }, $BinaryOp_op_for_s_exp$5.$$arity = 0), nil) && 'op_for_s_exp';\n        })($nesting[0], null, $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'DivideBase');\n\n          var $nesting = [self].concat($parent_nesting), $DivideBase_initialize$6, $DivideBase_eval$7, $DivideBase_output$8, $DivideBase_rounding_method$9, $DivideBase_op_for_s_exp$10, $DivideBase_divide_and_round$11;\n\n          self.$$prototype.lhs = self.$$prototype.rhs = self.$$prototype.op = nil;\n          \n          \n          Opal.def(self, '$initialize', $DivideBase_initialize$6 = function $$initialize(lhs, rhs) {\n            var $iter = $DivideBase_initialize$6.$$p, $yield = $iter || nil, self = this;\n\n            if ($iter) $DivideBase_initialize$6.$$p = null;\n            return $send2(self, Opal.find_super_dispatcher(self, 'initialize', $DivideBase_initialize$6, false, true), 'initialize', [lhs, \"/\", rhs], null)\n          }, $DivideBase_initialize$6.$$arity = 2);\n          \n          Opal.def(self, '$eval', $DivideBase_eval$7 = function(round_type) {\n            var self = this, l = nil, r = nil;\n\n            \n            l = self.lhs.$eval(round_type);\n            r = self.rhs.$eval(round_type);\n            if (r['$=='](0)) {\n              self.$raise($$($nesting, 'ZeroDivisionError'))};\n            return self.$divide_and_round(l, r, round_type);\n          }, $DivideBase_eval$7.$$arity = 1);\n          \n          Opal.def(self, '$output', $DivideBase_output$8 = function $$output() {\n            var $iter = $DivideBase_output$8.$$p, $yield = $iter || nil, self = this, $zuper = nil, $zuper_i = nil, $zuper_ii = nil;\n\n            if ($iter) $DivideBase_output$8.$$p = null;\n            // Prepare super implicit arguments\n            for($zuper_i = 0, $zuper_ii = arguments.length, $zuper = new Array($zuper_ii); $zuper_i < $zuper_ii; $zuper_i++) {\n              $zuper[$zuper_i] = arguments[$zuper_i];\n            }\n            return \"\" + ($send2(self, Opal.find_super_dispatcher(self, 'output', $DivideBase_output$8, false, true), 'output', $zuper, $iter)) + (self.$rounding_method())\n          }, $DivideBase_output$8.$$arity = 0);\n          self.$private();\n          \n          Opal.def(self, '$rounding_method', $DivideBase_rounding_method$9 = function $$rounding_method() {\n            var self = this;\n\n            return $$$(self.$class(), 'ROUNDING_METHOD')\n          }, $DivideBase_rounding_method$9.$$arity = 0);\n          \n          Opal.def(self, '$op_for_s_exp', $DivideBase_op_for_s_exp$10 = function $$op_for_s_exp() {\n            var self = this;\n\n            return \"\" + (self.op) + (self.$rounding_method())\n          }, $DivideBase_op_for_s_exp$10.$$arity = 0);\n          return (Opal.def(self, '$divide_and_round', $DivideBase_divide_and_round$11 = function $$divide_and_round(_dividend, _divisor, _round_type) {\n            var self = this;\n\n            return self.$raise($$($nesting, 'NotImplementedError'))\n          }, $DivideBase_divide_and_round$11.$$arity = 3), nil) && 'divide_and_round';\n        })($nesting[0], $$($nesting, 'BinaryOp'), $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'DivideWithGameSystemDefault');\n\n          var $nesting = [self].concat($parent_nesting), $DivideWithGameSystemDefault_divide_and_round$12;\n\n          \n          Opal.const_set($nesting[0], 'ROUNDING_METHOD', \"\");\n          self.$private();\n          return (Opal.def(self, '$divide_and_round', $DivideWithGameSystemDefault_divide_and_round$12 = function $$divide_and_round(dividend, divisor, round_type) {\n            var self = this, $case = nil;\n\n            return (function() {$case = round_type;\n            if ($$$($$($nesting, 'RoundType'), 'CEIL')['$===']($case)) {return $rb_divide(dividend.$to_f(), divisor).$ceil()}\n            else if ($$$($$($nesting, 'RoundType'), 'ROUND')['$===']($case)) {return $rb_divide(dividend.$to_f(), divisor).$round()}\n            else {return $rb_divide(dividend, divisor).$to_i()}})()\n          }, $DivideWithGameSystemDefault_divide_and_round$12.$$arity = 3), nil) && 'divide_and_round';\n        })($nesting[0], $$($nesting, 'DivideBase'), $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'DivideWithCeil');\n\n          var $nesting = [self].concat($parent_nesting), $DivideWithCeil_divide_and_round$13;\n\n          \n          Opal.const_set($nesting[0], 'ROUNDING_METHOD', \"C\");\n          self.$private();\n          return (Opal.def(self, '$divide_and_round', $DivideWithCeil_divide_and_round$13 = function $$divide_and_round(dividend, divisor, _round_type) {\n            var self = this;\n\n            return $rb_divide(dividend.$to_f(), divisor).$ceil()\n          }, $DivideWithCeil_divide_and_round$13.$$arity = 3), nil) && 'divide_and_round';\n        })($nesting[0], $$($nesting, 'DivideBase'), $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'DivideWithRound');\n\n          var $nesting = [self].concat($parent_nesting), $DivideWithRound_divide_and_round$14;\n\n          \n          Opal.const_set($nesting[0], 'ROUNDING_METHOD', \"R\");\n          self.$private();\n          return (Opal.def(self, '$divide_and_round', $DivideWithRound_divide_and_round$14 = function $$divide_and_round(dividend, divisor, _round_type) {\n            var self = this;\n\n            return $rb_divide(dividend.$to_f(), divisor).$round()\n          }, $DivideWithRound_divide_and_round$14.$$arity = 3), nil) && 'divide_and_round';\n        })($nesting[0], $$($nesting, 'DivideBase'), $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'DivideWithFloor');\n\n          var $nesting = [self].concat($parent_nesting), $DivideWithFloor_divide_and_round$15;\n\n          \n          Opal.const_set($nesting[0], 'ROUNDING_METHOD', \"F\");\n          self.$private();\n          return (Opal.def(self, '$divide_and_round', $DivideWithFloor_divide_and_round$15 = function $$divide_and_round(dividend, divisor, _round_type) {\n            var self = this;\n\n            return $rb_divide(dividend, divisor).$to_i()\n          }, $DivideWithFloor_divide_and_round$15.$$arity = 3), nil) && 'divide_and_round';\n        })($nesting[0], $$($nesting, 'DivideBase'), $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'Negative');\n\n          var $nesting = [self].concat($parent_nesting), $Negative_initialize$16, $Negative_eval$17, $Negative_output$18, $Negative_s_exp$19;\n\n          self.$$prototype.body = nil;\n          \n          \n          Opal.def(self, '$initialize', $Negative_initialize$16 = function $$initialize(body) {\n            var self = this;\n\n            return (self.body = body)\n          }, $Negative_initialize$16.$$arity = 1);\n          \n          Opal.def(self, '$eval', $Negative_eval$17 = function(round_type) {\n            var self = this;\n\n            return self.body.$eval(round_type)['$-@']()\n          }, $Negative_eval$17.$$arity = 1);\n          \n          Opal.def(self, '$output', $Negative_output$18 = function $$output() {\n            var self = this;\n\n            return \"\" + \"-\" + (self.body.$output())\n          }, $Negative_output$18.$$arity = 0);\n          return (Opal.def(self, '$s_exp', $Negative_s_exp$19 = function $$s_exp() {\n            var self = this;\n\n            return \"\" + \"(- \" + (self.body.$s_exp()) + \")\"\n          }, $Negative_s_exp$19.$$arity = 0), nil) && 's_exp';\n        })($nesting[0], null, $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'Parenthesis');\n\n          var $nesting = [self].concat($parent_nesting), $Parenthesis_initialize$20, $Parenthesis_eval$21, $Parenthesis_output$22, $Parenthesis_s_exp$23;\n\n          self.$$prototype.expr = nil;\n          \n          \n          Opal.def(self, '$initialize', $Parenthesis_initialize$20 = function $$initialize(expr) {\n            var self = this;\n\n            return (self.expr = expr)\n          }, $Parenthesis_initialize$20.$$arity = 1);\n          \n          Opal.def(self, '$eval', $Parenthesis_eval$21 = function(round_type) {\n            var self = this;\n\n            return self.expr.$eval(round_type)\n          }, $Parenthesis_eval$21.$$arity = 1);\n          \n          Opal.def(self, '$output', $Parenthesis_output$22 = function $$output() {\n            var self = this;\n\n            return \"\" + \"(\" + (self.expr.$output()) + \")\"\n          }, $Parenthesis_output$22.$$arity = 0);\n          return (Opal.def(self, '$s_exp', $Parenthesis_s_exp$23 = function $$s_exp() {\n            var self = this;\n\n            return \"\" + \"(Parenthesis \" + (self.expr.$s_exp()) + \")\"\n          }, $Parenthesis_s_exp$23.$$arity = 0), nil) && 's_exp';\n        })($nesting[0], null, $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'Number');\n\n          var $nesting = [self].concat($parent_nesting), $Number_initialize$24, $Number_eval$25, $Number_output$26;\n\n          self.$$prototype.value = nil;\n          \n          \n          Opal.def(self, '$initialize', $Number_initialize$24 = function $$initialize(value) {\n            var self = this;\n\n            return (self.value = value)\n          }, $Number_initialize$24.$$arity = 1);\n          \n          Opal.def(self, '$eval', $Number_eval$25 = function(_round_type) {\n            var self = this;\n\n            return self.value\n          }, $Number_eval$25.$$arity = 1);\n          \n          Opal.def(self, '$output', $Number_output$26 = function $$output() {\n            var self = this;\n\n            return self.value.$to_s()\n          }, $Number_output$26.$$arity = 0);\n          return Opal.alias(self, \"s_exp\", \"output\");\n        })($nesting[0], null, $nesting);\n      })($nesting[0], $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"racc/parser\"] = function(Opal) {\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  var $a, self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy, $gvars = Opal.gvars, $send = Opal.send;\n\n  \n  (function($base, $parent_nesting) {\n    var self = $module($base, 'Racc');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $super, $parent_nesting) {\n      var self = $klass($base, $super, 'ParseError');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      return nil\n    })($nesting[0], $$($nesting, 'StandardError'), $nesting)\n  })($nesting[0], $nesting);\n  if ($truthy((($a = $$$('::', 'ParseError', 'skip_raise')) ? 'constant' : nil))) {\n  } else {\n    Opal.const_set($nesting[0], 'ParseError', $$$($$($nesting, 'Racc'), 'ParseError'))\n  };\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'Racc');\n\n    var $nesting = [self].concat($parent_nesting), $a;\n\n    \n    if ($truthy((($a = $$($nesting, 'Racc_No_Extensions', 'skip_raise')) ? 'constant' : nil))) {\n    } else {\n      Opal.const_set($nesting[0], 'Racc_No_Extensions', false)\n    };\n    (function($base, $super, $parent_nesting) {\n      var self = $klass($base, $super, 'Parser');\n\n      var $nesting = [self].concat($parent_nesting), $Parser_racc_runtime_type$1, $Parser__racc_setup$2, $Parser__racc_init_sysvars$3, $Parser_do_parse$4, $Parser_next_token$5, $Parser__racc_do_parse_rb$6, $Parser_yyparse$8, $Parser__racc_yyparse_rb$9, $Parser__racc_evalact$12, $Parser__racc_do_reduce$14, $Parser_on_error$15, $Parser_yyerror$16, $Parser_yyaccept$17, $Parser_yyerrok$18, $Parser_racc_read_token$19, $Parser_racc_shift$20, $Parser_racc_reduce$21, $Parser_racc_accept$23, $Parser_racc_e_pop$24, $Parser_racc_next_state$25, $Parser_racc_print_stacks$26, $Parser_racc_print_states$28, $Parser_racc_token2str$30, $Parser_token_to_str$31;\n\n      self.$$prototype.yydebug = self.$$prototype.racc_debug_out = self.$$prototype.racc_error_status = self.$$prototype.racc_t = self.$$prototype.racc_vstack = self.$$prototype.racc_val = self.$$prototype.racc_state = self.$$prototype.racc_tstack = nil;\n      \n      Opal.const_set($nesting[0], 'Racc_Runtime_Version', \"1.4.6\");\n      Opal.const_set($nesting[0], 'Racc_Runtime_Revision', [\"originalRevision:\", \"1.8\"]['$[]'](1));\n      Opal.const_set($nesting[0], 'Racc_Runtime_Core_Version_R', \"1.4.6\");\n      Opal.const_set($nesting[0], 'Racc_Runtime_Core_Revision_R', [\"originalRevision:\", \"1.8\"]['$[]'](1));\n      Opal.const_set($nesting[0], 'Racc_Main_Parsing_Routine', \"_racc_do_parse_rb\");\n      Opal.const_set($nesting[0], 'Racc_YY_Parse_Method', \"_racc_yyparse_rb\");\n      Opal.const_set($nesting[0], 'Racc_Runtime_Core_Version', $$($nesting, 'Racc_Runtime_Core_Version_R'));\n      Opal.const_set($nesting[0], 'Racc_Runtime_Core_Revision', $$($nesting, 'Racc_Runtime_Core_Revision_R'));\n      Opal.const_set($nesting[0], 'Racc_Runtime_Type', \"ruby\");\n      Opal.defs($$($nesting, 'Parser'), '$racc_runtime_type', $Parser_racc_runtime_type$1 = function $$racc_runtime_type() {\n        var self = this;\n\n        return $$($nesting, 'Racc_Runtime_Type')\n      }, $Parser_racc_runtime_type$1.$$arity = 0);\n      \n      Opal.def(self, '$_racc_setup', $Parser__racc_setup$2 = function $$_racc_setup() {\n        var $a, $b, self = this, $ret_or_1 = nil, arg = nil, $writer = nil;\n        if ($gvars.stderr == null) $gvars.stderr = nil;\n\n        \n        if ($truthy($$$(self.$class(), 'Racc_debug_parser'))) {\n        } else {\n          self.yydebug = false\n        };\n        if ($truthy((($a = self['yydebug'], $a != null && $a !== nil) ? 'instance-variable' : nil))) {\n        } else {\n          self.yydebug = false\n        };\n        if ($truthy(self.yydebug)) {\n          \n          if ($truthy((($b = self['racc_debug_out'], $b != null && $b !== nil) ? 'instance-variable' : nil))) {\n          } else {\n            self.racc_debug_out = $gvars.stderr\n          };\n          self.racc_debug_out = (function() {if ($truthy(($ret_or_1 = self.racc_debug_out))) {\n            return $ret_or_1\n          } else {\n            return $gvars.stderr\n          }; return nil; })();};\n        arg = $$$(self.$class(), 'Racc_arg');\n        if ($truthy($rb_lt(arg.$size(), 14))) {\n          \n          $writer = [13, true];\n          $send(arg, '[]=', Opal.to_a($writer));\n          $writer[$rb_minus($writer[\"length\"], 1)];};\n        return arg;\n      }, $Parser__racc_setup$2.$$arity = 0);\n      \n      Opal.def(self, '$_racc_init_sysvars', $Parser__racc_init_sysvars$3 = function $$_racc_init_sysvars() {\n        var self = this;\n\n        \n        self.racc_state = [0];\n        self.racc_tstack = [];\n        self.racc_vstack = [];\n        self.racc_t = nil;\n        self.racc_val = nil;\n        self.racc_read_next = true;\n        self.racc_user_yyerror = false;\n        return (self.racc_error_status = 0);\n      }, $Parser__racc_init_sysvars$3.$$arity = 0);\n      \n      Opal.def(self, '$do_parse', $Parser_do_parse$4 = function $$do_parse() {\n        var self = this;\n\n        return self.$__send__($$($nesting, 'Racc_Main_Parsing_Routine'), self.$_racc_setup(), false)\n      }, $Parser_do_parse$4.$$arity = 0);\n      \n      Opal.def(self, '$next_token', $Parser_next_token$5 = function $$next_token() {\n        var self = this;\n\n        return self.$raise($$($nesting, 'NotImplementedError'), \"\" + (self.$class()) + \"#next_token is not defined\")\n      }, $Parser_next_token$5.$$arity = 0);\n      \n      Opal.def(self, '$_racc_do_parse_rb', $Parser__racc_do_parse_rb$6 = function $$_racc_do_parse_rb(arg, in_debug) {\n        var $a, $b, $$7, self = this, action_table = nil, action_check = nil, action_default = nil, action_pointer = nil, _ = nil, token_table = nil, tok = nil, act = nil, i = nil;\n\n        \n        $b = arg, $a = Opal.to_ary($b), (action_table = ($a[0] == null ? nil : $a[0])), (action_check = ($a[1] == null ? nil : $a[1])), (action_default = ($a[2] == null ? nil : $a[2])), (action_pointer = ($a[3] == null ? nil : $a[3])), (_ = ($a[4] == null ? nil : $a[4])), (_ = ($a[5] == null ? nil : $a[5])), (_ = ($a[6] == null ? nil : $a[6])), (_ = ($a[7] == null ? nil : $a[7])), (_ = ($a[8] == null ? nil : $a[8])), (_ = ($a[9] == null ? nil : $a[9])), (token_table = ($a[10] == null ? nil : $a[10])), (_ = ($a[11] == null ? nil : $a[11])), (_ = ($a[12] == null ? nil : $a[12])), (_ = ($a[13] == null ? nil : $a[13])), $b;\n        self.$_racc_init_sysvars();\n        tok = (act = (i = nil));\n        return $send(self, 'catch', [\"racc_end_parse\"], ($$7 = function(){var self = $$7.$$s == null ? this : $$7.$$s, $c, $d, $e, $ret_or_2 = nil, $ret_or_3 = nil, $ret_or_4 = nil;\n          if (self.racc_state == null) self.racc_state = nil;\n          if (self.racc_read_next == null) self.racc_read_next = nil;\n          if (self.racc_t == null) self.racc_t = nil;\n          if (self.yydebug == null) self.yydebug = nil;\n          if (self.racc_val == null) self.racc_val = nil;\n\n        while ($truthy(true)) {\n            \n            if ($truthy((i = action_pointer['$[]'](self.racc_state['$[]'](-1))))) {\n              \n              if ($truthy(self.racc_read_next)) {\n                if ($truthy(self.racc_t['$!='](0))) {\n                  \n                  $e = self.$next_token(), $d = Opal.to_ary($e), (tok = ($d[0] == null ? nil : $d[0])), (self.racc_val = ($d[1] == null ? nil : $d[1])), $e;\n                  if ($truthy(tok)) {\n                    self.racc_t = (function() {if ($truthy(($ret_or_2 = token_table['$[]'](tok)))) {\n                      return $ret_or_2\n                    } else {\n                      return 1\n                    }; return nil; })()\n                  } else {\n                    self.racc_t = 0\n                  };\n                  if ($truthy(self.yydebug)) {\n                    self.$racc_read_token(self.racc_t, tok, self.racc_val)};\n                  self.racc_read_next = false;}};\n              i = $rb_plus(i, self.racc_t);\n              if ($truthy((function() {if ($truthy(($ret_or_3 = (function() {if ($truthy(($ret_or_4 = $rb_ge(i, 0)))) {\n                return (act = action_table['$[]'](i))\n              } else {\n                return $ret_or_4\n              }; return nil; })()))) {\n                return action_check['$[]'](i)['$=='](self.racc_state['$[]'](-1))\n              } else {\n                return $ret_or_3\n              }; return nil; })())) {\n              } else {\n                act = action_default['$[]'](self.racc_state['$[]'](-1))\n              };\n            } else {\n              act = action_default['$[]'](self.racc_state['$[]'](-1))\n            };\n            while ($truthy((act = self.$_racc_evalact(act, arg)))) {\n              \n            };\n          }}, $$7.$$s = self, $$7.$$arity = 0, $$7));\n      }, $Parser__racc_do_parse_rb$6.$$arity = 2);\n      \n      Opal.def(self, '$yyparse', $Parser_yyparse$8 = function $$yyparse(recv, mid) {\n        var self = this;\n\n        return self.$__send__($$($nesting, 'Racc_YY_Parse_Method'), recv, mid, self.$_racc_setup(), true)\n      }, $Parser_yyparse$8.$$arity = 2);\n      \n      Opal.def(self, '$_racc_yyparse_rb', $Parser__racc_yyparse_rb$9 = function $$_racc_yyparse_rb(recv, mid, arg, c_debug) {\n        var $a, $b, $$10, self = this, action_table = nil, action_check = nil, action_default = nil, action_pointer = nil, _ = nil, token_table = nil, act = nil, i = nil;\n\n        \n        $b = arg, $a = Opal.to_ary($b), (action_table = ($a[0] == null ? nil : $a[0])), (action_check = ($a[1] == null ? nil : $a[1])), (action_default = ($a[2] == null ? nil : $a[2])), (action_pointer = ($a[3] == null ? nil : $a[3])), (_ = ($a[4] == null ? nil : $a[4])), (_ = ($a[5] == null ? nil : $a[5])), (_ = ($a[6] == null ? nil : $a[6])), (_ = ($a[7] == null ? nil : $a[7])), (_ = ($a[8] == null ? nil : $a[8])), (_ = ($a[9] == null ? nil : $a[9])), (token_table = ($a[10] == null ? nil : $a[10])), (_ = ($a[11] == null ? nil : $a[11])), (_ = ($a[12] == null ? nil : $a[12])), (_ = ($a[13] == null ? nil : $a[13])), $b;\n        self.$_racc_init_sysvars();\n        act = nil;\n        i = nil;\n        return $send(self, 'catch', [\"racc_end_parse\"], ($$10 = function(){var self = $$10.$$s == null ? this : $$10.$$s, $c, $d, $$11;\n          if (self.racc_state == null) self.racc_state = nil;\n\n        \n          while (!($truthy((i = action_pointer['$[]'](self.racc_state['$[]'](-1)))))) {\n            while ($truthy((act = self.$_racc_evalact(action_default['$[]'](self.racc_state['$[]'](-1)), arg)))) {\n              \n            }\n          };\n          return $send(recv, '__send__', [mid], ($$11 = function(tok, val){var self = $$11.$$s == null ? this : $$11.$$s, $e, $f, $ret_or_5 = nil, $ret_or_6 = nil, $ret_or_7 = nil, $ret_or_8 = nil, $ret_or_9 = nil, $ret_or_10 = nil, $ret_or_11 = nil, $ret_or_12 = nil, $ret_or_13 = nil;\n            if (self.racc_t == null) self.racc_t = nil;\n            if (self.racc_state == null) self.racc_state = nil;\n            if (self.racc_read_next == null) self.racc_read_next = nil;\n\n          \n            \n            if (tok == null) {\n              tok = nil;\n            };\n            \n            if (val == null) {\n              val = nil;\n            };\n            if ($truthy(tok)) {\n              self.racc_t = (function() {if ($truthy(($ret_or_5 = token_table['$[]'](tok)))) {\n                return $ret_or_5\n              } else {\n                return 1\n              }; return nil; })()\n            } else {\n              self.racc_t = 0\n            };\n            self.racc_val = val;\n            self.racc_read_next = false;\n            i = $rb_plus(i, self.racc_t);\n            if ($truthy((function() {if ($truthy(($ret_or_6 = (function() {if ($truthy(($ret_or_7 = $rb_ge(i, 0)))) {\n              return (act = action_table['$[]'](i))\n            } else {\n              return $ret_or_7\n            }; return nil; })()))) {\n              return action_check['$[]'](i)['$=='](self.racc_state['$[]'](-1))\n            } else {\n              return $ret_or_6\n            }; return nil; })())) {\n            } else {\n              act = action_default['$[]'](self.racc_state['$[]'](-1))\n            };\n            while ($truthy((act = self.$_racc_evalact(act, arg)))) {\n              \n            };\n            while ($truthy((function() {if ($truthy(($ret_or_8 = (function() {if ($truthy(($ret_or_9 = (i = action_pointer['$[]'](self.racc_state['$[]'](-1)))['$!']()))) {\n              return $ret_or_9\n            } else {\n              return self.racc_read_next['$!']()\n            }; return nil; })()))) {\n              return $ret_or_8\n            } else {\n              return self.racc_t['$=='](0)\n            }; return nil; })())) {\n              \n              if ($truthy((function() {if ($truthy(($ret_or_10 = (function() {if ($truthy(($ret_or_11 = (function() {if ($truthy(($ret_or_12 = (function() {if ($truthy(($ret_or_13 = i))) {\n                return (i = $rb_plus(i, self.racc_t))\n              } else {\n                return $ret_or_13\n              }; return nil; })()))) {\n                return $rb_ge(i, 0)\n              } else {\n                return $ret_or_12\n              }; return nil; })()))) {\n                return (act = action_table['$[]'](i))\n              } else {\n                return $ret_or_11\n              }; return nil; })()))) {\n                return action_check['$[]'](i)['$=='](self.racc_state['$[]'](-1))\n              } else {\n                return $ret_or_10\n              }; return nil; })())) {\n              } else {\n                act = action_default['$[]'](self.racc_state['$[]'](-1))\n              };\n              while ($truthy((act = self.$_racc_evalact(act, arg)))) {\n                \n              };\n            };}, $$11.$$s = self, $$11.$$arity = 2, $$11));}, $$10.$$s = self, $$10.$$arity = 0, $$10));\n      }, $Parser__racc_yyparse_rb$9.$$arity = 4);\n      \n      Opal.def(self, '$_racc_evalact', $Parser__racc_evalact$12 = function $$_racc_evalact(act, arg) {\n        var $a, $b, $$13, self = this, action_table = nil, action_check = nil, _ = nil, action_pointer = nil, shift_n = nil, reduce_n = nil, $ret_or_14 = nil, $ret_or_15 = nil, code = nil, $case = nil, i = nil, $ret_or_16 = nil, $ret_or_17 = nil;\n\n        \n        $b = arg, $a = Opal.to_ary($b), (action_table = ($a[0] == null ? nil : $a[0])), (action_check = ($a[1] == null ? nil : $a[1])), (_ = ($a[2] == null ? nil : $a[2])), (action_pointer = ($a[3] == null ? nil : $a[3])), (_ = ($a[4] == null ? nil : $a[4])), (_ = ($a[5] == null ? nil : $a[5])), (_ = ($a[6] == null ? nil : $a[6])), (_ = ($a[7] == null ? nil : $a[7])), (_ = ($a[8] == null ? nil : $a[8])), (_ = ($a[9] == null ? nil : $a[9])), (_ = ($a[10] == null ? nil : $a[10])), (shift_n = ($a[11] == null ? nil : $a[11])), (reduce_n = ($a[12] == null ? nil : $a[12])), (_ = ($a[13] == null ? nil : $a[13])), (_ = ($a[14] == null ? nil : $a[14])), $b;\n        if ($truthy((function() {if ($truthy(($ret_or_14 = $rb_gt(act, 0)))) {\n          return $rb_lt(act, shift_n)\n        } else {\n          return $ret_or_14\n        }; return nil; })())) {\n          \n          if ($truthy($rb_gt(self.racc_error_status, 0))) {\n            if (self.racc_t['$=='](1)) {\n            } else {\n              self.racc_error_status = $rb_minus(self.racc_error_status, 1)\n            }};\n          self.racc_vstack.$push(self.racc_val);\n          self.racc_state.$push(act);\n          self.racc_read_next = true;\n          if ($truthy(self.yydebug)) {\n            \n            self.racc_tstack.$push(self.racc_t);\n            self.$racc_shift(self.racc_t, self.racc_tstack, self.racc_vstack);};\n        } else if ($truthy((function() {if ($truthy(($ret_or_15 = $rb_lt(act, 0)))) {\n          return $rb_gt(act, reduce_n['$-@']())\n        } else {\n          return $ret_or_15\n        }; return nil; })())) {\n          \n          code = $send(self, 'catch', [\"racc_jump\"], ($$13 = function(){var self = $$13.$$s == null ? this : $$13.$$s;\n            if (self.racc_state == null) self.racc_state = nil;\n\n          \n            self.racc_state.$push(self.$_racc_do_reduce(arg, act));\n            return false;}, $$13.$$s = self, $$13.$$arity = 0, $$13));\n          if ($truthy(code)) {\n            $case = code;\n            if ((1)['$===']($case)) {\n            self.racc_user_yyerror = true;\n            return reduce_n['$-@']();}\n            else if ((2)['$===']($case)) {return shift_n}\n            else {self.$raise(\"[Racc Bug] unknown jump code\")}};\n        } else if (act['$=='](shift_n)) {\n          \n          if ($truthy(self.yydebug)) {\n            self.$racc_accept()};\n          self.$throw(\"racc_end_parse\", self.racc_vstack['$[]'](0));\n        } else if (act['$=='](reduce_n['$-@']())) {\n          \n          $case = self.racc_error_status;\n          if ((0)['$===']($case)) {if ($truthy(arg['$[]'](21))) {\n          } else {\n            self.$on_error(self.racc_t, self.racc_val, self.racc_vstack)\n          }}\n          else if ((3)['$===']($case)) {\n          if (self.racc_t['$=='](0)) {\n            self.$throw(\"racc_end_parse\", nil)};\n          self.racc_read_next = true;};\n          self.racc_user_yyerror = false;\n          self.racc_error_status = 3;\n          while ($truthy(true)) {\n            \n            if ($truthy((i = action_pointer['$[]'](self.racc_state['$[]'](-1))))) {\n              \n              i = $rb_plus(i, 1);\n              if ($truthy((function() {if ($truthy(($ret_or_16 = (function() {if ($truthy(($ret_or_17 = $rb_ge(i, 0)))) {\n                \n                return (act = action_table['$[]'](i));\n              } else {\n                return $ret_or_17\n              }; return nil; })()))) {\n                return action_check['$[]'](i)['$=='](self.racc_state['$[]'](-1))\n              } else {\n                return $ret_or_16\n              }; return nil; })())) {\n                break;};};\n            if ($truthy($rb_le(self.racc_state.$size(), 1))) {\n              self.$throw(\"racc_end_parse\", nil)};\n            self.racc_state.$pop();\n            self.racc_vstack.$pop();\n            if ($truthy(self.yydebug)) {\n              \n              self.racc_tstack.$pop();\n              self.$racc_e_pop(self.racc_state, self.racc_tstack, self.racc_vstack);};\n          };\n          return act;\n        } else {\n          self.$raise(\"\" + \"[Racc Bug] unknown action \" + (act.$inspect()))\n        };\n        if ($truthy(self.yydebug)) {\n          self.$racc_next_state(self.racc_state['$[]'](-1), self.racc_state)};\n        return nil;\n      }, $Parser__racc_evalact$12.$$arity = 2);\n      \n      Opal.def(self, '$_racc_do_reduce', $Parser__racc_do_reduce$14 = function $$_racc_do_reduce(arg, act) {\n        var $a, $b, self = this, _ = nil, goto_table = nil, goto_check = nil, goto_default = nil, goto_pointer = nil, nt_base = nil, reduce_table = nil, use_result = nil, state = nil, vstack = nil, tstack = nil, i = nil, len = nil, reduce_to = nil, method_id = nil, void_array = nil, tmp_t = nil, tmp_v = nil, $writer = nil, k1 = nil, $ret_or_18 = nil, $ret_or_19 = nil, curstate = nil;\n\n        \n        $b = arg, $a = Opal.to_ary($b), (_ = ($a[0] == null ? nil : $a[0])), (_ = ($a[1] == null ? nil : $a[1])), (_ = ($a[2] == null ? nil : $a[2])), (_ = ($a[3] == null ? nil : $a[3])), (goto_table = ($a[4] == null ? nil : $a[4])), (goto_check = ($a[5] == null ? nil : $a[5])), (goto_default = ($a[6] == null ? nil : $a[6])), (goto_pointer = ($a[7] == null ? nil : $a[7])), (nt_base = ($a[8] == null ? nil : $a[8])), (reduce_table = ($a[9] == null ? nil : $a[9])), (_ = ($a[10] == null ? nil : $a[10])), (_ = ($a[11] == null ? nil : $a[11])), (_ = ($a[12] == null ? nil : $a[12])), (use_result = ($a[13] == null ? nil : $a[13])), $b;\n        state = self.racc_state;\n        vstack = self.racc_vstack;\n        tstack = self.racc_tstack;\n        i = $rb_times(act, -3);\n        len = reduce_table['$[]'](i);\n        reduce_to = reduce_table['$[]']($rb_plus(i, 1));\n        method_id = reduce_table['$[]']($rb_plus(i, 2));\n        void_array = [];\n        if ($truthy(self.yydebug)) {\n          tmp_t = tstack['$[]'](len['$-@'](), len)};\n        tmp_v = vstack['$[]'](len['$-@'](), len);\n        if ($truthy(self.yydebug)) {\n          \n          $writer = [len['$-@'](), len, void_array];\n          $send(tstack, '[]=', Opal.to_a($writer));\n          $writer[$rb_minus($writer[\"length\"], 1)];};\n        \n        $writer = [len['$-@'](), len, void_array];\n        $send(vstack, '[]=', Opal.to_a($writer));\n        $writer[$rb_minus($writer[\"length\"], 1)];;\n        \n        $writer = [len['$-@'](), len, void_array];\n        $send(state, '[]=', Opal.to_a($writer));\n        $writer[$rb_minus($writer[\"length\"], 1)];;\n        if ($truthy(use_result)) {\n          vstack.$push(self.$__send__(method_id, tmp_v, vstack, tmp_v['$[]'](0)))\n        } else {\n          vstack.$push(self.$__send__(method_id, tmp_v, vstack))\n        };\n        tstack.$push(reduce_to);\n        if ($truthy(self.yydebug)) {\n          self.$racc_reduce(tmp_t, reduce_to, tstack, vstack)};\n        k1 = $rb_minus(reduce_to, nt_base);\n        if ($truthy((i = goto_pointer['$[]'](k1)))) {\n          \n          i = $rb_plus(i, state['$[]'](-1));\n          if ($truthy((function() {if ($truthy(($ret_or_18 = (function() {if ($truthy(($ret_or_19 = $rb_ge(i, 0)))) {\n            \n            return (curstate = goto_table['$[]'](i));\n          } else {\n            return $ret_or_19\n          }; return nil; })()))) {\n            return goto_check['$[]'](i)['$=='](k1)\n          } else {\n            return $ret_or_18\n          }; return nil; })())) {\n            return curstate};};\n        return goto_default['$[]'](k1);\n      }, $Parser__racc_do_reduce$14.$$arity = 2);\n      \n      Opal.def(self, '$on_error', $Parser_on_error$15 = function $$on_error(t, val, vstack) {\n        var self = this, $ret_or_20 = nil;\n\n        return self.$raise($$($nesting, 'ParseError'), self.$sprintf(\"\\nparse error on value %s (%s)\", val.$inspect(), (function() {if ($truthy(($ret_or_20 = self.$token_to_str(t)))) {\n          return $ret_or_20\n        } else {\n          return \"?\"\n        }; return nil; })()))\n      }, $Parser_on_error$15.$$arity = 3);\n      \n      Opal.def(self, '$yyerror', $Parser_yyerror$16 = function $$yyerror() {\n        var self = this;\n\n        return self.$throw(\"racc_jump\", 1)\n      }, $Parser_yyerror$16.$$arity = 0);\n      \n      Opal.def(self, '$yyaccept', $Parser_yyaccept$17 = function $$yyaccept() {\n        var self = this;\n\n        return self.$throw(\"racc_jump\", 2)\n      }, $Parser_yyaccept$17.$$arity = 0);\n      \n      Opal.def(self, '$yyerrok', $Parser_yyerrok$18 = function $$yyerrok() {\n        var self = this;\n\n        return (self.racc_error_status = 0)\n      }, $Parser_yyerrok$18.$$arity = 0);\n      \n      Opal.def(self, '$racc_read_token', $Parser_racc_read_token$19 = function $$racc_read_token(t, tok, val) {\n        var self = this;\n\n        \n        self.racc_debug_out.$print(\"read    \");\n        self.racc_debug_out.$print(tok.$inspect(), \"(\", self.$racc_token2str(t), \") \");\n        self.racc_debug_out.$puts(val.$inspect());\n        return self.racc_debug_out.$puts();\n      }, $Parser_racc_read_token$19.$$arity = 3);\n      \n      Opal.def(self, '$racc_shift', $Parser_racc_shift$20 = function $$racc_shift(tok, tstack, vstack) {\n        var self = this;\n\n        \n        self.racc_debug_out.$puts(\"\" + \"shift   \" + (self.$racc_token2str(tok)));\n        self.$racc_print_stacks(tstack, vstack);\n        return self.racc_debug_out.$puts();\n      }, $Parser_racc_shift$20.$$arity = 3);\n      \n      Opal.def(self, '$racc_reduce', $Parser_racc_reduce$21 = function $$racc_reduce(toks, sim, tstack, vstack) {\n        var $$22, self = this, out = nil;\n\n        \n        out = self.racc_debug_out;\n        out.$print(\"reduce \");\n        if ($truthy(toks['$empty?']())) {\n          out.$print(\" <none>\")\n        } else {\n          $send(toks, 'each', [], ($$22 = function(t){var self = $$22.$$s == null ? this : $$22.$$s;\n\n          \n            \n            if (t == null) {\n              t = nil;\n            };\n            return out.$print(\" \", self.$racc_token2str(t));}, $$22.$$s = self, $$22.$$arity = 1, $$22))\n        };\n        out.$puts(\"\" + \" --> \" + (self.$racc_token2str(sim)));\n        self.$racc_print_stacks(tstack, vstack);\n        return self.racc_debug_out.$puts();\n      }, $Parser_racc_reduce$21.$$arity = 4);\n      \n      Opal.def(self, '$racc_accept', $Parser_racc_accept$23 = function $$racc_accept() {\n        var self = this;\n\n        \n        self.racc_debug_out.$puts(\"accept\");\n        return self.racc_debug_out.$puts();\n      }, $Parser_racc_accept$23.$$arity = 0);\n      \n      Opal.def(self, '$racc_e_pop', $Parser_racc_e_pop$24 = function $$racc_e_pop(state, tstack, vstack) {\n        var self = this;\n\n        \n        self.racc_debug_out.$puts(\"error recovering mode: pop token\");\n        self.$racc_print_states(state);\n        self.$racc_print_stacks(tstack, vstack);\n        return self.racc_debug_out.$puts();\n      }, $Parser_racc_e_pop$24.$$arity = 3);\n      \n      Opal.def(self, '$racc_next_state', $Parser_racc_next_state$25 = function $$racc_next_state(curstate, state) {\n        var self = this;\n\n        \n        self.racc_debug_out.$puts(\"\" + \"goto    \" + (curstate));\n        self.$racc_print_states(state);\n        return self.racc_debug_out.$puts();\n      }, $Parser_racc_next_state$25.$$arity = 2);\n      \n      Opal.def(self, '$racc_print_stacks', $Parser_racc_print_stacks$26 = function $$racc_print_stacks(t, v) {\n        var $$27, self = this, out = nil;\n\n        \n        out = self.racc_debug_out;\n        out.$print(\"        [\");\n        $send(t, 'each_index', [], ($$27 = function(i){var self = $$27.$$s == null ? this : $$27.$$s;\n\n        \n          \n          if (i == null) {\n            i = nil;\n          };\n          return out.$print(\" (\", self.$racc_token2str(t['$[]'](i)), \" \", v['$[]'](i).$inspect(), \")\");}, $$27.$$s = self, $$27.$$arity = 1, $$27));\n        return out.$puts(\" ]\");\n      }, $Parser_racc_print_stacks$26.$$arity = 2);\n      \n      Opal.def(self, '$racc_print_states', $Parser_racc_print_states$28 = function $$racc_print_states(s) {\n        var $$29, self = this, out = nil;\n\n        \n        out = self.racc_debug_out;\n        out.$print(\"        [\");\n        $send(s, 'each', [], ($$29 = function(st){var self = $$29.$$s == null ? this : $$29.$$s;\n\n        \n          \n          if (st == null) {\n            st = nil;\n          };\n          return out.$print(\" \", st);}, $$29.$$s = self, $$29.$$arity = 1, $$29));\n        return out.$puts(\" ]\");\n      }, $Parser_racc_print_states$28.$$arity = 1);\n      \n      Opal.def(self, '$racc_token2str', $Parser_racc_token2str$30 = function $$racc_token2str(tok) {\n        var self = this, $ret_or_21 = nil;\n\n        if ($truthy(($ret_or_21 = $$$(self.$class(), 'Racc_token_to_s_table')['$[]'](tok)))) {\n          return $ret_or_21\n        } else {\n          return self.$raise(\"\" + \"[Racc Bug] can't convert token \" + (tok) + \" to string\")\n        }\n      }, $Parser_racc_token2str$30.$$arity = 1);\n      return (Opal.def(self, '$token_to_str', $Parser_token_to_str$31 = function $$token_to_str(t) {\n        var self = this;\n\n        return $$$(self.$class(), 'Racc_token_to_s_table')['$[]'](t)\n      }, $Parser_token_to_str$31.$$arity = 1), nil) && 'token_to_str';\n    })($nesting[0], null, $nesting);\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"strscan\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $klass = Opal.klass, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $super, $parent_nesting) {\n    var self = $klass($base, $super, 'StringScanner');\n\n    var $nesting = [self].concat($parent_nesting), $StringScanner_initialize$1, $StringScanner_beginning_of_line$ques$2, $StringScanner_scan$3, $StringScanner_scan_until$4, $StringScanner_$$$5, $StringScanner_check$6, $StringScanner_check_until$7, $StringScanner_peek$8, $StringScanner_eos$ques$9, $StringScanner_exist$ques$10, $StringScanner_skip$11, $StringScanner_skip_until$12, $StringScanner_get_byte$13, $StringScanner_match$ques$14, $StringScanner_pos$eq$15, $StringScanner_matched_size$16, $StringScanner_post_match$17, $StringScanner_pre_match$18, $StringScanner_reset$19, $StringScanner_rest$20, $StringScanner_rest$ques$21, $StringScanner_rest_size$22, $StringScanner_terminate$23, $StringScanner_unscan$24, $StringScanner_anchor$25;\n\n    self.$$prototype.pos = self.$$prototype.string = self.$$prototype.working = self.$$prototype.matched = self.$$prototype.prev_pos = self.$$prototype.match = nil;\n    \n    self.$attr_reader(\"pos\");\n    self.$attr_reader(\"matched\");\n    \n    Opal.def(self, '$initialize', $StringScanner_initialize$1 = function $$initialize(string) {\n      var self = this;\n\n      \n      self.string = string;\n      self.pos = 0;\n      self.matched = nil;\n      self.working = string;\n      return (self.match = []);\n    }, $StringScanner_initialize$1.$$arity = 1);\n    self.$attr_reader(\"string\");\n    \n    Opal.def(self, '$beginning_of_line?', $StringScanner_beginning_of_line$ques$2 = function() {\n      var self = this;\n\n      return self.pos === 0 || self.string.charAt(self.pos - 1) === \"\\n\"\n    }, $StringScanner_beginning_of_line$ques$2.$$arity = 0);\n    Opal.alias(self, \"bol?\", \"beginning_of_line?\");\n    \n    Opal.def(self, '$scan', $StringScanner_scan$3 = function $$scan(pattern) {\n      var self = this;\n\n      \n      pattern = self.$anchor(pattern);\n      \n      var result = pattern.exec(self.working);\n\n      if (result == null) {\n        return self.matched = nil;\n      }\n      else if (typeof(result) === 'object') {\n        self.prev_pos = self.pos;\n        self.pos     += result[0].length;\n        self.working  = self.working.substring(result[0].length);\n        self.matched  = result[0];\n        self.match    = result;\n\n        return result[0];\n      }\n      else if (typeof(result) === 'string') {\n        self.pos     += result.length;\n        self.working  = self.working.substring(result.length);\n\n        return result;\n      }\n      else {\n        return nil;\n      }\n    ;\n    }, $StringScanner_scan$3.$$arity = 1);\n    \n    Opal.def(self, '$scan_until', $StringScanner_scan_until$4 = function $$scan_until(pattern) {\n      var self = this;\n\n      \n      pattern = self.$anchor(pattern);\n      \n      var pos     = self.pos,\n          working = self.working,\n          result;\n\n      while (true) {\n        result   = pattern.exec(working);\n        pos     += 1;\n        working  = working.substr(1);\n\n        if (result == null) {\n          if (working.length === 0) {\n            self.match = [];\n            return self.matched = nil;\n          }\n\n          continue;\n        }\n\n        self.matched  = self.string.substr(self.pos, pos - self.pos - 1 + result[0].length);\n        self.match    = result;\n        self.prev_pos = pos - 1;\n        self.pos      = pos;\n        self.working  = working.substr(result[0].length);\n\n        return self.matched;\n      }\n    ;\n    }, $StringScanner_scan_until$4.$$arity = 1);\n    \n    Opal.def(self, '$[]', $StringScanner_$$$5 = function(idx) {\n      var self = this, $case = nil;\n\n      \n      if ($truthy(self.match['$empty?']())) {\n        return nil};\n      $case = idx;\n      if ($$($nesting, 'Symbol')['$===']($case)) {idx = idx.$to_s()}\n      else if ($$($nesting, 'String')['$===']($case)) {nil}\n      else {idx = $$($nesting, 'Opal')['$coerce_to!'](idx, $$($nesting, 'Integer'), \"to_int\")};\n      \n      var match = self.match;\n\n      if (idx < 0) {\n        idx += match.length;\n      }\n\n      if (idx < 0 || idx >= match.length) {\n        return nil;\n      }\n\n      if (match[idx] == null) {\n        return nil;\n      }\n\n      return match[idx];\n    ;\n    }, $StringScanner_$$$5.$$arity = 1);\n    \n    Opal.def(self, '$check', $StringScanner_check$6 = function $$check(pattern) {\n      var self = this;\n\n      \n      pattern = self.$anchor(pattern);\n      \n      var result = pattern.exec(self.working);\n\n      if (result == null) {\n        return self.matched = nil;\n      }\n\n      return self.matched = result[0];\n    ;\n    }, $StringScanner_check$6.$$arity = 1);\n    \n    Opal.def(self, '$check_until', $StringScanner_check_until$7 = function $$check_until(pattern) {\n      var self = this;\n\n      \n      var prev_pos = self.prev_pos,\n          pos      = self.pos;\n\n      var result = self.$scan_until(pattern);\n\n      if (result !== nil) {\n        self.matched = result.substr(-1);\n        self.working = self.string.substr(pos);\n      }\n\n      self.prev_pos = prev_pos;\n      self.pos      = pos;\n\n      return result;\n    \n    }, $StringScanner_check_until$7.$$arity = 1);\n    \n    Opal.def(self, '$peek', $StringScanner_peek$8 = function $$peek(length) {\n      var self = this;\n\n      return self.working.substring(0, length)\n    }, $StringScanner_peek$8.$$arity = 1);\n    \n    Opal.def(self, '$eos?', $StringScanner_eos$ques$9 = function() {\n      var self = this;\n\n      return self.working.length === 0\n    }, $StringScanner_eos$ques$9.$$arity = 0);\n    \n    Opal.def(self, '$exist?', $StringScanner_exist$ques$10 = function(pattern) {\n      var self = this;\n\n      \n      var result = pattern.exec(self.working);\n\n      if (result == null) {\n        return nil;\n      }\n      else if (result.index == 0) {\n        return 0;\n      }\n      else {\n        return result.index + 1;\n      }\n    \n    }, $StringScanner_exist$ques$10.$$arity = 1);\n    \n    Opal.def(self, '$skip', $StringScanner_skip$11 = function $$skip(pattern) {\n      var self = this;\n\n      \n      pattern = self.$anchor(pattern);\n      \n      var result = pattern.exec(self.working);\n\n      if (result == null) {\n        self.match = [];\n        return self.matched = nil;\n      }\n      else {\n        var match_str = result[0];\n        var match_len = match_str.length;\n\n        self.matched   = match_str;\n        self.match     = result;\n        self.prev_pos  = self.pos;\n        self.pos      += match_len;\n        self.working   = self.working.substring(match_len);\n\n        return match_len;\n      }\n    ;\n    }, $StringScanner_skip$11.$$arity = 1);\n    \n    Opal.def(self, '$skip_until', $StringScanner_skip_until$12 = function $$skip_until(pattern) {\n      var self = this;\n\n      \n      var result = self.$scan_until(pattern);\n\n      if (result === nil) {\n        return nil;\n      }\n      else {\n        self.matched = result.substr(-1);\n\n        return result.length;\n      }\n    \n    }, $StringScanner_skip_until$12.$$arity = 1);\n    \n    Opal.def(self, '$get_byte', $StringScanner_get_byte$13 = function $$get_byte() {\n      var self = this;\n\n      \n      var result = nil;\n\n      if (self.pos < self.string.length) {\n        self.prev_pos  = self.pos;\n        self.pos      += 1;\n        result      = self.matched = self.working.substring(0, 1);\n        self.working   = self.working.substring(1);\n      }\n      else {\n        self.matched = nil;\n      }\n\n      return result;\n    \n    }, $StringScanner_get_byte$13.$$arity = 0);\n    Opal.alias(self, \"getch\", \"get_byte\");\n    \n    Opal.def(self, '$match?', $StringScanner_match$ques$14 = function(pattern) {\n      var self = this;\n\n      \n      pattern = self.$anchor(pattern);\n      \n      var result = pattern.exec(self.working);\n\n      if (result == null) {\n        return nil;\n      }\n      else {\n        self.prev_pos = self.pos;\n\n        return result[0].length;\n      }\n    ;\n    }, $StringScanner_match$ques$14.$$arity = 1);\n    \n    Opal.def(self, '$pos=', $StringScanner_pos$eq$15 = function(pos) {\n      var self = this;\n\n      \n      \n      if (pos < 0) {\n        pos += self.string.$length();\n      }\n    ;\n      self.pos = pos;\n      return (self.working = self.string.slice(pos));\n    }, $StringScanner_pos$eq$15.$$arity = 1);\n    \n    Opal.def(self, '$matched_size', $StringScanner_matched_size$16 = function $$matched_size() {\n      var self = this;\n\n      \n      if (self.matched === nil) {\n        return nil;\n      }\n\n      return self.matched.length\n    \n    }, $StringScanner_matched_size$16.$$arity = 0);\n    \n    Opal.def(self, '$post_match', $StringScanner_post_match$17 = function $$post_match() {\n      var self = this;\n\n      \n      if (self.matched === nil) {\n        return nil;\n      }\n\n      return self.string.substr(self.pos);\n    \n    }, $StringScanner_post_match$17.$$arity = 0);\n    \n    Opal.def(self, '$pre_match', $StringScanner_pre_match$18 = function $$pre_match() {\n      var self = this;\n\n      \n      if (self.matched === nil) {\n        return nil;\n      }\n\n      return self.string.substr(0, self.prev_pos);\n    \n    }, $StringScanner_pre_match$18.$$arity = 0);\n    \n    Opal.def(self, '$reset', $StringScanner_reset$19 = function $$reset() {\n      var self = this;\n\n      \n      self.working = self.string;\n      self.matched = nil;\n      return (self.pos = 0);\n    }, $StringScanner_reset$19.$$arity = 0);\n    \n    Opal.def(self, '$rest', $StringScanner_rest$20 = function $$rest() {\n      var self = this;\n\n      return self.working\n    }, $StringScanner_rest$20.$$arity = 0);\n    \n    Opal.def(self, '$rest?', $StringScanner_rest$ques$21 = function() {\n      var self = this;\n\n      return self.working.length !== 0\n    }, $StringScanner_rest$ques$21.$$arity = 0);\n    \n    Opal.def(self, '$rest_size', $StringScanner_rest_size$22 = function $$rest_size() {\n      var self = this;\n\n      return self.$rest().$size()\n    }, $StringScanner_rest_size$22.$$arity = 0);\n    \n    Opal.def(self, '$terminate', $StringScanner_terminate$23 = function $$terminate() {\n      var self = this, $writer = nil;\n\n      \n      self.match = nil;\n      \n      $writer = [self.string.$length()];\n      $send(self, 'pos=', Opal.to_a($writer));\n      return $writer[$rb_minus($writer[\"length\"], 1)];;\n    }, $StringScanner_terminate$23.$$arity = 0);\n    \n    Opal.def(self, '$unscan', $StringScanner_unscan$24 = function $$unscan() {\n      var self = this;\n\n      \n      self.pos = self.prev_pos;\n      self.prev_pos = nil;\n      self.match = nil;\n      return self;\n    }, $StringScanner_unscan$24.$$arity = 0);\n    self.$private();\n    return (Opal.def(self, '$anchor', $StringScanner_anchor$25 = function $$anchor(pattern) {\n      var self = this;\n\n      \n      var flags = pattern.toString().match(/\\/([^\\/]+)$/);\n      flags = flags ? flags[1] : undefined;\n      return new RegExp('^(?:' + pattern.source + ')', flags);\n    \n    }, $StringScanner_anchor$25.$$arity = 1), nil) && 'anchor';\n  })($nesting[0], null, $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/normalize\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'Normalize');\n\n      var $nesting = [self].concat($parent_nesting), $Normalize_comparison_operator$1, $Normalize_target_number$2;\n\n      \n      self.$module_function();\n      \n      Opal.def(self, '$comparison_operator', $Normalize_comparison_operator$1 = function $$comparison_operator(op) {\n        var self = this, $case = nil;\n\n        return (function() {$case = op;\n        if (/<=|=</['$===']($case)) {return \"<=\"}\n        else if (/>=|=>/['$===']($case)) {return \">=\"}\n        else if (/<>|!=|=!/['$===']($case)) {return \"!=\"}\n        else if (/</['$===']($case)) {return \"<\"}\n        else if (/>/['$===']($case)) {return \">\"}\n        else if (/=/['$===']($case)) {return \"==\"}\n        else { return nil }})()\n      }, $Normalize_comparison_operator$1.$$arity = 1);\n      \n      Opal.def(self, '$target_number', $Normalize_target_number$2 = function $$target_number(val) {\n        var self = this;\n\n        if (val['$=='](\"?\")) {\n          return val\n        } else {\n          return val.$to_i()\n        }\n      }, $Normalize_target_number$2.$$arity = 1);\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/common_command/lexer\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2, $truthy = Opal.truthy;\n\n  \n  self.$require(\"strscan\");\n  self.$require(\"bcdice/normalize\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'CommonCommand');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Lexer');\n\n        var $nesting = [self].concat($parent_nesting), $Lexer_initialize$1, $Lexer_next_token$2, $Lexer_source$3;\n\n        self.$$prototype.scanner = nil;\n        \n        Opal.const_set($nesting[0], 'SYMBOLS', $hash2([\"+\", \"-\", \"*\", \"/\", \"(\", \")\", \"[\", \"]\", \"?\", \"@\"], {\"+\": \"PLUS\", \"-\": \"MINUS\", \"*\": \"ASTERISK\", \"/\": \"SLASH\", \"(\": \"PARENL\", \")\": \"PARENR\", \"[\": \"BRACKETL\", \"]\": \"BRACKETR\", \"?\": \"QUESTION\", \"@\": \"AT\"}).$freeze());\n        \n        Opal.def(self, '$initialize', $Lexer_initialize$1 = function $$initialize(source) {\n          var self = this, $ret_or_1 = nil;\n\n          \n          source = (function() {if ($truthy(($ret_or_1 = source.$split(\" \", 2).$first()))) {\n            return $ret_or_1\n          } else {\n            return \"\"\n          }; return nil; })();\n          return (self.scanner = $$($nesting, 'StringScanner').$new(source));\n        }, $Lexer_initialize$1.$$arity = 1);\n        \n        Opal.def(self, '$next_token', $Lexer_next_token$2 = function $$next_token() {\n          var self = this, number = nil, cmp_op = nil, char$ = nil, type = nil, $ret_or_2 = nil;\n\n          \n          if ($truthy(self.scanner['$eos?']())) {\n            return [false, \"$\"]};\n          if ($truthy((number = self.scanner.$scan(/\\d+/)))) {\n            return [\"NUMBER\", number.$to_i()]\n          } else if ($truthy((cmp_op = self.scanner.$scan(/[<>!=]+/)))) {\n            return [\"CMP_OP\", $$($nesting, 'Normalize').$comparison_operator(cmp_op)]\n          } else {\n            \n            char$ = self.scanner.$getch().$upcase();\n            type = (function() {if ($truthy(($ret_or_2 = $$($nesting, 'SYMBOLS')['$[]'](char$)))) {\n              return $ret_or_2\n            } else {\n              return char$.$to_sym()\n            }; return nil; })();\n            return [type, char$];\n          };\n        }, $Lexer_next_token$2.$$arity = 0);\n        return (Opal.def(self, '$source', $Lexer_source$3 = function $$source() {\n          var self = this;\n\n          return self.scanner.$string()\n        }, $Lexer_source$3.$$arity = 0), nil) && 'source';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/arithmetic/parser\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash = Opal.hash;\n\n  \n  self.$require(\"racc/parser.rb\");\n  self.$require(\"bcdice/common_command/lexer\");\n  self.$require(\"bcdice/arithmetic/node\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'Arithmetic');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Parser');\n\n        var $nesting = [self].concat($parent_nesting), $Parser_parse$1, $Parser_parse$2, $Parser_next_token$3, $Parser__reduce_1$4, $Parser__reduce_2$5, $Parser__reduce_4$6, $Parser__reduce_5$7, $Parser__reduce_7$8, $Parser__reduce_8$9, $Parser__reduce_9$10, $Parser__reduce_10$11, $Parser__reduce_11$12, $Parser__reduce_12$13, $Parser__reduce_13$14, $Parser__reduce_15$15, $Parser__reduce_16$16, $Parser__reduce_none$17, racc_action_table = nil, racc_action_check = nil, racc_action_pointer = nil, racc_action_default = nil, racc_goto_table = nil, racc_goto_check = nil, racc_goto_pointer = nil, racc_goto_default = nil, racc_reduce_table = nil, racc_reduce_n = nil, racc_shift_n = nil, racc_token_table = nil, racc_nt_base = nil, racc_use_result_var = nil;\n\n        self.$$prototype.lexer = nil;\n        \n        Opal.defs(self, '$parse', $Parser_parse$1 = function $$parse(source) {\n          var self = this;\n\n          return self.$new().$parse(source)\n        }, $Parser_parse$1.$$arity = 1);\n        \n        Opal.def(self, '$parse', $Parser_parse$2 = function $$parse(source) {\n          var self = this;\n\n          try {\n            \n            self.lexer = $$$($$$($$($nesting, 'BCDice'), 'CommonCommand'), 'Lexer').$new(source);\n            return self.$do_parse();\n          } catch ($err) {\n            if (Opal.rescue($err, [$$($nesting, 'ParseError')])) {\n              try {\n                return nil\n              } finally { Opal.pop_exception() }\n            } else { throw $err; }\n          }\n        }, $Parser_parse$2.$$arity = 1);\n        self.$private();\n        \n        Opal.def(self, '$next_token', $Parser_next_token$3 = function $$next_token() {\n          var self = this;\n\n          return self.lexer.$next_token()\n        }, $Parser_next_token$3.$$arity = 0);\n        racc_action_table = [8, 17, 8, 12, 13, 4, 5, 4, 5, 7, 8, 7, 8, 12, 13, 4, 5, 4, 5, 7, 8, 7, 8, 12, 13, 4, 5, 4, 5, 7, 8, 7, 8, nil, nil, 4, 5, 4, 5, 7, 9, 7, nil, nil, 10, 11, nil, 10, 11, 22, 26, 24, 25, 27];\n        racc_action_check = [0, 9, 4, 2, 2, 0, 0, 4, 4, 0, 5, 4, 7, 18, 18, 5, 5, 7, 7, 5, 10, 7, 11, 19, 19, 10, 10, 11, 11, 10, 12, 11, 13, nil, nil, 12, 12, 13, 13, 12, 1, 13, nil, nil, 16, 16, nil, 1, 1, 16, 21, 21, 21, 21];\n        racc_action_pointer = [-2, 40, -6, nil, 0, 8, nil, 10, nil, 1, 18, 20, 28, 30, nil, nil, 37, nil, 4, 14, nil, 47, nil, nil, nil, nil, nil, nil];\n        racc_action_default = [-17, -17, -3, -6, -17, -17, -14, -17, -16, -17, -17, -17, -17, -17, -12, -13, -17, 28, -1, -2, -4, -7, -15, -5, -8, -9, -10, -11];\n        racc_goto_table = [14, 15, 23, 1, 18, 19, nil, nil, 20, 21, 16];\n        racc_goto_check = [3, 3, 4, 1, 2, 2, nil, nil, 3, 3, 1];\n        racc_goto_pointer = [nil, 3, -6, -4, -19, nil];\n        racc_goto_default = [nil, nil, 2, 3, nil, 6];\n        racc_reduce_table = [0, 0, \"racc_error\", 3, 14, \"_reduce_1\", 3, 14, \"_reduce_2\", 1, 14, \"_reduce_none\", 3, 15, \"_reduce_4\", 4, 15, \"_reduce_5\", 1, 15, \"_reduce_none\", 0, 17, \"_reduce_7\", 1, 17, \"_reduce_8\", 1, 17, \"_reduce_9\", 1, 17, \"_reduce_10\", 1, 17, \"_reduce_11\", 2, 16, \"_reduce_12\", 2, 16, \"_reduce_13\", 1, 16, \"_reduce_none\", 3, 18, \"_reduce_15\", 1, 18, \"_reduce_16\"];\n        racc_reduce_n = 17;\n        racc_shift_n = 28;\n        racc_token_table = $hash(false, 0, \"error\", 1, \"NUMBER\", 2, \"R\", 3, \"U\", 4, \"C\", 5, \"F\", 6, \"PLUS\", 7, \"MINUS\", 8, \"ASTERISK\", 9, \"SLASH\", 10, \"PARENL\", 11, \"PARENR\", 12);\n        racc_nt_base = 13;\n        racc_use_result_var = true;\n        Opal.const_set($nesting[0], 'Racc_arg', [racc_action_table, racc_action_check, racc_action_default, racc_action_pointer, racc_goto_table, racc_goto_check, racc_goto_default, racc_goto_pointer, racc_nt_base, racc_reduce_table, racc_token_table, racc_shift_n, racc_reduce_n, racc_use_result_var]);\n        Opal.const_set($nesting[0], 'Racc_token_to_s_table', [\"$end\", \"error\", \"NUMBER\", \"R\", \"U\", \"C\", \"F\", \"PLUS\", \"MINUS\", \"ASTERISK\", \"SLASH\", \"PARENL\", \"PARENR\", \"$start\", \"add\", \"mul\", \"unary\", \"round_type\", \"term\"]);\n        Opal.const_set($nesting[0], 'Racc_debug_parser', false);\n        \n        Opal.def(self, '$_reduce_1', $Parser__reduce_1$4 = function $$_reduce_1(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'BinaryOp').$new(val['$[]'](0), \"+\", val['$[]'](2));\n          return result;\n        }, $Parser__reduce_1$4.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_2', $Parser__reduce_2$5 = function $$_reduce_2(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'BinaryOp').$new(val['$[]'](0), \"-\", val['$[]'](2));\n          return result;\n        }, $Parser__reduce_2$5.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_4', $Parser__reduce_4$6 = function $$_reduce_4(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'BinaryOp').$new(val['$[]'](0), \"*\", val['$[]'](2));\n          return result;\n        }, $Parser__reduce_4$6.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_5', $Parser__reduce_5$7 = function $$_reduce_5(val, _values, result) {\n          var self = this, divied_class = nil;\n\n          \n          divied_class = val['$[]'](3);\n          result = divied_class.$new(val['$[]'](0), val['$[]'](2));\n          return result;\n        }, $Parser__reduce_5$7.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_7', $Parser__reduce_7$8 = function $$_reduce_7(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'DivideWithGameSystemDefault');\n          return result;\n        }, $Parser__reduce_7$8.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_8', $Parser__reduce_8$9 = function $$_reduce_8(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'DivideWithCeil');\n          return result;\n        }, $Parser__reduce_8$9.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_9', $Parser__reduce_9$10 = function $$_reduce_9(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'DivideWithCeil');\n          return result;\n        }, $Parser__reduce_9$10.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_10', $Parser__reduce_10$11 = function $$_reduce_10(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'DivideWithRound');\n          return result;\n        }, $Parser__reduce_10$11.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_11', $Parser__reduce_11$12 = function $$_reduce_11(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'DivideWithFloor');\n          return result;\n        }, $Parser__reduce_11$12.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_12', $Parser__reduce_12$13 = function $$_reduce_12(val, _values, result) {\n          var self = this;\n\n          \n          result = val['$[]'](1);\n          return result;\n        }, $Parser__reduce_12$13.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_13', $Parser__reduce_13$14 = function $$_reduce_13(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'Negative').$new(val['$[]'](1));\n          return result;\n        }, $Parser__reduce_13$14.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_15', $Parser__reduce_15$15 = function $$_reduce_15(val, _values, result) {\n          var self = this;\n\n          \n          result = val['$[]'](1);\n          return result;\n        }, $Parser__reduce_15$15.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_16', $Parser__reduce_16$16 = function $$_reduce_16(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'Number').$new(val['$[]'](0));\n          return result;\n        }, $Parser__reduce_16$16.$$arity = 3);\n        return (Opal.def(self, '$_reduce_none', $Parser__reduce_none$17 = function $$_reduce_none(val, _values, result) {\n          var self = this;\n\n          return val['$[]'](0)\n        }, $Parser__reduce_none$17.$$arity = 3), nil) && '_reduce_none';\n      })($nesting[0], $$$($$($nesting, 'Racc'), 'Parser'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/arithmetic\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $send = Opal.send;\n\n  \n  self.$require(\"bcdice/arithmetic/node\");\n  self.$require(\"bcdice/arithmetic/parser\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'Arithmetic');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function(self, $parent_nesting) {\n        var $nesting = [self].concat($parent_nesting), $eval$1;\n\n        return (Opal.def(self, '$eval', $eval$1 = function(source, round_type) {\n          var $a, self = this, node = nil;\n\n          try {\n            \n            node = $$($nesting, 'Parser').$parse(source);\n            return ($a = node, ($a === nil || $a == null) ? nil : $send($a, 'eval', [round_type]));\n          } catch ($err) {\n            if (Opal.rescue($err, [$$($nesting, 'ZeroDivisionError')])) {\n              try {\n                return nil\n              } finally { Opal.pop_exception() }\n            } else { throw $err; }\n          }\n        }, $eval$1.$$arity = 2), nil) && 'eval'\n      })(Opal.get_singleton_class(self), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $truthy = Opal.truthy, $send = Opal.send, $hash2 = Opal.hash2;\n\n  \n  self.$require(\"bcdice/dice_table/table\");\n  self.$require(\"bcdice/dice_table/d66_grid_table\");\n  self.$require(\"bcdice/arithmetic\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'AngelGear');\n\n        var $nesting = [self].concat($parent_nesting), $AngelGear_initialize$1, $AngelGear_eval_game_system_specific_command$2, $AngelGear_resolute_action$3;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"AngelGear\");\n        Opal.const_set($nesting[0], 'NAME', \"エンゼルギア 天使大戦TRPG The 2nd Editon\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"えんせるきあ2\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・判定　nAG[s][±a]\\n\" + \"[]内は省略可能。\\n\" + \"n:判定値\\n\" + \"s:技能値\\n\" + \"a:修正\\n\" + \"（例）\\n\" + \"12AG 10AG3±20\\n\" + \"\\n\" + \"・感情表　ET\\n\");\n        \n        Opal.def(self, '$initialize', $AngelGear_initialize$1 = function $$initialize(command) {\n          var $iter = $AngelGear_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $AngelGear_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $AngelGear_initialize$1, false, true), 'initialize', [command], null);\n          return (self.sort_barabara_dice = true);\n        }, $AngelGear_initialize$1.$$arity = 1);\n        \n        Opal.def(self, '$eval_game_system_specific_command', $AngelGear_eval_game_system_specific_command$2 = function $$eval_game_system_specific_command(command) {\n          var $a, self = this, m = nil;\n\n          if ($truthy((m = /^(\\d+)AG(\\d+)?(([+\\-]\\d+)*)$/.$match(command)))) {\n            return self.$resolute_action(m['$[]'](1).$to_i(), ($a = m['$[]'](2), ($a === nil || $a == null) ? nil : $send($a, 'to_i', [])), m['$[]'](3), command)\n          } else {\n            return self.$roll_tables(command, $$($nesting, 'TABLES'))\n          }\n        }, $AngelGear_eval_game_system_specific_command$2.$$arity = 1);\n        \n        Opal.def(self, '$resolute_action', $AngelGear_resolute_action$3 = function $$resolute_action(num_dice, skill_value, modify, command) {\n          var $$4, self = this, dice = nil, dice_text = nil, modify_n = nil, success = nil, output = nil;\n\n          \n          dice = self.randomizer.$roll_barabara(num_dice, 6).$sort();\n          dice_text = dice.$join(\",\");\n          modify_n = 0;\n          success = 0;\n          if ($truthy(skill_value)) {\n            \n            success = $send(dice, 'count', [], ($$4 = function(val){var self = $$4.$$s == null ? this : $$4.$$s;\n\n            \n              \n              if (val == null) {\n                val = nil;\n              };\n              return $rb_le(val, skill_value);}, $$4.$$s = self, $$4.$$arity = 1, $$4));\n            if ($truthy(modify['$empty?']())) {\n            } else {\n              modify_n = $$($nesting, 'Arithmetic').$eval(modify, $$$($$($nesting, 'RoundType'), 'FLOOR'))\n            };};\n          output = \"\" + \"(\" + (command) + \") ＞ \" + (success) + \"[\" + (dice_text) + \"]\" + (self.$format(\"%+d\", modify_n)) + \" ＞ 成功数: \" + ($rb_plus(success, modify_n));\n          if ($truthy($rb_ge($rb_plus(success, modify_n), 100))) {\n            output = $rb_plus(output, \"(福音発生)\")};\n          return output;\n        }, $AngelGear_resolute_action$3.$$arity = 4);\n        Opal.const_set($nesting[0], 'TABLES', $hash2([\"ET\"], {\"ET\": $$$($$($nesting, 'DiceTable'), 'D66GridTable').$new(\"感情表\", [[\"好奇心（好奇心）\", \"憧れ（あこがれ）\", \"尊敬（そんけい）\", \"仲間意識（なかまいしき）\", \"母性愛（ぼせいあい）\", \"感心（かんしん）\"], [\"純愛（じゅんあい）\", \"友情（ゆうじょう）\", \"同情（どうじょう）\", \"父性愛（ふせいあい）\", \"幸福感（こうふくかん）\", \"信頼（しんらい）\"], [\"競争心（きょうそうしん）\", \"親近感（しんきんかん）\", \"まごころ\", \"好意（こうい）\", \"有為（ゆうい）\", \"崇拝（すうはい）\"], [\"大嫌い（だいきらい）\", \"妬み（ねたみ）\", \"侮蔑（ぶべつ）\", \"腐れ縁（くされえん）\", \"恐怖（きょうふ）\", \"劣等感（れっとうかん）\"], [\"偏愛（へんあい）\", \"寂しさ（さびしさ）\", \"憐憫（れんびん）\", \"闘争心（とうそうしん）\", \"食傷（しょくしょう）\", \"嘘つき（うそつき）\"], [\"甘え（あまえ）\", \"苛立ち（いらだち）\", \"下心（したごころ）\", \"憎悪（ぞうお）\", \"疑惑（ぎわく）\", \"支配（しはい）\"]])}).$freeze());\n        return self.$register_prefix(\"\\\\d+AG\", $$($nesting, 'TABLES').$keys());\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n})(Opal);\n"],"sourceRoot":"webpack:///"}