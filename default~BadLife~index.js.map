{"version":3,"sources":["./node_modules/bcdice/lib/bcdice/game_system/BadLife.js"],"names":["require","Opal","$rb_minus","lhs","rhs","$rb_plus","$rb_le","$rb_ge","$rb_gt","self","top","$nesting","nil","$$$","$$","$module","module","$klass","klass","$truthy","truthy","$base","$parent_nesting","concat","$super","$BadLife_eval_game_system_specific_command$1","$BadLife_judgeDice$2","$BadLife_get_critival_fumble$3","$BadLife_checkRoll$4","$BadLife_get_name_table$5","$BadLife_get_skill_table$6","$BadLife_get_badlife_1d20_table_result$7","$BadLife_get_badlife_table_result$8","$BadLife_get_value$9","$$prototype","randomizer","const_set","$register_prefix","def","$$eval_game_system_specific_command","command","result","output","$case","initials","$upcase","$judgeDice","$last_match","$get_name_table","$get_skill_table","$$arity","$$judgeDice","$a","$b","m","diceCount","$ret_or_1","critical","fumble","isStormy","modify","target","optionalText","$ret_or_2","$match","$to_i","$get_value","$get_critival_fumble","to_ary","$checkRoll","$$get_critival_fumble","marker","text","$$checkRoll","isAnticipation","isHeavyAttack","dice_list","diceText","diceMax","$ret_or_3","isCritical","isFumble","total","$ret_or_4","$ret_or_5","success","skillText","$roll_barabara","$join","$max","$to_s","$$get_name_table","name","table","$get_badlife_1d20_table_result","$$get_skill_table","dice","$roll_once","$get_table_by_number","$get_badlife_table_result","$$get_badlife_1d20_table_result","$$get_badlife_table_result","$$get_value","$ret_or_6","$eval"],"mappings":"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","file":"default~BadLife~index.js","sourcesContent":["require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'BadLife');\n\n        var $nesting = [self].concat($parent_nesting), $BadLife_eval_game_system_specific_command$1, $BadLife_judgeDice$2, $BadLife_get_critival_fumble$3, $BadLife_checkRoll$4, $BadLife_get_name_table$5, $BadLife_get_skill_table$6, $BadLife_get_badlife_1d20_table_result$7, $BadLife_get_badlife_table_result$8, $BadLife_get_value$9;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"BadLife\");\n        Opal.const_set($nesting[0], 'NAME', \"バッドライフ\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"はつとらいふ\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・判定：nBADm[±a][Cb±c][Fd±e][@X±f][!OP]　　[]内のコマンドは省略可。\\n\" + \"・BADコマンドは「BL」コマンドで代用可。\\n\" + \"・博徒は「GL」コマンドで〈波乱万丈〉の効果を適用。\\n\" + \"\\n\" + \"「n」で振るダイス数、「m」で特性値、「±a」で達成値への修正値、\\n\" + \"「Cb±c」でクリティカル値への修正、「Fd±e」でファンブル値への修正、\\n\" + \"「@X」で目標難易度を指定。\\n\" + \"「±a」「Cb±c」「Fd±e」[@X±f]部分は「4+1-3」などの複数回指定可。\\n\" + \"「!OP」部分で、一部のスキルやガジェットの追加効果を指定可。\\n\" + \"使用可能なコマンドは以下の通り。順不同、複数同時使用も可。\\n\" + \"A：〈先見の明〉　　H：［重撃］\\n\" + \"\\n\" + \"【書式例】\\n\" + \"BAD → 1ダイスで達成値を表示。\\n\" + \"3BAD10+2-1 → 3ダイスで修正+11の達成値を表示。\\n\" + \"BL8@15 → 1ダイスで修正+8、難易度15の判定。\\n\" + \"2BL8C-1F1@15 → 2ダイスで修正+8、C値-1、F値+1、難易度15の判定。\\n\" + \"GL6@20 → 1ダイスで修正+6、難易度20の判定。〈波乱万丈〉の効果。\\n\" + \"GL6@20!HA → 上記に加えて〈先見の明〉［重撃］の効果。\\n\" + \"\\n\" + \"・コードネーム表\\n\" + \"怪盗：TRN　　　闇医者：DRN　　博徒：GRN\\n\" + \"殺シ屋：KRN　　業師：SRN　　　遊ビ人：BRN\\n\" + \"\\n\" + \"・スキル表：SKL\\n\");\n        self.$register_prefix(\"\\\\d?(BAD|BL|GL)\", \"[TDGKSB]RN\", \"SKL\");\n        \n        Opal.def(self, '$eval_game_system_specific_command', $BadLife_eval_game_system_specific_command$1 = function $$eval_game_system_specific_command(command) {\n          var self = this, result = nil, output = nil, $case = nil, initials = nil;\n\n          \n          command = command.$upcase();\n          result = self.$judgeDice(command);\n          if ($truthy(result['$nil?']())) {\n          } else {\n            return result\n          };\n          output = (function() {$case = command;\n          if (/([TDGKSB])RN/i['$===']($case)) {\n          initials = $$($nesting, 'Regexp').$last_match(1);\n          return self.$get_name_table(initials);}\n          else if (\"SKL\"['$===']($case)) {return self.$get_skill_table()}\n          else { return nil }})();\n          return output;\n        }, $BadLife_eval_game_system_specific_command$1.$$arity = 1);\n        \n        Opal.def(self, '$judgeDice', $BadLife_judgeDice$2 = function $$judgeDice(command) {\n          var $a, $b, self = this, m = nil, diceCount = nil, $ret_or_1 = nil, critical = nil, fumble = nil, isStormy = nil, modify = nil, target = nil, optionalText = nil, $ret_or_2 = nil;\n\n          \n          if ($truthy((m = /(\\d+)?(BAD|BL|GL)([-+\\d]*)((C|F)([-+\\d]*)?)?((C|F)([-+\\d]*))?(@([-+\\d]*))?(!(\\D*))?/i.$match(command)))) {\n          } else {\n            return nil\n          };\n          diceCount = (function() {if ($truthy(($ret_or_1 = m['$[]'](1)))) {\n            return $ret_or_1\n          } else {\n            return 1\n          }; return nil; })().$to_i();\n          critical = 20;\n          fumble = 1;\n          isStormy = m['$[]'](2)['$=='](\"GL\");\n          if ($truthy(isStormy)) {\n            \n            critical = $rb_minus(critical, 3);\n            fumble = $rb_plus(fumble, 1);};\n          modify = self.$get_value(m['$[]'](3));\n          $b = self.$get_critival_fumble(critical, fumble, m['$[]'](5), m['$[]'](6)), $a = Opal.to_ary($b), (critical = ($a[0] == null ? nil : $a[0])), (fumble = ($a[1] == null ? nil : $a[1])), $b;\n          $b = self.$get_critival_fumble(critical, fumble, m['$[]'](8), m['$[]'](9)), $a = Opal.to_ary($b), (critical = ($a[0] == null ? nil : $a[0])), (fumble = ($a[1] == null ? nil : $a[1])), $b;\n          target = self.$get_value(m['$[]'](11));\n          optionalText = (function() {if ($truthy(($ret_or_2 = m['$[]'](13)))) {\n            return $ret_or_2\n          } else {\n            return \"\"\n          }; return nil; })();\n          return self.$checkRoll(diceCount, modify, critical, fumble, target, isStormy, optionalText);\n        }, $BadLife_judgeDice$2.$$arity = 1);\n        \n        Opal.def(self, '$get_critival_fumble', $BadLife_get_critival_fumble$3 = function $$get_critival_fumble(critical, fumble, marker, text) {\n          var self = this, $case = nil;\n\n          \n          $case = marker;\n          if (\"C\"['$===']($case)) {critical = $rb_plus(critical, self.$get_value(text))}\n          else if (\"F\"['$===']($case)) {fumble = $rb_plus(fumble, self.$get_value(text))};\n          return [critical, fumble];\n        }, $BadLife_get_critival_fumble$3.$$arity = 4);\n        \n        Opal.def(self, '$checkRoll', $BadLife_checkRoll$4 = function $$checkRoll(diceCount, modify, critical, fumble, target, isStormy, optionalText) {\n          var self = this, isAnticipation = nil, isHeavyAttack = nil, dice_list = nil, diceText = nil, diceMax = nil, $ret_or_3 = nil, isCritical = nil, isFumble = nil, total = nil, $ret_or_4 = nil, result = nil, $ret_or_5 = nil, success = nil, skillText = nil;\n\n          \n          isAnticipation = optionalText['$include?'](\"A\");\n          isHeavyAttack = optionalText['$include?'](\"H\");\n          dice_list = self.randomizer.$roll_barabara(diceCount, 20);\n          diceText = dice_list.$join(\",\");\n          diceMax = dice_list.$max();\n          if ($truthy((function() {if ($truthy(($ret_or_3 = isHeavyAttack))) {\n            return $rb_le(diceMax, 5)\n          } else {\n            return $ret_or_3\n          }; return nil; })())) {\n            diceMax = 5};\n          isCritical = $rb_ge(diceMax, critical);\n          isFumble = $rb_le(diceMax, fumble);\n          if ($truthy(isCritical)) {\n            diceMax = 20};\n          total = $rb_plus(diceMax, modify);\n          if ($truthy((function() {if ($truthy(($ret_or_4 = isAnticipation))) {\n            return $rb_le(diceMax, 7)\n          } else {\n            return $ret_or_4\n          }; return nil; })())) {\n            total = $rb_plus(total, 5)};\n          if ($truthy(isFumble)) {\n            total = 0};\n          result = \"\" + (diceCount) + \"D20(C:\" + (critical) + \",F:\" + (fumble) + \") ＞ \";\n          result = $rb_plus(result, \"\" + (diceMax) + \"[\" + (diceText) + \"]\");\n          if ($truthy($rb_gt(modify, 0))) {\n            result = $rb_plus(result, \"+\")};\n          if ($truthy(modify['$!='](0))) {\n            result = $rb_plus(result, modify.$to_s())};\n          if ($truthy((function() {if ($truthy(($ret_or_5 = isAnticipation))) {\n            return $rb_le(diceMax, 7)\n          } else {\n            return $ret_or_5\n          }; return nil; })())) {\n            result = $rb_plus(result, \"+5\")};\n          result = $rb_plus(result, \"\" + \" ＞ 達成値：\" + (total));\n          if ($truthy($rb_gt(target, 0))) {\n            \n            success = $rb_minus(total, target);\n            result = $rb_plus(result, \"\" + \">=\" + (target) + \" 成功度：\" + (success) + \" ＞ \");\n            if ($truthy(isCritical)) {\n              result = $rb_plus(result, \"成功（クリティカル）\")\n            } else if ($truthy($rb_ge(total, target))) {\n              result = $rb_plus(result, \"成功\")\n            } else {\n              \n              result = $rb_plus(result, \"失敗\");\n              if ($truthy(isFumble)) {\n                result = $rb_plus(result, \"（ファンブル）\")};\n            };\n          } else {\n            \n            if ($truthy(isCritical)) {\n              result = $rb_plus(result, \" クリティカル\")};\n            if ($truthy(isFumble)) {\n              result = $rb_plus(result, \" ファンブル\")};\n          };\n          skillText = \"\";\n          if ($truthy(isStormy)) {\n            skillText = $rb_plus(skillText, \"〈波乱万丈〉\")};\n          if ($truthy(isAnticipation)) {\n            skillText = $rb_plus(skillText, \"〈先見の明〉\")};\n          if ($truthy(isHeavyAttack)) {\n            skillText = $rb_plus(skillText, \"［重撃］\")};\n          if ($truthy(skillText['$!='](\"\"))) {\n            result = $rb_plus(result, \"\" + \" \" + (skillText))};\n          return result;\n        }, $BadLife_checkRoll$4.$$arity = 7);\n        \n        Opal.def(self, '$get_name_table', $BadLife_get_name_table$5 = function $$get_name_table(initials) {\n          var self = this, $case = nil, name = nil, table = nil;\n\n          \n          $case = initials;\n          if (\"T\"['$===']($case)) {\n          name = \"怪盗コードネーム表\";\n          table = [[1, \"フォックス\"], [2, \"フォックス\"], [3, \"ラット\"], [4, \"ラット\"], [5, \"キャット\"], [6, \"キャット\"], [7, \"タイガー\"], [8, \"タイガー\"], [9, \"シャーク\"], [10, \"シャーク\"], [11, \"コンドル\"], [12, \"コンドル\"], [13, \"スパイダー\"], [14, \"スパイダー\"], [15, \"ウルフ\"], [16, \"ウルフ\"], [17, \"コヨーテ\"], [18, \"コヨーテ\"], [19, \"ジャガー\"], [20, \"ジャガー\"]];}\n          else if (\"D\"['$===']($case)) {\n          name = \"闇医者コードネーム表\";\n          table = [[1, \"キャンサー\"], [2, \"キャンサー\"], [3, \"ヘッドエイク\"], [4, \"ヘッドエイク\"], [5, \"ブラッド\"], [6, \"ブラッド\"], [7, \"ウーンズ\"], [8, \"ウーンズ\"], [9, \"ポイズン\"], [10, \"ポイズン\"], [11, \"ペイン\"], [12, \"ペイン\"], [13, \"スリープ\"], [14, \"スリープ\"], [15, \"キュア\"], [16, \"キュア\"], [17, \"デス\"], [18, \"デス\"], [19, \"リーンカーネイション\"], [20, \"リーンカーネイション\"]];}\n          else if (\"G\"['$===']($case)) {\n          name = \"博徒コードネーム表\";\n          table = [[1, \"リトルダイス\"], [2, \"リトルダイス\"], [3, \"プラチナム\"], [4, \"プラチナム\"], [5, \"プレジデント\"], [6, \"プレジデント\"], [7, \"ドリーム\"], [8, \"ドリーム\"], [9, \"アクシデント\"], [10, \"アクシデント\"], [11, \"グリード\"], [12, \"グリード\"], [13, \"フォーチュン\"], [14, \"フォーチュン\"], [15, \"ミラクル\"], [16, \"ミラクル\"], [17, \"ホープ\"], [18, \"ホープ\"], [19, \"ビッグヒット\"], [20, \"ビッグヒット\"]];}\n          else if (\"K\"['$===']($case)) {\n          name = \"殺シ屋コードネーム表\";\n          table = [[1, \"ハンマー\"], [2, \"ハンマー\"], [3, \"アロー\"], [4, \"アロー\"], [5, \"ボマー\"], [6, \"ボマー\"], [7, \"キャノン\"], [8, \"キャノン\"], [9, \"ブレード\"], [10, \"ブレード\"], [11, \"スティング\"], [12, \"スティング\"], [13, \"ガロット\"], [14, \"ガロット\"], [15, \"パイルバンカー\"], [16, \"パイルバンカー\"], [17, \"レイザー\"], [18, \"レイザー\"], [19, \"カタナ\"], [20, \"カタナ\"]];}\n          else if (\"S\"['$===']($case)) {\n          name = \"業師コードネーム表\";\n          table = [[1, \"ローズ\"], [2, \"ローズ\"], [3, \"サクラ\"], [4, \"サクラ\"], [5, \"ライラック\"], [6, \"ライラック\"], [7, \"ダンデライオン\"], [8, \"ダンデライオン\"], [9, \"フリージア\"], [10, \"フリージア\"], [11, \"カクタス\"], [12, \"カクタス\"], [13, \"ロータス\"], [14, \"ロータス\"], [15, \"リリィ\"], [16, \"リリィ\"], [17, \"ラフレシア\"], [18, \"ラフレシア\"], [19, \"ヒヤシンス\"], [20, \"ヒヤシンス\"]];}\n          else if (\"B\"['$===']($case)) {\n          name = \"遊ビ人コードネーム表\";\n          table = [[1, \"モノポリー\"], [2, \"モノポリー\"], [3, \"ブリッジ\"], [4, \"ブリッジ\"], [5, \"チェッカー\"], [6, \"チェッカー\"], [7, \"アクワイア\"], [8, \"アクワイア\"], [9, \"ジャンケン\"], [10, \"ジャンケン\"], [11, \"トランプ\"], [12, \"トランプ\"], [13, \"ケイドロ\"], [14, \"ケイドロ\"], [15, \"パンデミック\"], [16, \"パンデミック\"], [17, \"スゴロク\"], [18, \"スゴロク\"], [19, \"キャベツカンテイ\"], [20, \"キャベツカンテイ\"]];}\n          else {return nil};\n          return self.$get_badlife_1d20_table_result(name, table);\n        }, $BadLife_get_name_table$5.$$arity = 1);\n        \n        Opal.def(self, '$get_skill_table', $BadLife_get_skill_table$6 = function $$get_skill_table() {\n          var self = this, name = nil, table = nil, dice = nil, result = nil;\n\n          \n          name = \"スキル表\";\n          table = [[1, \"一撃離脱\"], [2, \"一撃離脱\"], [3, \"チェイサー\"], [4, \"チェイサー\"], [5, \"影の外套\"], [6, \"影の外套\"], [7, \"二段ジャンプ\"], [8, \"二段ジャンプ\"], [9, \"韋駄天\"], [10, \"韋駄天\"], [11, \"手練\"], [12, \"手練\"], [13, \"ハニーテイスト\"], [14, \"ハニーテイスト\"], [15, \"先見の明\"], [16, \"先見の明\"], [17, \"ベテラン\"], [18, \"ベテラン\"], [19, \"応急手当\"], [20, \"応急手当\"], [21, \"セラピー\"], [22, \"セラピー\"], [23, \"緊急治療\"], [24, \"緊急治療\"], [25, \"ゴールドディガー\"], [26, \"ゴールドディガー\"], [27, \"デイリーミッション\"], [28, \"デイリーミッション\"], [29, \"見切り\"], [30, \"見切り\"], [31, \"鷹の目\"], [32, \"鷹の目\"], [33, \"しびれ罠\"], [34, \"しびれ罠\"], [35, \"大逆転\"], [36, \"大逆転\"], [37, \"武器習熟：○○\"], [38, \"武器習熟：○○\"], [39, \"百発百中\"], [40, \"百発百中\"], [41, \"屈強な肉体\"], [42, \"屈強な肉体\"], [43, \"二刀流\"], [44, \"二刀流\"], [45, \"クイックリカバリー\"], [46, \"クイックリカバリー\"], [47, \"体験主義\"], [48, \"体験主義\"], [49, \"破釜沈船\"], [50, \"破釜沈船\"], [51, \"想定の範囲内\"], [52, \"想定の範囲内\"], [53, \"セカンドチャンス\"], [54, \"セカンドチャンス\"], [55, \"優秀な子分\"], [56, \"優秀な子分\"], [57, \"時間管理術\"], [58, \"時間管理術\"], [59, \"連撃術\"], [60, \"連撃術\"], [61, \"罵詈雑言\"], [62, \"罵詈雑言\"], [63, \"ケセラセラ\"], [64, \"ケセラセラ\"], [65, \"ダンス＆ミュージック\"], [66, \"ダンス＆ミュージック\"], [67, \"フェイント\"], [68, \"フェイント\"], [69, \"ヘイトコントロール\"], [70, \"ヘイトコントロール\"], [71, \"惜別\"], [72, \"惜別\"], [73, \"戦闘マシーン\"], [74, \"戦闘マシーン\"], [75, \"戦闘マシーン\"], [76, \"名医\"], [77, \"名医\"], [78, \"名医\"], [79, \"忍者\"], [80, \"忍者\"], [81, \"忍者\"], [82, \"観察眼\"], [83, \"観察眼\"], [84, \"観察眼\"], [85, \"クレバー\"], [86, \"クレバー\"], [87, \"クレバー\"], [88, \"フェイスマン\"], [89, \"フェイスマン\"], [90, \"フェイスマン\"], [91, \"スポーツマン\"], [92, \"スポーツマン\"], [93, \"スポーツマン\"], [94, \"不屈\"], [95, \"不屈\"], [96, \"不屈\"], [97, \"慎重\"], [98, \"慎重\"], [99, \"慎重\"], [100, \"この表を2回振る\"]];\n          dice = self.randomizer.$roll_once(100);\n          result = self.$get_table_by_number(dice, table);\n          return self.$get_badlife_table_result(name, dice, result);\n        }, $BadLife_get_skill_table$6.$$arity = 0);\n        \n        Opal.def(self, '$get_badlife_1d20_table_result', $BadLife_get_badlife_1d20_table_result$7 = function $$get_badlife_1d20_table_result(name, table) {\n          var self = this, dice = nil, output = nil;\n\n          \n          dice = self.randomizer.$roll_once(20);\n          output = self.$get_table_by_number(dice, table);\n          return self.$get_badlife_table_result(name, dice, output);\n        }, $BadLife_get_badlife_1d20_table_result$7.$$arity = 2);\n        \n        Opal.def(self, '$get_badlife_table_result', $BadLife_get_badlife_table_result$8 = function $$get_badlife_table_result(name, dice, output) {\n          var self = this;\n\n          return \"\" + (name) + \"(\" + (dice) + \") ＞ \" + (output)\n        }, $BadLife_get_badlife_table_result$8.$$arity = 3);\n        return (Opal.def(self, '$get_value', $BadLife_get_value$9 = function $$get_value(text) {\n          var self = this, $ret_or_6 = nil;\n\n          \n          text = (function() {if ($truthy(($ret_or_6 = text))) {\n            return $ret_or_6\n          } else {\n            return \"\"\n          }; return nil; })();\n          return $$($nesting, 'ArithmeticEvaluator').$eval(text);\n        }, $BadLife_get_value$9.$$arity = 1), nil) && 'get_value';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n"],"sourceRoot":"webpack:///"}