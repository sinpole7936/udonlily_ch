{"version":3,"sources":["./node_modules/bcdice/lib/bcdice/game_system/MagicaLogia.js"],"names":["require","Opal","modules","$rb_minus","lhs","rhs","self","top","$nesting","nil","$$$","$$","$module","module","$truthy","truthy","$send","send","$send2","send2","$hash2","hash2","$base","$parent_nesting","concat","class_variable_set","$fallbacks$1","$fallbacks$eq$2","def","$$fallbacks","$a","$ret_or_1","$ret_or_2","$$cvars","$new","$current","$$arity","fallbacks","$writer","to_a","get_singleton_class","$Fallbacks_translate$3","$Fallbacks_extract_non_symbol_default$excl$6","$Fallbacks_exists$ques$8","$Fallbacks_on_fallback$10","$$translate","locale","key","options","$$4","$iter","$$p","$yield","default$","fallback_options","$ret_or_3","$zuper","$zuper_i","$zuper_ii","arguments","length","Array","$fetch","find_super_dispatcher","$merge","$fallbacks","fallback","$$s","$$5","result","find_iter_super_dispatcher","$$def","$to_s","$on_fallback","ret","$err","rescue","pop_exception","$throw","$returner","returner","$v","$$7","defaults","first_non_symbol_default","$flatten","$index","$$9","$private","$$on_fallback","_original_locale","_fallback_locale","_key","_optoins","$rb_gt","$rb_plus","$rb_le","$rb_times","$rb_ge","$klass","klass","$super","$Randomizer_initialize$1","$Randomizer_roll_barabara$2","$Randomizer_roll_sum$4","$Randomizer_roll_once$5","$Randomizer_roll_index$6","$Randomizer_roll_tens_d10$7","$Randomizer_roll_d9$8","$Randomizer_roll_d66$9","$Randomizer_rand_inner$11","$Randomizer_random$12","$Randomizer_push_to_detail$13","$$prototype","rand_results","detailed_rand_results","const_set","$$initialize","$attr_reader","$$roll_barabara","times","sides","$$3","$size","$raise","$roll_once","$$roll_sum","$roll_barabara","$sum","$$roll_once","dice","$rand_inner","$push_to_detail","$$roll_index","$$roll_tens_d10","$$roll_d9","$$roll_d66","sort_type","$$10","dice_list","$case","$$rand_inner","$random","$$random","$rand","$$push_to_detail","kind","value","detail","$push","$RollResult_initialize$1","$RollResult_to_s$2","$RollResult_last_body$3","$RollResult_empty$ques$4","table_name","body","$$to_s","$$last_body","$last_body","$ChainTable_initialize$1","$ChainTable_roll$2","items","name","type","m","$freeze","$match","$to_i","$$roll","randomizer","index","chosen","$roll_sum","$roll","$D66GridTable_from_i18n$1","$D66GridTable_initialize$2","$D66GridTable_roll$3","defs","$$from_i18n","table","$t","dice1","dice2","index1","index2","$require","$D66HalfGridTable_from_i18n$1","$D66HalfGridTable_initialize$2","items_1_2_3","items_4_5_6","$D66OneThirdTable_from_i18n$1","$D66OneThirdTable_initialize$2","items_1_2","items_3_4","items_5_6","$D66ParityTable_initialize$1","$D66ParityTable_roll$2","odd","even","second_table","$D66RangeTable_initialize$1","$D66RangeTable_roll$2","row","$D66Table_from_i18n$1","$D66Table_initialize$2","$D66Table_roll$3","$const_get","$RangeTable$1","$RangeTable_initialize$3","$RangeTable_fetch$4","$RangeTable_roll$6","$RangeTable_store$7","$RangeTable_coerce_to_int_range$11","$RangeTable_assert_min_sum_is_covered$12","$RangeTable_assert_max_sum_is_covered$13","$RangeTable_assert_no_gap_or_overlap_in_ranges$14","num_of_dice","num_of_sides","formatter","$alias_method","$$2","$name","$content","dice_roll_method","$store","$$fetch","item","i","$range","values","sum","$$store","$$8","items_with_range","sorted_items","r","c","$coerce_to_int_range","_","$min","$assert_min_sum_is_covered","$assert_max_sum_is_covered","$assert_no_gap_or_overlap_in_ranges","range","content","$$coerce_to_int_range","x","$begin","$end","$class","$$assert_min_sum_is_covered","min_sum","$first","$$assert_max_sum_is_covered","max_sum","$last","$$assert_no_gap_or_overlap_in_ranges","$$15","i1","i2","r1","r2","max1","next_of_max1","$max","$Category_initialize$1","$Category_roll$3","$Category_to_s$4","skills","s_format","$map","s","$skills","$Skill_initialize$1","$Skill_to_s$2","category_dice","row_dice","category_name","skill_name","$format","$hash","hash","$SaiFicSkillTable_from_i18n$1","$SaiFicSkillTable_initialize$3","$SaiFicSkillTable_roll_command$5","$SaiFicSkillTable_roll_category$6","$SaiFicSkillTable_roll_skill$7","$SaiFicSkillTable_prefixes$8","$SaiFicSkillTable_format_skill$9","rtt","rtt_format","rct","rct_format","rttn","rttn_format","categories","$kwargs","global","$$is_hash","ArgumentError","$$smap","k","to_hash","$mlhs_tmp1","$b","to_ary","$$has_top_level_mlhs_arg","$to_a","$$roll_command","command","cat","$format_skill","$roll_skill","$roll_category","$dice","$$roll_category","$$roll_skill","$$prefixes","$compact","$$format_skill","format_string","skill","$category_dice","$row_dice","$category_name","$Table_from_i18n$1","$Table_initialize$2","$Table_roll$3","$Table_choice$4","bcdice","$choice","$$choice","$Translate_translate$1","kwrestargs","$translate","$Result_initialize$10","$Result_secret$ques$11","$Result_success$ques$12","$Result_failure$ques$13","$Result_critical$ques$14","$Result_fumble$ques$15","$Result_condition$eq$16","secret","success","failure","critical","fumble","$success$1","$failure$3","$critical$5","$fumble$7","$nothing$9","$$success","text","$$failure","$$critical","$$6","$$fumble","$$nothing","rands","detailed_rands","$attr_accessor","$attr_writer","condition","$rb_lt","$gvars","gvars","$Parser_racc_runtime_type$1","$Parser__racc_setup$2","$Parser__racc_init_sysvars$3","$Parser_do_parse$4","$Parser_next_token$5","$Parser__racc_do_parse_rb$6","$Parser_yyparse$8","$Parser__racc_yyparse_rb$9","$Parser__racc_evalact$12","$Parser__racc_do_reduce$14","$Parser_on_error$15","$Parser_yyerror$16","$Parser_yyaccept$17","$Parser_yyerrok$18","$Parser_racc_read_token$19","$Parser_racc_shift$20","$Parser_racc_reduce$21","$Parser_racc_accept$23","$Parser_racc_e_pop$24","$Parser_racc_next_state$25","$Parser_racc_print_stacks$26","$Parser_racc_print_states$28","$Parser_racc_token2str$30","$Parser_token_to_str$31","yydebug","racc_debug_out","racc_error_status","racc_t","racc_vstack","racc_val","racc_state","racc_tstack","$$racc_runtime_type","$$_racc_setup","arg","stderr","$$_racc_init_sysvars","racc_read_next","racc_user_yyerror","$$do_parse","$__send__","$_racc_setup","$$next_token","$$_racc_do_parse_rb","in_debug","action_table","action_check","action_default","action_pointer","token_table","tok","act","$_racc_init_sysvars","$c","$d","$e","$ret_or_4","$next_token","$racc_read_token","$_racc_evalact","$$yyparse","recv","mid","$$_racc_yyparse_rb","c_debug","$$11","val","$f","$ret_or_5","$ret_or_6","$ret_or_7","$ret_or_8","$ret_or_9","$ret_or_10","$ret_or_11","$ret_or_12","$ret_or_13","$$_racc_evalact","$$13","shift_n","reduce_n","$ret_or_14","$ret_or_15","code","$ret_or_16","$ret_or_17","$racc_shift","$_racc_do_reduce","$racc_accept","$on_error","$pop","$racc_e_pop","$inspect","$racc_next_state","$$_racc_do_reduce","goto_table","goto_check","goto_default","goto_pointer","nt_base","reduce_table","use_result","state","vstack","tstack","len","reduce_to","method_id","void_array","tmp_t","tmp_v","k1","$ret_or_18","$ret_or_19","curstate","$racc_reduce","$$on_error","t","$ret_or_20","$sprintf","$token_to_str","$$yyerror","$$yyaccept","$$yyerrok","$$racc_read_token","$print","$racc_token2str","$puts","$$racc_shift","$racc_print_stacks","$$racc_reduce","toks","sim","$$22","out","$$racc_accept","$$racc_e_pop","$racc_print_states","$$racc_next_state","$$racc_print_stacks","v","$$27","$$racc_print_states","$$29","st","$$racc_token2str","$ret_or_21","$$token_to_str","$rb_divide","$BinaryOp_initialize$1","$BinaryOp_eval$2","$BinaryOp_output$3","$BinaryOp_s_exp$4","$BinaryOp_op_for_s_exp$5","op","round_type","l","$eval","$$output","$output","$$s_exp","$op_for_s_exp","$s_exp","$$op_for_s_exp","$DivideBase_initialize$6","$DivideBase_eval$7","$DivideBase_output$8","$DivideBase_rounding_method$9","$DivideBase_op_for_s_exp$10","$DivideBase_divide_and_round$11","$divide_and_round","$rounding_method","$$rounding_method","$$divide_and_round","_dividend","_divisor","_round_type","$DivideWithGameSystemDefault_divide_and_round$12","dividend","divisor","$to_f","$ceil","$round","$DivideWithCeil_divide_and_round$13","$DivideWithRound_divide_and_round$14","$DivideWithFloor_divide_and_round$15","$Negative_initialize$16","$Negative_eval$17","$Negative_output$18","$Negative_s_exp$19","$Parenthesis_initialize$20","$Parenthesis_eval$21","$Parenthesis_output$22","$Parenthesis_s_exp$23","expr","$Number_initialize$24","$Number_eval$25","$Number_output$26","alias","$StringScanner_initialize$1","$StringScanner_beginning_of_line$ques$2","$StringScanner_scan$3","$StringScanner_scan_until$4","$StringScanner_$$$5","$StringScanner_check$6","$StringScanner_check_until$7","$StringScanner_peek$8","$StringScanner_eos$ques$9","$StringScanner_exist$ques$10","$StringScanner_skip$11","$StringScanner_skip_until$12","$StringScanner_get_byte$13","$StringScanner_match$ques$14","$StringScanner_pos$eq$15","$StringScanner_matched_size$16","$StringScanner_post_match$17","$StringScanner_pre_match$18","$StringScanner_reset$19","$StringScanner_rest$20","$StringScanner_rest$ques$21","$StringScanner_rest_size$22","$StringScanner_terminate$23","$StringScanner_unscan$24","$StringScanner_anchor$25","pos","string","working","matched","prev_pos","match","charAt","$$scan","pattern","$anchor","exec","substring","$$scan_until","substr","idx","$$check","$$check_until","$scan_until","$$peek","$$skip","match_str","match_len","$$skip_until","$$get_byte","$length","slice","$$matched_size","$$post_match","$$pre_match","$$reset","$$rest","$$rest_size","$rest","$$terminate","$$unscan","$$anchor","flags","toString","undefined","RegExp","source","$Normalize_comparison_operator$1","$Normalize_target_number$2","$module_function","$$comparison_operator","$$target_number","$Lexer_initialize$1","$Lexer_next_token$3","$Lexer_source$5","scanner","notations","n","number","cmp_op","char$","token","$scan","$comparison_operator","$getch","$upcase","$to_sym","$$source","$string","$Parsed_initialize$1","$Parsed_question_target$ques$2","$Parsed_to_s$3","question_target","dollar","modify_number","target_number","suffix_position","f","d","target","$modifier","$join","$Parser_initialize$1","$Parser_disable_modifier$2","$Parser_enable_critical$3","$Parser_enable_fumble$4","$Parser_enable_dollar$5","$Parser_restrict_cmp_op_to$6","$Parser_enable_question_target$7","$Parser_parse$8","$Parser_parsed$9","$Parser_next_token$11","$Parser__reduce_1$12","$Parser__reduce_2$13","$Parser__reduce_3$14","$Parser__reduce_4$15","$Parser__reduce_5$16","$Parser__reduce_6$17","$Parser__reduce_7$18","$Parser__reduce_8$19","$Parser__reduce_9$20","$Parser__reduce_10$21","$Parser__reduce_11$22","$Parser__reduce_12$23","$Parser__reduce_13$24","$Parser__reduce_14$25","$Parser__reduce_15$26","$Parser__reduce_16$27","$Parser__reduce_18$28","$Parser__reduce_19$29","$Parser__reduce_21$30","$Parser__reduce_22$31","$Parser__reduce_23$32","$Parser__reduce_24$33","$Parser__reduce_25$34","$Parser__reduce_26$35","$Parser__reduce_27$36","$Parser__reduce_29$37","$Parser__reduce_30$38","$Parser__reduce_none$39","racc_action_table","racc_action_check","racc_action_pointer","racc_action_default","racc_goto_table","racc_goto_check","racc_goto_pointer","racc_goto_default","racc_reduce_table","racc_reduce_n","racc_shift_n","racc_token_table","racc_nt_base","racc_use_result_var","lexer","modifier","allowed_cmp_op","$post_args","call","extract_kwargs","hasOwnProperty","$$disable_modifier","$$enable_critical","$$enable_fumble","$$enable_dollar","$$restrict_cmp_op_to","ops","$$enable_question_target","$$parse","$do_parse","$$parsed","notation","option","p","$$_reduce_1","_values","$parsed","$$_reduce_2","$$_reduce_3","$$_reduce_4","$$_reduce_5","term","$$_reduce_6","$$_reduce_7","$$_reduce_8","$$_reduce_9","$$_reduce_10","$$_reduce_11","$$_reduce_12","$$_reduce_13","$$_reduce_14","$$_reduce_15","$$_reduce_16","$$_reduce_18","$$_reduce_19","divied_class","$$_reduce_21","$$_reduce_22","$$_reduce_23","$$_reduce_24","$$_reduce_25","$$_reduce_26","$$_reduce_27","$$_reduce_29","$$_reduce_30","$$_reduce_none","$Checker_check_result_legacy$1","$Checker_check_1D100$2","$Checker_check_1D20$3","$Checker_check_nD10$4","$Checker_check_2D6$5","$Checker_check_nD6$6","$$check_result_legacy","total","sides_list","value_list","dice_total","$to_proc","$check_1D100","$check_1D20","$check_2D6","$delete_prefix","$uniq","$check_nD10","$check_nD6","$$check_1D100","$$check_1D20","$$check_nD10","$$check_2D6","$$check_nD6","$Base_initialize$7","$Base_sort_add_dice$ques$8","$Base_sort_barabara_dice$ques$9","$Base_enabled_d9$ques$10","$Base_enable_debug$11","$Base_eval$12","$Base_change_text$13","$Base_check_result$14","$Base_grich_text$15","$Base_eval_common_command$16","$Base_dice_command$18","$Base_eval_game_system_specific_command$20","$Base_result_ndx$21","$Base_result_1d100$22","$Base_result_1d20$23","$Base_result_nd10$24","$Base_result_2d6$25","$Base_result_nd6$26","$Base_get_table_by_2d6$27","$Base_get_table_by_1d6$28","$Base_get_table_by_nD6$29","$Base_get_table_by_nDx$30","$Base_get_table_by_1d3$31","$Base_get_table_by_d66_swap$32","$Base_get_table_by_d66$33","$Base_get_table_by_number$34","$Base_get_table_value$36","$Base_roll_tables$37","$Base_debug$38","sort_add_dice","sort_barabara_dice","enabled_d9","raw_input","enabled_upcase_input","debug","$register_prefix$1","$register_prefix_from_super_class$2","$prefixes_pattern$3","$command_pattern$4","$eval$6","$$register_prefix","prefixes","$concat","$$register_prefix_from_super_class","$register_prefix","$superclass","$prefixes","$$prefixes_pattern","prefixes_pattern","regexp","$$command_pattern","pattarns","command_pattern","$source","$include","d66_sort_type","sides_implicit_d","upper_dice_reroll_threshold","reroll_dice_reroll_threshold","default_cmp_op","default_target_number","$$enable_debug","$process","$dice_command","$eval_common_command","$rand_results","$detailed_rand_results","$$change_text","$$check_result","$check_result_legacy","$result_1d100","$result_1d20","$result_2d6","$nothing","$result_nd10","$result_nd6","$result_ndx","$$grich_text","count_one","dice_total_count","count_success","$$eval_common_command","$$17","$change_text","$$dice_command","$$19","output","$prefixes_pattern","$eval_game_system_specific_command","$$eval_game_system_specific_command","$$result_ndx","$success","$failure","$$result_1d100","$$result_1d20","$$result_nd10","$$result_2d6","$$result_nd6","$$get_table_by_2d6","$get_table_by_nD6","$$get_table_by_1d6","$$get_table_by_nD6","count","$get_table_by_nDx","$$get_table_by_nDx","diceType","num","$get_table_value","$$get_table_by_1d3","$debug","$$get_table_by_d66_swap","$roll_d66","$get_table_by_number","$$get_table_by_d66","indexText","$$get_table_by_number","$$35","$$get_table_value","data","$call","$$roll_tables","tables","$$debug","$$39","targetStr","valueStrs","$warn","$load_path","$__dir__","$MagicaLogia_initialize$1","$MagicaLogia_result_2d6$2","$MagicaLogia_eval_game_system_specific_command$3","$MagicaLogia_gain_magic_element$4","$fumble","$critical","$text","$gain_magic_element","$roll_command","$roll_tables","$$gain_magic_element","element","$SkillExpandTable_from_i18n$5","$SkillExpandTable_initialize$6","$SkillExpandTable_roll$7","$SkillExpandTable_expand$8","$SkillExpandTable_roll_skill$10","skill_table","$expand","$$expand","$last_match","$categories","$FallenAfterTable_from_i18n$11","$FallenAfterTable_initialize$12","$FallenAfterTable_roll$13","lower","higher","items_lower","items_higher","val1","val2","$translate_skill_table$14","$translate_tables$15","$$translate_skill_table","$from_i18n","$$translate_tables","inveterate_enemy_table","conspiracy_table","fate_table","cueball_table","force_field_table","alliance_table","$translate_skill_table","$translate_tables","$keys"],"mappings":"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","file":"default~MagicaLogia~index.js","sourcesContent":["require('./../opal');\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"i18n/backend/fallbacks\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $truthy = Opal.truthy, $send = Opal.send, $send2 = Opal.send2, $hash2 = Opal.hash2;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'I18n');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    \n    (Opal.class_variable_set($nesting[0], '@@fallbacks', nil));\n    (function(self, $parent_nesting) {\n      var $nesting = [self].concat($parent_nesting), $fallbacks$1, $fallbacks$eq$2;\n\n      \n      \n      Opal.def(self, '$fallbacks', $fallbacks$1 = function $$fallbacks() {\n        var $a, self = this, $ret_or_1 = nil, $ret_or_2 = nil;\n\n        \n        (Opal.class_variable_set($nesting[1], '@@fallbacks', (function() {if ($truthy(($ret_or_1 = (($a = $nesting[1].$$cvars['@@fallbacks']) == null ? nil : $a)))) {\n          return $ret_or_1\n        } else {\n          return $$$($$$($$($nesting, 'I18n'), 'Locale'), 'Fallbacks').$new()\n        }; return nil; })()));\n        if ($truthy(($ret_or_2 = $$($nesting, 'Thread').$current()['$[]'](\"i18n_fallbacks\")))) {\n          return $ret_or_2\n        } else {\n          return (($a = $nesting[1].$$cvars['@@fallbacks']) == null ? nil : $a)\n        };\n      }, $fallbacks$1.$$arity = 0);\n      return (Opal.def(self, '$fallbacks=', $fallbacks$eq$2 = function(fallbacks) {\n        var $a, self = this, $writer = nil;\n\n        \n        (Opal.class_variable_set($nesting[1], '@@fallbacks', (function() {if ($truthy(fallbacks['$is_a?']($$($nesting, 'Array')))) {\n          return $$$($$$($$($nesting, 'I18n'), 'Locale'), 'Fallbacks').$new(fallbacks)\n        } else {\n          return fallbacks\n        }; return nil; })()));\n        \n        $writer = [\"i18n_fallbacks\", (($a = $nesting[1].$$cvars['@@fallbacks']) == null ? nil : $a)];\n        $send($$($nesting, 'Thread').$current(), '[]=', Opal.to_a($writer));\n        return $writer[$rb_minus($writer[\"length\"], 1)];;\n      }, $fallbacks$eq$2.$$arity = 1), nil) && 'fallbacks=';\n    })(Opal.get_singleton_class(self), $nesting);\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'Backend');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $parent_nesting) {\n        var self = $module($base, 'Fallbacks');\n\n        var $nesting = [self].concat($parent_nesting), $Fallbacks_translate$3, $Fallbacks_extract_non_symbol_default$excl$6, $Fallbacks_exists$ques$8, $Fallbacks_on_fallback$10;\n\n        \n        \n        Opal.def(self, '$translate', $Fallbacks_translate$3 = function $$translate(locale, key, options) {try {\n\n          var $$4, $iter = $Fallbacks_translate$3.$$p, $yield = $iter || nil, self = this, default$ = nil, fallback_options = nil, $ret_or_3 = nil, $zuper = nil, $zuper_i = nil, $zuper_ii = nil;\n\n          if ($iter) $Fallbacks_translate$3.$$p = null;\n          // Prepare super implicit arguments\n          for($zuper_i = 0, $zuper_ii = arguments.length, $zuper = new Array($zuper_ii); $zuper_i < $zuper_ii; $zuper_i++) {\n            $zuper[$zuper_i] = arguments[$zuper_i];\n          }\n          \n          \n          if (options == null) {\n            options = $$($nesting, 'EMPTY_HASH');\n          };\n          if ($truthy(options.$fetch(\"fallback\", true))) {\n          } else {\n            return $send2(self, Opal.find_super_dispatcher(self, 'translate', $Fallbacks_translate$3, false, true), 'translate', $zuper, $iter)\n          };\n          if ($truthy(options['$[]'](\"fallback_in_progress\"))) {\n            return $send2(self, Opal.find_super_dispatcher(self, 'translate', $Fallbacks_translate$3, false, true), 'translate', $zuper, $iter)};\n          if ($truthy(options['$[]'](\"default\"))) {\n            default$ = self['$extract_non_symbol_default!'](options)};\n          fallback_options = options.$merge($hash2([\"fallback_in_progress\"], {\"fallback_in_progress\": true}));\n          $send($$($nesting, 'I18n').$fallbacks()['$[]'](locale), 'each', [], ($$4 = function(fallback){var self = $$4.$$s == null ? this : $$4.$$s, $$5;\n\n          \n            \n            if (fallback == null) {\n              fallback = nil;\n            };\n            try {\n              return $send(self, 'catch', [\"exception\"], ($$5 = function(){var self = $$5.$$s == null ? this : $$5.$$s, result = nil;\n\n              \n                result = $send2(self, Opal.find_iter_super_dispatcher(self, 'translate', ($$5.$$def || $$4.$$def || $Fallbacks_translate$3), false, false), 'translate', [fallback, key, fallback_options], null);\n                if ($truthy(result['$nil?']())) {\n                  return nil\n                } else {\n                  \n                  if ($truthy(locale.$to_s()['$!='](fallback.$to_s()))) {\n                    self.$on_fallback(locale, fallback, key, options)};\n                  Opal.ret(result);\n                };}, $$5.$$s = self, $$5.$$arity = 0, $$5))\n            } catch ($err) {\n              if (Opal.rescue($err, [$$$($$($nesting, 'I18n'), 'InvalidLocale')])) {\n                try {\n                  return nil\n                } finally { Opal.pop_exception() }\n              } else { throw $err; }\n            };}, $$4.$$s = self, $$4.$$arity = 1, $$4));\n          if ($truthy((function() {if ($truthy(($ret_or_3 = options['$key?'](\"default\")))) {\n            return options['$[]'](\"default\")['$nil?']()\n          } else {\n            return $ret_or_3\n          }; return nil; })())) {\n            return nil};\n          if ($truthy(default$)) {\n            return $send2(self, Opal.find_super_dispatcher(self, 'translate', $Fallbacks_translate$3, false, true), 'translate', [locale, nil, options.$merge($hash2([\"default\"], {\"default\": default$}))], null)};\n          return self.$throw(\"exception\", $$$($$($nesting, 'I18n'), 'MissingTranslation').$new(locale, key, options));\n          } catch ($returner) { if ($returner === Opal.returner) { return $returner.$v } throw $returner; }\n        }, $Fallbacks_translate$3.$$arity = -3);\n        \n        Opal.def(self, '$extract_non_symbol_default!', $Fallbacks_extract_non_symbol_default$excl$6 = function(options) {\n          var $$7, self = this, defaults = nil, first_non_symbol_default = nil, $writer = nil;\n\n          \n          defaults = [options['$[]'](\"default\")].$flatten();\n          first_non_symbol_default = $send(defaults, 'detect', [], ($$7 = function(default$){var self = $$7.$$s == null ? this : $$7.$$s;\n\n          \n            \n            if (default$ == null) {\n              default$ = nil;\n            };\n            return default$['$is_a?']($$($nesting, 'Symbol'))['$!']();}, $$7.$$s = self, $$7.$$arity = 1, $$7));\n          if ($truthy(first_non_symbol_default)) {\n            \n            $writer = [\"default\", defaults['$[]'](0, defaults.$index(first_non_symbol_default))];\n            $send(options, '[]=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];};\n          return first_non_symbol_default;\n        }, $Fallbacks_extract_non_symbol_default$excl$6.$$arity = 1);\n        \n        Opal.def(self, '$exists?', $Fallbacks_exists$ques$8 = function(locale, key, options) {try {\n\n          var $$9, $iter = $Fallbacks_exists$ques$8.$$p, $yield = $iter || nil, self = this, $zuper = nil, $zuper_i = nil, $zuper_ii = nil;\n\n          if ($iter) $Fallbacks_exists$ques$8.$$p = null;\n          // Prepare super implicit arguments\n          for($zuper_i = 0, $zuper_ii = arguments.length, $zuper = new Array($zuper_ii); $zuper_i < $zuper_ii; $zuper_i++) {\n            $zuper[$zuper_i] = arguments[$zuper_i];\n          }\n          \n          \n          if (options == null) {\n            options = $$($nesting, 'EMPTY_HASH');\n          };\n          if ($truthy(options.$fetch(\"fallback\", true))) {\n          } else {\n            return $send2(self, Opal.find_super_dispatcher(self, 'exists?', $Fallbacks_exists$ques$8, false, true), 'exists?', $zuper, $iter)\n          };\n          $send($$($nesting, 'I18n').$fallbacks()['$[]'](locale), 'each', [], ($$9 = function(fallback){var self = $$9.$$s == null ? this : $$9.$$s;\n\n          \n            \n            if (fallback == null) {\n              fallback = nil;\n            };\n            try {\n              if ($truthy($send2(self, Opal.find_iter_super_dispatcher(self, 'exists?', ($$9.$$def || $Fallbacks_exists$ques$8), false, false), 'exists?', [fallback, key], null))) {\n                Opal.ret(true)\n              } else {\n                return nil\n              }\n            } catch ($err) {\n              if (Opal.rescue($err, [$$$($$($nesting, 'I18n'), 'InvalidLocale')])) {\n                try {\n                  return nil\n                } finally { Opal.pop_exception() }\n              } else { throw $err; }\n            };}, $$9.$$s = self, $$9.$$arity = 1, $$9));\n          return false;\n          } catch ($returner) { if ($returner === Opal.returner) { return $returner.$v } throw $returner; }\n        }, $Fallbacks_exists$ques$8.$$arity = -3);\n        self.$private();\n        \n        Opal.def(self, '$on_fallback', $Fallbacks_on_fallback$10 = function $$on_fallback(_original_locale, _fallback_locale, _key, _optoins) {\n          var self = this;\n\n          return nil\n        }, $Fallbacks_on_fallback$10.$$arity = 4);\n      })($nesting[0], $nesting)\n    })($nesting[0], $nesting);\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/randomizer\"] = function(Opal) {\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    \n    (function($base, $super, $parent_nesting) {\n      var self = $klass($base, $super, 'Randomizer');\n\n      var $nesting = [self].concat($parent_nesting), $Randomizer_initialize$1, $Randomizer_roll_barabara$2, $Randomizer_roll_sum$4, $Randomizer_roll_once$5, $Randomizer_roll_index$6, $Randomizer_roll_tens_d10$7, $Randomizer_roll_d9$8, $Randomizer_roll_d66$9, $Randomizer_rand_inner$11, $Randomizer_random$12, $Randomizer_push_to_detail$13;\n\n      self.$$prototype.rand_results = self.$$prototype.detailed_rand_results = nil;\n      \n      Opal.const_set($nesting[0], 'UPPER_LIMIT_DICE_TIMES', 200);\n      Opal.const_set($nesting[0], 'UPPER_LIMIT_DICE_SIDES', 1000);\n      Opal.const_set($nesting[0], 'UPPER_LIMIT_RANDS', 10000);\n      \n      Opal.def(self, '$initialize', $Randomizer_initialize$1 = function $$initialize() {\n        var self = this;\n\n        \n        self.rand_results = [];\n        return (self.detailed_rand_results = []);\n      }, $Randomizer_initialize$1.$$arity = 0);\n      self.$attr_reader(\"rand_results\");\n      self.$attr_reader(\"detailed_rand_results\");\n      Opal.const_set($nesting[0], 'DetailedRandResult', $$($nesting, 'Struct').$new(\"kind\", \"sides\", \"value\"));\n      \n      Opal.def(self, '$roll_barabara', $Randomizer_roll_barabara$2 = function $$roll_barabara(times, sides) {\n        var $$3, self = this, $ret_or_1 = nil;\n\n        \n        if ($truthy($rb_gt($rb_plus(self.rand_results.$size(), times), $$($nesting, 'UPPER_LIMIT_RANDS')))) {\n          self.$raise($$($nesting, 'TooManyRandsError'))};\n        if ($truthy((function() {if ($truthy(($ret_or_1 = $rb_le(times, 0)))) {\n          return $ret_or_1\n        } else {\n          return $rb_gt(times, $$($nesting, 'UPPER_LIMIT_DICE_TIMES'))\n        }; return nil; })())) {\n          return []};\n        return $send($$($nesting, 'Array'), 'new', [times], ($$3 = function(){var self = $$3.$$s == null ? this : $$3.$$s;\n\n        return self.$roll_once(sides)}, $$3.$$s = self, $$3.$$arity = 0, $$3));\n      }, $Randomizer_roll_barabara$2.$$arity = 2);\n      \n      Opal.def(self, '$roll_sum', $Randomizer_roll_sum$4 = function $$roll_sum(times, sides) {\n        var self = this;\n\n        return self.$roll_barabara(times, sides).$sum()\n      }, $Randomizer_roll_sum$4.$$arity = 2);\n      \n      Opal.def(self, '$roll_once', $Randomizer_roll_once$5 = function $$roll_once(sides) {\n        var self = this, $ret_or_2 = nil, dice = nil;\n\n        \n        if ($truthy((function() {if ($truthy(($ret_or_2 = $rb_le(sides, 0)))) {\n          return $ret_or_2\n        } else {\n          return $rb_gt(sides, $$($nesting, 'UPPER_LIMIT_DICE_SIDES'))\n        }; return nil; })())) {\n          return 0};\n        dice = self.$rand_inner(sides);\n        self.$push_to_detail(\"normal\", sides, dice);\n        return dice;\n      }, $Randomizer_roll_once$5.$$arity = 1);\n      \n      Opal.def(self, '$roll_index', $Randomizer_roll_index$6 = function $$roll_index(sides) {\n        var self = this;\n\n        return $rb_minus(self.$roll_once(sides), 1)\n      }, $Randomizer_roll_index$6.$$arity = 1);\n      \n      Opal.def(self, '$roll_tens_d10', $Randomizer_roll_tens_d10$7 = function $$roll_tens_d10() {\n        var self = this, dice = nil, ret = nil;\n\n        \n        dice = self.$rand_inner(10);\n        if (dice['$=='](10)) {\n          dice = 0};\n        ret = $rb_times(dice, 10);\n        self.$push_to_detail(\"tens_d10\", 10, ret);\n        return ret;\n      }, $Randomizer_roll_tens_d10$7.$$arity = 0);\n      \n      Opal.def(self, '$roll_d9', $Randomizer_roll_d9$8 = function $$roll_d9() {\n        var self = this, dice = nil;\n\n        \n        dice = $rb_minus(self.$rand_inner(10), 1);\n        self.$push_to_detail(\"d9\", 10, dice);\n        return dice;\n      }, $Randomizer_roll_d9$8.$$arity = 0);\n      \n      Opal.def(self, '$roll_d66', $Randomizer_roll_d66$9 = function $$roll_d66(sort_type) {\n        var $$10, self = this, dice_list = nil, $case = nil;\n\n        \n        dice_list = $send($$($nesting, 'Array'), 'new', [2], ($$10 = function(){var self = $$10.$$s == null ? this : $$10.$$s;\n\n        return self.$roll_once(6)}, $$10.$$s = self, $$10.$$arity = 0, $$10));\n        $case = sort_type;\n        if ($$$($$($nesting, 'D66SortType'), 'ASC')['$===']($case)) {dice_list['$sort!']()}\n        else if ($$$($$($nesting, 'D66SortType'), 'DESC')['$===']($case)) {dice_list['$sort!']()['$reverse!']()};\n        return $rb_plus($rb_times(dice_list['$[]'](0), 10), dice_list['$[]'](1));\n      }, $Randomizer_roll_d66$9.$$arity = 1);\n      self.$private();\n      \n      Opal.def(self, '$rand_inner', $Randomizer_rand_inner$11 = function $$rand_inner(sides) {\n        var self = this, dice = nil;\n\n        \n        if ($truthy($rb_ge(self.rand_results.$size(), $$($nesting, 'UPPER_LIMIT_RANDS')))) {\n          self.$raise($$($nesting, 'TooManyRandsError'))};\n        dice = self.$random(sides);\n        self.rand_results['$<<']([dice, sides]);\n        return dice;\n      }, $Randomizer_rand_inner$11.$$arity = 1);\n      \n      Opal.def(self, '$random', $Randomizer_random$12 = function $$random(sides) {\n        var self = this;\n\n        return $rb_plus($$($nesting, 'Kernel').$rand(sides), 1)\n      }, $Randomizer_random$12.$$arity = 1);\n      return (Opal.def(self, '$push_to_detail', $Randomizer_push_to_detail$13 = function $$push_to_detail(kind, sides, value) {\n        var self = this, detail = nil;\n\n        \n        detail = $$($nesting, 'DetailedRandResult').$new(kind, sides, value);\n        return self.detailed_rand_results.$push(detail);\n      }, $Randomizer_push_to_detail$13.$$arity = 3), nil) && 'push_to_detail';\n    })($nesting[0], null, $nesting);\n    (function($base, $super, $parent_nesting) {\n      var self = $klass($base, $super, 'TooManyRandsError');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      return nil\n    })($nesting[0], $$($nesting, 'StandardError'), $nesting);\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/roll_result\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'RollResult');\n\n        var $nesting = [self].concat($parent_nesting), $RollResult_initialize$1, $RollResult_to_s$2, $RollResult_last_body$3, $RollResult_empty$ques$4;\n\n        self.$$prototype.table_name = self.$$prototype.value = self.$$prototype.body = nil;\n        \n        \n        Opal.def(self, '$initialize', $RollResult_initialize$1 = function $$initialize(table_name, value, body) {\n          var self = this;\n\n          \n          self.table_name = table_name;\n          self.value = value;\n          return (self.body = body);\n        }, $RollResult_initialize$1.$$arity = 3);\n        self.$attr_reader(\"table_name\");\n        self.$attr_reader(\"value\");\n        self.$attr_reader(\"body\");\n        \n        Opal.def(self, '$to_s', $RollResult_to_s$2 = function $$to_s() {\n          var self = this;\n\n          return \"\" + (self.table_name) + \"(\" + (self.value) + \") ＞ \" + (self.body)\n        }, $RollResult_to_s$2.$$arity = 0);\n        \n        Opal.def(self, '$last_body', $RollResult_last_body$3 = function $$last_body() {\n          var self = this;\n\n          if ($truthy(self.body['$is_a?']($$($nesting, 'RollResult')))) {\n            return self.body.$last_body()\n          } else {\n            return self.body\n          }\n        }, $RollResult_last_body$3.$$arity = 0);\n        return (Opal.def(self, '$empty?', $RollResult_empty$ques$4 = function() {\n          var self = this;\n\n          return false\n        }, $RollResult_empty$ques$4.$$arity = 0), nil) && 'empty?';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/chain_table\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'ChainTable');\n\n        var $nesting = [self].concat($parent_nesting), $ChainTable_initialize$1, $ChainTable_roll$2;\n\n        self.$$prototype.times = self.$$prototype.sides = self.$$prototype.items = self.$$prototype.name = nil;\n        \n        \n        Opal.def(self, '$initialize', $ChainTable_initialize$1 = function $$initialize(name, type, items) {\n          var self = this, m = nil;\n\n          \n          self.name = name;\n          self.items = items.$freeze();\n          m = /(\\d+)D(\\d+)/i.$match(type);\n          if ($truthy(m)) {\n          } else {\n            self.$raise($$($nesting, 'ArgumentError'), \"\" + \"Unexpected table type: \" + (type))\n          };\n          self.times = m['$[]'](1).$to_i();\n          return (self.sides = m['$[]'](2).$to_i());\n        }, $ChainTable_initialize$1.$$arity = 3);\n        return (Opal.def(self, '$roll', $ChainTable_roll$2 = function $$roll(randomizer) {\n          var self = this, value = nil, index = nil, chosen = nil;\n\n          \n          value = randomizer.$roll_sum(self.times, self.sides);\n          index = $rb_minus(value, self.times);\n          chosen = self.items['$[]'](index);\n          if ($truthy(chosen['$respond_to?'](\"roll\"))) {\n            chosen = chosen.$roll(randomizer)};\n          return $$($nesting, 'RollResult').$new(self.name, value, chosen);\n        }, $ChainTable_roll$2.$$arity = 1), nil) && 'roll';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/d66_grid_table\"] = function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'D66GridTable');\n\n        var $nesting = [self].concat($parent_nesting), $D66GridTable_from_i18n$1, $D66GridTable_initialize$2, $D66GridTable_roll$3;\n\n        self.$$prototype.name = self.$$prototype.items = nil;\n        \n        Opal.defs(self, '$from_i18n', $D66GridTable_from_i18n$1 = function $$from_i18n(key, locale) {\n          var self = this, table = nil;\n\n          \n          table = $$($nesting, 'I18n').$t(key, $hash2([\"locale\", \"raise\"], {\"locale\": locale, \"raise\": true}));\n          return self.$new(table['$[]'](\"name\"), table['$[]'](\"items\"));\n        }, $D66GridTable_from_i18n$1.$$arity = 2);\n        \n        Opal.def(self, '$initialize', $D66GridTable_initialize$2 = function $$initialize(name, items) {\n          var self = this;\n\n          \n          self.name = name;\n          return (self.items = items.$freeze());\n        }, $D66GridTable_initialize$2.$$arity = 2);\n        return (Opal.def(self, '$roll', $D66GridTable_roll$3 = function $$roll(randomizer) {\n          var self = this, dice1 = nil, dice2 = nil, value = nil, index1 = nil, index2 = nil;\n\n          \n          dice1 = randomizer.$roll_once(6);\n          dice2 = randomizer.$roll_once(6);\n          value = $rb_plus($rb_times(dice1, 10), dice2);\n          index1 = $rb_minus(dice1, 1);\n          index2 = $rb_minus(dice2, 1);\n          return $$($nesting, 'RollResult').$new(self.name, value, self.items['$[]'](index1)['$[]'](index2));\n        }, $D66GridTable_roll$3.$$arity = 1), nil) && 'roll';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/d66_half_grid_table\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2;\n\n  \n  self.$require(\"bcdice/dice_table/d66_grid_table\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'D66HalfGridTable');\n\n        var $nesting = [self].concat($parent_nesting), $D66HalfGridTable_from_i18n$1, $D66HalfGridTable_initialize$2;\n\n        \n        Opal.defs(self, '$from_i18n', $D66HalfGridTable_from_i18n$1 = function $$from_i18n(key, locale) {\n          var self = this, table = nil;\n\n          \n          table = $$($nesting, 'I18n').$t(key, $hash2([\"locale\", \"raise\"], {\"locale\": locale, \"raise\": true}));\n          return self.$new(table['$[]'](\"name\"), table['$[]'](\"items_1_2_3\"), table['$[]'](\"items_4_5_6\"));\n        }, $D66HalfGridTable_from_i18n$1.$$arity = 2);\n        return (Opal.def(self, '$initialize', $D66HalfGridTable_initialize$2 = function $$initialize(name, items_1_2_3, items_4_5_6) {\n          var self = this;\n\n          \n          self.name = name;\n          return (self.items = [items_1_2_3, items_1_2_3, items_1_2_3, items_4_5_6, items_4_5_6, items_4_5_6].$freeze());\n        }, $D66HalfGridTable_initialize$2.$$arity = 3), nil) && 'initialize';\n      })($nesting[0], $$($nesting, 'D66GridTable'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/d66_one_third_table\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2;\n\n  \n  self.$require(\"bcdice/dice_table/d66_grid_table\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'D66OneThirdTable');\n\n        var $nesting = [self].concat($parent_nesting), $D66OneThirdTable_from_i18n$1, $D66OneThirdTable_initialize$2;\n\n        \n        Opal.defs(self, '$from_i18n', $D66OneThirdTable_from_i18n$1 = function $$from_i18n(key, locale) {\n          var self = this, table = nil;\n\n          \n          table = $$($nesting, 'I18n').$t(key, $hash2([\"locale\", \"raise\"], {\"locale\": locale, \"raise\": true}));\n          return self.$new(table['$[]'](\"name\"), table['$[]'](\"items_1_2\"), table['$[]'](\"items_3_4\"), table['$[]'](\"items_5_6\"));\n        }, $D66OneThirdTable_from_i18n$1.$$arity = 2);\n        return (Opal.def(self, '$initialize', $D66OneThirdTable_initialize$2 = function $$initialize(name, items_1_2, items_3_4, items_5_6) {\n          var self = this;\n\n          \n          self.name = name;\n          return (self.items = [items_1_2, items_1_2, items_3_4, items_3_4, items_5_6, items_5_6].$freeze());\n        }, $D66OneThirdTable_initialize$2.$$arity = 4), nil) && 'initialize';\n      })($nesting[0], $$($nesting, 'D66GridTable'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/d66_parity_table\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'D66ParityTable');\n\n        var $nesting = [self].concat($parent_nesting), $D66ParityTable_initialize$1, $D66ParityTable_roll$2;\n\n        self.$$prototype.odd = self.$$prototype.even = self.$$prototype.name = nil;\n        \n        \n        Opal.def(self, '$initialize', $D66ParityTable_initialize$1 = function $$initialize(name, odd, even) {\n          var self = this;\n\n          \n          self.name = name;\n          self.odd = odd.$freeze();\n          return (self.even = even.$freeze());\n        }, $D66ParityTable_initialize$1.$$arity = 3);\n        return (Opal.def(self, '$roll', $D66ParityTable_roll$2 = function $$roll(randomizer) {\n          var self = this, dice1 = nil, dice2 = nil, second_table = nil, result = nil, key = nil;\n\n          \n          dice1 = randomizer.$roll_once(6);\n          dice2 = randomizer.$roll_once(6);\n          if ($truthy(dice1['$odd?']())) {\n            second_table = self.odd\n          } else {\n            second_table = self.even\n          };\n          result = second_table['$[]']($rb_minus(dice2, 1));\n          key = $rb_plus($rb_times(dice1, 10), dice2);\n          return $$($nesting, 'RollResult').$new(self.name, key, result);\n        }, $D66ParityTable_roll$2.$$arity = 1), nil) && 'roll';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/d66_range_table\"] = function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'D66RangeTable');\n\n        var $nesting = [self].concat($parent_nesting), $D66RangeTable_initialize$1, $D66RangeTable_roll$2;\n\n        self.$$prototype.items = self.$$prototype.name = nil;\n        \n        \n        Opal.def(self, '$initialize', $D66RangeTable_initialize$1 = function $$initialize(name, items) {\n          var self = this;\n\n          \n          self.name = name;\n          return (self.items = items.$freeze());\n        }, $D66RangeTable_initialize$1.$$arity = 2);\n        return (Opal.def(self, '$roll', $D66RangeTable_roll$2 = function $$roll(randomizer) {\n          var $$3, self = this, dice1 = nil, dice2 = nil, key = nil, chosen = nil;\n\n          \n          dice1 = randomizer.$roll_once(6);\n          dice2 = randomizer.$roll_once(6);\n          key = $rb_plus($rb_times(dice1, 10), dice2);\n          chosen = $send(self.items, 'find', [], ($$3 = function(row){var self = $$3.$$s == null ? this : $$3.$$s;\n\n          \n            \n            if (row == null) {\n              row = nil;\n            };\n            return row['$[]'](0)['$include?'](key);}, $$3.$$s = self, $$3.$$arity = 1, $$3));\n          return $$($nesting, 'RollResult').$new(self.name, key, chosen['$[]'](1));\n        }, $D66RangeTable_roll$2.$$arity = 1), nil) && 'roll';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/d66_table\"] = function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'D66Table');\n\n        var $nesting = [self].concat($parent_nesting), $D66Table_from_i18n$1, $D66Table_initialize$2, $D66Table_roll$3;\n\n        self.$$prototype.sort_type = self.$$prototype.items = self.$$prototype.name = nil;\n        \n        Opal.defs(self, '$from_i18n', $D66Table_from_i18n$1 = function $$from_i18n(key, locale) {\n          var self = this, table = nil, sort_type = nil;\n\n          \n          table = $$($nesting, 'I18n').$t(key, $hash2([\"locale\"], {\"locale\": locale}));\n          sort_type = $$($nesting, 'D66SortType').$const_get(table['$[]'](\"d66_sort_type\"));\n          return self.$new(table['$[]'](\"name\"), sort_type, table['$[]'](\"items\"));\n        }, $D66Table_from_i18n$1.$$arity = 2);\n        \n        Opal.def(self, '$initialize', $D66Table_initialize$2 = function $$initialize(name, sort_type, items) {\n          var self = this;\n\n          \n          self.name = name;\n          self.sort_type = sort_type;\n          return (self.items = items.$freeze());\n        }, $D66Table_initialize$2.$$arity = 3);\n        return (Opal.def(self, '$roll', $D66Table_roll$3 = function $$roll(randomizer) {\n          var self = this, dice = nil, $case = nil, key = nil, chosen = nil, $ret_or_1 = nil;\n\n          \n          dice = randomizer.$roll_barabara(2, 6);\n          $case = self.sort_type;\n          if ($$$($$($nesting, 'D66SortType'), 'ASC')['$===']($case)) {dice['$sort!']()}\n          else if ($$$($$($nesting, 'D66SortType'), 'DESC')['$===']($case)) {dice['$sort!']()['$reverse!']()};\n          key = $rb_plus($rb_times(dice['$[]'](0), 10), dice['$[]'](1));\n          chosen = (function() {if ($truthy(($ret_or_1 = self.items['$[]'](key)))) {\n            return $ret_or_1\n          } else {\n            return self.items['$[]'](key.$to_s())\n          }; return nil; })();\n          if ($truthy(chosen['$respond_to?'](\"roll\"))) {\n            chosen = chosen.$roll(randomizer)};\n          return $$($nesting, 'RollResult').$new(self.name, key, chosen);\n        }, $D66Table_roll$3.$$arity = 1), nil) && 'roll';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/range_table\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send = Opal.send, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'RangeTable');\n\n        var $nesting = [self].concat($parent_nesting), $RangeTable$1, $RangeTable_initialize$3, $RangeTable_fetch$4, $RangeTable_roll$6, $RangeTable_store$7, $RangeTable_coerce_to_int_range$11, $RangeTable_assert_min_sum_is_covered$12, $RangeTable_assert_max_sum_is_covered$13, $RangeTable_assert_no_gap_or_overlap_in_ranges$14;\n\n        self.$$prototype.name = self.$$prototype.items = self.$$prototype.num_of_dice = self.$$prototype.num_of_sides = self.$$prototype.formatter = nil;\n        \n        Opal.const_set($nesting[0], 'RollResult', $send($$($nesting, 'Struct'), 'new', [\"sum\", \"values\", \"content\", \"formatted\"], ($RangeTable$1 = function(){var self = $RangeTable$1.$$s == null ? this : $RangeTable$1.$$s;\n\n        return self.$alias_method(\"to_s\", \"formatted\")}, $RangeTable$1.$$s = self, $RangeTable$1.$$arity = 0, $RangeTable$1)));\n        Opal.const_set($nesting[0], 'Item', $$($nesting, 'Struct').$new(\"range\", \"content\"));\n        Opal.const_set($nesting[0], 'DICE_ROLL_METHOD_RE', /^(\\d+)D(\\d+)$/i.$freeze());\n        Opal.const_set($nesting[0], 'DEFAULT_FORMATTER', $send(self, 'lambda', [], ($$2 = function(table, result){var self = $$2.$$s == null ? this : $$2.$$s;\n\n        \n          \n          if (table == null) {\n            table = nil;\n          };\n          \n          if (result == null) {\n            result = nil;\n          };\n          return \"\" + (table.$name()) + \"(\" + (result.$sum()) + \") ＞ \" + (result.$content());}, $$2.$$s = self, $$2.$$arity = 2, $$2)));\n        self.$attr_reader(\"name\");\n        self.$attr_reader(\"num_of_dice\");\n        self.$attr_reader(\"num_of_sides\");\n        \n        Opal.def(self, '$initialize', $RangeTable_initialize$3 = function $$initialize(name, dice_roll_method, items) {\n          var $iter = $RangeTable_initialize$3.$$p, formatter = $iter || nil, self = this, $ret_or_1 = nil, m = nil;\n\n          if ($iter) $RangeTable_initialize$3.$$p = null;\n          \n          \n          if ($iter) $RangeTable_initialize$3.$$p = null;;\n          self.name = name.$freeze();\n          self.formatter = (function() {if ($truthy(($ret_or_1 = formatter))) {\n            return $ret_or_1\n          } else {\n            return $$($nesting, 'DEFAULT_FORMATTER')\n          }; return nil; })();\n          m = $$($nesting, 'DICE_ROLL_METHOD_RE').$match(dice_roll_method);\n          if ($truthy(m)) {\n          } else {\n            self.$raise($$($nesting, 'ArgumentError'), \"\" + (self.name) + \": invalid dice roll method: \" + (dice_roll_method))\n          };\n          self.num_of_dice = m['$[]'](1).$to_i();\n          self.num_of_sides = m['$[]'](2).$to_i();\n          return self.$store(items);\n        }, $RangeTable_initialize$3.$$arity = 3);\n        \n        Opal.def(self, '$fetch', $RangeTable_fetch$4 = function $$fetch(value) {\n          var $$5, self = this, item = nil;\n\n          \n          item = $send(self.items, 'find', [], ($$5 = function(i){var self = $$5.$$s == null ? this : $$5.$$s;\n\n          \n            \n            if (i == null) {\n              i = nil;\n            };\n            return i.$range()['$include?'](value);}, $$5.$$s = self, $$5.$$arity = 1, $$5));\n          if ($truthy(item)) {\n          } else {\n            self.$raise($$($nesting, 'RangeError'), \"\" + (self.name) + \": value is out of range: \" + (value))\n          };\n          return item;\n        }, $RangeTable_fetch$4.$$arity = 1);\n        \n        Opal.def(self, '$roll', $RangeTable_roll$6 = function $$roll(randomizer) {\n          var self = this, values = nil, sum = nil, result = nil, $writer = nil;\n\n          \n          values = randomizer.$roll_barabara(self.num_of_dice, self.num_of_sides);\n          sum = values.$sum();\n          result = $$($nesting, 'RollResult').$new(sum, values, self.$fetch(sum).$content());\n          \n          $writer = [self.formatter['$[]'](self, result)];\n          $send(result, 'formatted=', Opal.to_a($writer));\n          $writer[$rb_minus($writer[\"length\"], 1)];;\n          return result;\n        }, $RangeTable_roll$6.$$arity = 1);\n        self.$private();\n        \n        Opal.def(self, '$store', $RangeTable_store$7 = function $$store(items) {\n          var $$8, $$9, $$10, self = this, items_with_range = nil, sorted_items = nil;\n\n          \n          items_with_range = $send(items, 'map', [], ($$8 = function(r, c){var self = $$8.$$s == null ? this : $$8.$$s;\n\n          \n            \n            if (r == null) {\n              r = nil;\n            };\n            \n            if (c == null) {\n              c = nil;\n            };\n            return [self.$coerce_to_int_range(r), c];}, $$8.$$s = self, $$8.$$arity = 2, $$8));\n          sorted_items = $send(items_with_range, 'sort_by', [], ($$9 = function(r, _){var self = $$9.$$s == null ? this : $$9.$$s;\n\n          \n            \n            if (r == null) {\n              r = nil;\n            };\n            \n            if (_ == null) {\n              _ = nil;\n            };\n            return r.$min();}, $$9.$$s = self, $$9.$$arity = 2, $$9));\n          self.$assert_min_sum_is_covered(sorted_items);\n          self.$assert_max_sum_is_covered(sorted_items);\n          self.$assert_no_gap_or_overlap_in_ranges(sorted_items);\n          self.items = $send(sorted_items, 'map', [], ($$10 = function(range, content){var self = $$10.$$s == null ? this : $$10.$$s;\n\n          \n            \n            if (range == null) {\n              range = nil;\n            };\n            \n            if (content == null) {\n              content = nil;\n            };\n            return $$($nesting, 'Item').$new(range, content.$freeze()).$freeze();}, $$10.$$s = self, $$10.$$arity = 2, $$10)).$freeze();\n          return self;\n        }, $RangeTable_store$7.$$arity = 1);\n        \n        Opal.def(self, '$coerce_to_int_range', $RangeTable_coerce_to_int_range$11 = function $$coerce_to_int_range(x) {\n          var self = this, $case = nil, $ret_or_2 = nil;\n\n          \n          $case = x;\n          if ($$($nesting, 'Integer')['$===']($case)) {return $$($nesting, 'Range').$new(x, x)}\n          else if ($$($nesting, 'Range')['$===']($case)) {if ($truthy((function() {if ($truthy(($ret_or_2 = x.$begin()['$is_a?']($$($nesting, 'Integer'))))) {\n            return x.$end()['$is_a?']($$($nesting, 'Integer'))\n          } else {\n            return $ret_or_2\n          }; return nil; })())) {\n            return x}};\n          return self.$raise($$($nesting, 'TypeError'), \"\" + (self.name) + \": \" + (x) + \" (\" + (x.$class()) + \") must be an Integer or a Range with Integers \");\n        }, $RangeTable_coerce_to_int_range$11.$$arity = 1);\n        \n        Opal.def(self, '$assert_min_sum_is_covered', $RangeTable_assert_min_sum_is_covered$12 = function $$assert_min_sum_is_covered(sorted_items) {\n          var self = this, min_sum = nil, range = nil;\n\n          \n          min_sum = self.num_of_dice;\n          range = sorted_items.$first()['$[]'](0);\n          if ($truthy(range['$include?'](min_sum))) {\n          } else {\n            self.$raise($$($nesting, 'RangeError'), \"\" + (self.name) + \": min value (\" + (min_sum) + \") is not covered: \" + (range))\n          };\n          return self;\n        }, $RangeTable_assert_min_sum_is_covered$12.$$arity = 1);\n        \n        Opal.def(self, '$assert_max_sum_is_covered', $RangeTable_assert_max_sum_is_covered$13 = function $$assert_max_sum_is_covered(sorted_items) {\n          var self = this, max_sum = nil, range = nil;\n\n          \n          max_sum = $rb_times(self.num_of_dice, self.num_of_sides);\n          range = sorted_items.$last()['$[]'](0);\n          if ($truthy(range['$include?'](max_sum))) {\n          } else {\n            self.$raise($$($nesting, 'RangeError'), \"\" + (self.name) + \": max value (\" + (max_sum) + \") is not covered: \" + (range))\n          };\n          return self;\n        }, $RangeTable_assert_max_sum_is_covered$13.$$arity = 1);\n        return (Opal.def(self, '$assert_no_gap_or_overlap_in_ranges', $RangeTable_assert_no_gap_or_overlap_in_ranges$14 = function $$assert_no_gap_or_overlap_in_ranges(sorted_items) {\n          var $$15, self = this;\n\n          \n          $send(sorted_items, 'each_cons', [2], ($$15 = function(i1, i2){var self = $$15.$$s == null ? this : $$15.$$s, r1 = nil, r2 = nil, max1 = nil, next_of_max1 = nil;\n            if (self.name == null) self.name = nil;\n\n          \n            \n            if (i1 == null) {\n              i1 = nil;\n            };\n            \n            if (i2 == null) {\n              i2 = nil;\n            };\n            r1 = i1['$[]'](0);\n            r2 = i2['$[]'](0);\n            max1 = r1.$max();\n            next_of_max1 = $rb_plus(max1, 1);\n            if ($truthy(r2['$include?'](max1))) {\n              self.$raise($$($nesting, 'RangeError'), \"\" + (self.name) + \": Range overlap: \" + (r1) + \" and \" + (r2))};\n            if ($truthy(r2['$include?'](next_of_max1))) {\n              return nil\n            } else {\n              return self.$raise($$($nesting, 'RangeError'), \"\" + (self.name) + \": Range gap: \" + (r1) + \" and \" + (r2))\n            };}, $$15.$$s = self, $$15.$$arity = 2, $$15));\n          return self;\n        }, $RangeTable_assert_no_gap_or_overlap_in_ranges$14.$$arity = 1), nil) && 'assert_no_gap_or_overlap_in_ranges';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/sai_fic_skill_table/category\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'SaiFicSkillTable');\n\n        var $nesting = [self].concat($parent_nesting);\n\n        return (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'Category');\n\n          var $nesting = [self].concat($parent_nesting), $Category_initialize$1, $Category_roll$3, $Category_to_s$4;\n\n          self.$$prototype.name = nil;\n          \n          \n          Opal.def(self, '$initialize', $Category_initialize$1 = function $$initialize(name, skills, dice, s_format) {\n            var $$2, self = this;\n\n            \n            self.name = name;\n            self.skills = $send(skills.$map(), 'with_index', [2], ($$2 = function(s, index){var self = $$2.$$s == null ? this : $$2.$$s;\n\n            \n              \n              if (s == null) {\n                s = nil;\n              };\n              \n              if (index == null) {\n                index = nil;\n              };\n              return $$$($$($nesting, 'SaiFicSkillTable'), 'Skill').$new(name, s, dice, index, s_format);}, $$2.$$s = self, $$2.$$arity = 2, $$2));\n            return (self.dice = dice);\n          }, $Category_initialize$1.$$arity = 4);\n          \n          Opal.def(self, '$roll', $Category_roll$3 = function $$roll(randomizer) {\n            var self = this;\n\n            return self.$skills()['$[]']($rb_minus(randomizer.$roll_sum(2, 6), 2))\n          }, $Category_roll$3.$$arity = 1);\n          \n          Opal.def(self, '$to_s', $Category_to_s$4 = function $$to_s() {\n            var self = this;\n\n            return self.name\n          }, $Category_to_s$4.$$arity = 0);\n          return self.$attr_reader(\"name\", \"dice\", \"skills\");\n        })($nesting[0], null, $nesting)\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/sai_fic_skill_table/skill\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'SaiFicSkillTable');\n\n        var $nesting = [self].concat($parent_nesting);\n\n        return (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'Skill');\n\n          var $nesting = [self].concat($parent_nesting), $Skill_initialize$1, $Skill_to_s$2;\n\n          self.$$prototype.s_format = self.$$prototype.category_dice = self.$$prototype.row_dice = self.$$prototype.category_name = self.$$prototype.name = nil;\n          \n          \n          Opal.def(self, '$initialize', $Skill_initialize$1 = function $$initialize(category_name, skill_name, category_dice, row_dice, s_format) {\n            var self = this;\n\n            \n            self.category_name = category_name;\n            self.name = skill_name;\n            self.category_dice = category_dice;\n            self.row_dice = row_dice;\n            return (self.s_format = s_format);\n          }, $Skill_initialize$1.$$arity = 5);\n          \n          Opal.def(self, '$to_s', $Skill_to_s$2 = function $$to_s() {\n            var self = this;\n\n            return self.$format(self.s_format, $hash2([\"category_dice\", \"row_dice\", \"category_name\", \"skill_name\"], {\"category_dice\": self.category_dice, \"row_dice\": self.row_dice, \"category_name\": self.category_name, \"skill_name\": self.name}))\n          }, $Skill_to_s$2.$$arity = 0);\n          return self.$attr_reader(\"category_name\", \"name\", \"category_dice\", \"row_dice\");\n        })($nesting[0], null, $nesting)\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/sai_fic_skill_table\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2, $send = Opal.send, $hash = Opal.hash, $truthy = Opal.truthy;\n\n  \n  self.$require(\"bcdice/dice_table/sai_fic_skill_table/category\");\n  self.$require(\"bcdice/dice_table/sai_fic_skill_table/skill\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'SaiFicSkillTable');\n\n        var $nesting = [self].concat($parent_nesting), $SaiFicSkillTable_from_i18n$1, $SaiFicSkillTable_initialize$3, $SaiFicSkillTable_roll_command$5, $SaiFicSkillTable_roll_category$6, $SaiFicSkillTable_roll_skill$7, $SaiFicSkillTable_prefixes$8, $SaiFicSkillTable_format_skill$9;\n\n        self.$$prototype.rtt = self.$$prototype.rtt_format = self.$$prototype.rct = self.$$prototype.rct_format = self.$$prototype.rttn = self.$$prototype.rttn_format = self.$$prototype.categories = nil;\n        \n        Opal.defs(self, '$from_i18n', $SaiFicSkillTable_from_i18n$1 = function $$from_i18n(key, locale, $kwargs) {\n          var rtt, rct, rttn, $$2, self = this, global = nil, table = nil, items = nil;\n\n          \n          \n          if ($kwargs == null) {\n            $kwargs = $hash2([], {});\n          } else if (!$kwargs.$$is_hash) {\n            throw Opal.ArgumentError.$new('expected kwargs');\n          };\n          \n          rtt = $kwargs.$$smap[\"rtt\"];\n          if (rtt == null) {\n            rtt = nil\n          };\n          \n          rct = $kwargs.$$smap[\"rct\"];\n          if (rct == null) {\n            rct = nil\n          };\n          \n          rttn = $kwargs.$$smap[\"rttn\"];\n          if (rttn == null) {\n            rttn = nil\n          };\n          global = $$($nesting, 'I18n').$t(\"RTT\", $hash2([\"locale\", \"raise\", \"default\"], {\"locale\": locale, \"raise\": false, \"default\": $hash2([], {})}));\n          table = global.$merge($$($nesting, 'I18n').$t(key, $hash2([\"locale\", \"raise\"], {\"locale\": locale, \"raise\": true})));\n          items = table['$[]'](\"items\");\n          table = $send(table, 'select', [], ($$2 = function(k, _){var self = $$2.$$s == null ? this : $$2.$$s;\n\n          \n            \n            if (k == null) {\n              k = nil;\n            };\n            \n            if (_ == null) {\n              _ = nil;\n            };\n            return [\"rtt_format\", \"rttn_format\", \"rct_format\", \"s_format\"]['$include?'](k);}, $$2.$$s = self, $$2.$$arity = 2, $$2));\n          return self.$new(items, Opal.to_hash(table).$merge($hash2([\"rtt\", \"rct\", \"rttn\"], {\"rtt\": rtt, \"rct\": rct, \"rttn\": rttn})));\n        }, $SaiFicSkillTable_from_i18n$1.$$arity = -3);\n        Opal.const_set($nesting[0], 'DEFAULT_RTT', \"ランダム特技表(%<category_dice>d,%<row_dice>d) ＞ %<text>s\");\n        Opal.const_set($nesting[0], 'DEFAULT_RCT', \"ランダム分野表(%<category_dice>d) ＞ %<category_name>s\");\n        Opal.const_set($nesting[0], 'DEFAULT_RTTN', \"%<category_name>s分野ランダム特技表(%<row_dice>d) ＞ %<text>s\");\n        Opal.const_set($nesting[0], 'DEFAULT_S', \"《%<skill_name>s／%<category_name>s%<row_dice>d》\");\n        \n        Opal.def(self, '$initialize', $SaiFicSkillTable_initialize$3 = function $$initialize(items, $kwargs) {\n          var rtt, rct, rttn, rtt_format, rct_format, rttn_format, s_format, $$4, self = this;\n\n          \n          \n          if ($kwargs == null) {\n            $kwargs = $hash2([], {});\n          } else if (!$kwargs.$$is_hash) {\n            throw Opal.ArgumentError.$new('expected kwargs');\n          };\n          \n          rtt = $kwargs.$$smap[\"rtt\"];\n          if (rtt == null) {\n            rtt = nil\n          };\n          \n          rct = $kwargs.$$smap[\"rct\"];\n          if (rct == null) {\n            rct = nil\n          };\n          \n          rttn = $kwargs.$$smap[\"rttn\"];\n          if (rttn == null) {\n            rttn = nil\n          };\n          \n          rtt_format = $kwargs.$$smap[\"rtt_format\"];\n          if (rtt_format == null) {\n            rtt_format = $$($nesting, 'DEFAULT_RTT')\n          };\n          \n          rct_format = $kwargs.$$smap[\"rct_format\"];\n          if (rct_format == null) {\n            rct_format = $$($nesting, 'DEFAULT_RCT')\n          };\n          \n          rttn_format = $kwargs.$$smap[\"rttn_format\"];\n          if (rttn_format == null) {\n            rttn_format = $$($nesting, 'DEFAULT_RTTN')\n          };\n          \n          s_format = $kwargs.$$smap[\"s_format\"];\n          if (s_format == null) {\n            s_format = $$($nesting, 'DEFAULT_S')\n          };\n          self.categories = $send(items.$map(), 'with_index', [1], ($$4 = function($mlhs_tmp1, index){var self = $$4.$$s == null ? this : $$4.$$s, $a, $b, name = nil, skills = nil;\n\n          \n            \n            if ($mlhs_tmp1 == null) {\n              $mlhs_tmp1 = nil;\n            };\n            \n            if (index == null) {\n              index = nil;\n            };\n            $b = $mlhs_tmp1, $a = Opal.to_ary($b), (name = ($a[0] == null ? nil : $a[0])), (skills = ($a[1] == null ? nil : $a[1])), $b;\n            return $$$($$($nesting, 'SaiFicSkillTable'), 'Category').$new(name, skills, index, s_format);}, $$4.$$s = self, $$4.$$arity = 2, $$4.$$has_top_level_mlhs_arg = true, $$4));\n          self.rtt = rtt;\n          self.rct = rct;\n          self.rttn = rttn.$to_a();\n          self.rtt_format = rtt_format;\n          self.rct_format = rct_format;\n          return (self.rttn_format = rttn_format);\n        }, $SaiFicSkillTable_initialize$3.$$arity = -2);\n        Opal.const_set($nesting[0], 'RTTN', [\"RTT1\", \"RTT2\", \"RTT3\", \"RTT4\", \"RTT5\", \"RTT6\"].$freeze());\n        self.$attr_reader(\"categories\");\n        \n        Opal.def(self, '$roll_command', $SaiFicSkillTable_roll_command$5 = function $$roll_command(randomizer, command) {\n          var self = this, c = nil, cat = nil, $ret_or_1 = nil, index = nil;\n\n          \n          c = command;\n          if ($truthy([\"RTT\", self.rtt]['$include?'](c))) {\n            return self.$format_skill(self.rtt_format, self.$roll_skill(randomizer))\n          } else if ($truthy([\"RCT\", self.rct]['$include?'](c))) {\n            \n            cat = self.$roll_category(randomizer);\n            return self.$format(self.rct_format, $hash2([\"category_dice\", \"category_name\"], {\"category_dice\": cat.$dice(), \"category_name\": cat.$name()}));\n          } else if ($truthy((function() {if ($truthy(($ret_or_1 = (index = $$($nesting, 'RTTN').$index(c))))) {\n            return $ret_or_1\n          } else {\n            \n            return (index = self.rttn.$index(c));\n          }; return nil; })())) {\n            return self.$format_skill(self.rttn_format, self.categories['$[]'](index).$roll(randomizer))\n          } else {\n            return nil\n          };\n        }, $SaiFicSkillTable_roll_command$5.$$arity = 2);\n        \n        Opal.def(self, '$roll_category', $SaiFicSkillTable_roll_category$6 = function $$roll_category(randomizer) {\n          var self = this;\n\n          return self.categories['$[]']($rb_minus(randomizer.$roll_once(6), 1))\n        }, $SaiFicSkillTable_roll_category$6.$$arity = 1);\n        \n        Opal.def(self, '$roll_skill', $SaiFicSkillTable_roll_skill$7 = function $$roll_skill(randomizer) {\n          var self = this;\n\n          return self.$roll_category(randomizer).$roll(randomizer)\n        }, $SaiFicSkillTable_roll_skill$7.$$arity = 1);\n        \n        Opal.def(self, '$prefixes', $SaiFicSkillTable_prefixes$8 = function $$prefixes() {\n          var self = this;\n\n          return $rb_plus([\"RTT[1-6]?\", \"RCT\", self.rtt, self.rct], self.rttn).$compact()\n        }, $SaiFicSkillTable_prefixes$8.$$arity = 0);\n        self.$private();\n        return (Opal.def(self, '$format_skill', $SaiFicSkillTable_format_skill$9 = function $$format_skill(format_string, skill) {\n          var self = this;\n\n          return self.$format(format_string, $hash2([\"category_dice\", \"row_dice\", \"category_name\", \"skill_name\", \"text\"], {\"category_dice\": skill.$category_dice(), \"row_dice\": skill.$row_dice(), \"category_name\": skill.$category_name(), \"skill_name\": skill.$name(), \"text\": skill.$to_s()}))\n        }, $SaiFicSkillTable_format_skill$9.$$arity = 2), nil) && 'format_skill';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/table\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Table');\n\n        var $nesting = [self].concat($parent_nesting), $Table_from_i18n$1, $Table_initialize$2, $Table_roll$3, $Table_choice$4;\n\n        self.$$prototype.times = self.$$prototype.sides = self.$$prototype.name = self.$$prototype.items = nil;\n        \n        Opal.defs(self, '$from_i18n', $Table_from_i18n$1 = function $$from_i18n(key, locale) {\n          var self = this, table = nil;\n\n          \n          table = $$($nesting, 'I18n').$t(key, $hash2([\"locale\"], {\"locale\": locale}));\n          return self.$new(table['$[]'](\"name\"), table['$[]'](\"type\"), table['$[]'](\"items\"));\n        }, $Table_from_i18n$1.$$arity = 2);\n        \n        Opal.def(self, '$initialize', $Table_initialize$2 = function $$initialize(name, type, items) {\n          var self = this, m = nil;\n\n          \n          self.name = name;\n          self.items = items.$freeze();\n          m = /(\\d+)D(\\d+)/i.$match(type);\n          if ($truthy(m)) {\n          } else {\n            self.$raise($$($nesting, 'ArgumentError'), \"\" + \"Unexpected table type: \" + (type))\n          };\n          self.times = m['$[]'](1).$to_i();\n          return (self.sides = m['$[]'](2).$to_i());\n        }, $Table_initialize$2.$$arity = 3);\n        \n        Opal.def(self, '$roll', $Table_roll$3 = function $$roll(bcdice) {\n          var self = this, value = nil;\n\n          \n          value = bcdice.$roll_sum(self.times, self.sides);\n          return self.$choice(value);\n        }, $Table_roll$3.$$arity = 1);\n        return (Opal.def(self, '$choice', $Table_choice$4 = function $$choice(value) {\n          var self = this, index = nil;\n\n          \n          index = $rb_minus(value, self.times);\n          return $$($nesting, 'RollResult').$new(self.name, value, self.items['$[]'](index));\n        }, $Table_choice$4.$$arity = 1), nil) && 'choice';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$;\n\n  \n  self.$require(\"bcdice/dice_table/roll_result\");\n  self.$require(\"bcdice/dice_table/chain_table\");\n  self.$require(\"bcdice/dice_table/d66_grid_table\");\n  self.$require(\"bcdice/dice_table/d66_half_grid_table\");\n  self.$require(\"bcdice/dice_table/d66_one_third_table\");\n  self.$require(\"bcdice/dice_table/d66_parity_table\");\n  self.$require(\"bcdice/dice_table/d66_range_table\");\n  self.$require(\"bcdice/dice_table/d66_table\");\n  self.$require(\"bcdice/dice_table/range_table\");\n  self.$require(\"bcdice/dice_table/sai_fic_skill_table\");\n  return self.$require(\"bcdice/dice_table/table\");\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/enum\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    \n    (function($base, $parent_nesting) {\n      var self = $module($base, 'D66SortType');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      \n      Opal.const_set($nesting[0], 'NO_SORT', \"no_sort\");\n      Opal.const_set($nesting[0], 'ASC', \"asc\");\n      Opal.const_set($nesting[0], 'DESC', \"desc\");\n    })($nesting[0], $nesting);\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'RoundType');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      \n      Opal.const_set($nesting[0], 'CEIL', \"ceil\");\n      Opal.const_set($nesting[0], 'FLOOR', \"floor\");\n      Opal.const_set($nesting[0], 'ROUND', \"round\");\n    })($nesting[0], $nesting);\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/translate\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $hash2 = Opal.hash2, $hash = Opal.hash;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'Translate');\n\n      var $nesting = [self].concat($parent_nesting), $Translate_translate$1;\n\n      \n      Opal.def(self, '$translate', $Translate_translate$1 = function $$translate(key, $kwargs) {\n        var options, self = this;\n        if (self.locale == null) self.locale = nil;\n\n        \n        \n        if ($kwargs == null) {\n          $kwargs = $hash2([], {});\n        } else if (!$kwargs.$$is_hash) {\n          throw Opal.ArgumentError.$new('expected kwargs');\n        };\n        \n        options = Opal.kwrestargs($kwargs, {});;\n        return $$($nesting, 'I18n').$translate(key, $hash2([\"locale\", \"raise\"], {\"locale\": self.locale, \"raise\": true}).$merge(Opal.to_hash(options)));\n      }, $Translate_translate$1.$$arity = -2)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/result\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $super, $parent_nesting) {\n      var self = $klass($base, $super, 'Result');\n\n      var $nesting = [self].concat($parent_nesting), $Result_initialize$10, $Result_secret$ques$11, $Result_success$ques$12, $Result_failure$ques$13, $Result_critical$ques$14, $Result_fumble$ques$15, $Result_condition$eq$16;\n\n      self.$$prototype.secret = self.$$prototype.success = self.$$prototype.failure = self.$$prototype.critical = self.$$prototype.fumble = nil;\n      \n      (function(self, $parent_nesting) {\n        var $nesting = [self].concat($parent_nesting), $success$1, $failure$3, $critical$5, $fumble$7, $nothing$9;\n\n        \n        \n        Opal.def(self, '$success', $success$1 = function $$success(text) {\n          var $$2, self = this;\n\n          return $send(self.$new(), 'tap', [], ($$2 = function(r){var self = $$2.$$s == null ? this : $$2.$$s, $writer = nil;\n\n          \n            \n            if (r == null) {\n              r = nil;\n            };\n            \n            $writer = [text];\n            $send(r, 'text=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [true];\n            $send(r, 'success=', Opal.to_a($writer));\n            return $writer[$rb_minus($writer[\"length\"], 1)];;}, $$2.$$s = self, $$2.$$arity = 1, $$2))\n        }, $success$1.$$arity = 1);\n        \n        Opal.def(self, '$failure', $failure$3 = function $$failure(text) {\n          var $$4, self = this;\n\n          return $send(self.$new(), 'tap', [], ($$4 = function(r){var self = $$4.$$s == null ? this : $$4.$$s, $writer = nil;\n\n          \n            \n            if (r == null) {\n              r = nil;\n            };\n            \n            $writer = [text];\n            $send(r, 'text=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [true];\n            $send(r, 'failure=', Opal.to_a($writer));\n            return $writer[$rb_minus($writer[\"length\"], 1)];;}, $$4.$$s = self, $$4.$$arity = 1, $$4))\n        }, $failure$3.$$arity = 1);\n        \n        Opal.def(self, '$critical', $critical$5 = function $$critical(text) {\n          var $$6, self = this;\n\n          return $send(self.$new(), 'tap', [], ($$6 = function(r){var self = $$6.$$s == null ? this : $$6.$$s, $writer = nil;\n\n          \n            \n            if (r == null) {\n              r = nil;\n            };\n            \n            $writer = [text];\n            $send(r, 'text=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [true];\n            $send(r, 'critical=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [true];\n            $send(r, 'success=', Opal.to_a($writer));\n            return $writer[$rb_minus($writer[\"length\"], 1)];;}, $$6.$$s = self, $$6.$$arity = 1, $$6))\n        }, $critical$5.$$arity = 1);\n        \n        Opal.def(self, '$fumble', $fumble$7 = function $$fumble(text) {\n          var $$8, self = this;\n\n          return $send(self.$new(), 'tap', [], ($$8 = function(r){var self = $$8.$$s == null ? this : $$8.$$s, $writer = nil;\n\n          \n            \n            if (r == null) {\n              r = nil;\n            };\n            \n            $writer = [text];\n            $send(r, 'text=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [true];\n            $send(r, 'fumble=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [true];\n            $send(r, 'failure=', Opal.to_a($writer));\n            return $writer[$rb_minus($writer[\"length\"], 1)];;}, $$8.$$s = self, $$8.$$arity = 1, $$8))\n        }, $fumble$7.$$arity = 1);\n        return (Opal.def(self, '$nothing', $nothing$9 = function $$nothing() {\n          var self = this;\n\n          return \"nothing\"\n        }, $nothing$9.$$arity = 0), nil) && 'nothing';\n      })(Opal.get_singleton_class(self), $nesting);\n      \n      Opal.def(self, '$initialize', $Result_initialize$10 = function $$initialize(text) {\n        var self = this;\n\n        \n        \n        if (text == null) {\n          text = nil;\n        };\n        self.text = text;\n        self.rands = nil;\n        self.detailed_rands = nil;\n        self.secret = false;\n        self.success = false;\n        self.failure = false;\n        self.critical = false;\n        return (self.fumble = false);\n      }, $Result_initialize$10.$$arity = -1);\n      self.$attr_accessor(\"text\", \"rands\", \"detailed_rands\");\n      self.$attr_writer(\"secret\", \"success\", \"failure\", \"critical\", \"fumble\");\n      \n      Opal.def(self, '$secret?', $Result_secret$ques$11 = function() {\n        var self = this;\n\n        return self.secret\n      }, $Result_secret$ques$11.$$arity = 0);\n      \n      Opal.def(self, '$success?', $Result_success$ques$12 = function() {\n        var self = this;\n\n        return self.success\n      }, $Result_success$ques$12.$$arity = 0);\n      \n      Opal.def(self, '$failure?', $Result_failure$ques$13 = function() {\n        var self = this;\n\n        return self.failure\n      }, $Result_failure$ques$13.$$arity = 0);\n      \n      Opal.def(self, '$critical?', $Result_critical$ques$14 = function() {\n        var self = this;\n\n        return self.critical\n      }, $Result_critical$ques$14.$$arity = 0);\n      \n      Opal.def(self, '$fumble?', $Result_fumble$ques$15 = function() {\n        var self = this;\n\n        return self.fumble\n      }, $Result_fumble$ques$15.$$arity = 0);\n      return (Opal.def(self, '$condition=', $Result_condition$eq$16 = function(condition) {\n        var self = this;\n\n        \n        self.success = condition;\n        return (self.failure = condition['$!']());\n      }, $Result_condition$eq$16.$$arity = 1), nil) && 'condition=';\n    })($nesting[0], null, $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"racc/parser\"] = function(Opal) {\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  var $a, self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy, $gvars = Opal.gvars, $send = Opal.send;\n\n  \n  (function($base, $parent_nesting) {\n    var self = $module($base, 'Racc');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $super, $parent_nesting) {\n      var self = $klass($base, $super, 'ParseError');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      return nil\n    })($nesting[0], $$($nesting, 'StandardError'), $nesting)\n  })($nesting[0], $nesting);\n  if ($truthy((($a = $$$('::', 'ParseError', 'skip_raise')) ? 'constant' : nil))) {\n  } else {\n    Opal.const_set($nesting[0], 'ParseError', $$$($$($nesting, 'Racc'), 'ParseError'))\n  };\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'Racc');\n\n    var $nesting = [self].concat($parent_nesting), $a;\n\n    \n    if ($truthy((($a = $$($nesting, 'Racc_No_Extensions', 'skip_raise')) ? 'constant' : nil))) {\n    } else {\n      Opal.const_set($nesting[0], 'Racc_No_Extensions', false)\n    };\n    (function($base, $super, $parent_nesting) {\n      var self = $klass($base, $super, 'Parser');\n\n      var $nesting = [self].concat($parent_nesting), $Parser_racc_runtime_type$1, $Parser__racc_setup$2, $Parser__racc_init_sysvars$3, $Parser_do_parse$4, $Parser_next_token$5, $Parser__racc_do_parse_rb$6, $Parser_yyparse$8, $Parser__racc_yyparse_rb$9, $Parser__racc_evalact$12, $Parser__racc_do_reduce$14, $Parser_on_error$15, $Parser_yyerror$16, $Parser_yyaccept$17, $Parser_yyerrok$18, $Parser_racc_read_token$19, $Parser_racc_shift$20, $Parser_racc_reduce$21, $Parser_racc_accept$23, $Parser_racc_e_pop$24, $Parser_racc_next_state$25, $Parser_racc_print_stacks$26, $Parser_racc_print_states$28, $Parser_racc_token2str$30, $Parser_token_to_str$31;\n\n      self.$$prototype.yydebug = self.$$prototype.racc_debug_out = self.$$prototype.racc_error_status = self.$$prototype.racc_t = self.$$prototype.racc_vstack = self.$$prototype.racc_val = self.$$prototype.racc_state = self.$$prototype.racc_tstack = nil;\n      \n      Opal.const_set($nesting[0], 'Racc_Runtime_Version', \"1.4.6\");\n      Opal.const_set($nesting[0], 'Racc_Runtime_Revision', [\"originalRevision:\", \"1.8\"]['$[]'](1));\n      Opal.const_set($nesting[0], 'Racc_Runtime_Core_Version_R', \"1.4.6\");\n      Opal.const_set($nesting[0], 'Racc_Runtime_Core_Revision_R', [\"originalRevision:\", \"1.8\"]['$[]'](1));\n      Opal.const_set($nesting[0], 'Racc_Main_Parsing_Routine', \"_racc_do_parse_rb\");\n      Opal.const_set($nesting[0], 'Racc_YY_Parse_Method', \"_racc_yyparse_rb\");\n      Opal.const_set($nesting[0], 'Racc_Runtime_Core_Version', $$($nesting, 'Racc_Runtime_Core_Version_R'));\n      Opal.const_set($nesting[0], 'Racc_Runtime_Core_Revision', $$($nesting, 'Racc_Runtime_Core_Revision_R'));\n      Opal.const_set($nesting[0], 'Racc_Runtime_Type', \"ruby\");\n      Opal.defs($$($nesting, 'Parser'), '$racc_runtime_type', $Parser_racc_runtime_type$1 = function $$racc_runtime_type() {\n        var self = this;\n\n        return $$($nesting, 'Racc_Runtime_Type')\n      }, $Parser_racc_runtime_type$1.$$arity = 0);\n      \n      Opal.def(self, '$_racc_setup', $Parser__racc_setup$2 = function $$_racc_setup() {\n        var $a, $b, self = this, $ret_or_1 = nil, arg = nil, $writer = nil;\n        if ($gvars.stderr == null) $gvars.stderr = nil;\n\n        \n        if ($truthy($$$(self.$class(), 'Racc_debug_parser'))) {\n        } else {\n          self.yydebug = false\n        };\n        if ($truthy((($a = self['yydebug'], $a != null && $a !== nil) ? 'instance-variable' : nil))) {\n        } else {\n          self.yydebug = false\n        };\n        if ($truthy(self.yydebug)) {\n          \n          if ($truthy((($b = self['racc_debug_out'], $b != null && $b !== nil) ? 'instance-variable' : nil))) {\n          } else {\n            self.racc_debug_out = $gvars.stderr\n          };\n          self.racc_debug_out = (function() {if ($truthy(($ret_or_1 = self.racc_debug_out))) {\n            return $ret_or_1\n          } else {\n            return $gvars.stderr\n          }; return nil; })();};\n        arg = $$$(self.$class(), 'Racc_arg');\n        if ($truthy($rb_lt(arg.$size(), 14))) {\n          \n          $writer = [13, true];\n          $send(arg, '[]=', Opal.to_a($writer));\n          $writer[$rb_minus($writer[\"length\"], 1)];};\n        return arg;\n      }, $Parser__racc_setup$2.$$arity = 0);\n      \n      Opal.def(self, '$_racc_init_sysvars', $Parser__racc_init_sysvars$3 = function $$_racc_init_sysvars() {\n        var self = this;\n\n        \n        self.racc_state = [0];\n        self.racc_tstack = [];\n        self.racc_vstack = [];\n        self.racc_t = nil;\n        self.racc_val = nil;\n        self.racc_read_next = true;\n        self.racc_user_yyerror = false;\n        return (self.racc_error_status = 0);\n      }, $Parser__racc_init_sysvars$3.$$arity = 0);\n      \n      Opal.def(self, '$do_parse', $Parser_do_parse$4 = function $$do_parse() {\n        var self = this;\n\n        return self.$__send__($$($nesting, 'Racc_Main_Parsing_Routine'), self.$_racc_setup(), false)\n      }, $Parser_do_parse$4.$$arity = 0);\n      \n      Opal.def(self, '$next_token', $Parser_next_token$5 = function $$next_token() {\n        var self = this;\n\n        return self.$raise($$($nesting, 'NotImplementedError'), \"\" + (self.$class()) + \"#next_token is not defined\")\n      }, $Parser_next_token$5.$$arity = 0);\n      \n      Opal.def(self, '$_racc_do_parse_rb', $Parser__racc_do_parse_rb$6 = function $$_racc_do_parse_rb(arg, in_debug) {\n        var $a, $b, $$7, self = this, action_table = nil, action_check = nil, action_default = nil, action_pointer = nil, _ = nil, token_table = nil, tok = nil, act = nil, i = nil;\n\n        \n        $b = arg, $a = Opal.to_ary($b), (action_table = ($a[0] == null ? nil : $a[0])), (action_check = ($a[1] == null ? nil : $a[1])), (action_default = ($a[2] == null ? nil : $a[2])), (action_pointer = ($a[3] == null ? nil : $a[3])), (_ = ($a[4] == null ? nil : $a[4])), (_ = ($a[5] == null ? nil : $a[5])), (_ = ($a[6] == null ? nil : $a[6])), (_ = ($a[7] == null ? nil : $a[7])), (_ = ($a[8] == null ? nil : $a[8])), (_ = ($a[9] == null ? nil : $a[9])), (token_table = ($a[10] == null ? nil : $a[10])), (_ = ($a[11] == null ? nil : $a[11])), (_ = ($a[12] == null ? nil : $a[12])), (_ = ($a[13] == null ? nil : $a[13])), $b;\n        self.$_racc_init_sysvars();\n        tok = (act = (i = nil));\n        return $send(self, 'catch', [\"racc_end_parse\"], ($$7 = function(){var self = $$7.$$s == null ? this : $$7.$$s, $c, $d, $e, $ret_or_2 = nil, $ret_or_3 = nil, $ret_or_4 = nil;\n          if (self.racc_state == null) self.racc_state = nil;\n          if (self.racc_read_next == null) self.racc_read_next = nil;\n          if (self.racc_t == null) self.racc_t = nil;\n          if (self.yydebug == null) self.yydebug = nil;\n          if (self.racc_val == null) self.racc_val = nil;\n\n        while ($truthy(true)) {\n            \n            if ($truthy((i = action_pointer['$[]'](self.racc_state['$[]'](-1))))) {\n              \n              if ($truthy(self.racc_read_next)) {\n                if ($truthy(self.racc_t['$!='](0))) {\n                  \n                  $e = self.$next_token(), $d = Opal.to_ary($e), (tok = ($d[0] == null ? nil : $d[0])), (self.racc_val = ($d[1] == null ? nil : $d[1])), $e;\n                  if ($truthy(tok)) {\n                    self.racc_t = (function() {if ($truthy(($ret_or_2 = token_table['$[]'](tok)))) {\n                      return $ret_or_2\n                    } else {\n                      return 1\n                    }; return nil; })()\n                  } else {\n                    self.racc_t = 0\n                  };\n                  if ($truthy(self.yydebug)) {\n                    self.$racc_read_token(self.racc_t, tok, self.racc_val)};\n                  self.racc_read_next = false;}};\n              i = $rb_plus(i, self.racc_t);\n              if ($truthy((function() {if ($truthy(($ret_or_3 = (function() {if ($truthy(($ret_or_4 = $rb_ge(i, 0)))) {\n                return (act = action_table['$[]'](i))\n              } else {\n                return $ret_or_4\n              }; return nil; })()))) {\n                return action_check['$[]'](i)['$=='](self.racc_state['$[]'](-1))\n              } else {\n                return $ret_or_3\n              }; return nil; })())) {\n              } else {\n                act = action_default['$[]'](self.racc_state['$[]'](-1))\n              };\n            } else {\n              act = action_default['$[]'](self.racc_state['$[]'](-1))\n            };\n            while ($truthy((act = self.$_racc_evalact(act, arg)))) {\n              \n            };\n          }}, $$7.$$s = self, $$7.$$arity = 0, $$7));\n      }, $Parser__racc_do_parse_rb$6.$$arity = 2);\n      \n      Opal.def(self, '$yyparse', $Parser_yyparse$8 = function $$yyparse(recv, mid) {\n        var self = this;\n\n        return self.$__send__($$($nesting, 'Racc_YY_Parse_Method'), recv, mid, self.$_racc_setup(), true)\n      }, $Parser_yyparse$8.$$arity = 2);\n      \n      Opal.def(self, '$_racc_yyparse_rb', $Parser__racc_yyparse_rb$9 = function $$_racc_yyparse_rb(recv, mid, arg, c_debug) {\n        var $a, $b, $$10, self = this, action_table = nil, action_check = nil, action_default = nil, action_pointer = nil, _ = nil, token_table = nil, act = nil, i = nil;\n\n        \n        $b = arg, $a = Opal.to_ary($b), (action_table = ($a[0] == null ? nil : $a[0])), (action_check = ($a[1] == null ? nil : $a[1])), (action_default = ($a[2] == null ? nil : $a[2])), (action_pointer = ($a[3] == null ? nil : $a[3])), (_ = ($a[4] == null ? nil : $a[4])), (_ = ($a[5] == null ? nil : $a[5])), (_ = ($a[6] == null ? nil : $a[6])), (_ = ($a[7] == null ? nil : $a[7])), (_ = ($a[8] == null ? nil : $a[8])), (_ = ($a[9] == null ? nil : $a[9])), (token_table = ($a[10] == null ? nil : $a[10])), (_ = ($a[11] == null ? nil : $a[11])), (_ = ($a[12] == null ? nil : $a[12])), (_ = ($a[13] == null ? nil : $a[13])), $b;\n        self.$_racc_init_sysvars();\n        act = nil;\n        i = nil;\n        return $send(self, 'catch', [\"racc_end_parse\"], ($$10 = function(){var self = $$10.$$s == null ? this : $$10.$$s, $c, $d, $$11;\n          if (self.racc_state == null) self.racc_state = nil;\n\n        \n          while (!($truthy((i = action_pointer['$[]'](self.racc_state['$[]'](-1)))))) {\n            while ($truthy((act = self.$_racc_evalact(action_default['$[]'](self.racc_state['$[]'](-1)), arg)))) {\n              \n            }\n          };\n          return $send(recv, '__send__', [mid], ($$11 = function(tok, val){var self = $$11.$$s == null ? this : $$11.$$s, $e, $f, $ret_or_5 = nil, $ret_or_6 = nil, $ret_or_7 = nil, $ret_or_8 = nil, $ret_or_9 = nil, $ret_or_10 = nil, $ret_or_11 = nil, $ret_or_12 = nil, $ret_or_13 = nil;\n            if (self.racc_t == null) self.racc_t = nil;\n            if (self.racc_state == null) self.racc_state = nil;\n            if (self.racc_read_next == null) self.racc_read_next = nil;\n\n          \n            \n            if (tok == null) {\n              tok = nil;\n            };\n            \n            if (val == null) {\n              val = nil;\n            };\n            if ($truthy(tok)) {\n              self.racc_t = (function() {if ($truthy(($ret_or_5 = token_table['$[]'](tok)))) {\n                return $ret_or_5\n              } else {\n                return 1\n              }; return nil; })()\n            } else {\n              self.racc_t = 0\n            };\n            self.racc_val = val;\n            self.racc_read_next = false;\n            i = $rb_plus(i, self.racc_t);\n            if ($truthy((function() {if ($truthy(($ret_or_6 = (function() {if ($truthy(($ret_or_7 = $rb_ge(i, 0)))) {\n              return (act = action_table['$[]'](i))\n            } else {\n              return $ret_or_7\n            }; return nil; })()))) {\n              return action_check['$[]'](i)['$=='](self.racc_state['$[]'](-1))\n            } else {\n              return $ret_or_6\n            }; return nil; })())) {\n            } else {\n              act = action_default['$[]'](self.racc_state['$[]'](-1))\n            };\n            while ($truthy((act = self.$_racc_evalact(act, arg)))) {\n              \n            };\n            while ($truthy((function() {if ($truthy(($ret_or_8 = (function() {if ($truthy(($ret_or_9 = (i = action_pointer['$[]'](self.racc_state['$[]'](-1)))['$!']()))) {\n              return $ret_or_9\n            } else {\n              return self.racc_read_next['$!']()\n            }; return nil; })()))) {\n              return $ret_or_8\n            } else {\n              return self.racc_t['$=='](0)\n            }; return nil; })())) {\n              \n              if ($truthy((function() {if ($truthy(($ret_or_10 = (function() {if ($truthy(($ret_or_11 = (function() {if ($truthy(($ret_or_12 = (function() {if ($truthy(($ret_or_13 = i))) {\n                return (i = $rb_plus(i, self.racc_t))\n              } else {\n                return $ret_or_13\n              }; return nil; })()))) {\n                return $rb_ge(i, 0)\n              } else {\n                return $ret_or_12\n              }; return nil; })()))) {\n                return (act = action_table['$[]'](i))\n              } else {\n                return $ret_or_11\n              }; return nil; })()))) {\n                return action_check['$[]'](i)['$=='](self.racc_state['$[]'](-1))\n              } else {\n                return $ret_or_10\n              }; return nil; })())) {\n              } else {\n                act = action_default['$[]'](self.racc_state['$[]'](-1))\n              };\n              while ($truthy((act = self.$_racc_evalact(act, arg)))) {\n                \n              };\n            };}, $$11.$$s = self, $$11.$$arity = 2, $$11));}, $$10.$$s = self, $$10.$$arity = 0, $$10));\n      }, $Parser__racc_yyparse_rb$9.$$arity = 4);\n      \n      Opal.def(self, '$_racc_evalact', $Parser__racc_evalact$12 = function $$_racc_evalact(act, arg) {\n        var $a, $b, $$13, self = this, action_table = nil, action_check = nil, _ = nil, action_pointer = nil, shift_n = nil, reduce_n = nil, $ret_or_14 = nil, $ret_or_15 = nil, code = nil, $case = nil, i = nil, $ret_or_16 = nil, $ret_or_17 = nil;\n\n        \n        $b = arg, $a = Opal.to_ary($b), (action_table = ($a[0] == null ? nil : $a[0])), (action_check = ($a[1] == null ? nil : $a[1])), (_ = ($a[2] == null ? nil : $a[2])), (action_pointer = ($a[3] == null ? nil : $a[3])), (_ = ($a[4] == null ? nil : $a[4])), (_ = ($a[5] == null ? nil : $a[5])), (_ = ($a[6] == null ? nil : $a[6])), (_ = ($a[7] == null ? nil : $a[7])), (_ = ($a[8] == null ? nil : $a[8])), (_ = ($a[9] == null ? nil : $a[9])), (_ = ($a[10] == null ? nil : $a[10])), (shift_n = ($a[11] == null ? nil : $a[11])), (reduce_n = ($a[12] == null ? nil : $a[12])), (_ = ($a[13] == null ? nil : $a[13])), (_ = ($a[14] == null ? nil : $a[14])), $b;\n        if ($truthy((function() {if ($truthy(($ret_or_14 = $rb_gt(act, 0)))) {\n          return $rb_lt(act, shift_n)\n        } else {\n          return $ret_or_14\n        }; return nil; })())) {\n          \n          if ($truthy($rb_gt(self.racc_error_status, 0))) {\n            if (self.racc_t['$=='](1)) {\n            } else {\n              self.racc_error_status = $rb_minus(self.racc_error_status, 1)\n            }};\n          self.racc_vstack.$push(self.racc_val);\n          self.racc_state.$push(act);\n          self.racc_read_next = true;\n          if ($truthy(self.yydebug)) {\n            \n            self.racc_tstack.$push(self.racc_t);\n            self.$racc_shift(self.racc_t, self.racc_tstack, self.racc_vstack);};\n        } else if ($truthy((function() {if ($truthy(($ret_or_15 = $rb_lt(act, 0)))) {\n          return $rb_gt(act, reduce_n['$-@']())\n        } else {\n          return $ret_or_15\n        }; return nil; })())) {\n          \n          code = $send(self, 'catch', [\"racc_jump\"], ($$13 = function(){var self = $$13.$$s == null ? this : $$13.$$s;\n            if (self.racc_state == null) self.racc_state = nil;\n\n          \n            self.racc_state.$push(self.$_racc_do_reduce(arg, act));\n            return false;}, $$13.$$s = self, $$13.$$arity = 0, $$13));\n          if ($truthy(code)) {\n            $case = code;\n            if ((1)['$===']($case)) {\n            self.racc_user_yyerror = true;\n            return reduce_n['$-@']();}\n            else if ((2)['$===']($case)) {return shift_n}\n            else {self.$raise(\"[Racc Bug] unknown jump code\")}};\n        } else if (act['$=='](shift_n)) {\n          \n          if ($truthy(self.yydebug)) {\n            self.$racc_accept()};\n          self.$throw(\"racc_end_parse\", self.racc_vstack['$[]'](0));\n        } else if (act['$=='](reduce_n['$-@']())) {\n          \n          $case = self.racc_error_status;\n          if ((0)['$===']($case)) {if ($truthy(arg['$[]'](21))) {\n          } else {\n            self.$on_error(self.racc_t, self.racc_val, self.racc_vstack)\n          }}\n          else if ((3)['$===']($case)) {\n          if (self.racc_t['$=='](0)) {\n            self.$throw(\"racc_end_parse\", nil)};\n          self.racc_read_next = true;};\n          self.racc_user_yyerror = false;\n          self.racc_error_status = 3;\n          while ($truthy(true)) {\n            \n            if ($truthy((i = action_pointer['$[]'](self.racc_state['$[]'](-1))))) {\n              \n              i = $rb_plus(i, 1);\n              if ($truthy((function() {if ($truthy(($ret_or_16 = (function() {if ($truthy(($ret_or_17 = $rb_ge(i, 0)))) {\n                \n                return (act = action_table['$[]'](i));\n              } else {\n                return $ret_or_17\n              }; return nil; })()))) {\n                return action_check['$[]'](i)['$=='](self.racc_state['$[]'](-1))\n              } else {\n                return $ret_or_16\n              }; return nil; })())) {\n                break;};};\n            if ($truthy($rb_le(self.racc_state.$size(), 1))) {\n              self.$throw(\"racc_end_parse\", nil)};\n            self.racc_state.$pop();\n            self.racc_vstack.$pop();\n            if ($truthy(self.yydebug)) {\n              \n              self.racc_tstack.$pop();\n              self.$racc_e_pop(self.racc_state, self.racc_tstack, self.racc_vstack);};\n          };\n          return act;\n        } else {\n          self.$raise(\"\" + \"[Racc Bug] unknown action \" + (act.$inspect()))\n        };\n        if ($truthy(self.yydebug)) {\n          self.$racc_next_state(self.racc_state['$[]'](-1), self.racc_state)};\n        return nil;\n      }, $Parser__racc_evalact$12.$$arity = 2);\n      \n      Opal.def(self, '$_racc_do_reduce', $Parser__racc_do_reduce$14 = function $$_racc_do_reduce(arg, act) {\n        var $a, $b, self = this, _ = nil, goto_table = nil, goto_check = nil, goto_default = nil, goto_pointer = nil, nt_base = nil, reduce_table = nil, use_result = nil, state = nil, vstack = nil, tstack = nil, i = nil, len = nil, reduce_to = nil, method_id = nil, void_array = nil, tmp_t = nil, tmp_v = nil, $writer = nil, k1 = nil, $ret_or_18 = nil, $ret_or_19 = nil, curstate = nil;\n\n        \n        $b = arg, $a = Opal.to_ary($b), (_ = ($a[0] == null ? nil : $a[0])), (_ = ($a[1] == null ? nil : $a[1])), (_ = ($a[2] == null ? nil : $a[2])), (_ = ($a[3] == null ? nil : $a[3])), (goto_table = ($a[4] == null ? nil : $a[4])), (goto_check = ($a[5] == null ? nil : $a[5])), (goto_default = ($a[6] == null ? nil : $a[6])), (goto_pointer = ($a[7] == null ? nil : $a[7])), (nt_base = ($a[8] == null ? nil : $a[8])), (reduce_table = ($a[9] == null ? nil : $a[9])), (_ = ($a[10] == null ? nil : $a[10])), (_ = ($a[11] == null ? nil : $a[11])), (_ = ($a[12] == null ? nil : $a[12])), (use_result = ($a[13] == null ? nil : $a[13])), $b;\n        state = self.racc_state;\n        vstack = self.racc_vstack;\n        tstack = self.racc_tstack;\n        i = $rb_times(act, -3);\n        len = reduce_table['$[]'](i);\n        reduce_to = reduce_table['$[]']($rb_plus(i, 1));\n        method_id = reduce_table['$[]']($rb_plus(i, 2));\n        void_array = [];\n        if ($truthy(self.yydebug)) {\n          tmp_t = tstack['$[]'](len['$-@'](), len)};\n        tmp_v = vstack['$[]'](len['$-@'](), len);\n        if ($truthy(self.yydebug)) {\n          \n          $writer = [len['$-@'](), len, void_array];\n          $send(tstack, '[]=', Opal.to_a($writer));\n          $writer[$rb_minus($writer[\"length\"], 1)];};\n        \n        $writer = [len['$-@'](), len, void_array];\n        $send(vstack, '[]=', Opal.to_a($writer));\n        $writer[$rb_minus($writer[\"length\"], 1)];;\n        \n        $writer = [len['$-@'](), len, void_array];\n        $send(state, '[]=', Opal.to_a($writer));\n        $writer[$rb_minus($writer[\"length\"], 1)];;\n        if ($truthy(use_result)) {\n          vstack.$push(self.$__send__(method_id, tmp_v, vstack, tmp_v['$[]'](0)))\n        } else {\n          vstack.$push(self.$__send__(method_id, tmp_v, vstack))\n        };\n        tstack.$push(reduce_to);\n        if ($truthy(self.yydebug)) {\n          self.$racc_reduce(tmp_t, reduce_to, tstack, vstack)};\n        k1 = $rb_minus(reduce_to, nt_base);\n        if ($truthy((i = goto_pointer['$[]'](k1)))) {\n          \n          i = $rb_plus(i, state['$[]'](-1));\n          if ($truthy((function() {if ($truthy(($ret_or_18 = (function() {if ($truthy(($ret_or_19 = $rb_ge(i, 0)))) {\n            \n            return (curstate = goto_table['$[]'](i));\n          } else {\n            return $ret_or_19\n          }; return nil; })()))) {\n            return goto_check['$[]'](i)['$=='](k1)\n          } else {\n            return $ret_or_18\n          }; return nil; })())) {\n            return curstate};};\n        return goto_default['$[]'](k1);\n      }, $Parser__racc_do_reduce$14.$$arity = 2);\n      \n      Opal.def(self, '$on_error', $Parser_on_error$15 = function $$on_error(t, val, vstack) {\n        var self = this, $ret_or_20 = nil;\n\n        return self.$raise($$($nesting, 'ParseError'), self.$sprintf(\"\\nparse error on value %s (%s)\", val.$inspect(), (function() {if ($truthy(($ret_or_20 = self.$token_to_str(t)))) {\n          return $ret_or_20\n        } else {\n          return \"?\"\n        }; return nil; })()))\n      }, $Parser_on_error$15.$$arity = 3);\n      \n      Opal.def(self, '$yyerror', $Parser_yyerror$16 = function $$yyerror() {\n        var self = this;\n\n        return self.$throw(\"racc_jump\", 1)\n      }, $Parser_yyerror$16.$$arity = 0);\n      \n      Opal.def(self, '$yyaccept', $Parser_yyaccept$17 = function $$yyaccept() {\n        var self = this;\n\n        return self.$throw(\"racc_jump\", 2)\n      }, $Parser_yyaccept$17.$$arity = 0);\n      \n      Opal.def(self, '$yyerrok', $Parser_yyerrok$18 = function $$yyerrok() {\n        var self = this;\n\n        return (self.racc_error_status = 0)\n      }, $Parser_yyerrok$18.$$arity = 0);\n      \n      Opal.def(self, '$racc_read_token', $Parser_racc_read_token$19 = function $$racc_read_token(t, tok, val) {\n        var self = this;\n\n        \n        self.racc_debug_out.$print(\"read    \");\n        self.racc_debug_out.$print(tok.$inspect(), \"(\", self.$racc_token2str(t), \") \");\n        self.racc_debug_out.$puts(val.$inspect());\n        return self.racc_debug_out.$puts();\n      }, $Parser_racc_read_token$19.$$arity = 3);\n      \n      Opal.def(self, '$racc_shift', $Parser_racc_shift$20 = function $$racc_shift(tok, tstack, vstack) {\n        var self = this;\n\n        \n        self.racc_debug_out.$puts(\"\" + \"shift   \" + (self.$racc_token2str(tok)));\n        self.$racc_print_stacks(tstack, vstack);\n        return self.racc_debug_out.$puts();\n      }, $Parser_racc_shift$20.$$arity = 3);\n      \n      Opal.def(self, '$racc_reduce', $Parser_racc_reduce$21 = function $$racc_reduce(toks, sim, tstack, vstack) {\n        var $$22, self = this, out = nil;\n\n        \n        out = self.racc_debug_out;\n        out.$print(\"reduce \");\n        if ($truthy(toks['$empty?']())) {\n          out.$print(\" <none>\")\n        } else {\n          $send(toks, 'each', [], ($$22 = function(t){var self = $$22.$$s == null ? this : $$22.$$s;\n\n          \n            \n            if (t == null) {\n              t = nil;\n            };\n            return out.$print(\" \", self.$racc_token2str(t));}, $$22.$$s = self, $$22.$$arity = 1, $$22))\n        };\n        out.$puts(\"\" + \" --> \" + (self.$racc_token2str(sim)));\n        self.$racc_print_stacks(tstack, vstack);\n        return self.racc_debug_out.$puts();\n      }, $Parser_racc_reduce$21.$$arity = 4);\n      \n      Opal.def(self, '$racc_accept', $Parser_racc_accept$23 = function $$racc_accept() {\n        var self = this;\n\n        \n        self.racc_debug_out.$puts(\"accept\");\n        return self.racc_debug_out.$puts();\n      }, $Parser_racc_accept$23.$$arity = 0);\n      \n      Opal.def(self, '$racc_e_pop', $Parser_racc_e_pop$24 = function $$racc_e_pop(state, tstack, vstack) {\n        var self = this;\n\n        \n        self.racc_debug_out.$puts(\"error recovering mode: pop token\");\n        self.$racc_print_states(state);\n        self.$racc_print_stacks(tstack, vstack);\n        return self.racc_debug_out.$puts();\n      }, $Parser_racc_e_pop$24.$$arity = 3);\n      \n      Opal.def(self, '$racc_next_state', $Parser_racc_next_state$25 = function $$racc_next_state(curstate, state) {\n        var self = this;\n\n        \n        self.racc_debug_out.$puts(\"\" + \"goto    \" + (curstate));\n        self.$racc_print_states(state);\n        return self.racc_debug_out.$puts();\n      }, $Parser_racc_next_state$25.$$arity = 2);\n      \n      Opal.def(self, '$racc_print_stacks', $Parser_racc_print_stacks$26 = function $$racc_print_stacks(t, v) {\n        var $$27, self = this, out = nil;\n\n        \n        out = self.racc_debug_out;\n        out.$print(\"        [\");\n        $send(t, 'each_index', [], ($$27 = function(i){var self = $$27.$$s == null ? this : $$27.$$s;\n\n        \n          \n          if (i == null) {\n            i = nil;\n          };\n          return out.$print(\" (\", self.$racc_token2str(t['$[]'](i)), \" \", v['$[]'](i).$inspect(), \")\");}, $$27.$$s = self, $$27.$$arity = 1, $$27));\n        return out.$puts(\" ]\");\n      }, $Parser_racc_print_stacks$26.$$arity = 2);\n      \n      Opal.def(self, '$racc_print_states', $Parser_racc_print_states$28 = function $$racc_print_states(s) {\n        var $$29, self = this, out = nil;\n\n        \n        out = self.racc_debug_out;\n        out.$print(\"        [\");\n        $send(s, 'each', [], ($$29 = function(st){var self = $$29.$$s == null ? this : $$29.$$s;\n\n        \n          \n          if (st == null) {\n            st = nil;\n          };\n          return out.$print(\" \", st);}, $$29.$$s = self, $$29.$$arity = 1, $$29));\n        return out.$puts(\" ]\");\n      }, $Parser_racc_print_states$28.$$arity = 1);\n      \n      Opal.def(self, '$racc_token2str', $Parser_racc_token2str$30 = function $$racc_token2str(tok) {\n        var self = this, $ret_or_21 = nil;\n\n        if ($truthy(($ret_or_21 = $$$(self.$class(), 'Racc_token_to_s_table')['$[]'](tok)))) {\n          return $ret_or_21\n        } else {\n          return self.$raise(\"\" + \"[Racc Bug] can't convert token \" + (tok) + \" to string\")\n        }\n      }, $Parser_racc_token2str$30.$$arity = 1);\n      return (Opal.def(self, '$token_to_str', $Parser_token_to_str$31 = function $$token_to_str(t) {\n        var self = this;\n\n        return $$$(self.$class(), 'Racc_token_to_s_table')['$[]'](t)\n      }, $Parser_token_to_str$31.$$arity = 1), nil) && 'token_to_str';\n    })($nesting[0], null, $nesting);\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/arithmetic/node\"] = function(Opal) {\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'Arithmetic');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $parent_nesting) {\n        var self = $module($base, 'Node');\n\n        var $nesting = [self].concat($parent_nesting);\n\n        \n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'BinaryOp');\n\n          var $nesting = [self].concat($parent_nesting), $BinaryOp_initialize$1, $BinaryOp_eval$2, $BinaryOp_output$3, $BinaryOp_s_exp$4, $BinaryOp_op_for_s_exp$5;\n\n          self.$$prototype.lhs = self.$$prototype.rhs = self.$$prototype.op = nil;\n          \n          \n          Opal.def(self, '$initialize', $BinaryOp_initialize$1 = function $$initialize(lhs, op, rhs) {\n            var self = this;\n\n            \n            self.lhs = lhs;\n            self.op = op;\n            return (self.rhs = rhs);\n          }, $BinaryOp_initialize$1.$$arity = 3);\n          \n          Opal.def(self, '$eval', $BinaryOp_eval$2 = function(round_type) {\n            var self = this, l = nil, r = nil;\n\n            \n            l = self.lhs.$eval(round_type);\n            r = self.rhs.$eval(round_type);\n            return l.$send(self.op, r);\n          }, $BinaryOp_eval$2.$$arity = 1);\n          \n          Opal.def(self, '$output', $BinaryOp_output$3 = function $$output() {\n            var self = this;\n\n            return \"\" + (self.lhs.$output()) + (self.op) + (self.rhs.$output())\n          }, $BinaryOp_output$3.$$arity = 0);\n          \n          Opal.def(self, '$s_exp', $BinaryOp_s_exp$4 = function $$s_exp() {\n            var self = this;\n\n            return \"\" + \"(\" + (self.$op_for_s_exp()) + \" \" + (self.lhs.$s_exp()) + \" \" + (self.rhs.$s_exp()) + \")\"\n          }, $BinaryOp_s_exp$4.$$arity = 0);\n          return (Opal.def(self, '$op_for_s_exp', $BinaryOp_op_for_s_exp$5 = function $$op_for_s_exp() {\n            var self = this;\n\n            return self.op\n          }, $BinaryOp_op_for_s_exp$5.$$arity = 0), nil) && 'op_for_s_exp';\n        })($nesting[0], null, $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'DivideBase');\n\n          var $nesting = [self].concat($parent_nesting), $DivideBase_initialize$6, $DivideBase_eval$7, $DivideBase_output$8, $DivideBase_rounding_method$9, $DivideBase_op_for_s_exp$10, $DivideBase_divide_and_round$11;\n\n          self.$$prototype.lhs = self.$$prototype.rhs = self.$$prototype.op = nil;\n          \n          \n          Opal.def(self, '$initialize', $DivideBase_initialize$6 = function $$initialize(lhs, rhs) {\n            var $iter = $DivideBase_initialize$6.$$p, $yield = $iter || nil, self = this;\n\n            if ($iter) $DivideBase_initialize$6.$$p = null;\n            return $send2(self, Opal.find_super_dispatcher(self, 'initialize', $DivideBase_initialize$6, false, true), 'initialize', [lhs, \"/\", rhs], null)\n          }, $DivideBase_initialize$6.$$arity = 2);\n          \n          Opal.def(self, '$eval', $DivideBase_eval$7 = function(round_type) {\n            var self = this, l = nil, r = nil;\n\n            \n            l = self.lhs.$eval(round_type);\n            r = self.rhs.$eval(round_type);\n            if (r['$=='](0)) {\n              self.$raise($$($nesting, 'ZeroDivisionError'))};\n            return self.$divide_and_round(l, r, round_type);\n          }, $DivideBase_eval$7.$$arity = 1);\n          \n          Opal.def(self, '$output', $DivideBase_output$8 = function $$output() {\n            var $iter = $DivideBase_output$8.$$p, $yield = $iter || nil, self = this, $zuper = nil, $zuper_i = nil, $zuper_ii = nil;\n\n            if ($iter) $DivideBase_output$8.$$p = null;\n            // Prepare super implicit arguments\n            for($zuper_i = 0, $zuper_ii = arguments.length, $zuper = new Array($zuper_ii); $zuper_i < $zuper_ii; $zuper_i++) {\n              $zuper[$zuper_i] = arguments[$zuper_i];\n            }\n            return \"\" + ($send2(self, Opal.find_super_dispatcher(self, 'output', $DivideBase_output$8, false, true), 'output', $zuper, $iter)) + (self.$rounding_method())\n          }, $DivideBase_output$8.$$arity = 0);\n          self.$private();\n          \n          Opal.def(self, '$rounding_method', $DivideBase_rounding_method$9 = function $$rounding_method() {\n            var self = this;\n\n            return $$$(self.$class(), 'ROUNDING_METHOD')\n          }, $DivideBase_rounding_method$9.$$arity = 0);\n          \n          Opal.def(self, '$op_for_s_exp', $DivideBase_op_for_s_exp$10 = function $$op_for_s_exp() {\n            var self = this;\n\n            return \"\" + (self.op) + (self.$rounding_method())\n          }, $DivideBase_op_for_s_exp$10.$$arity = 0);\n          return (Opal.def(self, '$divide_and_round', $DivideBase_divide_and_round$11 = function $$divide_and_round(_dividend, _divisor, _round_type) {\n            var self = this;\n\n            return self.$raise($$($nesting, 'NotImplementedError'))\n          }, $DivideBase_divide_and_round$11.$$arity = 3), nil) && 'divide_and_round';\n        })($nesting[0], $$($nesting, 'BinaryOp'), $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'DivideWithGameSystemDefault');\n\n          var $nesting = [self].concat($parent_nesting), $DivideWithGameSystemDefault_divide_and_round$12;\n\n          \n          Opal.const_set($nesting[0], 'ROUNDING_METHOD', \"\");\n          self.$private();\n          return (Opal.def(self, '$divide_and_round', $DivideWithGameSystemDefault_divide_and_round$12 = function $$divide_and_round(dividend, divisor, round_type) {\n            var self = this, $case = nil;\n\n            return (function() {$case = round_type;\n            if ($$$($$($nesting, 'RoundType'), 'CEIL')['$===']($case)) {return $rb_divide(dividend.$to_f(), divisor).$ceil()}\n            else if ($$$($$($nesting, 'RoundType'), 'ROUND')['$===']($case)) {return $rb_divide(dividend.$to_f(), divisor).$round()}\n            else {return $rb_divide(dividend, divisor).$to_i()}})()\n          }, $DivideWithGameSystemDefault_divide_and_round$12.$$arity = 3), nil) && 'divide_and_round';\n        })($nesting[0], $$($nesting, 'DivideBase'), $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'DivideWithCeil');\n\n          var $nesting = [self].concat($parent_nesting), $DivideWithCeil_divide_and_round$13;\n\n          \n          Opal.const_set($nesting[0], 'ROUNDING_METHOD', \"C\");\n          self.$private();\n          return (Opal.def(self, '$divide_and_round', $DivideWithCeil_divide_and_round$13 = function $$divide_and_round(dividend, divisor, _round_type) {\n            var self = this;\n\n            return $rb_divide(dividend.$to_f(), divisor).$ceil()\n          }, $DivideWithCeil_divide_and_round$13.$$arity = 3), nil) && 'divide_and_round';\n        })($nesting[0], $$($nesting, 'DivideBase'), $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'DivideWithRound');\n\n          var $nesting = [self].concat($parent_nesting), $DivideWithRound_divide_and_round$14;\n\n          \n          Opal.const_set($nesting[0], 'ROUNDING_METHOD', \"R\");\n          self.$private();\n          return (Opal.def(self, '$divide_and_round', $DivideWithRound_divide_and_round$14 = function $$divide_and_round(dividend, divisor, _round_type) {\n            var self = this;\n\n            return $rb_divide(dividend.$to_f(), divisor).$round()\n          }, $DivideWithRound_divide_and_round$14.$$arity = 3), nil) && 'divide_and_round';\n        })($nesting[0], $$($nesting, 'DivideBase'), $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'DivideWithFloor');\n\n          var $nesting = [self].concat($parent_nesting), $DivideWithFloor_divide_and_round$15;\n\n          \n          Opal.const_set($nesting[0], 'ROUNDING_METHOD', \"F\");\n          self.$private();\n          return (Opal.def(self, '$divide_and_round', $DivideWithFloor_divide_and_round$15 = function $$divide_and_round(dividend, divisor, _round_type) {\n            var self = this;\n\n            return $rb_divide(dividend, divisor).$to_i()\n          }, $DivideWithFloor_divide_and_round$15.$$arity = 3), nil) && 'divide_and_round';\n        })($nesting[0], $$($nesting, 'DivideBase'), $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'Negative');\n\n          var $nesting = [self].concat($parent_nesting), $Negative_initialize$16, $Negative_eval$17, $Negative_output$18, $Negative_s_exp$19;\n\n          self.$$prototype.body = nil;\n          \n          \n          Opal.def(self, '$initialize', $Negative_initialize$16 = function $$initialize(body) {\n            var self = this;\n\n            return (self.body = body)\n          }, $Negative_initialize$16.$$arity = 1);\n          \n          Opal.def(self, '$eval', $Negative_eval$17 = function(round_type) {\n            var self = this;\n\n            return self.body.$eval(round_type)['$-@']()\n          }, $Negative_eval$17.$$arity = 1);\n          \n          Opal.def(self, '$output', $Negative_output$18 = function $$output() {\n            var self = this;\n\n            return \"\" + \"-\" + (self.body.$output())\n          }, $Negative_output$18.$$arity = 0);\n          return (Opal.def(self, '$s_exp', $Negative_s_exp$19 = function $$s_exp() {\n            var self = this;\n\n            return \"\" + \"(- \" + (self.body.$s_exp()) + \")\"\n          }, $Negative_s_exp$19.$$arity = 0), nil) && 's_exp';\n        })($nesting[0], null, $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'Parenthesis');\n\n          var $nesting = [self].concat($parent_nesting), $Parenthesis_initialize$20, $Parenthesis_eval$21, $Parenthesis_output$22, $Parenthesis_s_exp$23;\n\n          self.$$prototype.expr = nil;\n          \n          \n          Opal.def(self, '$initialize', $Parenthesis_initialize$20 = function $$initialize(expr) {\n            var self = this;\n\n            return (self.expr = expr)\n          }, $Parenthesis_initialize$20.$$arity = 1);\n          \n          Opal.def(self, '$eval', $Parenthesis_eval$21 = function(round_type) {\n            var self = this;\n\n            return self.expr.$eval(round_type)\n          }, $Parenthesis_eval$21.$$arity = 1);\n          \n          Opal.def(self, '$output', $Parenthesis_output$22 = function $$output() {\n            var self = this;\n\n            return \"\" + \"(\" + (self.expr.$output()) + \")\"\n          }, $Parenthesis_output$22.$$arity = 0);\n          return (Opal.def(self, '$s_exp', $Parenthesis_s_exp$23 = function $$s_exp() {\n            var self = this;\n\n            return \"\" + \"(Parenthesis \" + (self.expr.$s_exp()) + \")\"\n          }, $Parenthesis_s_exp$23.$$arity = 0), nil) && 's_exp';\n        })($nesting[0], null, $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'Number');\n\n          var $nesting = [self].concat($parent_nesting), $Number_initialize$24, $Number_eval$25, $Number_output$26;\n\n          self.$$prototype.value = nil;\n          \n          \n          Opal.def(self, '$initialize', $Number_initialize$24 = function $$initialize(value) {\n            var self = this;\n\n            return (self.value = value)\n          }, $Number_initialize$24.$$arity = 1);\n          \n          Opal.def(self, '$eval', $Number_eval$25 = function(_round_type) {\n            var self = this;\n\n            return self.value\n          }, $Number_eval$25.$$arity = 1);\n          \n          Opal.def(self, '$output', $Number_output$26 = function $$output() {\n            var self = this;\n\n            return self.value.$to_s()\n          }, $Number_output$26.$$arity = 0);\n          return Opal.alias(self, \"s_exp\", \"output\");\n        })($nesting[0], null, $nesting);\n      })($nesting[0], $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"strscan\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $klass = Opal.klass, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $super, $parent_nesting) {\n    var self = $klass($base, $super, 'StringScanner');\n\n    var $nesting = [self].concat($parent_nesting), $StringScanner_initialize$1, $StringScanner_beginning_of_line$ques$2, $StringScanner_scan$3, $StringScanner_scan_until$4, $StringScanner_$$$5, $StringScanner_check$6, $StringScanner_check_until$7, $StringScanner_peek$8, $StringScanner_eos$ques$9, $StringScanner_exist$ques$10, $StringScanner_skip$11, $StringScanner_skip_until$12, $StringScanner_get_byte$13, $StringScanner_match$ques$14, $StringScanner_pos$eq$15, $StringScanner_matched_size$16, $StringScanner_post_match$17, $StringScanner_pre_match$18, $StringScanner_reset$19, $StringScanner_rest$20, $StringScanner_rest$ques$21, $StringScanner_rest_size$22, $StringScanner_terminate$23, $StringScanner_unscan$24, $StringScanner_anchor$25;\n\n    self.$$prototype.pos = self.$$prototype.string = self.$$prototype.working = self.$$prototype.matched = self.$$prototype.prev_pos = self.$$prototype.match = nil;\n    \n    self.$attr_reader(\"pos\");\n    self.$attr_reader(\"matched\");\n    \n    Opal.def(self, '$initialize', $StringScanner_initialize$1 = function $$initialize(string) {\n      var self = this;\n\n      \n      self.string = string;\n      self.pos = 0;\n      self.matched = nil;\n      self.working = string;\n      return (self.match = []);\n    }, $StringScanner_initialize$1.$$arity = 1);\n    self.$attr_reader(\"string\");\n    \n    Opal.def(self, '$beginning_of_line?', $StringScanner_beginning_of_line$ques$2 = function() {\n      var self = this;\n\n      return self.pos === 0 || self.string.charAt(self.pos - 1) === \"\\n\"\n    }, $StringScanner_beginning_of_line$ques$2.$$arity = 0);\n    Opal.alias(self, \"bol?\", \"beginning_of_line?\");\n    \n    Opal.def(self, '$scan', $StringScanner_scan$3 = function $$scan(pattern) {\n      var self = this;\n\n      \n      pattern = self.$anchor(pattern);\n      \n      var result = pattern.exec(self.working);\n\n      if (result == null) {\n        return self.matched = nil;\n      }\n      else if (typeof(result) === 'object') {\n        self.prev_pos = self.pos;\n        self.pos     += result[0].length;\n        self.working  = self.working.substring(result[0].length);\n        self.matched  = result[0];\n        self.match    = result;\n\n        return result[0];\n      }\n      else if (typeof(result) === 'string') {\n        self.pos     += result.length;\n        self.working  = self.working.substring(result.length);\n\n        return result;\n      }\n      else {\n        return nil;\n      }\n    ;\n    }, $StringScanner_scan$3.$$arity = 1);\n    \n    Opal.def(self, '$scan_until', $StringScanner_scan_until$4 = function $$scan_until(pattern) {\n      var self = this;\n\n      \n      pattern = self.$anchor(pattern);\n      \n      var pos     = self.pos,\n          working = self.working,\n          result;\n\n      while (true) {\n        result   = pattern.exec(working);\n        pos     += 1;\n        working  = working.substr(1);\n\n        if (result == null) {\n          if (working.length === 0) {\n            self.match = [];\n            return self.matched = nil;\n          }\n\n          continue;\n        }\n\n        self.matched  = self.string.substr(self.pos, pos - self.pos - 1 + result[0].length);\n        self.match    = result;\n        self.prev_pos = pos - 1;\n        self.pos      = pos;\n        self.working  = working.substr(result[0].length);\n\n        return self.matched;\n      }\n    ;\n    }, $StringScanner_scan_until$4.$$arity = 1);\n    \n    Opal.def(self, '$[]', $StringScanner_$$$5 = function(idx) {\n      var self = this, $case = nil;\n\n      \n      if ($truthy(self.match['$empty?']())) {\n        return nil};\n      $case = idx;\n      if ($$($nesting, 'Symbol')['$===']($case)) {idx = idx.$to_s()}\n      else if ($$($nesting, 'String')['$===']($case)) {nil}\n      else {idx = $$($nesting, 'Opal')['$coerce_to!'](idx, $$($nesting, 'Integer'), \"to_int\")};\n      \n      var match = self.match;\n\n      if (idx < 0) {\n        idx += match.length;\n      }\n\n      if (idx < 0 || idx >= match.length) {\n        return nil;\n      }\n\n      if (match[idx] == null) {\n        return nil;\n      }\n\n      return match[idx];\n    ;\n    }, $StringScanner_$$$5.$$arity = 1);\n    \n    Opal.def(self, '$check', $StringScanner_check$6 = function $$check(pattern) {\n      var self = this;\n\n      \n      pattern = self.$anchor(pattern);\n      \n      var result = pattern.exec(self.working);\n\n      if (result == null) {\n        return self.matched = nil;\n      }\n\n      return self.matched = result[0];\n    ;\n    }, $StringScanner_check$6.$$arity = 1);\n    \n    Opal.def(self, '$check_until', $StringScanner_check_until$7 = function $$check_until(pattern) {\n      var self = this;\n\n      \n      var prev_pos = self.prev_pos,\n          pos      = self.pos;\n\n      var result = self.$scan_until(pattern);\n\n      if (result !== nil) {\n        self.matched = result.substr(-1);\n        self.working = self.string.substr(pos);\n      }\n\n      self.prev_pos = prev_pos;\n      self.pos      = pos;\n\n      return result;\n    \n    }, $StringScanner_check_until$7.$$arity = 1);\n    \n    Opal.def(self, '$peek', $StringScanner_peek$8 = function $$peek(length) {\n      var self = this;\n\n      return self.working.substring(0, length)\n    }, $StringScanner_peek$8.$$arity = 1);\n    \n    Opal.def(self, '$eos?', $StringScanner_eos$ques$9 = function() {\n      var self = this;\n\n      return self.working.length === 0\n    }, $StringScanner_eos$ques$9.$$arity = 0);\n    \n    Opal.def(self, '$exist?', $StringScanner_exist$ques$10 = function(pattern) {\n      var self = this;\n\n      \n      var result = pattern.exec(self.working);\n\n      if (result == null) {\n        return nil;\n      }\n      else if (result.index == 0) {\n        return 0;\n      }\n      else {\n        return result.index + 1;\n      }\n    \n    }, $StringScanner_exist$ques$10.$$arity = 1);\n    \n    Opal.def(self, '$skip', $StringScanner_skip$11 = function $$skip(pattern) {\n      var self = this;\n\n      \n      pattern = self.$anchor(pattern);\n      \n      var result = pattern.exec(self.working);\n\n      if (result == null) {\n        self.match = [];\n        return self.matched = nil;\n      }\n      else {\n        var match_str = result[0];\n        var match_len = match_str.length;\n\n        self.matched   = match_str;\n        self.match     = result;\n        self.prev_pos  = self.pos;\n        self.pos      += match_len;\n        self.working   = self.working.substring(match_len);\n\n        return match_len;\n      }\n    ;\n    }, $StringScanner_skip$11.$$arity = 1);\n    \n    Opal.def(self, '$skip_until', $StringScanner_skip_until$12 = function $$skip_until(pattern) {\n      var self = this;\n\n      \n      var result = self.$scan_until(pattern);\n\n      if (result === nil) {\n        return nil;\n      }\n      else {\n        self.matched = result.substr(-1);\n\n        return result.length;\n      }\n    \n    }, $StringScanner_skip_until$12.$$arity = 1);\n    \n    Opal.def(self, '$get_byte', $StringScanner_get_byte$13 = function $$get_byte() {\n      var self = this;\n\n      \n      var result = nil;\n\n      if (self.pos < self.string.length) {\n        self.prev_pos  = self.pos;\n        self.pos      += 1;\n        result      = self.matched = self.working.substring(0, 1);\n        self.working   = self.working.substring(1);\n      }\n      else {\n        self.matched = nil;\n      }\n\n      return result;\n    \n    }, $StringScanner_get_byte$13.$$arity = 0);\n    Opal.alias(self, \"getch\", \"get_byte\");\n    \n    Opal.def(self, '$match?', $StringScanner_match$ques$14 = function(pattern) {\n      var self = this;\n\n      \n      pattern = self.$anchor(pattern);\n      \n      var result = pattern.exec(self.working);\n\n      if (result == null) {\n        return nil;\n      }\n      else {\n        self.prev_pos = self.pos;\n\n        return result[0].length;\n      }\n    ;\n    }, $StringScanner_match$ques$14.$$arity = 1);\n    \n    Opal.def(self, '$pos=', $StringScanner_pos$eq$15 = function(pos) {\n      var self = this;\n\n      \n      \n      if (pos < 0) {\n        pos += self.string.$length();\n      }\n    ;\n      self.pos = pos;\n      return (self.working = self.string.slice(pos));\n    }, $StringScanner_pos$eq$15.$$arity = 1);\n    \n    Opal.def(self, '$matched_size', $StringScanner_matched_size$16 = function $$matched_size() {\n      var self = this;\n\n      \n      if (self.matched === nil) {\n        return nil;\n      }\n\n      return self.matched.length\n    \n    }, $StringScanner_matched_size$16.$$arity = 0);\n    \n    Opal.def(self, '$post_match', $StringScanner_post_match$17 = function $$post_match() {\n      var self = this;\n\n      \n      if (self.matched === nil) {\n        return nil;\n      }\n\n      return self.string.substr(self.pos);\n    \n    }, $StringScanner_post_match$17.$$arity = 0);\n    \n    Opal.def(self, '$pre_match', $StringScanner_pre_match$18 = function $$pre_match() {\n      var self = this;\n\n      \n      if (self.matched === nil) {\n        return nil;\n      }\n\n      return self.string.substr(0, self.prev_pos);\n    \n    }, $StringScanner_pre_match$18.$$arity = 0);\n    \n    Opal.def(self, '$reset', $StringScanner_reset$19 = function $$reset() {\n      var self = this;\n\n      \n      self.working = self.string;\n      self.matched = nil;\n      return (self.pos = 0);\n    }, $StringScanner_reset$19.$$arity = 0);\n    \n    Opal.def(self, '$rest', $StringScanner_rest$20 = function $$rest() {\n      var self = this;\n\n      return self.working\n    }, $StringScanner_rest$20.$$arity = 0);\n    \n    Opal.def(self, '$rest?', $StringScanner_rest$ques$21 = function() {\n      var self = this;\n\n      return self.working.length !== 0\n    }, $StringScanner_rest$ques$21.$$arity = 0);\n    \n    Opal.def(self, '$rest_size', $StringScanner_rest_size$22 = function $$rest_size() {\n      var self = this;\n\n      return self.$rest().$size()\n    }, $StringScanner_rest_size$22.$$arity = 0);\n    \n    Opal.def(self, '$terminate', $StringScanner_terminate$23 = function $$terminate() {\n      var self = this, $writer = nil;\n\n      \n      self.match = nil;\n      \n      $writer = [self.string.$length()];\n      $send(self, 'pos=', Opal.to_a($writer));\n      return $writer[$rb_minus($writer[\"length\"], 1)];;\n    }, $StringScanner_terminate$23.$$arity = 0);\n    \n    Opal.def(self, '$unscan', $StringScanner_unscan$24 = function $$unscan() {\n      var self = this;\n\n      \n      self.pos = self.prev_pos;\n      self.prev_pos = nil;\n      self.match = nil;\n      return self;\n    }, $StringScanner_unscan$24.$$arity = 0);\n    self.$private();\n    return (Opal.def(self, '$anchor', $StringScanner_anchor$25 = function $$anchor(pattern) {\n      var self = this;\n\n      \n      var flags = pattern.toString().match(/\\/([^\\/]+)$/);\n      flags = flags ? flags[1] : undefined;\n      return new RegExp('^(?:' + pattern.source + ')', flags);\n    \n    }, $StringScanner_anchor$25.$$arity = 1), nil) && 'anchor';\n  })($nesting[0], null, $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/normalize\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'Normalize');\n\n      var $nesting = [self].concat($parent_nesting), $Normalize_comparison_operator$1, $Normalize_target_number$2;\n\n      \n      self.$module_function();\n      \n      Opal.def(self, '$comparison_operator', $Normalize_comparison_operator$1 = function $$comparison_operator(op) {\n        var self = this, $case = nil;\n\n        return (function() {$case = op;\n        if (/<=|=</['$===']($case)) {return \"<=\"}\n        else if (/>=|=>/['$===']($case)) {return \">=\"}\n        else if (/<>|!=|=!/['$===']($case)) {return \"!=\"}\n        else if (/</['$===']($case)) {return \"<\"}\n        else if (/>/['$===']($case)) {return \">\"}\n        else if (/=/['$===']($case)) {return \"==\"}\n        else { return nil }})()\n      }, $Normalize_comparison_operator$1.$$arity = 1);\n      \n      Opal.def(self, '$target_number', $Normalize_target_number$2 = function $$target_number(val) {\n        var self = this;\n\n        if (val['$=='](\"?\")) {\n          return val\n        } else {\n          return val.$to_i()\n        }\n      }, $Normalize_target_number$2.$$arity = 1);\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/command/lexer\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2, $truthy = Opal.truthy, $send = Opal.send;\n\n  \n  self.$require(\"strscan\");\n  self.$require(\"bcdice/normalize\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'Command');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Lexer');\n\n        var $nesting = [self].concat($parent_nesting), $Lexer_initialize$1, $Lexer_next_token$3, $Lexer_source$5;\n\n        self.$$prototype.scanner = self.$$prototype.notations = nil;\n        \n        Opal.const_set($nesting[0], 'SYMBOLS', $hash2([\"+\", \"-\", \"*\", \"/\", \"(\", \")\", \"?\", \"@\", \"#\", \"$\"], {\"+\": \"PLUS\", \"-\": \"MINUS\", \"*\": \"ASTERISK\", \"/\": \"SLASH\", \"(\": \"PARENL\", \")\": \"PARENR\", \"?\": \"QUESTION\", \"@\": \"AT\", \"#\": \"SHARP\", \"$\": \"DOLLAR\"}).$freeze());\n        \n        Opal.def(self, '$initialize', $Lexer_initialize$1 = function $$initialize(source, notations) {\n          var $a, $b, $$2, self = this, $ret_or_1 = nil;\n\n          \n          source = (function() {if ($truthy(($ret_or_1 = ($b = ($a = source, ($a === nil || $a == null) ? nil : $send($a, 'split', [\" \", 2])), ($b === nil || $b == null) ? nil : $send($b, 'first', []))))) {\n            return $ret_or_1\n          } else {\n            return \"\"\n          }; return nil; })();\n          self.scanner = $$($nesting, 'StringScanner').$new(source);\n          return (self.notations = $send(notations, 'map', [], ($$2 = function(n){var self = $$2.$$s == null ? this : $$2.$$s;\n\n          \n            \n            if (n == null) {\n              n = nil;\n            };\n            if ($truthy(n['$is_a?']($$($nesting, 'String')))) {\n              return $$($nesting, 'Regexp').$new(n)\n            } else {\n              return n\n            };}, $$2.$$s = self, $$2.$$arity = 1, $$2)));\n        }, $Lexer_initialize$1.$$arity = 2);\n        \n        Opal.def(self, '$next_token', $Lexer_next_token$3 = function $$next_token() {try {\n\n          var $$4, self = this, number = nil, cmp_op = nil, type = nil, char$ = nil, $ret_or_2 = nil;\n\n          \n          if ($truthy(self.scanner['$eos?']())) {\n            return [false, \"$\"]};\n          $send(self.notations, 'each', [], ($$4 = function(n){var self = $$4.$$s == null ? this : $$4.$$s, token = nil;\n            if (self.scanner == null) self.scanner = nil;\n\n          \n            \n            if (n == null) {\n              n = nil;\n            };\n            token = self.scanner.$scan(n);\n            if ($truthy(token)) {\n              Opal.ret([\"NOTATION\", token])\n            } else {\n              return nil\n            };}, $$4.$$s = self, $$4.$$arity = 1, $$4));\n          if ($truthy((number = self.scanner.$scan(/\\d+/)))) {\n            return [\"NUMBER\", number.$to_i()]\n          } else if ($truthy((cmp_op = self.scanner.$scan(/[<>!=]+/)))) {\n            \n            cmp_op = $$($nesting, 'Normalize').$comparison_operator(cmp_op);\n            type = (function() {if ($truthy(cmp_op)) {\n              return \"CMP_OP\"\n            } else {\n              return \"ILLEGAL\"\n            }; return nil; })();\n            return [type, cmp_op];\n          } else {\n            \n            char$ = self.scanner.$getch().$upcase();\n            type = (function() {if ($truthy(($ret_or_2 = $$($nesting, 'SYMBOLS')['$[]'](char$)))) {\n              return $ret_or_2\n            } else {\n              return char$.$to_sym()\n            }; return nil; })();\n            return [type, char$];\n          };\n          } catch ($returner) { if ($returner === Opal.returner) { return $returner.$v } throw $returner; }\n        }, $Lexer_next_token$3.$$arity = 0);\n        return (Opal.def(self, '$source', $Lexer_source$5 = function $$source() {\n          var self = this;\n\n          return self.scanner.$string()\n        }, $Lexer_source$5.$$arity = 0), nil) && 'source';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/command/parsed\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'Command');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Parsed');\n\n        var $nesting = [self].concat($parent_nesting), $Parsed_initialize$1, $Parsed_question_target$ques$2, $Parsed_to_s$3;\n\n        self.$$prototype.question_target = self.$$prototype.critical = self.$$prototype.fumble = self.$$prototype.dollar = self.$$prototype.modify_number = self.$$prototype.target_number = self.$$prototype.command = self.$$prototype.cmp_op = nil;\n        \n        self.$attr_accessor(\"command\");\n        self.$attr_accessor(\"critical\");\n        self.$attr_accessor(\"fumble\");\n        self.$attr_accessor(\"dollar\");\n        self.$attr_accessor(\"modify_number\");\n        self.$attr_accessor(\"cmp_op\");\n        self.$attr_accessor(\"target_number\");\n        self.$attr_writer(\"question_target\");\n        \n        Opal.def(self, '$initialize', $Parsed_initialize$1 = function $$initialize() {\n          var self = this;\n\n          \n          self.critical = nil;\n          self.fumble = nil;\n          self.dollar = nil;\n          self.cmp_op = nil;\n          self.target_number = nil;\n          return (self.question_target = false);\n        }, $Parsed_initialize$1.$$arity = 0);\n        \n        Opal.def(self, '$question_target?', $Parsed_question_target$ques$2 = function() {\n          var self = this;\n\n          return self.question_target\n        }, $Parsed_question_target$ques$2.$$arity = 0);\n        return (Opal.def(self, '$to_s', $Parsed_to_s$3 = function $$to_s(suffix_position) {\n          var self = this, c = nil, f = nil, d = nil, m = nil, target = nil, $case = nil;\n\n          \n          \n          if (suffix_position == null) {\n            suffix_position = \"after_command\";\n          };\n          c = (function() {if ($truthy(self.critical)) {\n            return \"\" + \"@\" + (self.critical)\n          } else {\n            return nil\n          }; return nil; })();\n          f = (function() {if ($truthy(self.fumble)) {\n            return \"\" + \"#\" + (self.fumble)\n          } else {\n            return nil\n          }; return nil; })();\n          d = (function() {if ($truthy(self.dollar)) {\n            return \"\" + \"$\" + (self.dollar)\n          } else {\n            return nil\n          }; return nil; })();\n          m = $$($nesting, 'Format').$modifier(self.modify_number);\n          target = (function() {if ($truthy(self.question_target)) {\n            return \"?\"\n          } else {\n            return self.target_number\n          }; return nil; })();\n          return (function() {$case = suffix_position;\n          if (\"after_command\"['$===']($case)) {return [self.command, c, f, d, m, self.cmp_op, target].$join()}\n          else if (\"after_modify_number\"['$===']($case)) {return [self.command, m, c, f, d, self.cmp_op, target].$join()}\n          else if (\"after_target_number\"['$===']($case)) {return [self.command, m, self.cmp_op, target, c, f, d].$join()}\n          else { return nil }})();\n        }, $Parsed_to_s$3.$$arity = -1), nil) && 'to_s';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/command/parser\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $klass = Opal.klass, $module = Opal.module, $hash2 = Opal.hash2, $send2 = Opal.send2, $send = Opal.send, $hash = Opal.hash, $truthy = Opal.truthy;\n\n  \n  self.$require(\"racc/parser.rb\");\n  self.$require(\"bcdice/arithmetic/node\");\n  self.$require(\"bcdice/command/lexer\");\n  self.$require(\"bcdice/command/parsed\");\n  (function($base, $super, $parent_nesting) {\n    var self = $klass($base, $super, 'Parser');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    return nil\n  })($$$($$($nesting, 'BCDice'), 'Command'), $$$($$($nesting, 'Racc'), 'Parser'), $nesting);\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'Command');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Parser');\n\n        var $nesting = [self].concat($parent_nesting), $Parser_initialize$1, $Parser_disable_modifier$2, $Parser_enable_critical$3, $Parser_enable_fumble$4, $Parser_enable_dollar$5, $Parser_restrict_cmp_op_to$6, $Parser_enable_question_target$7, $Parser_parse$8, $Parser_parsed$9, $Parser_next_token$11, $Parser__reduce_1$12, $Parser__reduce_2$13, $Parser__reduce_3$14, $Parser__reduce_4$15, $Parser__reduce_5$16, $Parser__reduce_6$17, $Parser__reduce_7$18, $Parser__reduce_8$19, $Parser__reduce_9$20, $Parser__reduce_10$21, $Parser__reduce_11$22, $Parser__reduce_12$23, $Parser__reduce_13$24, $Parser__reduce_14$25, $Parser__reduce_15$26, $Parser__reduce_16$27, $Parser__reduce_18$28, $Parser__reduce_19$29, $Parser__reduce_21$30, $Parser__reduce_22$31, $Parser__reduce_23$32, $Parser__reduce_24$33, $Parser__reduce_25$34, $Parser__reduce_26$35, $Parser__reduce_27$36, $Parser__reduce_29$37, $Parser__reduce_30$38, $Parser__reduce_none$39, racc_action_table = nil, racc_action_check = nil, racc_action_pointer = nil, racc_action_default = nil, racc_goto_table = nil, racc_goto_check = nil, racc_goto_pointer = nil, racc_goto_default = nil, racc_reduce_table = nil, racc_reduce_n = nil, racc_shift_n = nil, racc_token_table = nil, racc_nt_base = nil, racc_use_result_var = nil;\n\n        self.$$prototype.notations = self.$$prototype.lexer = self.$$prototype.modifier = self.$$prototype.critical = self.$$prototype.fumble = self.$$prototype.dollar = self.$$prototype.allowed_cmp_op = self.$$prototype.question_target = nil;\n        \n        \n        Opal.def(self, '$initialize', $Parser_initialize$1 = function $$initialize($a, $b) {\n          var $post_args, $kwargs, notations, round_type, $iter = $Parser_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $Parser_initialize$1.$$p = null;\n          \n          \n          $post_args = Opal.slice.call(arguments, 0, arguments.length);\n          \n          $kwargs = Opal.extract_kwargs($post_args);\n          \n          if ($kwargs == null) {\n            $kwargs = $hash2([], {});\n          } else if (!$kwargs.$$is_hash) {\n            throw Opal.ArgumentError.$new('expected kwargs');\n          };\n          \n          notations = $post_args;;\n          \n          if (!Opal.hasOwnProperty.call($kwargs.$$smap, 'round_type')) {\n            throw Opal.ArgumentError.$new('missing keyword: round_type');\n          }\n          round_type = $kwargs.$$smap[\"round_type\"];;\n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $Parser_initialize$1, false, true), 'initialize', [], null);\n          self.notations = notations;\n          self.round_type = round_type;\n          self.modifier = true;\n          self.critical = false;\n          self.fumble = false;\n          self.dollar = false;\n          self.allowed_cmp_op = [nil, \">=\", \">\", \"<=\", \"<\", \"==\", \"!=\"];\n          return (self.question_target = false);\n        }, $Parser_initialize$1.$$arity = -2);\n        \n        Opal.def(self, '$disable_modifier', $Parser_disable_modifier$2 = function $$disable_modifier() {\n          var self = this;\n\n          \n          self.modifier = false;\n          return self;\n        }, $Parser_disable_modifier$2.$$arity = 0);\n        \n        Opal.def(self, '$enable_critical', $Parser_enable_critical$3 = function $$enable_critical() {\n          var self = this;\n\n          \n          self.critical = true;\n          return self;\n        }, $Parser_enable_critical$3.$$arity = 0);\n        \n        Opal.def(self, '$enable_fumble', $Parser_enable_fumble$4 = function $$enable_fumble() {\n          var self = this;\n\n          \n          self.fumble = true;\n          return self;\n        }, $Parser_enable_fumble$4.$$arity = 0);\n        \n        Opal.def(self, '$enable_dollar', $Parser_enable_dollar$5 = function $$enable_dollar() {\n          var self = this;\n\n          \n          self.dollar = true;\n          return self;\n        }, $Parser_enable_dollar$5.$$arity = 0);\n        \n        Opal.def(self, '$restrict_cmp_op_to', $Parser_restrict_cmp_op_to$6 = function $$restrict_cmp_op_to($a) {\n          var $post_args, ops, self = this;\n\n          \n          \n          $post_args = Opal.slice.call(arguments, 0, arguments.length);\n          \n          ops = $post_args;;\n          self.allowed_cmp_op = ops;\n          return self;\n        }, $Parser_restrict_cmp_op_to$6.$$arity = -1);\n        \n        Opal.def(self, '$enable_question_target', $Parser_enable_question_target$7 = function $$enable_question_target() {\n          var self = this;\n\n          \n          self.question_target = true;\n          return self;\n        }, $Parser_enable_question_target$7.$$arity = 0);\n        \n        Opal.def(self, '$parse', $Parser_parse$8 = function $$parse(source) {\n          var self = this;\n\n          try {\n            \n            self.lexer = $$($nesting, 'Lexer').$new(source, self.notations);\n            return self.$do_parse();\n          } catch ($err) {\n            if (Opal.rescue($err, [$$($nesting, 'ParseError'), $$($nesting, 'ZeroDivisionError')])) {\n              try {\n                return nil\n              } finally { Opal.pop_exception() }\n            } else { throw $err; }\n          }\n        }, $Parser_parse$8.$$arity = 1);\n        self.$private();\n        \n        Opal.def(self, '$parsed', $Parser_parsed$9 = function $$parsed(notation, option, modifier, target) {\n          var $$10, self = this;\n\n          return $send($$($nesting, 'Parsed').$new(), 'tap', [], ($$10 = function(p){var self = $$10.$$s == null ? this : $$10.$$s, $a, $b, $c, $d, $writer = nil;\n            if (self.round_type == null) self.round_type = nil;\n\n          \n            \n            if (p == null) {\n              p = nil;\n            };\n            \n            $writer = [notation];\n            $send(p, 'command=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [($a = option['$[]'](\"critical\"), ($a === nil || $a == null) ? nil : $send($a, 'eval', [self.round_type]))];\n            $send(p, 'critical=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [($b = option['$[]'](\"fumble\"), ($b === nil || $b == null) ? nil : $send($b, 'eval', [self.round_type]))];\n            $send(p, 'fumble=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [($c = option['$[]'](\"dollar\"), ($c === nil || $c == null) ? nil : $send($c, 'eval', [self.round_type]))];\n            $send(p, 'dollar=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [modifier.$eval(self.round_type)];\n            $send(p, 'modify_number=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [target['$[]'](\"cmp_op\")];\n            $send(p, 'cmp_op=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            if (target['$[]'](\"target\")['$=='](\"?\")) {\n              \n              \n              $writer = [true];\n              $send(p, 'question_target=', Opal.to_a($writer));\n              $writer[$rb_minus($writer[\"length\"], 1)];;\n              \n              $writer = [0];\n              $send(p, 'target_number=', Opal.to_a($writer));\n              return $writer[$rb_minus($writer[\"length\"], 1)];;\n            } else {\n              \n              \n              $writer = [false];\n              $send(p, 'question_target=', Opal.to_a($writer));\n              $writer[$rb_minus($writer[\"length\"], 1)];;\n              \n              $writer = [($d = target['$[]'](\"target\"), ($d === nil || $d == null) ? nil : $send($d, 'eval', [self.round_type]))];\n              $send(p, 'target_number=', Opal.to_a($writer));\n              return $writer[$rb_minus($writer[\"length\"], 1)];;\n            };}, $$10.$$s = self, $$10.$$arity = 1, $$10))\n        }, $Parser_parsed$9.$$arity = 4);\n        \n        Opal.def(self, '$next_token', $Parser_next_token$11 = function $$next_token() {\n          var self = this;\n\n          return self.lexer.$next_token()\n        }, $Parser_next_token$11.$$arity = 0);\n        racc_action_table = [24, 6, 7, 16, 17, 20, 21, 16, 17, 23, 6, 7, 14, 36, 37, 31, 11, 12, 13, 14, 24, 2, 24, 36, 37, 20, 21, 20, 21, 23, 24, 23, 24, 41, 42, 20, 21, 20, 21, 23, 24, 23, 24, 36, 37, 20, 21, 20, 21, 23, 24, 23, 24, 36, 37, 20, 21, 20, 21, 23, 24, 23, 24, 36, 37, 20, 21, 20, 21, 23, 24, 23, 24, 36, 37, 20, 21, 20, 21, 23, 24, 23, 24, 36, 37, 20, 21, 20, 21, 23, 3, 23, 41, 42, 8, nil, nil, 45, 11, 12, 13, 14, 51, 49, 50, 52];\n        racc_action_check = [14, 2, 2, 9, 9, 14, 14, 5, 5, 14, 4, 4, 9, 18, 18, 14, 4, 4, 4, 4, 6, 0, 7, 25, 25, 6, 6, 7, 7, 6, 11, 7, 12, 30, 30, 11, 11, 12, 12, 11, 13, 12, 16, 32, 32, 13, 13, 16, 16, 13, 17, 16, 20, 34, 34, 17, 17, 20, 20, 17, 21, 20, 23, 35, 35, 21, 21, 23, 23, 21, 36, 23, 37, 46, 46, 36, 36, 37, 37, 36, 41, 37, 42, 47, 47, 41, 41, 42, 42, 41, 1, 42, 40, 40, 3, nil, nil, 40, 15, 15, 15, 15, 44, 44, 44, 44];\n        racc_action_pointer = [3, 90, -6, 94, 3, 0, 18, 20, nil, -4, nil, 28, 30, 38, -2, 85, 40, 48, 4, nil, 50, 58, nil, 60, nil, 14, nil, nil, nil, nil, 26, nil, 34, nil, 44, 54, 68, 70, nil, nil, 85, 78, 80, nil, 99, nil, 64, 74, nil, nil, nil, nil, nil];\n        racc_action_default = [-31, -31, -4, -31, -12, -4, -31, -31, 53, -12, -3, -31, -31, -31, -31, -12, -31, -31, -8, -20, -31, -31, -28, -31, -30, -9, -1, -5, -6, -7, -13, -14, -17, -2, -10, -11, -31, -31, -26, -27, -31, -31, -31, -18, -21, -29, -15, -16, -19, -22, -23, -24, -25];\n        racc_goto_table = [18, 25, 1, 27, 28, 29, 30, 48, nil, 10, 34, 35, 38, 39, 26, 40, 4, nil, nil, 15, 33, 5, nil, 9, nil, nil, nil, nil, 43, 44, nil, nil, nil, nil, nil, 46, 47];\n        racc_goto_check = [6, 6, 1, 5, 5, 5, 7, 8, nil, 4, 6, 6, 5, 5, 4, 7, 2, nil, nil, 2, 4, 3, nil, 3, nil, nil, nil, nil, 5, 5, nil, nil, nil, nil, nil, 6, 6];\n        racc_goto_pointer = [nil, 2, 14, 19, 5, -8, -6, -8, -37, nil];\n        racc_goto_default = [nil, nil, nil, nil, nil, 19, 32, nil, nil, 22];\n        racc_reduce_table = [0, 0, \"racc_error\", 4, 20, \"_reduce_1\", 4, 20, \"_reduce_2\", 3, 20, \"_reduce_3\", 0, 21, \"_reduce_4\", 3, 21, \"_reduce_5\", 3, 21, \"_reduce_6\", 3, 21, \"_reduce_7\", 2, 22, \"_reduce_8\", 2, 22, \"_reduce_9\", 3, 22, \"_reduce_10\", 3, 22, \"_reduce_11\", 0, 23, \"_reduce_12\", 2, 23, \"_reduce_13\", 2, 23, \"_reduce_14\", 3, 26, \"_reduce_15\", 3, 26, \"_reduce_16\", 1, 26, \"_reduce_none\", 3, 25, \"_reduce_18\", 4, 25, \"_reduce_19\", 1, 25, \"_reduce_none\", 0, 27, \"_reduce_21\", 1, 27, \"_reduce_22\", 1, 27, \"_reduce_23\", 1, 27, \"_reduce_24\", 1, 27, \"_reduce_25\", 2, 24, \"_reduce_26\", 2, 24, \"_reduce_27\", 1, 24, \"_reduce_none\", 3, 28, \"_reduce_29\", 1, 28, \"_reduce_30\"];\n        racc_reduce_n = 31;\n        racc_shift_n = 53;\n        racc_token_table = $hash(false, 0, \"error\", 1, \"NUMBER\", 2, \"R\", 3, \"U\", 4, \"C\", 5, \"F\", 6, \"PLUS\", 7, \"MINUS\", 8, \"ASTERISK\", 9, \"SLASH\", 10, \"PARENL\", 11, \"PARENR\", 12, \"AT\", 13, \"SHARP\", 14, \"DOLLAR\", 15, \"CMP_OP\", 16, \"QUESTION\", 17, \"NOTATION\", 18);\n        racc_nt_base = 19;\n        racc_use_result_var = true;\n        Opal.const_set($nesting[0], 'Racc_arg', [racc_action_table, racc_action_check, racc_action_default, racc_action_pointer, racc_goto_table, racc_goto_check, racc_goto_default, racc_goto_pointer, racc_nt_base, racc_reduce_table, racc_token_table, racc_shift_n, racc_reduce_n, racc_use_result_var]);\n        Opal.const_set($nesting[0], 'Racc_token_to_s_table', [\"$end\", \"error\", \"NUMBER\", \"R\", \"U\", \"C\", \"F\", \"PLUS\", \"MINUS\", \"ASTERISK\", \"SLASH\", \"PARENL\", \"PARENR\", \"AT\", \"SHARP\", \"DOLLAR\", \"CMP_OP\", \"QUESTION\", \"NOTATION\", \"$start\", \"expr\", \"option\", \"modifier\", \"target\", \"unary\", \"mul\", \"add\", \"round_type\", \"term\"]);\n        Opal.const_set($nesting[0], 'Racc_debug_parser', false);\n        \n        Opal.def(self, '$_reduce_1', $Parser__reduce_1$12 = function $$_reduce_1(val, _values, result) {\n          var $a, $b, self = this, notation = nil, option = nil, modifier = nil, target = nil;\n\n          \n          if ($truthy(self.modifier)) {\n          } else {\n            self.$raise($$($nesting, 'ParseError'))\n          };\n          $b = val, $a = Opal.to_ary($b), (notation = ($a[0] == null ? nil : $a[0])), (option = ($a[1] == null ? nil : $a[1])), (modifier = ($a[2] == null ? nil : $a[2])), (target = ($a[3] == null ? nil : $a[3])), $b;\n          result = self.$parsed(notation, option, modifier, target);\n          return result;\n        }, $Parser__reduce_1$12.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_2', $Parser__reduce_2$13 = function $$_reduce_2(val, _values, result) {\n          var $a, $b, self = this, notation = nil, modifier = nil, option = nil, target = nil;\n\n          \n          if ($truthy(self.modifier)) {\n          } else {\n            self.$raise($$($nesting, 'ParseError'))\n          };\n          $b = val, $a = Opal.to_ary($b), (notation = ($a[0] == null ? nil : $a[0])), (modifier = ($a[1] == null ? nil : $a[1])), (option = ($a[2] == null ? nil : $a[2])), (target = ($a[3] == null ? nil : $a[3])), $b;\n          result = self.$parsed(notation, option, modifier, target);\n          return result;\n        }, $Parser__reduce_2$13.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_3', $Parser__reduce_3$14 = function $$_reduce_3(val, _values, result) {\n          var $a, $b, self = this, notation = nil, option = nil, target = nil;\n\n          \n          $b = val, $a = Opal.to_ary($b), (notation = ($a[0] == null ? nil : $a[0])), (option = ($a[1] == null ? nil : $a[1])), (target = ($a[2] == null ? nil : $a[2])), $b;\n          result = self.$parsed(notation, option, $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'Number').$new(0), target);\n          return result;\n        }, $Parser__reduce_3$14.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_4', $Parser__reduce_4$15 = function $$_reduce_4(val, _values, result) {\n          var self = this;\n\n          \n          result = $hash2([], {});\n          return result;\n        }, $Parser__reduce_4$15.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_5', $Parser__reduce_5$16 = function $$_reduce_5(val, _values, result) {\n          var $a, $b, self = this, option = nil, _ = nil, term = nil, $ret_or_1 = nil, $writer = nil;\n\n          \n          $b = val, $a = Opal.to_ary($b), (option = ($a[0] == null ? nil : $a[0])), (_ = ($a[1] == null ? nil : $a[1])), (term = ($a[2] == null ? nil : $a[2])), $b;\n          if ($truthy((function() {if ($truthy(($ret_or_1 = self.critical))) {\n            return option['$[]'](\"critical\")['$nil?']()\n          } else {\n            return $ret_or_1\n          }; return nil; })())) {\n          } else {\n            self.$raise($$($nesting, 'ParseError'))\n          };\n          \n          $writer = [\"critical\", term];\n          $send(option, '[]=', Opal.to_a($writer));\n          $writer[$rb_minus($writer[\"length\"], 1)];;\n          result = option;\n          return result;\n        }, $Parser__reduce_5$16.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_6', $Parser__reduce_6$17 = function $$_reduce_6(val, _values, result) {\n          var $a, $b, self = this, option = nil, _ = nil, term = nil, $ret_or_2 = nil, $writer = nil;\n\n          \n          $b = val, $a = Opal.to_ary($b), (option = ($a[0] == null ? nil : $a[0])), (_ = ($a[1] == null ? nil : $a[1])), (term = ($a[2] == null ? nil : $a[2])), $b;\n          if ($truthy((function() {if ($truthy(($ret_or_2 = self.fumble))) {\n            return option['$[]'](\"fumble\")['$nil?']()\n          } else {\n            return $ret_or_2\n          }; return nil; })())) {\n          } else {\n            self.$raise($$($nesting, 'ParseError'))\n          };\n          \n          $writer = [\"fumble\", term];\n          $send(option, '[]=', Opal.to_a($writer));\n          $writer[$rb_minus($writer[\"length\"], 1)];;\n          result = option;\n          return result;\n        }, $Parser__reduce_6$17.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_7', $Parser__reduce_7$18 = function $$_reduce_7(val, _values, result) {\n          var $a, $b, self = this, option = nil, _ = nil, term = nil, $ret_or_3 = nil, $writer = nil;\n\n          \n          $b = val, $a = Opal.to_ary($b), (option = ($a[0] == null ? nil : $a[0])), (_ = ($a[1] == null ? nil : $a[1])), (term = ($a[2] == null ? nil : $a[2])), $b;\n          if ($truthy((function() {if ($truthy(($ret_or_3 = self.dollar))) {\n            return option['$[]'](\"dollar\")['$nil?']()\n          } else {\n            return $ret_or_3\n          }; return nil; })())) {\n          } else {\n            self.$raise($$($nesting, 'ParseError'))\n          };\n          \n          $writer = [\"dollar\", term];\n          $send(option, '[]=', Opal.to_a($writer));\n          $writer[$rb_minus($writer[\"length\"], 1)];;\n          result = option;\n          return result;\n        }, $Parser__reduce_7$18.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_8', $Parser__reduce_8$19 = function $$_reduce_8(val, _values, result) {\n          var self = this;\n\n          \n          result = val['$[]'](1);\n          return result;\n        }, $Parser__reduce_8$19.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_9', $Parser__reduce_9$20 = function $$_reduce_9(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'Negative').$new(val['$[]'](1));\n          return result;\n        }, $Parser__reduce_9$20.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_10', $Parser__reduce_10$21 = function $$_reduce_10(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'BinaryOp').$new(val['$[]'](0), \"+\", val['$[]'](2));\n          return result;\n        }, $Parser__reduce_10$21.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_11', $Parser__reduce_11$22 = function $$_reduce_11(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'BinaryOp').$new(val['$[]'](0), \"-\", val['$[]'](2));\n          return result;\n        }, $Parser__reduce_11$22.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_12', $Parser__reduce_12$23 = function $$_reduce_12(val, _values, result) {\n          var self = this;\n\n          \n          if ($truthy(self.allowed_cmp_op['$include?'](nil))) {\n          } else {\n            self.$raise($$($nesting, 'ParseError'))\n          };\n          result = $hash2([], {});\n          return result;\n        }, $Parser__reduce_12$23.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_13', $Parser__reduce_13$24 = function $$_reduce_13(val, _values, result) {\n          var $a, $b, self = this, cmp_op = nil, target = nil;\n\n          \n          $b = val, $a = Opal.to_ary($b), (cmp_op = ($a[0] == null ? nil : $a[0])), (target = ($a[1] == null ? nil : $a[1])), $b;\n          if ($truthy(self.allowed_cmp_op['$include?'](cmp_op))) {\n          } else {\n            self.$raise($$($nesting, 'ParseError'))\n          };\n          result = $hash2([\"cmp_op\", \"target\"], {\"cmp_op\": cmp_op, \"target\": target});\n          return result;\n        }, $Parser__reduce_13$24.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_14', $Parser__reduce_14$25 = function $$_reduce_14(val, _values, result) {\n          var self = this, cmp_op = nil;\n\n          \n          cmp_op = val['$[]'](0);\n          if ($truthy(self.question_target)) {\n          } else {\n            self.$raise($$($nesting, 'ParseError'))\n          };\n          if ($truthy(self.allowed_cmp_op['$include?'](cmp_op))) {\n          } else {\n            self.$raise($$($nesting, 'ParseError'))\n          };\n          result = $hash2([\"cmp_op\", \"target\"], {\"cmp_op\": cmp_op, \"target\": \"?\"});\n          return result;\n        }, $Parser__reduce_14$25.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_15', $Parser__reduce_15$26 = function $$_reduce_15(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'BinaryOp').$new(val['$[]'](0), \"+\", val['$[]'](2));\n          return result;\n        }, $Parser__reduce_15$26.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_16', $Parser__reduce_16$27 = function $$_reduce_16(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'BinaryOp').$new(val['$[]'](0), \"-\", val['$[]'](2));\n          return result;\n        }, $Parser__reduce_16$27.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_18', $Parser__reduce_18$28 = function $$_reduce_18(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'BinaryOp').$new(val['$[]'](0), \"*\", val['$[]'](2));\n          return result;\n        }, $Parser__reduce_18$28.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_19', $Parser__reduce_19$29 = function $$_reduce_19(val, _values, result) {\n          var self = this, divied_class = nil;\n\n          \n          divied_class = val['$[]'](3);\n          result = divied_class.$new(val['$[]'](0), val['$[]'](2));\n          return result;\n        }, $Parser__reduce_19$29.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_21', $Parser__reduce_21$30 = function $$_reduce_21(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'DivideWithGameSystemDefault');\n          return result;\n        }, $Parser__reduce_21$30.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_22', $Parser__reduce_22$31 = function $$_reduce_22(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'DivideWithCeil');\n          return result;\n        }, $Parser__reduce_22$31.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_23', $Parser__reduce_23$32 = function $$_reduce_23(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'DivideWithCeil');\n          return result;\n        }, $Parser__reduce_23$32.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_24', $Parser__reduce_24$33 = function $$_reduce_24(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'DivideWithRound');\n          return result;\n        }, $Parser__reduce_24$33.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_25', $Parser__reduce_25$34 = function $$_reduce_25(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'DivideWithFloor');\n          return result;\n        }, $Parser__reduce_25$34.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_26', $Parser__reduce_26$35 = function $$_reduce_26(val, _values, result) {\n          var self = this;\n\n          \n          result = val['$[]'](1);\n          return result;\n        }, $Parser__reduce_26$35.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_27', $Parser__reduce_27$36 = function $$_reduce_27(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'Negative').$new(val['$[]'](1));\n          return result;\n        }, $Parser__reduce_27$36.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_29', $Parser__reduce_29$37 = function $$_reduce_29(val, _values, result) {\n          var self = this;\n\n          \n          result = val['$[]'](1);\n          return result;\n        }, $Parser__reduce_29$37.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_30', $Parser__reduce_30$38 = function $$_reduce_30(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'Number').$new(val['$[]'](0));\n          return result;\n        }, $Parser__reduce_30$38.$$arity = 3);\n        return (Opal.def(self, '$_reduce_none', $Parser__reduce_none$39 = function $$_reduce_none(val, _values, result) {\n          var self = this;\n\n          return val['$[]'](0)\n        }, $Parser__reduce_none$39.$$arity = 3), nil) && '_reduce_none';\n      })($nesting[0], $$$($$($nesting, 'Racc'), 'Parser'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/deprecated/checker\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $send = Opal.send, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'Deprecated');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $parent_nesting) {\n        var self = $module($base, 'Checker');\n\n        var $nesting = [self].concat($parent_nesting), $Checker_check_result_legacy$1, $Checker_check_1D100$2, $Checker_check_1D20$3, $Checker_check_nD10$4, $Checker_check_2D6$5, $Checker_check_nD6$6;\n\n        \n        self.$private();\n        \n        Opal.def(self, '$check_result_legacy', $Checker_check_result_legacy$1 = function $$check_result_legacy(total, rand_results, cmp_op, target) {\n          var self = this, sides_list = nil, value_list = nil, dice_total = nil, ret = nil, $case = nil, $ret_or_1 = nil, $ret_or_2 = nil;\n\n          \n          sides_list = $send(rand_results, 'map', [], \"sides\".$to_proc());\n          value_list = $send(rand_results, 'map', [], \"value\".$to_proc());\n          dice_total = value_list.$sum();\n          ret = (function() {$case = sides_list;\n          if ([100]['$===']($case)) {return self.$check_1D100(total, dice_total, cmp_op, target)}\n          else if ([20]['$===']($case)) {return self.$check_1D20(total, dice_total, cmp_op, target)}\n          else if ([6, 6]['$===']($case)) {return self.$check_2D6(total, dice_total, value_list, cmp_op, target)}\n          else { return nil }})();\n          if ($truthy((function() {if ($truthy(($ret_or_1 = ret['$nil?']()))) {\n            return $ret_or_1\n          } else {\n            return ret['$empty?']()\n          }; return nil; })())) {\n          } else {\n            return $$($nesting, 'Result').$new(ret.$delete_prefix(\" ＞ \"))\n          };\n          ret = (function() {$case = sides_list.$uniq();\n          if ([10]['$===']($case)) {return self.$check_nD10(total, dice_total, value_list, cmp_op, target)}\n          else if ([6]['$===']($case)) {return self.$check_nD6(total, dice_total, value_list, cmp_op, target)}\n          else { return nil }})();\n          if ($truthy((function() {if ($truthy(($ret_or_2 = ret['$nil?']()))) {\n            return $ret_or_2\n          } else {\n            return ret['$empty?']()\n          }; return nil; })())) {\n          } else {\n            return $$($nesting, 'Result').$new(ret.$delete_prefix(\" ＞ \"))\n          };\n          return nil;\n        }, $Checker_check_result_legacy$1.$$arity = 4);\n        \n        Opal.def(self, '$check_1D100', $Checker_check_1D100$2 = function $$check_1D100(total, dice_total, cmp_op, target) {\n          var self = this;\n\n          return nil\n        }, $Checker_check_1D100$2.$$arity = 4);\n        \n        Opal.def(self, '$check_1D20', $Checker_check_1D20$3 = function $$check_1D20(total, dice_total, cmp_op, target) {\n          var self = this;\n\n          return nil\n        }, $Checker_check_1D20$3.$$arity = 4);\n        \n        Opal.def(self, '$check_nD10', $Checker_check_nD10$4 = function $$check_nD10(total, dice_total, dice_list, cmp_op, target) {\n          var self = this;\n\n          return nil\n        }, $Checker_check_nD10$4.$$arity = 5);\n        \n        Opal.def(self, '$check_2D6', $Checker_check_2D6$5 = function $$check_2D6(total, dice_total, dice_list, cmp_op, target) {\n          var self = this;\n\n          return nil\n        }, $Checker_check_2D6$5.$$arity = 5);\n        \n        Opal.def(self, '$check_nD6', $Checker_check_nD6$6 = function $$check_nD6(total, dice_total, dice_list, cmp_op, target) {\n          var self = this;\n\n          return nil\n        }, $Checker_check_nD6$6.$$arity = 5);\n      })($nesting[0], $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/base\"] = function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy, $send = Opal.send, $range = Opal.range, $writer = nil;\n\n  \n  self.$require(\"i18n\");\n  self.$require(\"i18n/backend/fallbacks\");\n  self.$require(\"bcdice/randomizer\");\n  self.$require(\"bcdice/dice_table\");\n  self.$require(\"bcdice/enum\");\n  self.$require(\"bcdice/translate\");\n  self.$require(\"bcdice/result\");\n  self.$require(\"bcdice/command/parser\");\n  self.$require(\"bcdice/deprecated/checker\");\n  (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $super, $parent_nesting) {\n      var self = $klass($base, $super, 'Base');\n\n      var $nesting = [self].concat($parent_nesting), $Base_initialize$7, $Base_sort_add_dice$ques$8, $Base_sort_barabara_dice$ques$9, $Base_enabled_d9$ques$10, $Base_enable_debug$11, $Base_eval$12, $Base_change_text$13, $Base_check_result$14, $Base_grich_text$15, $Base_eval_common_command$16, $Base_dice_command$18, $Base_eval_game_system_specific_command$20, $Base_result_ndx$21, $Base_result_1d100$22, $Base_result_1d20$23, $Base_result_nd10$24, $Base_result_2d6$25, $Base_result_nd6$26, $Base_get_table_by_2d6$27, $Base_get_table_by_1d6$28, $Base_get_table_by_nD6$29, $Base_get_table_by_nDx$30, $Base_get_table_by_1d3$31, $Base_get_table_by_d66_swap$32, $Base_get_table_by_d66$33, $Base_get_table_by_number$34, $Base_get_table_value$36, $Base_roll_tables$37, $Base_debug$38;\n\n      self.$$prototype.sort_add_dice = self.$$prototype.sort_barabara_dice = self.$$prototype.enabled_d9 = self.$$prototype.raw_input = self.$$prototype.randomizer = self.$$prototype.enabled_upcase_input = self.$$prototype.debug = nil;\n      \n      (function(self, $parent_nesting) {\n        var $nesting = [self].concat($parent_nesting), $register_prefix$1, $register_prefix_from_super_class$2, $prefixes_pattern$3, $command_pattern$4, $eval$6;\n\n        \n        self.$attr_reader(\"prefixes\");\n        \n        Opal.def(self, '$register_prefix', $register_prefix$1 = function $$register_prefix($a) {\n          var $post_args, prefixes, self = this, $ret_or_1 = nil;\n          if (self.prefixes == null) self.prefixes = nil;\n\n          \n          \n          $post_args = Opal.slice.call(arguments, 0, arguments.length);\n          \n          prefixes = $post_args;;\n          self.prefixes = (function() {if ($truthy(($ret_or_1 = self.prefixes))) {\n            return $ret_or_1\n          } else {\n            return []\n          }; return nil; })();\n          return self.prefixes.$concat(prefixes.$flatten());\n        }, $register_prefix$1.$$arity = -1);\n        \n        Opal.def(self, '$register_prefix_from_super_class', $register_prefix_from_super_class$2 = function $$register_prefix_from_super_class() {\n          var self = this;\n\n          return self.$register_prefix(self.$superclass().$prefixes())\n        }, $register_prefix_from_super_class$2.$$arity = 0);\n        \n        Opal.def(self, '$prefixes_pattern', $prefixes_pattern$3 = function $$prefixes_pattern() {\n          var self = this, $ret_or_2 = nil, $ret_or_3 = nil;\n          if (self.prefixes_pattern == null) self.prefixes_pattern = nil;\n          if (self.prefixes == null) self.prefixes = nil;\n\n          \n          self.prefixes_pattern = (function() {if ($truthy(($ret_or_2 = self.prefixes_pattern))) {\n            return $ret_or_2\n          } else {\n            return nil\n          }; return nil; })();\n          if ($truthy(self.prefixes_pattern)) {\n            return self.prefixes_pattern};\n          self.prefixes = (function() {if ($truthy(($ret_or_3 = self.prefixes))) {\n            return $ret_or_3\n          } else {\n            return []\n          }; return nil; })();\n          self.prefixes.$freeze();\n          return (self.prefixes_pattern = (function() {if ($truthy(self.prefixes['$empty?']())) {\n            return /(?!)/\n          } else {\n            return Opal.regexp([\"^(S)?(\", self.prefixes.$join(\"|\"), \")\"], 'i')\n          }; return nil; })().$freeze());\n        }, $prefixes_pattern$3.$$arity = 0);\n        \n        Opal.def(self, '$command_pattern', $command_pattern$4 = function $$command_pattern() {\n          var $$5, self = this, $ret_or_4 = nil, $ret_or_5 = nil, pattarns = nil;\n          if (self.command_pattern == null) self.command_pattern = nil;\n          if (self.prefixes == null) self.prefixes = nil;\n\n          \n          self.command_pattern = (function() {if ($truthy(($ret_or_4 = self.command_pattern))) {\n            return $ret_or_4\n          } else {\n            return nil\n          }; return nil; })();\n          if ($truthy(self.command_pattern)) {\n            return self.command_pattern};\n          self.prefixes = (function() {if ($truthy(($ret_or_5 = self.prefixes))) {\n            return $ret_or_5\n          } else {\n            return []\n          }; return nil; })();\n          self.prefixes.$freeze();\n          pattarns = $rb_plus($send($$$($$($nesting, 'CommonCommand'), 'COMMANDS'), 'map', [], ($$5 = function(c){var self = $$5.$$s == null ? this : $$5.$$s;\n\n          \n            \n            if (c == null) {\n              c = nil;\n            };\n            return $$$(c, 'PREFIX_PATTERN').$source();}, $$5.$$s = self, $$5.$$arity = 1, $$5)), self.prefixes);\n          return (self.command_pattern = Opal.regexp([\"^S?(\", pattarns.$join(\"|\"), \")\"], 'i').$freeze());\n        }, $command_pattern$4.$$arity = 0);\n        return (Opal.def(self, '$eval', $eval$6 = function(command) {\n          var self = this;\n\n          return self.$new(command).$eval()\n        }, $eval$6.$$arity = 1), nil) && 'eval';\n      })(Opal.get_singleton_class(self), $nesting);\n      self.$include($$($nesting, 'Translate'));\n      self.$include($$$($$($nesting, 'Deprecated'), 'Checker'));\n      \n      Opal.def(self, '$initialize', $Base_initialize$7 = function $$initialize(command) {\n        var self = this;\n\n        \n        self.raw_input = command;\n        self.sort_add_dice = false;\n        self.sort_barabara_dice = false;\n        self.d66_sort_type = $$$($$($nesting, 'D66SortType'), 'NO_SORT');\n        self.enabled_d9 = false;\n        self.round_type = $$$($$($nesting, 'RoundType'), 'FLOOR');\n        self.sides_implicit_d = 6;\n        self.upper_dice_reroll_threshold = nil;\n        self.reroll_dice_reroll_threshold = nil;\n        self.default_cmp_op = nil;\n        self.default_target_number = nil;\n        self.enabled_upcase_input = true;\n        self.locale = \"ja_jp\";\n        self.randomizer = $$$($$($nesting, 'BCDice'), 'Randomizer').$new();\n        return (self.debug = false);\n      }, $Base_initialize$7.$$arity = 1);\n      self.$attr_accessor(\"randomizer\");\n      self.$attr_reader(\"d66_sort_type\");\n      self.$attr_reader(\"round_type\");\n      self.$attr_reader(\"sides_implicit_d\");\n      self.$attr_reader(\"upper_dice_reroll_threshold\");\n      self.$attr_reader(\"reroll_dice_reroll_threshold\");\n      self.$attr_reader(\"default_cmp_op\");\n      self.$attr_reader(\"default_target_number\");\n      \n      Opal.def(self, '$sort_add_dice?', $Base_sort_add_dice$ques$8 = function() {\n        var self = this;\n\n        return self.sort_add_dice\n      }, $Base_sort_add_dice$ques$8.$$arity = 0);\n      \n      Opal.def(self, '$sort_barabara_dice?', $Base_sort_barabara_dice$ques$9 = function() {\n        var self = this;\n\n        return self.sort_barabara_dice\n      }, $Base_sort_barabara_dice$ques$9.$$arity = 0);\n      \n      Opal.def(self, '$enabled_d9?', $Base_enabled_d9$ques$10 = function() {\n        var self = this;\n\n        return self.enabled_d9\n      }, $Base_enabled_d9$ques$10.$$arity = 0);\n      \n      Opal.def(self, '$enable_debug', $Base_enable_debug$11 = function $$enable_debug() {\n        var self = this;\n\n        return (self.debug = true)\n      }, $Base_enable_debug$11.$$arity = 0);\n      \n      Opal.def(self, '$eval', $Base_eval$12 = function() {\n        var self = this, command = nil, result = nil, $ret_or_6 = nil, $writer = nil;\n\n        \n        command = $$$($$($nesting, 'BCDice'), 'Preprocessor').$process(self.raw_input, self);\n        result = (function() {if ($truthy(($ret_or_6 = self.$dice_command(command)))) {\n          return $ret_or_6\n        } else {\n          return self.$eval_common_command(self.raw_input)\n        }; return nil; })();\n        if ($truthy(result)) {\n        } else {\n          return nil\n        };\n        \n        $writer = [self.randomizer.$rand_results()];\n        $send(result, 'rands=', Opal.to_a($writer));\n        $writer[$rb_minus($writer[\"length\"], 1)];;\n        \n        $writer = [self.randomizer.$detailed_rand_results()];\n        $send(result, 'detailed_rands=', Opal.to_a($writer));\n        $writer[$rb_minus($writer[\"length\"], 1)];;\n        return result;\n      }, $Base_eval$12.$$arity = 0);\n      \n      Opal.def(self, '$change_text', $Base_change_text$13 = function $$change_text(string) {\n        var self = this;\n\n        return string\n      }, $Base_change_text$13.$$arity = 1);\n      \n      Opal.def(self, '$check_result', $Base_check_result$14 = function $$check_result(total, rand_results, cmp_op, target) {\n        var self = this, ret = nil, sides_list = nil, value_list = nil, dice_total = nil, $case = nil;\n\n        \n        ret = self.$check_result_legacy(total, rand_results, cmp_op, target);\n        if ($truthy(ret)) {\n          return ret};\n        sides_list = $send(rand_results, 'map', [], \"sides\".$to_proc());\n        value_list = $send(rand_results, 'map', [], \"value\".$to_proc());\n        dice_total = value_list.$sum();\n        ret = (function() {$case = sides_list;\n        if ([100]['$===']($case)) {return self.$result_1d100(total, dice_total, cmp_op, target)}\n        else if ([20]['$===']($case)) {return self.$result_1d20(total, dice_total, cmp_op, target)}\n        else if ([6, 6]['$===']($case)) {return self.$result_2d6(total, dice_total, value_list, cmp_op, target)}\n        else { return nil }})();\n        if (ret['$==']($$($nesting, 'Result').$nothing())) {\n          return nil};\n        if ($truthy(ret)) {\n          return ret};\n        ret = (function() {$case = sides_list.$uniq();\n        if ([10]['$===']($case)) {return self.$result_nd10(total, dice_total, value_list, cmp_op, target)}\n        else if ([6]['$===']($case)) {return self.$result_nd6(total, dice_total, value_list, cmp_op, target)}\n        else { return nil }})();\n        if (ret['$==']($$($nesting, 'Result').$nothing())) {\n          return nil};\n        if ($truthy(ret)) {\n          return ret};\n        return self.$result_ndx(total, cmp_op, target);\n      }, $Base_check_result$14.$$arity = 4);\n      \n      Opal.def(self, '$grich_text', $Base_grich_text$15 = function $$grich_text(count_one, dice_total_count, count_success) {\n        var self = this;\n\n        return nil\n      }, $Base_grich_text$15.$$arity = 3);\n      self.$private();\n      \n      Opal.def(self, '$eval_common_command', $Base_eval_common_command$16 = function $$eval_common_command(command) {try {\n\n        var $$17, self = this;\n\n        \n        command = self.$change_text(command);\n        $send($$$($$($nesting, 'CommonCommand'), 'COMMANDS'), 'each', [], ($$17 = function(klass){var self = $$17.$$s == null ? this : $$17.$$s, result = nil;\n          if (self.randomizer == null) self.randomizer = nil;\n\n        \n          \n          if (klass == null) {\n            klass = nil;\n          };\n          result = klass.$eval(command, self, self.randomizer);\n          if ($truthy(result)) {\n            Opal.ret(result)\n          } else {\n            return nil\n          };}, $$17.$$s = self, $$17.$$arity = 1, $$17));\n        return nil;\n        } catch ($returner) { if ($returner === Opal.returner) { return $returner.$v } throw $returner; }\n      }, $Base_eval_common_command$16.$$arity = 1);\n      \n      Opal.def(self, '$dice_command', $Base_dice_command$18 = function $$dice_command(command) {\n        var $$19, self = this, m = nil, secret = nil, output = nil, $writer = nil, $ret_or_7 = nil, $ret_or_8 = nil, $ret_or_9 = nil;\n\n        \n        if ($truthy(self.enabled_upcase_input)) {\n          command = command.$upcase()};\n        m = self.$class().$prefixes_pattern().$match(command);\n        if ($truthy(m)) {\n        } else {\n          return nil\n        };\n        secret = m['$[]'](1)['$nil?']()['$!']();\n        if ($truthy(secret)) {\n          command = command['$[]']($range(1, -1, false))};\n        output = self.$eval_game_system_specific_command(command);\n        if ($truthy(output['$is_a?']($$($nesting, 'Result')))) {\n          \n          \n          $writer = [(function() {if ($truthy(($ret_or_7 = output['$secret?']()))) {\n            return $ret_or_7\n          } else {\n            return secret\n          }; return nil; })()];\n          $send(output, 'secret=', Opal.to_a($writer));\n          $writer[$rb_minus($writer[\"length\"], 1)];;\n          return output;\n        } else if ($truthy((function() {if ($truthy(($ret_or_8 = (function() {if ($truthy(($ret_or_9 = output['$nil?']()))) {\n          return $ret_or_9\n        } else {\n          return output['$empty?']()\n        }; return nil; })()))) {\n          return $ret_or_8\n        } else {\n          return output['$=='](\"1\")\n        }; return nil; })())) {\n          return nil\n        } else {\n          return $send($$($nesting, 'Result').$new(), 'tap', [], ($$19 = function(r){var self = $$19.$$s == null ? this : $$19.$$s;\n\n          \n            \n            if (r == null) {\n              r = nil;\n            };\n            \n            $writer = [output.$to_s()];\n            $send(r, 'text=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [secret];\n            $send(r, 'secret=', Opal.to_a($writer));\n            return $writer[$rb_minus($writer[\"length\"], 1)];;}, $$19.$$s = self, $$19.$$arity = 1, $$19))\n        };\n      }, $Base_dice_command$18.$$arity = 1);\n      \n      Opal.def(self, '$eval_game_system_specific_command', $Base_eval_game_system_specific_command$20 = function $$eval_game_system_specific_command(command) {\n        var self = this;\n\n        return nil\n      }, $Base_eval_game_system_specific_command$20.$$arity = 1);\n      \n      Opal.def(self, '$result_ndx', $Base_result_ndx$21 = function $$result_ndx(total, cmp_op, target) {\n        var self = this;\n\n        if ($truthy(target['$is_a?']($$($nesting, 'String')))) {\n          return nil\n        } else if ($truthy(total.$send(cmp_op, target))) {\n          return $$($nesting, 'Result').$success(self.$translate(\"success\"))\n        } else {\n          return $$($nesting, 'Result').$failure(self.$translate(\"failure\"))\n        }\n      }, $Base_result_ndx$21.$$arity = 3);\n      \n      Opal.def(self, '$result_1d100', $Base_result_1d100$22 = function $$result_1d100(total, dice_total, cmp_op, target) {\n        var self = this;\n\n        return nil\n      }, $Base_result_1d100$22.$$arity = 4);\n      \n      Opal.def(self, '$result_1d20', $Base_result_1d20$23 = function $$result_1d20(total, dice_total, cmp_op, target) {\n        var self = this;\n\n        return nil\n      }, $Base_result_1d20$23.$$arity = 4);\n      \n      Opal.def(self, '$result_nd10', $Base_result_nd10$24 = function $$result_nd10(total, dice_total, value_list, cmp_op, target) {\n        var self = this;\n\n        return nil\n      }, $Base_result_nd10$24.$$arity = 5);\n      \n      Opal.def(self, '$result_2d6', $Base_result_2d6$25 = function $$result_2d6(total, dice_total, value_list, cmp_op, target) {\n        var self = this;\n\n        return nil\n      }, $Base_result_2d6$25.$$arity = 5);\n      \n      Opal.def(self, '$result_nd6', $Base_result_nd6$26 = function $$result_nd6(total, dice_total, value_list, cmp_op, target) {\n        var self = this;\n\n        return nil\n      }, $Base_result_nd6$26.$$arity = 5);\n      \n      Opal.def(self, '$get_table_by_2d6', $Base_get_table_by_2d6$27 = function $$get_table_by_2d6(table) {\n        var self = this;\n\n        return self.$get_table_by_nD6(table, 2)\n      }, $Base_get_table_by_2d6$27.$$arity = 1);\n      \n      Opal.def(self, '$get_table_by_1d6', $Base_get_table_by_1d6$28 = function $$get_table_by_1d6(table) {\n        var self = this;\n\n        return self.$get_table_by_nD6(table, 1)\n      }, $Base_get_table_by_1d6$28.$$arity = 1);\n      \n      Opal.def(self, '$get_table_by_nD6', $Base_get_table_by_nD6$29 = function $$get_table_by_nD6(table, count) {\n        var self = this;\n\n        return self.$get_table_by_nDx(table, count, 6)\n      }, $Base_get_table_by_nD6$29.$$arity = 2);\n      \n      Opal.def(self, '$get_table_by_nDx', $Base_get_table_by_nDx$30 = function $$get_table_by_nDx(table, count, diceType) {\n        var self = this, num = nil, text = nil;\n\n        \n        num = self.randomizer.$roll_sum(count, diceType);\n        text = self.$get_table_value(table['$[]']($rb_minus(num, count)));\n        if ($truthy(text['$nil?']())) {\n          return [\"1\", 0]};\n        return [text, num];\n      }, $Base_get_table_by_nDx$30.$$arity = 3);\n      \n      Opal.def(self, '$get_table_by_1d3', $Base_get_table_by_1d3$31 = function $$get_table_by_1d3(table) {\n        var self = this, count = nil, num = nil, index = nil, text = nil;\n\n        \n        self.$debug(\"get_table_by_1d3\");\n        count = 1;\n        num = self.randomizer.$roll_sum(count, 6);\n        self.$debug(\"num\", num);\n        index = $rb_divide($rb_minus(num, 1), 2).$to_i();\n        self.$debug(\"index\", index);\n        text = table['$[]'](index);\n        if ($truthy(text['$nil?']())) {\n          return [\"1\", 0]};\n        return [text, num];\n      }, $Base_get_table_by_1d3$31.$$arity = 1);\n      \n      Opal.def(self, '$get_table_by_d66_swap', $Base_get_table_by_d66_swap$32 = function $$get_table_by_d66_swap(table) {\n        var self = this, number = nil;\n\n        \n        number = self.randomizer.$roll_d66($$$($$($nesting, 'D66SortType'), 'ASC'));\n        return [self.$get_table_by_number(number, table), number];\n      }, $Base_get_table_by_d66_swap$32.$$arity = 1);\n      \n      Opal.def(self, '$get_table_by_d66', $Base_get_table_by_d66$33 = function $$get_table_by_d66(table) {\n        var self = this, dice1 = nil, dice2 = nil, num = nil, text = nil, indexText = nil;\n\n        \n        dice1 = self.randomizer.$roll_once(6);\n        dice2 = self.randomizer.$roll_once(6);\n        num = $rb_plus($rb_times($rb_minus(dice1, 1), 6), $rb_minus(dice2, 1));\n        text = table['$[]'](num);\n        indexText = \"\" + (dice1) + (dice2);\n        if ($truthy(text['$nil?']())) {\n          return [\"1\", indexText]};\n        return [text, indexText];\n      }, $Base_get_table_by_d66$33.$$arity = 1);\n      \n      Opal.def(self, '$get_table_by_number', $Base_get_table_by_number$34 = function $$get_table_by_number(index, table, default$) {try {\n\n        var $$35, self = this;\n\n        \n        \n        if (default$ == null) {\n          default$ = \"1\";\n        };\n        $send(table, 'each', [], ($$35 = function(item){var self = $$35.$$s == null ? this : $$35.$$s, number = nil;\n\n        \n          \n          if (item == null) {\n            item = nil;\n          };\n          number = item['$[]'](0);\n          if ($truthy($rb_ge(number, index))) {\n            Opal.ret(self.$get_table_value(item['$[]'](1)))\n          } else {\n            return nil\n          };}, $$35.$$s = self, $$35.$$arity = 1, $$35));\n        return self.$get_table_value(default$);\n        } catch ($returner) { if ($returner === Opal.returner) { return $returner.$v } throw $returner; }\n      }, $Base_get_table_by_number$34.$$arity = -3);\n      \n      Opal.def(self, '$get_table_value', $Base_get_table_value$36 = function $$get_table_value(data) {\n        var self = this;\n\n        \n        if ($truthy(data['$is_a?']($$($nesting, 'Proc')))) {\n          return data.$call()};\n        return data;\n      }, $Base_get_table_value$36.$$arity = 1);\n      \n      Opal.def(self, '$roll_tables', $Base_roll_tables$37 = function $$roll_tables(command, tables) {\n        var self = this, table = nil;\n\n        \n        table = tables['$[]'](command);\n        if ($truthy(table)) {\n        } else {\n          return nil\n        };\n        return table.$roll(self.randomizer).$to_s();\n      }, $Base_roll_tables$37.$$arity = 2);\n      return (Opal.def(self, '$debug', $Base_debug$38 = function $$debug(target, $a) {\n        var $post_args, values, $$39, self = this, targetStr = nil, valueStrs = nil;\n\n        \n        \n        $post_args = Opal.slice.call(arguments, 1, arguments.length);\n        \n        values = $post_args;;\n        if ($truthy(self.debug)) {\n        } else {\n          return nil\n        };\n        targetStr = (function() {if ($truthy(target['$is_a?']($$($nesting, 'String')))) {\n          return target\n        } else {\n          return target.$inspect()\n        }; return nil; })();\n        if ($truthy(values['$empty?']())) {\n          return self.$warn(targetStr)\n        } else {\n          \n          valueStrs = $send(values, 'map', [], ($$39 = function(value){var self = $$39.$$s == null ? this : $$39.$$s;\n\n          \n            \n            if (value == null) {\n              value = nil;\n            };\n            if ($truthy(value['$is_a?']($$($nesting, 'String')))) {\n              return \"\" + \"\\\"\" + (value) + \"\\\"\"\n            } else {\n              return value.$inspect()\n            };}, $$39.$$s = self, $$39.$$arity = 1, $$39));\n          return self.$warn(\"\" + (targetStr) + \": \" + (valueStrs.$join(\", \")));\n        };\n      }, $Base_debug$38.$$arity = -2), nil) && 'debug';\n    })($nesting[0], null, $nesting)\n  })($nesting[0], $nesting);\n  $$$($$$($$($nesting, 'I18n'), 'Backend'), 'Simple').$include($$$($$$($$($nesting, 'I18n'), 'Backend'), 'Fallbacks'));\n  $$($nesting, 'I18n').$load_path()['$<<']($$($nesting, 'Dir')['$[]']($$($nesting, 'File').$join(self.$__dir__(), \"../../i18n/**/*.yml\")));\n  \n  $writer = [\"ja_jp\"];\n  $send($$($nesting, 'I18n'), 'default_locale=', Opal.to_a($writer));\n  $writer[$rb_minus($writer[\"length\"], 1)];;\n  \n  $writer = [[\"ja_jp\"]];\n  $send($$($nesting, 'I18n').$fallbacks(), 'defaults=', Opal.to_a($writer));\n  return $writer[$rb_minus($writer[\"length\"], 1)];;\n};\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $truthy = Opal.truthy, $send = Opal.send, $hash2 = Opal.hash2;\n\n  \n  self.$require(\"bcdice/base\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'MagicaLogia');\n\n        var $nesting = [self].concat($parent_nesting), $MagicaLogia_initialize$1, $MagicaLogia_result_2d6$2, $MagicaLogia_eval_game_system_specific_command$3, $MagicaLogia_gain_magic_element$4;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"MagicaLogia\");\n        Opal.const_set($nesting[0], 'NAME', \"マギカロギア\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"まきかろきあ\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・判定\\n\" + \"スペシャル／ファンブル／成功／失敗を判定\\n\" + \"・各種表\\n\" + \"経歴表　BGT/初期アンカー表　DAT/運命属性表　FAT\\n\" + \"願い表　WIT/プライズ表　PT\\n\" + \"時の流れ表　TPT/大判時の流れ表　TPTB\\n\" + \"事件表　AT\\n\" + \"ファンブル表　FT／変調表　WT\\n\" + \"運命変転表　FCT\\n\" + \"　典型的災厄 TCT／物理的災厄 PCT／精神的災厄 MCT／狂気的災厄 ICT\\n\" + \"　社会的災厄 SCT／超常的災厄 XCT／不思議系災厄 WCT／コミカル系災厄 CCT\\n\" + \"　魔法使いの災厄 MGCT\\n\" + \"シーン表　ST／大判シーン表　STB\\n\" + \"　極限環境 XEST／内面世界 IWST／魔法都市 MCST\\n\" + \"　死後世界 WDST／迷宮世界 LWST\\n\" + \"　魔法書架 MBST／魔法学院 MAST／クレドの塔 TCST\\n\" + \"　並行世界 PWST／終末　　 PAST／異世界酒場 GBST\\n\" + \"　ほしかげ SLST／旧図書館 OLST\\n\" + \"世界法則追加表 WLAT/さまよう怪物表 WMT\\n\" + \"ランダム分野表　RCT\\n\" + \"ランダム特技表　RTT\\n\" + \"　星分野ランダム特技表  RTS, RTT1\\n\" + \"　獣分野ランダム特技表  RTB, RTT2\\n\" + \"　力分野ランダム特技表  RTF, RTT3\\n\" + \"　歌分野ランダム特技表  RTP, RTT4\\n\" + \"　夢分野ランダム特技表  RTD, RTT5\\n\" + \"　闇分野ランダム特技表  RTN, RTT6\\n\" + \"ブランク秘密表　BST/\\n\" + \"　宿敵表　MIT/謀略表　MOT/因縁表　MAT\\n\" + \"　奇人表　MUT/力場表　MFT/同盟表　MLT\\n\" + \"落花表　FFT\\n\" + \"その後表 FLT\\n\" + \"・D66ダイスあり\\n\");\n        \n        Opal.def(self, '$initialize', $MagicaLogia_initialize$1 = function $$initialize(command) {\n          var $iter = $MagicaLogia_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $MagicaLogia_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $MagicaLogia_initialize$1, false, true), 'initialize', [command], null);\n          self.sort_add_dice = true;\n          self.sort_barabara_dice = true;\n          return (self.d66_sort_type = $$$($$($nesting, 'D66SortType'), 'ASC'));\n        }, $MagicaLogia_initialize$1.$$arity = 1);\n        \n        Opal.def(self, '$result_2d6', $MagicaLogia_result_2d6$2 = function $$result_2d6(total, dice_total, dice_list, cmp_op, target) {\n          var self = this, result = nil, $writer = nil;\n\n          \n          if (target['$=='](\"?\")) {\n            return nil};\n          if (cmp_op['$=='](\">=\")) {\n          } else {\n            return nil\n          };\n          result = (function() {if ($truthy($rb_le(dice_total, 2))) {\n            return $$($nesting, 'Result').$fumble(self.$translate(\"fumble\"))\n          } else if ($truthy($rb_ge(dice_total, 12))) {\n            return $$($nesting, 'Result').$critical(self.$translate(\"MagicaLogia.special\"))\n          } else if ($truthy($rb_ge(total, target))) {\n            return $$($nesting, 'Result').$success(self.$translate(\"success\"))\n          } else {\n            return $$($nesting, 'Result').$failure(self.$translate(\"failure\"))\n          }; return nil; })();\n          \n          $writer = [$rb_plus(result.$text(), self.$gain_magic_element(dice_list['$[]'](0), dice_list['$[]'](1)))];\n          $send(result, 'text=', Opal.to_a($writer));\n          $writer[$rb_minus($writer[\"length\"], 1)];;\n          return result;\n        }, $MagicaLogia_result_2d6$2.$$arity = 5);\n        \n        Opal.def(self, '$eval_game_system_specific_command', $MagicaLogia_eval_game_system_specific_command$3 = function $$eval_game_system_specific_command(command) {\n          var self = this, $ret_or_1 = nil;\n\n          if ($truthy(($ret_or_1 = $$$(self.$class(), 'SKILL_TABLE').$roll_command(self.randomizer, command)))) {\n            return $ret_or_1\n          } else {\n            return self.$roll_tables(command, $$$(self.$class(), 'TABLES'))\n          }\n        }, $MagicaLogia_eval_game_system_specific_command$3.$$arity = 1);\n        self.$private();\n        \n        Opal.def(self, '$gain_magic_element', $MagicaLogia_gain_magic_element$4 = function $$gain_magic_element(dice1, dice2) {\n          var self = this, element = nil;\n\n          \n          if (dice1['$=='](dice2)) {\n          } else {\n            return \"\"\n          };\n          element = self.$translate(\"MagicaLogia.elements.items\")['$[]']($rb_minus(dice1, 1));\n          return $rb_plus(\" ＞ \", self.$format(self.$translate(\"MagicaLogia.elements.format\"), $hash2([\"text\"], {\"text\": element})));\n        }, $MagicaLogia_gain_magic_element$4.$$arity = 2);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'SkillExpandTable');\n\n          var $nesting = [self].concat($parent_nesting), $SkillExpandTable_from_i18n$5, $SkillExpandTable_initialize$6, $SkillExpandTable_roll$7, $SkillExpandTable_expand$8, $SkillExpandTable_roll_skill$10;\n\n          self.$$prototype.times = self.$$prototype.sides = self.$$prototype.items = self.$$prototype.name = self.$$prototype.skill_table = nil;\n          \n          Opal.defs(self, '$from_i18n', $SkillExpandTable_from_i18n$5 = function $$from_i18n(key, locale, skill_table) {\n            var self = this, table = nil;\n\n            \n            table = $$($nesting, 'I18n').$t(key, $hash2([\"locale\", \"raise\"], {\"locale\": locale, \"raise\": false}));\n            return self.$new(table['$[]'](\"name\"), table['$[]'](\"type\"), table['$[]'](\"items\"), skill_table);\n          }, $SkillExpandTable_from_i18n$5.$$arity = 3);\n          \n          Opal.def(self, '$initialize', $SkillExpandTable_initialize$6 = function $$initialize(name, type, items, skill_table) {\n            var self = this, m = nil;\n\n            \n            self.name = name;\n            self.items = items.$freeze();\n            self.skill_table = skill_table;\n            m = /(\\d+)D(\\d+)/i.$match(type);\n            if ($truthy(m)) {\n            } else {\n              self.$raise($$($nesting, 'ArgumentError'), \"\" + \"Unexpected table type: \" + (type))\n            };\n            self.times = m['$[]'](1).$to_i();\n            return (self.sides = m['$[]'](2).$to_i());\n          }, $SkillExpandTable_initialize$6.$$arity = 4);\n          \n          Opal.def(self, '$roll', $SkillExpandTable_roll$7 = function $$roll(randomizer) {\n            var self = this, value = nil, text = nil;\n\n            \n            value = randomizer.$roll_sum(self.times, self.sides);\n            text = self.$expand(self.items['$[]']($rb_minus(value, self.times)), randomizer);\n            return $$$($$($nesting, 'DiceTable'), 'RollResult').$new(self.name, value, text);\n          }, $SkillExpandTable_roll$7.$$arity = 1);\n          self.$private();\n          \n          Opal.def(self, '$expand', $SkillExpandTable_expand$8 = function $$expand(chosen, randomizer) {\n            var $$9, self = this;\n\n            return $send(chosen, 'gsub', [/%{([a-z]+)}/], ($$9 = function(){var self = $$9.$$s == null ? this : $$9.$$s, m = nil, type = nil;\n\n            \n              m = $$($nesting, 'Regexp').$last_match();\n              type = m['$[]'](1).$to_sym();\n              return self.$roll_skill(type, randomizer);}, $$9.$$s = self, $$9.$$arity = 0, $$9))\n          }, $SkillExpandTable_expand$8.$$arity = 2);\n          Opal.const_set($nesting[0], 'CATEGORIES', [\"star\", \"beast\", \"force\", \"poem\", \"dream\", \"night\"].$freeze());\n          return (Opal.def(self, '$roll_skill', $SkillExpandTable_roll_skill$10 = function $$roll_skill(type, randomizer) {\n            var self = this, index = nil;\n\n            \n            if (type['$=='](\"skill\")) {\n              return self.skill_table.$roll_skill(randomizer)};\n            if (type['$=='](\"element\")) {\n              return self.skill_table.$roll_category(randomizer)};\n            index = $$($nesting, 'CATEGORIES').$index(type);\n            if ($truthy(index)) {\n            } else {\n              self.$raise($$($nesting, 'ArgumentError'))\n            };\n            return self.skill_table.$categories()['$[]'](index).$roll(randomizer).$name();\n          }, $SkillExpandTable_roll_skill$10.$$arity = 2), nil) && 'roll_skill';\n        })($nesting[0], null, $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'FallenAfterTable');\n\n          var $nesting = [self].concat($parent_nesting), $FallenAfterTable_from_i18n$11, $FallenAfterTable_initialize$12, $FallenAfterTable_roll$13;\n\n          self.$$prototype.lower = self.$$prototype.higher = self.$$prototype.name = nil;\n          \n          Opal.defs(self, '$from_i18n', $FallenAfterTable_from_i18n$11 = function $$from_i18n(key, locale) {\n            var self = this, table = nil;\n\n            \n            table = $$($nesting, 'I18n').$t(key, $hash2([\"locale\", \"raise\"], {\"locale\": locale, \"raise\": true}));\n            return self.$new(table['$[]'](\"name\"), table['$[]'](\"items_lower\"), table['$[]'](\"items_higher\"));\n          }, $FallenAfterTable_from_i18n$11.$$arity = 2);\n          \n          Opal.def(self, '$initialize', $FallenAfterTable_initialize$12 = function $$initialize(name, items_lower, items_higher) {\n            var self = this;\n\n            \n            self.name = name;\n            self.lower = items_lower;\n            return (self.higher = items_higher);\n          }, $FallenAfterTable_initialize$12.$$arity = 3);\n          return (Opal.def(self, '$roll', $FallenAfterTable_roll$13 = function $$roll(randomizer) {\n            var $a, $b, self = this, val1 = nil, val2 = nil, table = nil;\n\n            \n            $b = randomizer.$roll_barabara(2, 6), $a = Opal.to_ary($b), (val1 = ($a[0] == null ? nil : $a[0])), (val2 = ($a[1] == null ? nil : $a[1])), $b;\n            table = (function() {if ($truthy($rb_le(val1, 3))) {\n              return self.lower\n            } else {\n              return self.higher\n            }; return nil; })();\n            return \"\" + (self.name) + \"(\" + (val1) + \",\" + (val2) + \") ＞ \" + (table['$[]']($rb_minus(val2, 1)));\n          }, $FallenAfterTable_roll$13.$$arity = 1), nil) && 'roll';\n        })($nesting[0], null, $nesting);\n        (function(self, $parent_nesting) {\n          var $nesting = [self].concat($parent_nesting), $translate_skill_table$14, $translate_tables$15;\n\n          \n          self.$private();\n          \n          Opal.def(self, '$translate_skill_table', $translate_skill_table$14 = function $$translate_skill_table(locale) {\n            var self = this;\n\n            return $$$($$($nesting, 'DiceTable'), 'SaiFicSkillTable').$from_i18n(\"MagicaLogia.skill_table\", locale, $hash2([\"rttn\"], {\"rttn\": [\"RTS\", \"RTB\", \"RTF\", \"RTP\", \"RTD\", \"RTN\"]}))\n          }, $translate_skill_table$14.$$arity = 1);\n          return (Opal.def(self, '$translate_tables', $translate_tables$15 = function $$translate_tables(locale, skill_table) {\n            var self = this, inveterate_enemy_table = nil, conspiracy_table = nil, fate_table = nil, cueball_table = nil, force_field_table = nil, alliance_table = nil;\n\n            \n            inveterate_enemy_table = $$($nesting, 'SkillExpandTable').$from_i18n(\"MagicaLogia.inveterate_enemy_table\", locale, skill_table);\n            conspiracy_table = $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"MagicaLogia.conspiracy_table\", locale);\n            fate_table = $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"MagicaLogia.fate_table\", locale);\n            cueball_table = $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"MagicaLogia.cueball_table\", locale);\n            force_field_table = $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"MagicaLogia.force_field_table\", locale);\n            alliance_table = $$($nesting, 'SkillExpandTable').$from_i18n(\"MagicaLogia.alliance_table\", locale, skill_table);\n            return $hash2([\"TPT\", \"ST\", \"FT\", \"WT\", \"FCT\", \"AT\", \"BGT\", \"DAT\", \"FAT\", \"WIT\", \"TCT\", \"PCT\", \"MCT\", \"ICT\", \"SCT\", \"XCT\", \"WCT\", \"CCT\", \"MIT\", \"MOT\", \"MAT\", \"MUT\", \"MFT\", \"MLT\", \"BST\", \"PT\", \"XEST\", \"IWST\", \"MCST\", \"WDST\", \"LWST\", \"STB\", \"MGCT\", \"MBST\", \"MAST\", \"TCST\", \"PWST\", \"PAST\", \"GBST\", \"SLST\", \"WLAT\", \"WMT\", \"FFT\", \"OLST\", \"TPTB\", \"FLT\"], {\"TPT\": $$($nesting, 'SkillExpandTable').$from_i18n(\"MagicaLogia.tables.TPT\", locale, skill_table), \"ST\": $$($nesting, 'SkillExpandTable').$from_i18n(\"MagicaLogia.tables.ST\", locale, skill_table), \"FT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"MagicaLogia.tables.FT\", locale), \"WT\": $$($nesting, 'SkillExpandTable').$from_i18n(\"MagicaLogia.tables.WT\", locale, skill_table), \"FCT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"MagicaLogia.tables.FCT\", locale), \"AT\": $$($nesting, 'SkillExpandTable').$from_i18n(\"MagicaLogia.tables.AT\", locale, skill_table), \"BGT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"MagicaLogia.tables.BGT\", locale), \"DAT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"MagicaLogia.tables.DAT\", locale), \"FAT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"MagicaLogia.tables.FAT\", locale), \"WIT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"MagicaLogia.tables.WIT\", locale), \"TCT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"MagicaLogia.tables.TCT\", locale), \"PCT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"MagicaLogia.tables.PCT\", locale), \"MCT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"MagicaLogia.tables.MCT\", locale), \"ICT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"MagicaLogia.tables.ICT\", locale), \"SCT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"MagicaLogia.tables.SCT\", locale), \"XCT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"MagicaLogia.tables.XCT\", locale), \"WCT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"MagicaLogia.tables.WCT\", locale), \"CCT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"MagicaLogia.tables.CCT\", locale), \"MIT\": inveterate_enemy_table, \"MOT\": conspiracy_table, \"MAT\": fate_table, \"MUT\": cueball_table, \"MFT\": force_field_table, \"MLT\": alliance_table, \"BST\": $$$($$($nesting, 'DiceTable'), 'ChainTable').$new($$($nesting, 'I18n').$translate(\"MagicaLogia.tables.BST.name\", $hash2([\"raise\", \"locale\"], {\"raise\": true, \"locale\": locale})), \"1D6\", [inveterate_enemy_table, conspiracy_table, fate_table, cueball_table, force_field_table, alliance_table]), \"PT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"MagicaLogia.tables.PT\", locale), \"XEST\": $$($nesting, 'SkillExpandTable').$from_i18n(\"MagicaLogia.tables.XEST\", locale, skill_table), \"IWST\": $$($nesting, 'SkillExpandTable').$from_i18n(\"MagicaLogia.tables.IWST\", locale, skill_table), \"MCST\": $$($nesting, 'SkillExpandTable').$from_i18n(\"MagicaLogia.tables.MCST\", locale, skill_table), \"WDST\": $$($nesting, 'SkillExpandTable').$from_i18n(\"MagicaLogia.tables.WDST\", locale, skill_table), \"LWST\": $$($nesting, 'SkillExpandTable').$from_i18n(\"MagicaLogia.tables.LWST\", locale, skill_table), \"STB\": $$($nesting, 'SkillExpandTable').$from_i18n(\"MagicaLogia.tables.STB\", locale, skill_table), \"MGCT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"MagicaLogia.tables.MGCT\", locale), \"MBST\": $$($nesting, 'SkillExpandTable').$from_i18n(\"MagicaLogia.tables.MBST\", locale, skill_table), \"MAST\": $$($nesting, 'SkillExpandTable').$from_i18n(\"MagicaLogia.tables.MAST\", locale, skill_table), \"TCST\": $$($nesting, 'SkillExpandTable').$from_i18n(\"MagicaLogia.tables.TCST\", locale, skill_table), \"PWST\": $$($nesting, 'SkillExpandTable').$from_i18n(\"MagicaLogia.tables.PWST\", locale, skill_table), \"PAST\": $$($nesting, 'SkillExpandTable').$from_i18n(\"MagicaLogia.tables.PAST\", locale, skill_table), \"GBST\": $$($nesting, 'SkillExpandTable').$from_i18n(\"MagicaLogia.tables.GBST\", locale, skill_table), \"SLST\": $$($nesting, 'SkillExpandTable').$from_i18n(\"MagicaLogia.tables.SLST\", locale, skill_table), \"WLAT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"MagicaLogia.tables.WLAT\", locale), \"WMT\": $$($nesting, 'SkillExpandTable').$from_i18n(\"MagicaLogia.tables.WMT\", locale, skill_table), \"FFT\": $$$($$($nesting, 'DiceTable'), 'Table').$from_i18n(\"MagicaLogia.tables.FFT\", locale), \"OLST\": $$($nesting, 'SkillExpandTable').$from_i18n(\"MagicaLogia.tables.OLST\", locale, skill_table), \"TPTB\": $$($nesting, 'SkillExpandTable').$from_i18n(\"MagicaLogia.tables.TPTB\", locale, skill_table), \"FLT\": $$($nesting, 'FallenAfterTable').$from_i18n(\"MagicaLogia.tables.FLT\", locale)});\n          }, $translate_tables$15.$$arity = 2), nil) && 'translate_tables';\n        })(Opal.get_singleton_class(self), $nesting);\n        Opal.const_set($nesting[0], 'SKILL_TABLE', self.$translate_skill_table(\"ja_jp\"));\n        Opal.const_set($nesting[0], 'TABLES', self.$translate_tables(\"ja_jp\", $$($nesting, 'SKILL_TABLE')));\n        self.$register_prefix($$($nesting, 'SKILL_TABLE').$prefixes());\n        return self.$register_prefix($$($nesting, 'TABLES').$keys());\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n})(Opal);\n"],"sourceRoot":"webpack:///"}