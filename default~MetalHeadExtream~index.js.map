{"version":3,"sources":["./node_modules/bcdice/lib/bcdice/game_system/MetalHeadExtream.js"],"names":["require","Opal","$rb_times","lhs","rhs","$rb_divide","$rb_plus","$rb_gt","$rb_ge","$rb_minus","$rb_le","$rb_lt","self","top","$nesting","nil","$$$","$$","$module","module","$klass","klass","$truthy","truthy","$send","send","$range","range","$base","$parent_nesting","concat","$super","$MetalHeadExtream_eval_game_system_specific_command$1","$MetalHeadExtream_checkRoll$3","$MetalHeadExtream_get_roll_parameter$4","$MetalHeadExtream_getRollResultTextAndSuccesValue$5","$MetalHeadExtream_getFormulaText$6","$MetalHeadExtream_get_hit_table$7","$MetalHeadExtream_get_SUV_table$8","$MetalHeadExtream_get_damageEffect_table$10","$MetalHeadExtream_get_critical_table$12","$MetalHeadExtream_get_accident_table$13","$MetalHeadExtream_get_mechanicAccident_table$14","$MetalHeadExtream_get_strategyEvent_chart$15","$MetalHeadExtream_get_NPCAttack_chart$16","$MetalHeadExtream_get_loserDestiny_chart$17","$MetalHeadExtream_get_randomEncounter_table$18","$MetalHeadExtream_get_MetalHeadExtream_1d10_table_result$19","$MetalHeadExtream_get_MetalHeadExtream_1d100_table_result$20","$MetalHeadExtream_get_MetalHeadExtream_1dX_table_result$21","$MetalHeadExtream_get_roc_dice$22","$MetalHeadExtream_get_value$23","$$prototype","randomizer","const_set","$register_prefix","def","$$eval_game_system_specific_command","command","$$2","text","$case","m","type","target","modify","paramText","$ret_or_1","isMuse","accidentValue","advancedRoll","luckPoint","params","hitPart","roc","$ret_or_2","armorGrade","damage","damageStage","$ret_or_3","damageType","$ret_or_4","locationType","$ret_or_5","correction","$ret_or_6","$ret_or_7","$upcase","$last_match","$to_i","$get_value","$scan","marker","value","$$s","$a","$b","$get_roll_parameter","to_ary","$$arity","$checkRoll","$get_hit_table","$get_SUV_table","$get_damageEffect_table","$get_critical_table","$get_accident_table","$get_mechanicAccident_table","$get_strategyEvent_chart","$get_NPCAttack_chart","$get_loserDestiny_chart","$get_randomEncounter_table","$$checkRoll","rollText","rollTarget","dice","resultText","successValue","complementText","modifyText","formulaText","result","$roll_once","$getRollResultTextAndSuccesValue","$to_s","$getFormulaText","$$get_roll_parameter","accident","advanced","luck","$$getRollResultTextAndSuccesValue","dig1","isCritical","$$getFormulaText","$$get_hit_table","name","table","$get_MetalHeadExtream_1d10_table_result","$$get_SUV_table","$$9","armorIndex","damageInfo","woundRanks","woundText","$to_a","$index","$brk","new_brk","rate","index","brk","$$brk","err","$v","$$get_damageEffect_table","$$11","damageInfos","damageIndex","damageText","i","$first","$get_table_by_number","$$get_critical_table","$$get_accident_table","$$get_mechanicAccident_table","diceText","tableText","$get_roc_dice","$$get_strategyEvent_chart","$get_MetalHeadExtream_1d100_table_result","$$get_NPCAttack_chart","$$get_loserDestiny_chart","$$get_randomEncounter_table","$$get_MetalHeadExtream_1d10_table_result","$get_MetalHeadExtream_1dX_table_result","$$get_MetalHeadExtream_1d100_table_result","$$get_MetalHeadExtream_1dX_table_result","diceMax","$$get_roc_dice","$$get_value","originalValue","calculateText","$$24","calculateArray","$ret_or_8","$to_f"],"mappings":"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","file":"default~MetalHeadExtream~index.js","sourcesContent":["require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy, $send = Opal.send, $range = Opal.range;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'MetalHeadExtream');\n\n        var $nesting = [self].concat($parent_nesting), $MetalHeadExtream_eval_game_system_specific_command$1, $MetalHeadExtream_checkRoll$3, $MetalHeadExtream_get_roll_parameter$4, $MetalHeadExtream_getRollResultTextAndSuccesValue$5, $MetalHeadExtream_getFormulaText$6, $MetalHeadExtream_get_hit_table$7, $MetalHeadExtream_get_SUV_table$8, $MetalHeadExtream_get_damageEffect_table$10, $MetalHeadExtream_get_critical_table$12, $MetalHeadExtream_get_accident_table$13, $MetalHeadExtream_get_mechanicAccident_table$14, $MetalHeadExtream_get_strategyEvent_chart$15, $MetalHeadExtream_get_NPCAttack_chart$16, $MetalHeadExtream_get_loserDestiny_chart$17, $MetalHeadExtream_get_randomEncounter_table$18, $MetalHeadExtream_get_MetalHeadExtream_1d10_table_result$19, $MetalHeadExtream_get_MetalHeadExtream_1d100_table_result$20, $MetalHeadExtream_get_MetalHeadExtream_1dX_table_result$21, $MetalHeadExtream_get_roc_dice$22, $MetalHeadExtream_get_value$23;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"MetalHeadExtream\");\n        Opal.const_set($nesting[0], 'NAME', \"メタルヘッドエクストリーム\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"めたるへつとえくすとりいむ\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"◆判定：ARn or SRn[*/a][@b][Ac][Ld][!M]　　[]内省略可。\\n\" + \"「n」で判定値、「*/a」でロール修正を指定。複数回指定可。\\n\" + \"「@b」でアクシデント値、省略時は「96」。\\n\" + \"「Ac」で高度なロール。「2、4、8」のみ指定可能。\\n\" + \"「Ld」でラックポイント、「!M」でパンドラ《ミューズ》。\\n\" + \"\\n\" + \"【書式例】\\n\" + \"AR84/2@99!M → 判定値84のAR1/2。アクシデント値99、パンドラ《ミューズ》。\\n\" + \"SR40*2A2L1@99 → 判定値80のSR、高度なロール2倍、ラック1点。\\n\" + \"\\n\" + \"◆命中部位表：(命中部位)HIT[n]　　以降、ROC時は[n]を指定。\\n\" + \"HU：人間　　BK：バイク　　WA：ワゴン　　SC：シェルキャリア　　BG：バギー\\n\" + \"IN：インセクター　　PT：ポケットタンク　　HT：ホバータンク　　TA：戦車\\n\" + \"AC：装甲車　　HE：ヘリ　　TR：トレーラー　　VT：VTOL　　BO：ボート\\n\" + \"CS：通常、格闘型コンバットシェル　　TH：可変、重コンバットシェル\\n\" + \"AM：オートモビル　　GD：ガンドック　　HC：ホバークラフト\\n\" + \"BI：自転車　　BT：バトルトレーラー　　AI：エアクラフト\\n\" + \"◆戦闘結果表：SUV(A～Z)n　　【書式例】SUVM100\\n\" + \"◆損傷効果表：(命中部位)DMG(損傷種別)　　【書式例】TDMGH\\n\" + \"H：頭部　　T：胴部　　A：腕部　　L：脚部　　M：心理　　E：電子\\n\" + \"B：メカニック本体　　P：パワープラント　　D：ドライブ\\n\" + \"(損傷種別)　L：LW　　M：MW　　H：HW　　O：MO\\n\" + \"◆クリティカル表：CRT[n]\\n\" + \"◆アクシデント表：(種別)AC[n]\\n\" + \"G：格闘　　S：射撃、投擲　　M：心理　　E：電子\\n\" + \"◆メカニック事故表：(場所)MA[n][+m]　　「+m」で修正を指定。\\n\" + \"A：空中　　S：水上、水中　　L：地上\\n\" + \"\\n\" + \"【マスコンバット】\\n\" + \"ストラテジーイベントチャート：SEC\\n\" + \"NPC攻撃処理チャート：NAC　　敗者運命チャート：LDC\\n\" + \"\\n\" + \"【各種表】\\n\" + \"荒野ランダムエンカウント表：WENC[n]\\n\");\n        self.$register_prefix(\"[AS]R\", \"(HU|BK|WA|SC|BG|IN|PT|HT|TA|AC|HE|TR|VT|BO|CS|TH|AM|GD|HC|BI|BT|AI)HIT\", \"SUV[A-Z]\", \"[HTALMEBPD]DMG[LMHO]\", \"CRT\", \"[GSME]AC\", \"[ASL]MA\", \"SEC\", \"NAC\", \"LDC\", \"[W]ENC\");\n        \n        Opal.def(self, '$eval_game_system_specific_command', $MetalHeadExtream_eval_game_system_specific_command$1 = function $$eval_game_system_specific_command(command) {\n          var $$2, self = this, text = nil, $case = nil, m = nil, type = nil, target = nil, modify = nil, paramText = nil, $ret_or_1 = nil, isMuse = nil, accidentValue = nil, advancedRoll = nil, luckPoint = nil, params = nil, hitPart = nil, roc = nil, $ret_or_2 = nil, armorGrade = nil, damage = nil, damageStage = nil, $ret_or_3 = nil, damageType = nil, $ret_or_4 = nil, locationType = nil, $ret_or_5 = nil, correction = nil, $ret_or_6 = nil, $ret_or_7 = nil;\n\n          \n          text = (function() {$case = command.$upcase();\n          if (/([AS])R(\\d+)(([*\\/]\\d+)*)?(((@|A|L)\\d+)*)(!M)?$/i['$===']($case)) {\n          m = $$($nesting, 'Regexp').$last_match();\n          type = m['$[]'](1);\n          target = m['$[]'](2).$to_i();\n          modify = self.$get_value(1, m['$[]'](3));\n          paramText = (function() {if ($truthy(($ret_or_1 = m['$[]'](5)))) {\n            return $ret_or_1\n          } else {\n            return \"\"\n          }; return nil; })();\n          isMuse = m['$[]'](8)['$nil?']()['$!']();\n          accidentValue = 96;\n          advancedRoll = 1;\n          luckPoint = 0;\n          params = paramText.$scan(/(.)(\\d+)/);\n          $send(params, 'each', [], ($$2 = function(marker, value){var self = $$2.$$s == null ? this : $$2.$$s, $a, $b;\n\n          \n            \n            if (marker == null) {\n              marker = nil;\n            };\n            \n            if (value == null) {\n              value = nil;\n            };\n            return $b = self.$get_roll_parameter(accidentValue, advancedRoll, luckPoint, marker, value), $a = Opal.to_ary($b), (accidentValue = ($a[0] == null ? nil : $a[0])), (advancedRoll = ($a[1] == null ? nil : $a[1])), (luckPoint = ($a[2] == null ? nil : $a[2])), $b;}, $$2.$$s = self, $$2.$$arity = 2, $$2));\n          return self.$checkRoll(type, target, modify, accidentValue, advancedRoll, luckPoint, isMuse);}\n          else if (/(HU|BK|WA|SC|BG|IN|PT|HT|TA|AC|HE|TR|VT|BO|CS|TH|AM|GD|HC|BI|BT|AI)HIT(\\d+)?/i['$===']($case)) {\n          hitPart = $$($nesting, 'Regexp').$last_match(1);\n          roc = (function() {if ($truthy(($ret_or_2 = $$($nesting, 'Regexp').$last_match(2)))) {\n            return $ret_or_2\n          } else {\n            return 0\n          }; return nil; })().$to_i();\n          return self.$get_hit_table(hitPart, roc);}\n          else if (/SUV([A-Z])(\\d+)/i['$===']($case)) {\n          armorGrade = $$($nesting, 'Regexp').$last_match(1);\n          damage = $$($nesting, 'Regexp').$last_match(2).$to_i();\n          return self.$get_SUV_table(armorGrade, damage);}\n          else if (/([HTALMEBPD])DMG([LMHO])/i['$===']($case)) {\n          hitPart = $$($nesting, 'Regexp').$last_match(1);\n          damageStage = $$($nesting, 'Regexp').$last_match(2);\n          return self.$get_damageEffect_table(hitPart, damageStage);}\n          else if (/CRT(\\d+)?/i['$===']($case)) {\n          roc = (function() {if ($truthy(($ret_or_3 = $$($nesting, 'Regexp').$last_match(1)))) {\n            return $ret_or_3\n          } else {\n            return 0\n          }; return nil; })().$to_i();\n          return self.$get_critical_table(roc);}\n          else if (/([GSME])AC(\\d+)?/i['$===']($case)) {\n          damageType = $$($nesting, 'Regexp').$last_match(1);\n          roc = (function() {if ($truthy(($ret_or_4 = $$($nesting, 'Regexp').$last_match(2)))) {\n            return $ret_or_4\n          } else {\n            return 0\n          }; return nil; })().$to_i();\n          return self.$get_accident_table(damageType, roc);}\n          else if (/([ASL])MA(\\d+)?(\\+(\\d+))?/i['$===']($case)) {\n          locationType = $$($nesting, 'Regexp').$last_match(1);\n          roc = (function() {if ($truthy(($ret_or_5 = $$($nesting, 'Regexp').$last_match(2)))) {\n            return $ret_or_5\n          } else {\n            return 0\n          }; return nil; })().$to_i();\n          correction = (function() {if ($truthy(($ret_or_6 = $$($nesting, 'Regexp').$last_match(4)))) {\n            return $ret_or_6\n          } else {\n            return 0\n          }; return nil; })().$to_i();\n          return self.$get_mechanicAccident_table(locationType, roc, correction);}\n          else if (\"SEC\"['$===']($case)) {return self.$get_strategyEvent_chart()}\n          else if (\"NAC\"['$===']($case)) {return self.$get_NPCAttack_chart()}\n          else if (\"LDC\"['$===']($case)) {return self.$get_loserDestiny_chart()}\n          else if (/(W)ENC(\\d+)?/i['$===']($case)) {\n          locationType = $$($nesting, 'Regexp').$last_match(1);\n          roc = (function() {if ($truthy(($ret_or_7 = $$($nesting, 'Regexp').$last_match(2)))) {\n            return $ret_or_7\n          } else {\n            return 0\n          }; return nil; })().$to_i();\n          return self.$get_randomEncounter_table(locationType, roc);}\n          else { return nil }})();\n          return text;\n        }, $MetalHeadExtream_eval_game_system_specific_command$1.$$arity = 1);\n        \n        Opal.def(self, '$checkRoll', $MetalHeadExtream_checkRoll$3 = function $$checkRoll(rollText, target, modify, accidentValue, advancedRoll, luckPoint, isMuse) {\n          var $a, $b, self = this, rollTarget = nil, dice = nil, resultText = nil, successValue = nil, complementText = nil, modifyText = nil, formulaText = nil, result = nil;\n\n          \n          rollTarget = $rb_times($rb_divide($rb_times(target, modify), advancedRoll), (2)['$**'](luckPoint)).$to_i();\n          dice = self.randomizer.$roll_once(100);\n          $b = self.$getRollResultTextAndSuccesValue(dice, advancedRoll, rollTarget, accidentValue, isMuse), $a = Opal.to_ary($b), (resultText = ($a[0] == null ? nil : $a[0])), (successValue = ($a[1] == null ? nil : $a[1])), $b;\n          resultText = $rb_plus(resultText, \"\" + \" 達成値：\" + (successValue));\n          complementText = \"\" + \"ACC:\" + (accidentValue);\n          if ($truthy($rb_gt(advancedRoll, 1))) {\n            complementText = $rb_plus(complementText, \"\" + \", ADV:*\" + (advancedRoll))};\n          if ($truthy($rb_gt(luckPoint, 0))) {\n            complementText = $rb_plus(complementText, \"\" + \", LUC:\" + (luckPoint))};\n          if ($truthy($rb_ge(modify, 1))) {\n            modifyText = modify.$to_i().$to_s()\n          } else {\n            modifyText = \"\" + \"1/\" + ($rb_divide(1, modify).$to_i())\n          };\n          formulaText = self.$getFormulaText(target, modify, advancedRoll, luckPoint);\n          result = \"\" + (rollText) + \"R\" + (modifyText) + \"(\" + (complementText) + \")：1D100<=\" + (rollTarget) + (formulaText) + \" ＞ [\" + (dice) + \"] \" + (resultText);\n          if ($truthy(isMuse)) {\n            result = $rb_plus(result, \" 《ミューズ》\")};\n          return result;\n        }, $MetalHeadExtream_checkRoll$3.$$arity = 7);\n        \n        Opal.def(self, '$get_roll_parameter', $MetalHeadExtream_get_roll_parameter$4 = function $$get_roll_parameter(accident, advanced, luck, marker, value) {\n          var self = this, $case = nil;\n\n          \n          value = value.$to_i();\n          $case = marker;\n          if (\"@\"['$===']($case)) {accident = value}\n          else if (\"A\"['$===']($case)) {if ($truthy([2, 4, 8]['$include?'](value))) {\n            advanced = value}}\n          else if (\"L\"['$===']($case)) {luck = value};\n          return [accident, advanced, luck];\n        }, $MetalHeadExtream_get_roll_parameter$4.$$arity = 5);\n        \n        Opal.def(self, '$getRollResultTextAndSuccesValue', $MetalHeadExtream_getRollResultTextAndSuccesValue$5 = function $$getRollResultTextAndSuccesValue(dice, advancedRoll, rollTarget, accidentValue, isMuse) {\n          var self = this, successValue = nil, resultText = nil, dig1 = nil, isCritical = nil;\n\n          \n          successValue = 0;\n          if ($truthy($rb_ge(dice, accidentValue))) {\n            \n            resultText = \"失敗（アクシデント）\";\n            return [resultText, successValue];};\n          if ($truthy($rb_gt(dice, rollTarget))) {\n            \n            resultText = \"失敗\";\n            return [resultText, successValue];};\n          dig1 = $rb_minus(dice, $rb_times($rb_divide(dice, 10).$to_i(), 10));\n          if ($truthy(isMuse)) {\n            isCritical = $rb_le(dig1, 1)\n          } else {\n            isCritical = dig1['$=='](1)\n          };\n          resultText = \"成功\";\n          if ($truthy(isCritical)) {\n            resultText = $rb_plus(resultText, \"（クリティカル）\")};\n          successValue = $rb_times(dice, advancedRoll);\n          return [resultText, successValue];\n        }, $MetalHeadExtream_getRollResultTextAndSuccesValue$5.$$arity = 5);\n        \n        Opal.def(self, '$getFormulaText', $MetalHeadExtream_getFormulaText$6 = function $$getFormulaText(target, modify, advancedRoll, luckPoint) {\n          var self = this, formulaText = nil;\n\n          \n          formulaText = target.$to_s();\n          if ($truthy($rb_gt(modify, 1))) {\n            formulaText = $rb_plus(formulaText, \"\" + \"*\" + (modify.$to_i()))};\n          if ($truthy($rb_lt(modify, 1))) {\n            formulaText = $rb_plus(formulaText, \"\" + \"/\" + ($rb_divide(1, modify).$to_i()))};\n          if ($truthy($rb_gt(advancedRoll, 1))) {\n            formulaText = $rb_plus(formulaText, \"\" + \"/\" + (advancedRoll))};\n          if ($truthy($rb_gt(luckPoint, 0))) {\n            formulaText = $rb_plus(formulaText, \"\" + \"*\" + ((2)['$**'](luckPoint)))};\n          if (formulaText['$=='](target.$to_s())) {\n            return \"\"};\n          return \"\" + \"[\" + (formulaText) + \"]\";\n        }, $MetalHeadExtream_getFormulaText$6.$$arity = 4);\n        \n        Opal.def(self, '$get_hit_table', $MetalHeadExtream_get_hit_table$7 = function $$get_hit_table(hitPart, roc) {\n          var self = this, $case = nil, name = nil, table = nil;\n\n          \n          $case = hitPart;\n          if (\"HU\"['$===']($case)) {\n          name = \"命中部位表：人間\";\n          table = [[1, \"胴部（クリティカル）\"], [2, \"頭部\"], [3, \"左腕部\"], [4, \"右腕部\"], [5, \"胴部\"], [6, \"胴部\"], [7, \"胴部\"], [8, \"胴部\"], [9, \"脚部\"], [10, \"脚部\"]];}\n          else if (\"BK\"['$===']($case)) {\n          name = \"命中部位表：バイク\";\n          table = [[1, \"本体（クリティカル）\"], [2, \"本体\"], [3, \"本体\"], [4, \"本体\"], [5, \"パワープラント\"], [6, \"ドライブ\"], [7, \"ドライブ\"], [8, \"兵装・貨物\"], [9, \"乗員\"], [10, \"乗員\"]];}\n          else if (\"WA\"['$===']($case)) {\n          name = \"命中部位表：ワゴン\";\n          table = [[1, \"本体（クリティカル）\"], [2, \"本体\"], [3, \"本体\"], [4, \"本体\"], [5, \"本体\"], [6, \"本体\"], [7, \"パワープラント\"], [8, \"ドライブ\"], [9, \"兵装・貨物\"], [10, \"乗員\"]];}\n          else if (\"SC\"['$===']($case)) {\n          name = \"命中部位表：シェルキャリア\";\n          table = [[1, \"本体（クリティカル）\"], [2, \"本体\"], [3, \"本体\"], [4, \"本体\"], [5, \"本体\"], [6, \"本体\"], [7, \"パワープラント\"], [8, \"ドライブ\"], [9, \"兵装・貨物\"], [10, \"乗員\"]];}\n          else if (\"BG\"['$===']($case)) {\n          name = \"命中部位表：バギー\";\n          table = [[1, \"本体（クリティカル）\"], [2, \"本体\"], [3, \"本体\"], [4, \"本体\"], [5, \"本体\"], [6, \"パワープラント\"], [7, \"ドライブ\"], [8, \"兵装・貨物\"], [9, \"兵装・貨物\"], [10, \"乗員\"]];}\n          else if (\"IN\"['$===']($case)) {\n          name = \"命中部位表：インセクター\";\n          table = [[1, \"本体（クリティカル）\"], [2, \"本体\"], [3, \"本体\"], [4, \"本体\"], [5, \"本体\"], [6, \"パワープラント\"], [7, \"ドライブ\"], [8, \"ドライブ\"], [9, \"ドライブ\"], [10, \"乗員\"]];}\n          else if (\"PT\"['$===']($case)) {\n          name = \"命中部位表：ポケットタンク\";\n          table = [[1, \"本体（クリティカル）\"], [2, \"本体\"], [3, \"本体\"], [4, \"本体\"], [5, \"本体\"], [6, \"パワープラント\"], [7, \"パワープラント\"], [8, \"ドライブ\"], [9, \"ドライブ\"], [10, \"兵装・貨物\"]];}\n          else if (\"HT\"['$===']($case)) {\n          name = \"命中部位表：ホバータンク\";\n          table = [[1, \"本体（クリティカル）\"], [2, \"本体\"], [3, \"本体\"], [4, \"本体\"], [5, \"本体\"], [6, \"本体\"], [7, \"パワープラント\"], [8, \"ドライブ\"], [9, \"兵装・貨物\"], [10, \"兵装・貨物\"]];}\n          else if (\"TA\"['$===']($case)) {\n          name = \"命中部位表：戦車\";\n          table = [[1, \"本体（クリティカル）\"], [2, \"本体\"], [3, \"本体\"], [4, \"本体\"], [5, \"本体\"], [6, \"パワープラント\"], [7, \"ドライブ\"], [8, \"ドライブ\"], [9, \"兵装・貨物\"], [10, \"兵装・貨物\"]];}\n          else if (\"AC\"['$===']($case)) {\n          name = \"命中部位表：装甲車\";\n          table = [[1, \"本体（クリティカル）\"], [2, \"本体\"], [3, \"本体\"], [4, \"本体\"], [5, \"本体\"], [6, \"パワープラント\"], [7, \"ドライブ\"], [8, \"ドライブ\"], [9, \"兵装・貨物\"], [10, \"兵装・貨物\"]];}\n          else if (\"HE\"['$===']($case)) {\n          name = \"命中部位表：ヘリ\";\n          table = [[1, \"本体（クリティカル）\"], [2, \"本体\"], [3, \"本体\"], [4, \"本体\"], [5, \"パワープラント\"], [6, \"ドライブ\"], [7, \"ドライブ\"], [8, \"兵装・貨物\"], [9, \"兵装・貨物\"], [10, \"乗員\"]];}\n          else if (\"TR\"['$===']($case)) {\n          name = \"命中部位表：トレーラー\";\n          table = [[1, \"本体（クリティカル）\"], [2, \"本体\"], [3, \"本体\"], [4, \"本体\"], [5, \"パワープラント\"], [6, \"ドライブ\"], [7, \"兵装・カーゴ\"], [8, \"兵装・カーゴ\"], [9, \"兵装・カーゴ\"], [10, \"乗員\"]];}\n          else if (\"VT\"['$===']($case)) {\n          name = \"命中部位表：VTOL\";\n          table = [[1, \"本体（クリティカル）\"], [2, \"本体\"], [3, \"本体\"], [4, \"本体\"], [5, \"本体\"], [6, \"パワープラント\"], [7, \"ドライブ\"], [8, \"兵装・貨物\"], [9, \"兵装・貨物\"], [10, \"乗員\"]];}\n          else if (\"BO\"['$===']($case)) {\n          name = \"命中部位表：ボート\";\n          table = [[1, \"本体（クリティカル）\"], [2, \"本体\"], [3, \"本体\"], [4, \"本体\"], [5, \"本体\"], [6, \"本体\"], [7, \"本体\"], [8, \"パワープラント\"], [9, \"ドライブ\"], [10, \"兵装・貨物\"]];}\n          else if (\"CS\"['$===']($case)) {\n          name = \"命中部位表：通常・格闘型コンバットシェル\";\n          table = [[1, \"本体（クリティカル）\"], [2, \"本体\"], [3, \"本体\"], [4, \"本体\"], [5, \"本体\"], [6, \"本体\"], [7, \"ザック\"], [8, \"ドライブ\"], [9, \"兵装・貨物\"], [10, \"兵装・貨物\"]];}\n          else if (\"TH\"['$===']($case)) {\n          name = \"命中部位表：可変・重コンバットシェル\";\n          table = [[1, \"本体（クリティカル）\"], [2, \"本体\"], [3, \"本体\"], [4, \"本体\"], [5, \"本体\"], [6, \"本体\"], [7, \"ドライブ\"], [8, \"ドライブ\"], [9, \"兵装・貨物\"], [10, \"兵装・貨物\"]];}\n          else if (\"AM\"['$===']($case)) {\n          name = \"命中部位表：オートモビル\";\n          table = [[1, \"本体（クリティカル）\"], [2, \"本体\"], [3, \"本体\"], [4, \"本体\"], [5, \"本体\"], [6, \"パワープラント\"], [7, \"ドライブ\"], [8, \"兵装・貨物\"], [9, \"兵装・貨物\"], [10, \"乗員\"]];}\n          else if (\"GD\"['$===']($case)) {\n          name = \"命中部位表：ガンドック\";\n          table = [[1, \"本体（クリティカル）\"], [2, \"本体\"], [3, \"本体\"], [4, \"本体\"], [5, \"本体\"], [6, \"パワープラント\"], [7, \"ドライブ\"], [8, \"ドライブ\"], [9, \"兵装・貨物\"], [10, \"乗員\"]];}\n          else if (\"HC\"['$===']($case)) {\n          name = \"命中部位表：ホバークラフト\";\n          table = [[1, \"本体（クリティカル）\"], [2, \"本体\"], [3, \"本体\"], [4, \"本体\"], [5, \"パワープラント\"], [6, \"パワープラント\"], [7, \"ドライブ\"], [8, \"兵装・貨物\"], [9, \"乗員\"], [10, \"乗員\"]];}\n          else if (\"BI\"['$===']($case)) {\n          name = \"命中部位表：自転車\";\n          table = [[1, \"本体（クリティカル）\"], [2, \"本体\"], [3, \"本体\"], [4, \"本体\"], [5, \"本体\"], [6, \"パワープラント\"], [7, \"ドライブ\"], [8, \"兵装・貨物\"], [9, \"兵装・貨物\"], [10, \"乗員\"]];}\n          else if (\"BT\"['$===']($case)) {\n          name = \"命中部位表：バトルトレーラー\";\n          table = [[1, \"本体（クリティカル）\"], [2, \"本体\"], [3, \"本体\"], [4, \"本体\"], [5, \"本体\"], [6, \"パワープラント\"], [7, \"ドライブ\"], [8, \"兵装・貨物\"], [9, \"兵装・貨物\"], [10, \"乗員\"]];}\n          else if (\"AI\"['$===']($case)) {\n          name = \"命中部位表：エアクラフト\";\n          table = [[1, \"本体（クリティカル）\"], [2, \"本体\"], [3, \"本体\"], [4, \"本体\"], [5, \"本体\"], [6, \"パワープラント\"], [7, \"ドライブ\"], [8, \"兵装・貨物\"], [9, \"兵装・貨物\"], [10, \"乗員\"]];}\n          else {return nil};\n          return self.$get_MetalHeadExtream_1d10_table_result(name, table, roc);\n        }, $MetalHeadExtream_get_hit_table$7.$$arity = 2);\n        \n        Opal.def(self, '$get_SUV_table', $MetalHeadExtream_get_SUV_table$8 = function $$get_SUV_table(armorGrade, damage) {\n          var $$9, self = this, name = nil, table = nil, armorIndex = nil, damageInfo = nil, woundRanks = nil, woundText = nil;\n\n          \n          name = \"戦闘結果表\";\n          table = [[0, 1, 6, 16, 26, 36], [0, 1, 6, 26, 36, 46], [0, 1, 16, 26, 46, 56], [1, 6, 26, 36, 56, 76], [1, 16, 36, 46, 66, 76], [1, 26, 36, 56, 76, 86], [1, 36, 56, 66, 76, 96], [1, 56, 76, 86, 96, 106], [1, 66, 86, 96, 106, 116], [1, 66, 86, 96, 116, 136], [1, 76, 96, 106, 126, 156], [1, 76, 96, 116, 146, 166], [1, 86, 106, 126, 166, 176], [1, 106, 126, 136, 176, 196], [1, 106, 126, 146, 186, 206], [1, 116, 136, 156, 196, 206], [1, 126, 146, 166, 206, 226], [1, 126, 146, 176, 226, 246], [1, 136, 156, 186, 246, 266], [1, 156, 176, 206, 246, 286], [1, 156, 176, 206, 266, 306], [1, 166, 186, 206, 286, 346], [1, 176, 196, 246, 326, 366], [1, 196, 226, 266, 346, 386], [1, 206, 226, 286, 366, 406], [1, 226, 246, 306, 386, 406]];\n          armorIndex = $range(\"A\", \"Z\", false).$to_a().$index(armorGrade);\n          damageInfo = table['$[]'](armorIndex);\n          woundRanks = [\"無傷\", \"LW(軽傷)\", \"MW(中傷)\", \"HW(重傷)\", \"MO(致命傷)\", \"KL(死亡)\"];\n          woundText = \"\";\n          (function(){var $brk = Opal.new_brk(); try {return $send(damageInfo, 'each_with_index', [], ($$9 = function(rate, index){var self = $$9.$$s == null ? this : $$9.$$s;\n\n          \n            \n            if (rate == null) {\n              rate = nil;\n            };\n            \n            if (index == null) {\n              index = nil;\n            };\n            if ($truthy($rb_gt(rate, damage))) {\n              \n              Opal.brk(nil, $brk)};\n            return (woundText = woundRanks['$[]'](index));}, $$9.$$s = self, $$9.$$brk = $brk, $$9.$$arity = 2, $$9))\n          } catch (err) { if (err === $brk) { return err.$v } else { throw err } }})();\n          return \"\" + (name) + \"(\" + (armorGrade) + \")：\" + (damage) + \" ＞ \" + (woundText);\n        }, $MetalHeadExtream_get_SUV_table$8.$$arity = 2);\n        \n        Opal.def(self, '$get_damageEffect_table', $MetalHeadExtream_get_damageEffect_table$10 = function $$get_damageEffect_table(hitPart, damageStage) {\n          var $$11, self = this, damageInfos = nil, index = nil, damageIndex = nil, damageText = nil, $case = nil, name = nil, table = nil, text = nil;\n\n          \n          damageInfos = [[\"L\", \"(LW)\"], [\"M\", \"(MW)\"], [\"H\", \"(HW)\"], [\"O\", \"(MO)\"]];\n          index = $send(damageInfos, 'index', [], ($$11 = function(i){var self = $$11.$$s == null ? this : $$11.$$s;\n\n          \n            \n            if (i == null) {\n              i = nil;\n            };\n            return i.$first()['$=='](damageStage);}, $$11.$$s = self, $$11.$$arity = 1, $$11));\n          if (index['$=='](-1)) {\n            return nil};\n          damageIndex = $rb_plus(index, 1);\n          damageText = damageInfos['$[]'](index)['$[]'](1);\n          $case = hitPart;\n          if (\"H\"['$===']($case)) {\n          name = \"対人損傷効果表：頭部\";\n          table = [[1, \"ダメージ修正+10。\"], [2, \"ダメージ修正+10。【PER】のAR、【PER】がベースアビリティのスキルのSRにSR1/2のロール修正。\"], [3, \"ダメージ修正+20。【PER】のAR、【PER】がベースアビリティのスキルのSRにSR1/4のロール修正。\"], [4, \"ダメージ修正+30。［死亡］。頭部がサイバーの場合は［戦闘不能］。\"]];}\n          else if (\"T\"['$===']($case)) {\n          name = \"対人損傷効果表：胴部\";\n          table = [[1, \"ダメージ修正+10。\"], [2, \"ダメージ修正+10。【DEX】のAR、【DEX】がベースアビリティのスキルのSRにSR1/2のロール修正。\"], [3, \"ダメージ修正+20。【DEX】のAR、【DEX】がベースアビリティのスキルのSRにSR1/4のロール修正。\"], [4, \"ダメージ修正+30。［戦闘不能］。\"]];}\n          else if (\"A\"['$===']($case)) {\n          name = \"対人損傷効果表：腕部\";\n          table = [[1, \"ダメージ修正+10。\"], [2, \"ダメージ修正+10。損傷した腕を使用する、また両腕を使用する行動にSR1/2のロール修正。\"], [3, \"ダメージ修正+20。損傷した腕を使用する、また両腕を使用する行動にSR1/4のロール修正。\"], [4, \"ダメージ修正+30。損傷した腕を使用する、また両腕を使用する行動不可。\"]];}\n          else if (\"L\"['$===']($case)) {\n          name = \"対人損傷効果表：脚部\";\n          table = [[1, \"ダメージ修正+10。\"], [2, \"ダメージ修正+10。【REF】のAR、【REF】がベースアビリティのスキルのSRにSR1/2のロール修正。\"], [3, \"ダメージ修正+20。【REF】のAR、【REF】がベースアビリティのスキルのSRにSR1/4のロール修正。【MV】が1/2。\"], [4, \"ダメージ修正+30。［戦闘不能］。\"]];}\n          else if (\"M\"['$===']($case)) {\n          name = \"心理損傷効果表\";\n          table = [[1, \"ダメージ修正+10。焦り。効果は特になし。シーン終了で自然回復。\"], [2, \"ダメージ修正+20。混乱。1シーン、すべてのロールがSR1/2となる。シーン終了で自然回復。\"], [3, \"ダメージ修正+30。恐怖。1シーン、すべてのロールがSR1/4となる。シーン終了で自然回復。\"], [4, \"ダメージ修正+50。喪失。［戦闘不能］。シーン終了で自然回復。\"]];}\n          else if (\"E\"['$===']($case)) {\n          name = \"電子損傷効果表\";\n          table = [[1, \"ダメージ修正+10。処理落ち。効果は特になし。\"], [2, \"ダメージ修正+20。ノイズ。1シーン、キャラクターならすべてのロールが、アイテムならそれを使用したロールが1/2となる。\"], [3, \"ダメージ修正+30。恐怖。1シーン、キャラクターならすべてのロールが、アイテムならそれを使用したロールが1/4となる。\"], [4, \"ダメージ修正+50。クラッシュ。キャラクターなら［戦闘不能］。アイテムなら1シナリオ中、使用不可。\"]];}\n          else if (\"B\"['$===']($case)) {\n          name = \"メカニック損傷効果表：本体\";\n          table = [[1, \"ダメージ修正+10。\"], [2, \"ダメージ修正シフト1。修理費がフレーム価格の1/4かかる。\"], [3, \"ダメージ修正シフト2。修理費がフレーム価格の1/2かかる。\"], [4, \"ダメージ修正シフト3。移動不能。修理費がフレーム価格と同じだけかかる。走行中なら事故表を振ること。\"]];}\n          else if (\"P\"['$===']($case)) {\n          name = \"メカニック損傷効果表：パワープラント\";\n          table = [[1, \"ダメージ修正+10。\"], [2, \"ダメージ修正+10。メカニックの【MV】が1/2になる。修理費がパワープラント価格の1/4かかる。\"], [3, \"ダメージ修正+20。メカニックの【MV】が1/4になる。修理費がパワープラント価格の1/2かかる。\"], [4, \"ダメージ修正+30。移動不能。修理費がパワープラント価格と同じだけかかる。走行中なら事故表を振ること。\"]];}\n          else if (\"D\"['$===']($case)) {\n          name = \"メカニック損傷効果表：ドライブ\";\n          table = [[1, \"ダメージ修正+10。\"], [2, \"ダメージ修正+10。メカニックの【REF】が1/2になる。［メカニック］スキルにSR1/2の修正。修理費がドライブ価格の1/4かかる。\"], [3, \"ダメージ修正+20。メカニックの【REF】が1/2になる。［メカニック］スキルにSR1/4の修正。修理費がドライブ価格の1/2かかる。\"], [4, \"ダメージ修正+30。移動不能。修理費がドライブ価格と同じだけかかる。走行中なら事故表を振ること。\"]];}\n          else {return nil};\n          text = self.$get_table_by_number(damageIndex, table);\n          return \"\" + (name) + (damageText) + \" ＞ \" + (text);\n        }, $MetalHeadExtream_get_damageEffect_table$10.$$arity = 2);\n        \n        Opal.def(self, '$get_critical_table', $MetalHeadExtream_get_critical_table$12 = function $$get_critical_table(roc) {\n          var self = this, name = nil, table = nil;\n\n          \n          name = \"クリティカル表\";\n          table = [[1, \"特に追加被害は発生しない。\"], [2, \"対象はバランスを崩す。クリンナッププロセスまで、対象は命中ロールにSR1/2のロール修正を受ける。\"], [3, \"対象に隙を作る。クリンナッププロセスまで、対象はリアクションにSR1/2のロール修正を受ける。\"], [4, \"激しい一撃。最終火力に+20してダメージを算出すること。\"], [5, \"多大なダメージ。最終火力に+20してダメージを算出すること。\"], [6, \"弱点に直撃。対象の装甲値を無視してダメージを算出すること。\"], [7, \"効果的な一撃。対象の受ける損傷段階をシフト1する。\"], [8, \"致命的な一撃。対象の受ける損傷段階をシフト2する。\"], [9, \"中枢に直撃。対象の【SUV】を3ランク低いものとしてダメージを算出する。\"], [10, \"中枢を破壊。対象の装甲値を無視し、【SUV】を3ランク低いものとしてダメージを算出する。\"]];\n          return self.$get_MetalHeadExtream_1d10_table_result(name, table, roc);\n        }, $MetalHeadExtream_get_critical_table$12.$$arity = 1);\n        \n        Opal.def(self, '$get_accident_table', $MetalHeadExtream_get_accident_table$13 = function $$get_accident_table(damageType, roc) {\n          var self = this, $case = nil, name = nil, table = nil;\n\n          \n          $case = damageType;\n          if (\"G\"['$===']($case)) {\n          name = \"格闘アクシデント表\";\n          table = [[1, \"体勢を崩す。その攻撃は失敗する。\"], [2, \"体勢を崩す。その攻撃は失敗する。\"], [3, \"体勢を崩す。その攻撃は失敗する。\"], [4, \"転倒。格闘回避と機動回避にSR1/4、【MV】が半分に。\"], [5, \"転倒。格闘回避と機動回避にSR1/4、【MV】が半分に。\"], [6, \"転倒。格闘回避と機動回避にSR1/4、【MV】が半分に。\"], [7, \"武器が足下（0m離れたところ）に落ちる。素手のときは何もなし。\"], [8, \"武器が足下（0m離れたところ）に落ちる。素手のときは何もなし。\"], [9, \"武器が5m離れたところに落ちる。素手のときは関係ない。\"], [10, \"使用武器が壊れ、1シーン使用不可。\"]];}\n          else if (\"S\"['$===']($case)) {\n          name = \"射撃／投擲アクシデント表\";\n          table = [[1, \"ささいなミス。その攻撃は失敗する。\"], [2, \"ささいなミス。その攻撃は失敗する。\"], [3, \"ささいなミス。その攻撃は失敗する。\"], [4, \"射撃武器はジャム。投擲武器ならば武器が取り出せないなど、マイナーアクションを消費しなければその武器を使用できない。\"], [5, \"射撃武器はジャム。投擲武器ならば武器が取り出せないなど、マイナーアクションを消費しなければその武器を使用できない。\"], [6, \"射撃武器はジャム。投擲武器ならば武器が取り出せないなど、マイナーアクションを消費しなければその武器を使用できない。\"], [7, \"故障。メジャーアクションで【DEX】のSR1のロールに成功しなければ、その武器を使用できない。\"], [8, \"故障。メジャーアクションで【DEX】のSR1のロールに成功しなければ、その武器を使用できない。\"], [9, \"破壊。以後、その武器は使用できない。\"], [10, \"武器の暴発。固定火力100のダメージを、装甲値無視で武器を持っていた腕（両手なら両手）、または兵装・貨物に受ける。\"]];}\n          else if (\"M\"['$===']($case)) {\n          name = \"心理攻撃アクシデント表\";\n          table = [[1, \"集中失敗。攻撃は失敗する。\"], [2, \"集中失敗。攻撃は失敗する。\"], [3, \"集中失敗。攻撃は失敗する。\"], [4, \"思考ノイズ。クリンナップまですべてのリアクションにSR1/2。\"], [5, \"思考ノイズ。クリンナップまですべてのリアクションにSR1/2。\"], [6, \"思考ノイズ。クリンナップまですべてのリアクションにSR1/2。\"], [7, \"EXの暴走。頭部に装甲値無視、固定火力60のダメージを受ける。\"], [8, \"EXの暴走。頭部に装甲値無視、固定火力60のダメージを受ける。\"], [9, \"感情暴走。攻撃に使用したマニューバが1シーン使用不可。\"], [10, \"トラウマの再現。装甲値無視、固定火力100の心理ダメージを受ける。\"]];}\n          else if (\"E\"['$===']($case)) {\n          name = \"電子攻撃アクシデント表\";\n          table = [[1, \"ショック。攻撃は失敗する。\"], [2, \"ショック。攻撃は失敗する。\"], [3, \"ショック。攻撃は失敗する。\"], [4, \"ノイズ発生。クリンナップまで電子攻撃のリアクションにSR1/2。\"], [5, \"ノイズ発生。クリンナップまで電子攻撃のリアクションにSR1/2。\"], [6, \"ノイズ発生。クリンナップまで電子攻撃のリアクションにSR1/2。\"], [7, \"ソフトウェア障害。攻撃に使用したソフトが1シーン使用不可。\"], [8, \"ソフトウェア障害。攻撃に使用したソフトが1シーン使用不可。\"], [9, \"ハードウェア障害。装甲値無視、固定火力80の電子ダメージを受ける。\"], [10, \"信号逆流。装甲値無視、固定火力100の心理ダメージを受ける。\"]];}\n          else {return nil};\n          return self.$get_MetalHeadExtream_1d10_table_result(name, table, roc);\n        }, $MetalHeadExtream_get_accident_table$13.$$arity = 2);\n        \n        Opal.def(self, '$get_mechanicAccident_table', $MetalHeadExtream_get_mechanicAccident_table$14 = function $$get_mechanicAccident_table(locationType, roc, correction) {\n          var self = this, $case = nil, name = nil, table = nil, dice = nil, diceText = nil, tableText = nil, text = nil;\n\n          \n          $case = locationType;\n          if (\"A\"['$===']($case)) {\n          name = \"空中メカニック事故表\";\n          table = [[3, \"兵装／貨物。メカニックが装備している一番ENCの大きい武器ひとつが戦闘終了時まで使用不能になる。武器がない場合はメカニックオプションが使用不能になり、それもない場合は一番ENCの重い貨物（乗客をのぞく）が失われる。\"], [6, \"操作不能。メカニック本体にMWダメージ。操縦者は適切な［メカニック］スキルでSR1/4のロールを行い、成功したら体勢を立て直せる。失敗した場合、次のクリンナッププロセスまで、回避をふくめた一切の行動を取ることができない。\"], [8, \"不時着。メカニック本体にHWダメージ。次のクリンナッププロセスまで、回復をふくめた一切の行動を取ることができない。\"], [9, \"墜落。メカニック本体にMOダメージ。すべての乗員は、墜落のショックによってランダムな部位に〈物〉155の固定ダメージを受ける。このダメージは機動回避可能である。\"], [10, \"爆発。メカニックが爆発し、完全に破壊される。すべての乗員は、爆発と落下によって胴体に〈熱〉205の固定ダメージを受ける。このダメージは機動回避可能だが、SRに1/4の修正がある。\"]];}\n          else if (\"S\"['$===']($case)) {\n          name = \"水上／水中メカニック事故表\";\n          table = [[3, \"横揺れ。次のクリンナッププロセスまで、このメカニックに乗っているキャラクターの行うすべての［メカニック］ロールに1/2の修正が与えられる。\"], [6, \"兵装／貨物。メカニックが装備している一番ENCの大きい武器ひとつが戦闘終了時まで使用不能になる。武器がない場合はメカニックオプションが使用不能になり、それもない場合は一番ENCの重い貨物（乗客をのぞく）が失われる。\"], [8, \"横転。メカニック本体にMWダメージ。操縦者は適切な［メカニック］スキルでSR1/4のロールを行い、成功したら体勢を立て直せる。失敗した場合、次のクリンナッププロセスまで、回避をふくめた一切の行動を取ることができない。\"], [9, \"激突。メカニック本体に〈物〉255の固定ダメージ。\"], [10, \"爆発。メカニックが爆発し、完全に破壊される。すべての乗員は、爆発によって胴体に〈熱〉155の固定ダメージを受ける。このダメージは機動回避可能だが、SRに1/4の修正がある。\"]];}\n          else if (\"L\"['$===']($case)) {\n          name = \"地上メカニック事故表\";\n          table = [[3, \"接触。メカニック本体にLWダメージ。\"], [6, \"兵装／貨物。メカニックが装備している一番ENCの大きい武器ひとつが戦闘終了時まで使用不能になる。武器がない場合はメカニックオプションが使用不能になり、それもない場合は一番ENCの重い貨物（乗客をのぞく）が失われる。\"], [8, \"スピン。メカニック本体にMWダメージ。操縦者は適切な［メカニック］スキルでSR1/4のロールを行い、成功したら体勢を立て直せる。失敗した場合、次のクリンナッププロセスまで、回避をふくめた一切の行動を取ることができない。\"], [9, \"激突。メカニック本体に〈物〉255の固定ダメージ。次のクリンナッププロセスまで、回避をふくめた一切の行動を取ることができない。\"], [10, \"爆発。メカニックが爆発し、完全に破壊される。すべての乗員は、爆発によって胴体に〈熱〉155の固定ダメージを受ける。このダメージは機動回避可能だが、SRに1/4の修正がある。\"]];}\n          else {return nil};\n          dice = self.$get_roc_dice(roc, 10);\n          diceText = dice.$to_s();\n          dice = $rb_plus(dice, correction);\n          if ($truthy($rb_gt(dice, 10))) {\n            dice = 10};\n          if ($truthy($rb_gt(correction, 0))) {\n            diceText = \"\" + (dice) + \"[\" + (diceText) + \"+\" + (correction) + \"]\"};\n          tableText = self.$get_table_by_number(dice, table);\n          text = \"\" + (name) + \"(\" + (diceText) + \") ＞ \" + (tableText);\n          return text;\n        }, $MetalHeadExtream_get_mechanicAccident_table$14.$$arity = 3);\n        \n        Opal.def(self, '$get_strategyEvent_chart', $MetalHeadExtream_get_strategyEvent_chart$15 = function $$get_strategyEvent_chart() {\n          var self = this, name = nil, table = nil;\n\n          \n          name = \"ストラテジーイベントチャート\";\n          table = [[50, \"特に何事もなかった。\"], [53, \"スコール。種別：レーザーを装備している部隊の戦力はこのターン半減する。この効果は重複しない。\"], [55, \"ただよう不安。味方ユニットはWILのAR1を行い、失敗すると士気の10%を失う。\"], [57, \"狙撃！　司令官キャラクターは胴体に〈物〉155点の固定ダメージを受ける。機動回避は可能。\"], [60, \"敵の猛烈な反撃！　味方ユニットはREFのAR1を行い、失敗するとこのターン、移動力がマイナス1。\"], [63, \"敵弾幕の隙を見いだす。このターン、味方ユニットは突破判定がSR2に。\"], [65, \"突破のチャンス。このターン、味方ユニットは移動力が1点上昇する。\"], [67, \"士気高揚。味方ユニットの士気がそれぞれ現在値の10%だけ回復する。\"], [70, \"敵陣崩壊。敵ユニットの中で士気がもっとも低いユニットが戦場から撤退する。複数いた場合、すべて撤退。PC、ゲストには効果なし。\"], [73, \"大声援。戦闘がどこかのハッカーによって衛星中継され、喝采を浴びる。\"], [75, \"雨／雪。種別；レーザーを部隊の戦力はこのターン半減する。この効果は重複しない。\"], [77, \"磁気嵐。このターン、種別：ミサイルは戦力に数えず、突撃に使用することもできない。\"], [80, \"膠着した戦況。このターン、味方ユニットは突破判定がSR1/2に。\"], [83, \"メタルホッパー！　金属イナゴの襲来で視界をふさがれ、このラウンドは全てのMC射程が0となる。\"], [85, \"大竜巻！　飛行しているユニットの移動力は0となり、飛行ユニットはこのターン自分から突撃を行えない。\"], [87, \"通信の混乱。味方ユニットはINTのAR1を行い、失敗するとこのターン、移動力がマイナス1。\"], [90, \"幸運が微笑む。味方ユニットのラックポイントが1点ずつ回復。NPCには無効。\"], [93, \"致命的な狙撃！　司令官キャラクターは胴体に〈物〉205点の固定ダメージを受ける。機動回避は可能。\"], [95, \"敵の罠に落ちた。このターン、敵軍ユニットは移動力が1点上昇する。\"], [97, \"勝利の予感。味方ユニットの士気がそれぞれの現在値の20%だけ回復する。\"], [99, \"天変地異が襲いかかる！　このターン、すべてのユニットは移動できない。\"], [100, \"大混乱。後2回振る。\"]];\n          return self.$get_MetalHeadExtream_1d100_table_result(name, table, 0);\n        }, $MetalHeadExtream_get_strategyEvent_chart$15.$$arity = 0);\n        \n        Opal.def(self, '$get_NPCAttack_chart', $MetalHeadExtream_get_NPCAttack_chart$16 = function $$get_NPCAttack_chart() {\n          var self = this, name = nil, table = nil;\n\n          \n          name = \"NPC攻撃処理チャート\";\n          table = [[5, \"戦力の低い側だけが一方的に除去される。\"], [8, \"双方、一番戦力の少ないユニットひとつを除去する。\"], [10, \"戦力の高い側が最大戦力のユニットひとつを除去する。\"]];\n          return self.$get_MetalHeadExtream_1d10_table_result(name, table, 0);\n        }, $MetalHeadExtream_get_NPCAttack_chart$16.$$arity = 0);\n        \n        Opal.def(self, '$get_loserDestiny_chart', $MetalHeadExtream_get_loserDestiny_chart$17 = function $$get_loserDestiny_chart() {\n          var self = this, name = nil, table = nil;\n\n          \n          name = \"敗者運命チャート\";\n          table = [[1, \"奇跡的に無傷で生き延びた。いずれ復讐の機会もあるだろう。\"], [2, \"ランダムな部位にLWを負う。\"], [3, \"戦力決定に使っていた武器が破壊される。\"], [4, \"ランダムな部位にMWを負う。\"], [5, \"外見に影響するような傷を負う。治療するなら$3000。\"], [6, \"ランダムな部位にHWを負う。\"], [7, \"着用している防具すべてが破壊される。衣服は壊れない。\"], [8, \"ランダムな部位にMOを負う。\"], [9, \"ランダムに決定した能力値ひとつを、永久に1点失う。\"], [10, \"残念ながら、君は死んでしまった。\"]];\n          return self.$get_MetalHeadExtream_1d10_table_result(name, table, 0);\n        }, $MetalHeadExtream_get_loserDestiny_chart$17.$$arity = 0);\n        \n        Opal.def(self, '$get_randomEncounter_table', $MetalHeadExtream_get_randomEncounter_table$18 = function $$get_randomEncounter_table(locationType, roc) {\n          var self = this, $case = nil, name = nil, table = nil;\n\n          \n          $case = locationType;\n          if (\"W\"['$===']($case)) {\n          name = \"荒野ランダムエンカウント表\";\n          table = [[80, \"特に遭遇は発生しなかった\"], [85, \"1d10名のバンデッド\"], [87, \"ヴェーダ・バウンサー1名に率いられた1d10+2（最低1）のヴェーダ・ソルジャー\"], [89, \"1d10+2体のウェーブコヨーテ\"], [91, \"1d10÷2体（最低1）のレーザーアント\"], [93, \"1d10-5体（最低1）のライトニングホーク\"], [96, \"1d10体のメタルホッパー\"], [98, \"1体のブラスビースト\"], [100, \"1d10÷3体（最低1）のサンドワーム\"]];}\n          else {return nil};\n          return self.$get_MetalHeadExtream_1d100_table_result(name, table, roc);\n        }, $MetalHeadExtream_get_randomEncounter_table$18.$$arity = 2);\n        \n        Opal.def(self, '$get_MetalHeadExtream_1d10_table_result', $MetalHeadExtream_get_MetalHeadExtream_1d10_table_result$19 = function $$get_MetalHeadExtream_1d10_table_result(name, table, roc) {\n          var self = this;\n\n          return self.$get_MetalHeadExtream_1dX_table_result(name, table, roc, 10)\n        }, $MetalHeadExtream_get_MetalHeadExtream_1d10_table_result$19.$$arity = 3);\n        \n        Opal.def(self, '$get_MetalHeadExtream_1d100_table_result', $MetalHeadExtream_get_MetalHeadExtream_1d100_table_result$20 = function $$get_MetalHeadExtream_1d100_table_result(name, table, roc) {\n          var self = this;\n\n          return self.$get_MetalHeadExtream_1dX_table_result(name, table, roc, 100)\n        }, $MetalHeadExtream_get_MetalHeadExtream_1d100_table_result$20.$$arity = 3);\n        \n        Opal.def(self, '$get_MetalHeadExtream_1dX_table_result', $MetalHeadExtream_get_MetalHeadExtream_1dX_table_result$21 = function $$get_MetalHeadExtream_1dX_table_result(name, table, roc, diceMax) {\n          var self = this, dice = nil, text = nil;\n\n          \n          dice = self.$get_roc_dice(roc, diceMax);\n          text = self.$get_table_by_number(dice, table);\n          return \"\" + (name) + \"(\" + (dice) + \") ＞ \" + (text);\n        }, $MetalHeadExtream_get_MetalHeadExtream_1dX_table_result$21.$$arity = 4);\n        \n        Opal.def(self, '$get_roc_dice', $MetalHeadExtream_get_roc_dice$22 = function $$get_roc_dice(roc, diceMax) {\n          var self = this, dice = nil;\n\n          \n          dice = roc;\n          if ($truthy($rb_gt(dice, diceMax))) {\n            dice = diceMax};\n          if (dice['$=='](0)) {\n            dice = self.randomizer.$roll_once(diceMax)};\n          return dice;\n        }, $MetalHeadExtream_get_roc_dice$22.$$arity = 2);\n        return (Opal.def(self, '$get_value', $MetalHeadExtream_get_value$23 = function $$get_value(originalValue, calculateText) {\n          var $$24, self = this, result = nil, calculateArray = nil, $ret_or_8 = nil;\n\n          \n          result = originalValue.$to_f();\n          calculateArray = (function() {if ($truthy(($ret_or_8 = calculateText))) {\n            return $ret_or_8\n          } else {\n            return \"\"\n          }; return nil; })().$scan(/[*\\/]\\d*/);\n          $send(calculateArray, 'each', [], ($$24 = function(i){var self = $$24.$$s == null ? this : $$24.$$s;\n\n          \n            \n            if (i == null) {\n              i = nil;\n            };\n            i['$=~'](/([*\\/])(\\d*)/i);\n            if ($$($nesting, 'Regexp').$last_match(1)['$=='](\"*\")) {\n              result = $rb_times(result, $$($nesting, 'Regexp').$last_match(2).$to_i())};\n            if ($$($nesting, 'Regexp').$last_match(1)['$=='](\"/\")) {\n              return (result = $rb_divide(result, $$($nesting, 'Regexp').$last_match(2).$to_i()))\n            } else {\n              return nil\n            };}, $$24.$$s = self, $$24.$$arity = 1, $$24));\n          return result;\n        }, $MetalHeadExtream_get_value$23.$$arity = 2), nil) && 'get_value';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n"],"sourceRoot":"webpack:///"}