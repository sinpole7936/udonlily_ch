{"version":3,"sources":["./node_modules/bcdice/lib/bcdice/game_system/NinjaSlayer.js"],"names":["require","Opal","modules","$rb_lt","lhs","rhs","$rb_minus","$rb_plus","$rb_ge","$rb_gt","$rb_le","$rb_times","$a","self","top","$nesting","nil","$$$","$$","$module","module","$klass","klass","$truthy","truthy","$gvars","gvars","$send","send","$base","$parent_nesting","concat","$super","const_set","$Parser_racc_runtime_type$1","$Parser__racc_setup$2","$Parser__racc_init_sysvars$3","$Parser_do_parse$4","$Parser_next_token$5","$Parser__racc_do_parse_rb$6","$Parser_yyparse$8","$Parser__racc_yyparse_rb$9","$Parser__racc_evalact$12","$Parser__racc_do_reduce$14","$Parser_on_error$15","$Parser_yyerror$16","$Parser_yyaccept$17","$Parser_yyerrok$18","$Parser_racc_read_token$19","$Parser_racc_shift$20","$Parser_racc_reduce$21","$Parser_racc_accept$23","$Parser_racc_e_pop$24","$Parser_racc_next_state$25","$Parser_racc_print_stacks$26","$Parser_racc_print_states$28","$Parser_racc_token2str$30","$Parser_token_to_str$31","$$prototype","yydebug","racc_debug_out","racc_error_status","racc_t","racc_vstack","racc_val","racc_state","racc_tstack","defs","$$racc_runtime_type","$$arity","def","$$_racc_setup","$b","$ret_or_1","arg","$writer","stderr","$class","$size","to_a","$$_racc_init_sysvars","racc_read_next","racc_user_yyerror","$$do_parse","$__send__","$_racc_setup","$$next_token","$raise","$$_racc_do_parse_rb","in_debug","$$7","action_table","action_check","action_default","action_pointer","_","token_table","tok","act","i","to_ary","$_racc_init_sysvars","$$s","$c","$d","$e","$ret_or_2","$ret_or_3","$ret_or_4","$next_token","$racc_read_token","$_racc_evalact","$$yyparse","recv","mid","$$_racc_yyparse_rb","c_debug","$$10","$$11","val","$f","$ret_or_5","$ret_or_6","$ret_or_7","$ret_or_8","$ret_or_9","$ret_or_10","$ret_or_11","$ret_or_12","$ret_or_13","$$_racc_evalact","$$13","shift_n","reduce_n","$ret_or_14","$ret_or_15","code","$case","$ret_or_16","$ret_or_17","$push","$racc_shift","$_racc_do_reduce","$racc_accept","$throw","$on_error","$pop","$racc_e_pop","$inspect","$racc_next_state","$$_racc_do_reduce","goto_table","goto_check","goto_default","goto_pointer","nt_base","reduce_table","use_result","state","vstack","tstack","len","reduce_to","method_id","void_array","tmp_t","tmp_v","k1","$ret_or_18","$ret_or_19","curstate","$racc_reduce","$$on_error","t","$ret_or_20","$sprintf","$token_to_str","$$yyerror","$$yyaccept","$$yyerrok","$$racc_read_token","$print","$racc_token2str","$puts","$$racc_shift","$racc_print_stacks","$$racc_reduce","toks","sim","$$22","out","$$racc_accept","$$racc_e_pop","$racc_print_states","$$racc_next_state","$$racc_print_stacks","v","$$27","$$racc_print_states","s","$$29","st","$$racc_token2str","$ret_or_21","$$token_to_str","$StringScanner_initialize$1","$StringScanner_beginning_of_line$ques$2","$StringScanner_scan$3","$StringScanner_scan_until$4","$StringScanner_$$$5","$StringScanner_check$6","$StringScanner_check_until$7","$StringScanner_peek$8","$StringScanner_eos$ques$9","$StringScanner_exist$ques$10","$StringScanner_skip$11","$StringScanner_skip_until$12","$StringScanner_get_byte$13","$StringScanner_match$ques$14","$StringScanner_pos$eq$15","$StringScanner_matched_size$16","$StringScanner_post_match$17","$StringScanner_pre_match$18","$StringScanner_reset$19","$StringScanner_rest$20","$StringScanner_rest$ques$21","$StringScanner_rest_size$22","$StringScanner_terminate$23","$StringScanner_unscan$24","$StringScanner_anchor$25","pos","string","working","matched","prev_pos","match","$attr_reader","$$initialize","charAt","alias","$$scan","pattern","$anchor","result","exec","length","substring","$$scan_until","substr","idx","$to_s","$$check","$$check_until","$scan_until","$$peek","index","$$skip","match_str","match_len","$$skip_until","$$get_byte","$length","slice","$$matched_size","$$post_match","$$pre_match","$$reset","$$rest","$$rest_size","$rest","$$terminate","$$unscan","$private","$$anchor","flags","toString","undefined","RegExp","source","$Normalize_comparison_operator$1","$Normalize_target_number$2","$module_function","$$comparison_operator","op","$$target_number","$to_i","$hash2","hash2","$require","$Lexer_initialize$1","$Lexer_next_token$2","$Lexer_source$3","scanner","$freeze","$split","$first","$new","number","cmp_op","char$","type","$scan","$comparison_operator","$getch","$upcase","$to_sym","$$source","$string","$Command_initialize$1","$Command_eval$2","$Command_roll$7","$Command_expr$9","$Command_result_with_text$11","reroll_cmp_op","target_number_node","reroll_threshold_node","notations","$kwargs","secret","target_number","reroll_threshold","$$is_hash","ArgumentError","hasOwnProperty","call","$$smap","game_system","randomizer","$$3","$$4","$$5","$$6","round_type","reroll_condition","dice_queue","dice_list_list","dice_list","one_count","success_count","sequence","$round_type","$default_cmp_op","$default_target_number","$reroll_dice_reroll_threshold","node","$to_dice","d","$sides","$result_with_text","$roll","$flatten","$take","$count","$expr","list","$join","$grich_text","$compact","$$roll","sort","$$8","loop_count","dice","reroll_count","$shift","$$expr","notation","reroll_cmp_op_text","cmp_op_text","n","$cmp_op","$threshold","$$result_with_text","text","$$12","r","$RerollCondition_initialize$13","$RerollCondition_valid$ques$14","$RerollCondition_reroll$ques$15","threshold","sides","Range","value","$Notation_initialize$16","$Notation_to_dice$17","times","$$to_dice","$eval","$Dice_initialize$18","$Dice_roll$19","$Dice_to_s$20","$roll_barabara","$times","$$to_s","$rb_divide","$send2","send2","$BinaryOp_initialize$1","$BinaryOp_eval$2","$BinaryOp_output$3","$BinaryOp_s_exp$4","$BinaryOp_op_for_s_exp$5","l","$$output","$output","$$s_exp","$op_for_s_exp","$s_exp","$$op_for_s_exp","$DivideBase_initialize$6","$DivideBase_eval$7","$DivideBase_output$8","$DivideBase_rounding_method$9","$DivideBase_op_for_s_exp$10","$DivideBase_divide_and_round$11","$iter","$$p","$yield","find_super_dispatcher","$divide_and_round","$zuper","$zuper_i","$zuper_ii","arguments","Array","$rounding_method","$$rounding_method","$$divide_and_round","_dividend","_divisor","_round_type","$DivideWithGameSystemDefault_divide_and_round$12","dividend","divisor","$to_f","$ceil","$round","$DivideWithCeil_divide_and_round$13","$DivideWithRound_divide_and_round$14","$DivideWithFloor_divide_and_round$15","$Negative_initialize$16","$Negative_eval$17","$Negative_output$18","$Negative_s_exp$19","body","$Parenthesis_initialize$20","$Parenthesis_eval$21","$Parenthesis_output$22","$Parenthesis_s_exp$23","expr","$Number_initialize$24","$Number_eval$25","$Number_output$26","$hash","hash","$Parser_parse$1","$Parser_parse$2","$Parser_next_token$3","$Parser__reduce_1$4","$Parser__reduce_2$5","$Parser__reduce_3$6","$Parser__reduce_4$7","$Parser__reduce_5$8","$Parser__reduce_6$9","$Parser__reduce_7$10","$Parser__reduce_8$11","$Parser__reduce_9$12","$Parser__reduce_10$13","$Parser__reduce_12$14","$Parser__reduce_13$15","$Parser__reduce_15$16","$Parser__reduce_16$17","$Parser__reduce_17$18","$Parser__reduce_18$19","$Parser__reduce_19$20","$Parser__reduce_20$21","$Parser__reduce_21$22","$Parser__reduce_23$23","$Parser__reduce_24$24","$Parser__reduce_none$25","racc_action_table","racc_action_check","racc_action_pointer","racc_action_default","racc_goto_table","racc_goto_check","racc_goto_pointer","racc_goto_default","racc_reduce_table","racc_reduce_n","racc_shift_n","racc_token_table","racc_nt_base","racc_use_result_var","lexer","$$parse","$parse","$do_parse","$err","rescue","pop_exception","$$_reduce_1","_values","$$_reduce_2","$$_reduce_3","$$_reduce_4","$$_reduce_5","target","$$_reduce_6","$$_reduce_7","$$_reduce_8","$$_reduce_9","$$_reduce_10","$$_reduce_12","$$_reduce_13","divied_class","$$_reduce_15","$$_reduce_16","$$_reduce_17","$$_reduce_18","$$_reduce_19","$$_reduce_20","$$_reduce_21","$$_reduce_23","$$_reduce_24","$$_reduce_none","$eval$1","command","cmd","get_singleton_class","$Table_from_i18n$1","$Table_initialize$2","$Table_roll$3","$Table_choice$4","name","items","$$from_i18n","key","locale","table","$t","m","$match","bcdice","$roll_sum","$choice","$$choice","$NinjaSlayer_initialize$1","$NinjaSlayer_change_text$2","$NinjaSlayer_eval_game_system_specific_command$3","$NinjaSlayer_parse$4","$NinjaSlayer_parseEV$5","$NinjaSlayer_parseAT$6","$NinjaSlayer_parseEL$7","$NinjaSlayer_executeEV$8","$NinjaSlayer_executeAT$9","$NinjaSlayer_executeEL$11","$NinjaSlayer_integerValueOfDifficulty$14","$NinjaSlayer_bRollCommand$15","default_cmp_op","default_target_number","regexp","$$change_text","str","b_roll","$bRollCommand","$integerValueOfDifficulty","$$eval_game_system_specific_command","$debug","$randomizer","$executeEV","$executeAT","$executeEL","$parseEV","$last_match","$parseAT","$parseEL","$$parseEV","num","difficulty","targetValue","$$parseAT","$$parseEL","$$executeEV","ev","roll_result","parts","$num","$difficulty","$text","$targetValue","$success_num","$$executeAT","at","values","num_of_max_values","$rands","$$executeEL","el","sum_of_true_values","$$integerValueOfDifficulty","$fetch","$$bRollCommand","$register_prefix","$keys"],"mappings":"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","file":"default~NinjaSlayer~index.js","sourcesContent":["require('./../opal');\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"racc/parser\"] = function(Opal) {\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  var $a, self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy, $gvars = Opal.gvars, $send = Opal.send;\n\n  \n  (function($base, $parent_nesting) {\n    var self = $module($base, 'Racc');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $super, $parent_nesting) {\n      var self = $klass($base, $super, 'ParseError');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      return nil\n    })($nesting[0], $$($nesting, 'StandardError'), $nesting)\n  })($nesting[0], $nesting);\n  if ($truthy((($a = $$$('::', 'ParseError', 'skip_raise')) ? 'constant' : nil))) {\n  } else {\n    Opal.const_set($nesting[0], 'ParseError', $$$($$($nesting, 'Racc'), 'ParseError'))\n  };\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'Racc');\n\n    var $nesting = [self].concat($parent_nesting), $a;\n\n    \n    if ($truthy((($a = $$($nesting, 'Racc_No_Extensions', 'skip_raise')) ? 'constant' : nil))) {\n    } else {\n      Opal.const_set($nesting[0], 'Racc_No_Extensions', false)\n    };\n    (function($base, $super, $parent_nesting) {\n      var self = $klass($base, $super, 'Parser');\n\n      var $nesting = [self].concat($parent_nesting), $Parser_racc_runtime_type$1, $Parser__racc_setup$2, $Parser__racc_init_sysvars$3, $Parser_do_parse$4, $Parser_next_token$5, $Parser__racc_do_parse_rb$6, $Parser_yyparse$8, $Parser__racc_yyparse_rb$9, $Parser__racc_evalact$12, $Parser__racc_do_reduce$14, $Parser_on_error$15, $Parser_yyerror$16, $Parser_yyaccept$17, $Parser_yyerrok$18, $Parser_racc_read_token$19, $Parser_racc_shift$20, $Parser_racc_reduce$21, $Parser_racc_accept$23, $Parser_racc_e_pop$24, $Parser_racc_next_state$25, $Parser_racc_print_stacks$26, $Parser_racc_print_states$28, $Parser_racc_token2str$30, $Parser_token_to_str$31;\n\n      self.$$prototype.yydebug = self.$$prototype.racc_debug_out = self.$$prototype.racc_error_status = self.$$prototype.racc_t = self.$$prototype.racc_vstack = self.$$prototype.racc_val = self.$$prototype.racc_state = self.$$prototype.racc_tstack = nil;\n      \n      Opal.const_set($nesting[0], 'Racc_Runtime_Version', \"1.4.6\");\n      Opal.const_set($nesting[0], 'Racc_Runtime_Revision', [\"originalRevision:\", \"1.8\"]['$[]'](1));\n      Opal.const_set($nesting[0], 'Racc_Runtime_Core_Version_R', \"1.4.6\");\n      Opal.const_set($nesting[0], 'Racc_Runtime_Core_Revision_R', [\"originalRevision:\", \"1.8\"]['$[]'](1));\n      Opal.const_set($nesting[0], 'Racc_Main_Parsing_Routine', \"_racc_do_parse_rb\");\n      Opal.const_set($nesting[0], 'Racc_YY_Parse_Method', \"_racc_yyparse_rb\");\n      Opal.const_set($nesting[0], 'Racc_Runtime_Core_Version', $$($nesting, 'Racc_Runtime_Core_Version_R'));\n      Opal.const_set($nesting[0], 'Racc_Runtime_Core_Revision', $$($nesting, 'Racc_Runtime_Core_Revision_R'));\n      Opal.const_set($nesting[0], 'Racc_Runtime_Type', \"ruby\");\n      Opal.defs($$($nesting, 'Parser'), '$racc_runtime_type', $Parser_racc_runtime_type$1 = function $$racc_runtime_type() {\n        var self = this;\n\n        return $$($nesting, 'Racc_Runtime_Type')\n      }, $Parser_racc_runtime_type$1.$$arity = 0);\n      \n      Opal.def(self, '$_racc_setup', $Parser__racc_setup$2 = function $$_racc_setup() {\n        var $a, $b, self = this, $ret_or_1 = nil, arg = nil, $writer = nil;\n        if ($gvars.stderr == null) $gvars.stderr = nil;\n\n        \n        if ($truthy($$$(self.$class(), 'Racc_debug_parser'))) {\n        } else {\n          self.yydebug = false\n        };\n        if ($truthy((($a = self['yydebug'], $a != null && $a !== nil) ? 'instance-variable' : nil))) {\n        } else {\n          self.yydebug = false\n        };\n        if ($truthy(self.yydebug)) {\n          \n          if ($truthy((($b = self['racc_debug_out'], $b != null && $b !== nil) ? 'instance-variable' : nil))) {\n          } else {\n            self.racc_debug_out = $gvars.stderr\n          };\n          self.racc_debug_out = (function() {if ($truthy(($ret_or_1 = self.racc_debug_out))) {\n            return $ret_or_1\n          } else {\n            return $gvars.stderr\n          }; return nil; })();};\n        arg = $$$(self.$class(), 'Racc_arg');\n        if ($truthy($rb_lt(arg.$size(), 14))) {\n          \n          $writer = [13, true];\n          $send(arg, '[]=', Opal.to_a($writer));\n          $writer[$rb_minus($writer[\"length\"], 1)];};\n        return arg;\n      }, $Parser__racc_setup$2.$$arity = 0);\n      \n      Opal.def(self, '$_racc_init_sysvars', $Parser__racc_init_sysvars$3 = function $$_racc_init_sysvars() {\n        var self = this;\n\n        \n        self.racc_state = [0];\n        self.racc_tstack = [];\n        self.racc_vstack = [];\n        self.racc_t = nil;\n        self.racc_val = nil;\n        self.racc_read_next = true;\n        self.racc_user_yyerror = false;\n        return (self.racc_error_status = 0);\n      }, $Parser__racc_init_sysvars$3.$$arity = 0);\n      \n      Opal.def(self, '$do_parse', $Parser_do_parse$4 = function $$do_parse() {\n        var self = this;\n\n        return self.$__send__($$($nesting, 'Racc_Main_Parsing_Routine'), self.$_racc_setup(), false)\n      }, $Parser_do_parse$4.$$arity = 0);\n      \n      Opal.def(self, '$next_token', $Parser_next_token$5 = function $$next_token() {\n        var self = this;\n\n        return self.$raise($$($nesting, 'NotImplementedError'), \"\" + (self.$class()) + \"#next_token is not defined\")\n      }, $Parser_next_token$5.$$arity = 0);\n      \n      Opal.def(self, '$_racc_do_parse_rb', $Parser__racc_do_parse_rb$6 = function $$_racc_do_parse_rb(arg, in_debug) {\n        var $a, $b, $$7, self = this, action_table = nil, action_check = nil, action_default = nil, action_pointer = nil, _ = nil, token_table = nil, tok = nil, act = nil, i = nil;\n\n        \n        $b = arg, $a = Opal.to_ary($b), (action_table = ($a[0] == null ? nil : $a[0])), (action_check = ($a[1] == null ? nil : $a[1])), (action_default = ($a[2] == null ? nil : $a[2])), (action_pointer = ($a[3] == null ? nil : $a[3])), (_ = ($a[4] == null ? nil : $a[4])), (_ = ($a[5] == null ? nil : $a[5])), (_ = ($a[6] == null ? nil : $a[6])), (_ = ($a[7] == null ? nil : $a[7])), (_ = ($a[8] == null ? nil : $a[8])), (_ = ($a[9] == null ? nil : $a[9])), (token_table = ($a[10] == null ? nil : $a[10])), (_ = ($a[11] == null ? nil : $a[11])), (_ = ($a[12] == null ? nil : $a[12])), (_ = ($a[13] == null ? nil : $a[13])), $b;\n        self.$_racc_init_sysvars();\n        tok = (act = (i = nil));\n        return $send(self, 'catch', [\"racc_end_parse\"], ($$7 = function(){var self = $$7.$$s == null ? this : $$7.$$s, $c, $d, $e, $ret_or_2 = nil, $ret_or_3 = nil, $ret_or_4 = nil;\n          if (self.racc_state == null) self.racc_state = nil;\n          if (self.racc_read_next == null) self.racc_read_next = nil;\n          if (self.racc_t == null) self.racc_t = nil;\n          if (self.yydebug == null) self.yydebug = nil;\n          if (self.racc_val == null) self.racc_val = nil;\n\n        while ($truthy(true)) {\n            \n            if ($truthy((i = action_pointer['$[]'](self.racc_state['$[]'](-1))))) {\n              \n              if ($truthy(self.racc_read_next)) {\n                if ($truthy(self.racc_t['$!='](0))) {\n                  \n                  $e = self.$next_token(), $d = Opal.to_ary($e), (tok = ($d[0] == null ? nil : $d[0])), (self.racc_val = ($d[1] == null ? nil : $d[1])), $e;\n                  if ($truthy(tok)) {\n                    self.racc_t = (function() {if ($truthy(($ret_or_2 = token_table['$[]'](tok)))) {\n                      return $ret_or_2\n                    } else {\n                      return 1\n                    }; return nil; })()\n                  } else {\n                    self.racc_t = 0\n                  };\n                  if ($truthy(self.yydebug)) {\n                    self.$racc_read_token(self.racc_t, tok, self.racc_val)};\n                  self.racc_read_next = false;}};\n              i = $rb_plus(i, self.racc_t);\n              if ($truthy((function() {if ($truthy(($ret_or_3 = (function() {if ($truthy(($ret_or_4 = $rb_ge(i, 0)))) {\n                return (act = action_table['$[]'](i))\n              } else {\n                return $ret_or_4\n              }; return nil; })()))) {\n                return action_check['$[]'](i)['$=='](self.racc_state['$[]'](-1))\n              } else {\n                return $ret_or_3\n              }; return nil; })())) {\n              } else {\n                act = action_default['$[]'](self.racc_state['$[]'](-1))\n              };\n            } else {\n              act = action_default['$[]'](self.racc_state['$[]'](-1))\n            };\n            while ($truthy((act = self.$_racc_evalact(act, arg)))) {\n              \n            };\n          }}, $$7.$$s = self, $$7.$$arity = 0, $$7));\n      }, $Parser__racc_do_parse_rb$6.$$arity = 2);\n      \n      Opal.def(self, '$yyparse', $Parser_yyparse$8 = function $$yyparse(recv, mid) {\n        var self = this;\n\n        return self.$__send__($$($nesting, 'Racc_YY_Parse_Method'), recv, mid, self.$_racc_setup(), true)\n      }, $Parser_yyparse$8.$$arity = 2);\n      \n      Opal.def(self, '$_racc_yyparse_rb', $Parser__racc_yyparse_rb$9 = function $$_racc_yyparse_rb(recv, mid, arg, c_debug) {\n        var $a, $b, $$10, self = this, action_table = nil, action_check = nil, action_default = nil, action_pointer = nil, _ = nil, token_table = nil, act = nil, i = nil;\n\n        \n        $b = arg, $a = Opal.to_ary($b), (action_table = ($a[0] == null ? nil : $a[0])), (action_check = ($a[1] == null ? nil : $a[1])), (action_default = ($a[2] == null ? nil : $a[2])), (action_pointer = ($a[3] == null ? nil : $a[3])), (_ = ($a[4] == null ? nil : $a[4])), (_ = ($a[5] == null ? nil : $a[5])), (_ = ($a[6] == null ? nil : $a[6])), (_ = ($a[7] == null ? nil : $a[7])), (_ = ($a[8] == null ? nil : $a[8])), (_ = ($a[9] == null ? nil : $a[9])), (token_table = ($a[10] == null ? nil : $a[10])), (_ = ($a[11] == null ? nil : $a[11])), (_ = ($a[12] == null ? nil : $a[12])), (_ = ($a[13] == null ? nil : $a[13])), $b;\n        self.$_racc_init_sysvars();\n        act = nil;\n        i = nil;\n        return $send(self, 'catch', [\"racc_end_parse\"], ($$10 = function(){var self = $$10.$$s == null ? this : $$10.$$s, $c, $d, $$11;\n          if (self.racc_state == null) self.racc_state = nil;\n\n        \n          while (!($truthy((i = action_pointer['$[]'](self.racc_state['$[]'](-1)))))) {\n            while ($truthy((act = self.$_racc_evalact(action_default['$[]'](self.racc_state['$[]'](-1)), arg)))) {\n              \n            }\n          };\n          return $send(recv, '__send__', [mid], ($$11 = function(tok, val){var self = $$11.$$s == null ? this : $$11.$$s, $e, $f, $ret_or_5 = nil, $ret_or_6 = nil, $ret_or_7 = nil, $ret_or_8 = nil, $ret_or_9 = nil, $ret_or_10 = nil, $ret_or_11 = nil, $ret_or_12 = nil, $ret_or_13 = nil;\n            if (self.racc_t == null) self.racc_t = nil;\n            if (self.racc_state == null) self.racc_state = nil;\n            if (self.racc_read_next == null) self.racc_read_next = nil;\n\n          \n            \n            if (tok == null) {\n              tok = nil;\n            };\n            \n            if (val == null) {\n              val = nil;\n            };\n            if ($truthy(tok)) {\n              self.racc_t = (function() {if ($truthy(($ret_or_5 = token_table['$[]'](tok)))) {\n                return $ret_or_5\n              } else {\n                return 1\n              }; return nil; })()\n            } else {\n              self.racc_t = 0\n            };\n            self.racc_val = val;\n            self.racc_read_next = false;\n            i = $rb_plus(i, self.racc_t);\n            if ($truthy((function() {if ($truthy(($ret_or_6 = (function() {if ($truthy(($ret_or_7 = $rb_ge(i, 0)))) {\n              return (act = action_table['$[]'](i))\n            } else {\n              return $ret_or_7\n            }; return nil; })()))) {\n              return action_check['$[]'](i)['$=='](self.racc_state['$[]'](-1))\n            } else {\n              return $ret_or_6\n            }; return nil; })())) {\n            } else {\n              act = action_default['$[]'](self.racc_state['$[]'](-1))\n            };\n            while ($truthy((act = self.$_racc_evalact(act, arg)))) {\n              \n            };\n            while ($truthy((function() {if ($truthy(($ret_or_8 = (function() {if ($truthy(($ret_or_9 = (i = action_pointer['$[]'](self.racc_state['$[]'](-1)))['$!']()))) {\n              return $ret_or_9\n            } else {\n              return self.racc_read_next['$!']()\n            }; return nil; })()))) {\n              return $ret_or_8\n            } else {\n              return self.racc_t['$=='](0)\n            }; return nil; })())) {\n              \n              if ($truthy((function() {if ($truthy(($ret_or_10 = (function() {if ($truthy(($ret_or_11 = (function() {if ($truthy(($ret_or_12 = (function() {if ($truthy(($ret_or_13 = i))) {\n                return (i = $rb_plus(i, self.racc_t))\n              } else {\n                return $ret_or_13\n              }; return nil; })()))) {\n                return $rb_ge(i, 0)\n              } else {\n                return $ret_or_12\n              }; return nil; })()))) {\n                return (act = action_table['$[]'](i))\n              } else {\n                return $ret_or_11\n              }; return nil; })()))) {\n                return action_check['$[]'](i)['$=='](self.racc_state['$[]'](-1))\n              } else {\n                return $ret_or_10\n              }; return nil; })())) {\n              } else {\n                act = action_default['$[]'](self.racc_state['$[]'](-1))\n              };\n              while ($truthy((act = self.$_racc_evalact(act, arg)))) {\n                \n              };\n            };}, $$11.$$s = self, $$11.$$arity = 2, $$11));}, $$10.$$s = self, $$10.$$arity = 0, $$10));\n      }, $Parser__racc_yyparse_rb$9.$$arity = 4);\n      \n      Opal.def(self, '$_racc_evalact', $Parser__racc_evalact$12 = function $$_racc_evalact(act, arg) {\n        var $a, $b, $$13, self = this, action_table = nil, action_check = nil, _ = nil, action_pointer = nil, shift_n = nil, reduce_n = nil, $ret_or_14 = nil, $ret_or_15 = nil, code = nil, $case = nil, i = nil, $ret_or_16 = nil, $ret_or_17 = nil;\n\n        \n        $b = arg, $a = Opal.to_ary($b), (action_table = ($a[0] == null ? nil : $a[0])), (action_check = ($a[1] == null ? nil : $a[1])), (_ = ($a[2] == null ? nil : $a[2])), (action_pointer = ($a[3] == null ? nil : $a[3])), (_ = ($a[4] == null ? nil : $a[4])), (_ = ($a[5] == null ? nil : $a[5])), (_ = ($a[6] == null ? nil : $a[6])), (_ = ($a[7] == null ? nil : $a[7])), (_ = ($a[8] == null ? nil : $a[8])), (_ = ($a[9] == null ? nil : $a[9])), (_ = ($a[10] == null ? nil : $a[10])), (shift_n = ($a[11] == null ? nil : $a[11])), (reduce_n = ($a[12] == null ? nil : $a[12])), (_ = ($a[13] == null ? nil : $a[13])), (_ = ($a[14] == null ? nil : $a[14])), $b;\n        if ($truthy((function() {if ($truthy(($ret_or_14 = $rb_gt(act, 0)))) {\n          return $rb_lt(act, shift_n)\n        } else {\n          return $ret_or_14\n        }; return nil; })())) {\n          \n          if ($truthy($rb_gt(self.racc_error_status, 0))) {\n            if (self.racc_t['$=='](1)) {\n            } else {\n              self.racc_error_status = $rb_minus(self.racc_error_status, 1)\n            }};\n          self.racc_vstack.$push(self.racc_val);\n          self.racc_state.$push(act);\n          self.racc_read_next = true;\n          if ($truthy(self.yydebug)) {\n            \n            self.racc_tstack.$push(self.racc_t);\n            self.$racc_shift(self.racc_t, self.racc_tstack, self.racc_vstack);};\n        } else if ($truthy((function() {if ($truthy(($ret_or_15 = $rb_lt(act, 0)))) {\n          return $rb_gt(act, reduce_n['$-@']())\n        } else {\n          return $ret_or_15\n        }; return nil; })())) {\n          \n          code = $send(self, 'catch', [\"racc_jump\"], ($$13 = function(){var self = $$13.$$s == null ? this : $$13.$$s;\n            if (self.racc_state == null) self.racc_state = nil;\n\n          \n            self.racc_state.$push(self.$_racc_do_reduce(arg, act));\n            return false;}, $$13.$$s = self, $$13.$$arity = 0, $$13));\n          if ($truthy(code)) {\n            $case = code;\n            if ((1)['$===']($case)) {\n            self.racc_user_yyerror = true;\n            return reduce_n['$-@']();}\n            else if ((2)['$===']($case)) {return shift_n}\n            else {self.$raise(\"[Racc Bug] unknown jump code\")}};\n        } else if (act['$=='](shift_n)) {\n          \n          if ($truthy(self.yydebug)) {\n            self.$racc_accept()};\n          self.$throw(\"racc_end_parse\", self.racc_vstack['$[]'](0));\n        } else if (act['$=='](reduce_n['$-@']())) {\n          \n          $case = self.racc_error_status;\n          if ((0)['$===']($case)) {if ($truthy(arg['$[]'](21))) {\n          } else {\n            self.$on_error(self.racc_t, self.racc_val, self.racc_vstack)\n          }}\n          else if ((3)['$===']($case)) {\n          if (self.racc_t['$=='](0)) {\n            self.$throw(\"racc_end_parse\", nil)};\n          self.racc_read_next = true;};\n          self.racc_user_yyerror = false;\n          self.racc_error_status = 3;\n          while ($truthy(true)) {\n            \n            if ($truthy((i = action_pointer['$[]'](self.racc_state['$[]'](-1))))) {\n              \n              i = $rb_plus(i, 1);\n              if ($truthy((function() {if ($truthy(($ret_or_16 = (function() {if ($truthy(($ret_or_17 = $rb_ge(i, 0)))) {\n                \n                return (act = action_table['$[]'](i));\n              } else {\n                return $ret_or_17\n              }; return nil; })()))) {\n                return action_check['$[]'](i)['$=='](self.racc_state['$[]'](-1))\n              } else {\n                return $ret_or_16\n              }; return nil; })())) {\n                break;};};\n            if ($truthy($rb_le(self.racc_state.$size(), 1))) {\n              self.$throw(\"racc_end_parse\", nil)};\n            self.racc_state.$pop();\n            self.racc_vstack.$pop();\n            if ($truthy(self.yydebug)) {\n              \n              self.racc_tstack.$pop();\n              self.$racc_e_pop(self.racc_state, self.racc_tstack, self.racc_vstack);};\n          };\n          return act;\n        } else {\n          self.$raise(\"\" + \"[Racc Bug] unknown action \" + (act.$inspect()))\n        };\n        if ($truthy(self.yydebug)) {\n          self.$racc_next_state(self.racc_state['$[]'](-1), self.racc_state)};\n        return nil;\n      }, $Parser__racc_evalact$12.$$arity = 2);\n      \n      Opal.def(self, '$_racc_do_reduce', $Parser__racc_do_reduce$14 = function $$_racc_do_reduce(arg, act) {\n        var $a, $b, self = this, _ = nil, goto_table = nil, goto_check = nil, goto_default = nil, goto_pointer = nil, nt_base = nil, reduce_table = nil, use_result = nil, state = nil, vstack = nil, tstack = nil, i = nil, len = nil, reduce_to = nil, method_id = nil, void_array = nil, tmp_t = nil, tmp_v = nil, $writer = nil, k1 = nil, $ret_or_18 = nil, $ret_or_19 = nil, curstate = nil;\n\n        \n        $b = arg, $a = Opal.to_ary($b), (_ = ($a[0] == null ? nil : $a[0])), (_ = ($a[1] == null ? nil : $a[1])), (_ = ($a[2] == null ? nil : $a[2])), (_ = ($a[3] == null ? nil : $a[3])), (goto_table = ($a[4] == null ? nil : $a[4])), (goto_check = ($a[5] == null ? nil : $a[5])), (goto_default = ($a[6] == null ? nil : $a[6])), (goto_pointer = ($a[7] == null ? nil : $a[7])), (nt_base = ($a[8] == null ? nil : $a[8])), (reduce_table = ($a[9] == null ? nil : $a[9])), (_ = ($a[10] == null ? nil : $a[10])), (_ = ($a[11] == null ? nil : $a[11])), (_ = ($a[12] == null ? nil : $a[12])), (use_result = ($a[13] == null ? nil : $a[13])), $b;\n        state = self.racc_state;\n        vstack = self.racc_vstack;\n        tstack = self.racc_tstack;\n        i = $rb_times(act, -3);\n        len = reduce_table['$[]'](i);\n        reduce_to = reduce_table['$[]']($rb_plus(i, 1));\n        method_id = reduce_table['$[]']($rb_plus(i, 2));\n        void_array = [];\n        if ($truthy(self.yydebug)) {\n          tmp_t = tstack['$[]'](len['$-@'](), len)};\n        tmp_v = vstack['$[]'](len['$-@'](), len);\n        if ($truthy(self.yydebug)) {\n          \n          $writer = [len['$-@'](), len, void_array];\n          $send(tstack, '[]=', Opal.to_a($writer));\n          $writer[$rb_minus($writer[\"length\"], 1)];};\n        \n        $writer = [len['$-@'](), len, void_array];\n        $send(vstack, '[]=', Opal.to_a($writer));\n        $writer[$rb_minus($writer[\"length\"], 1)];;\n        \n        $writer = [len['$-@'](), len, void_array];\n        $send(state, '[]=', Opal.to_a($writer));\n        $writer[$rb_minus($writer[\"length\"], 1)];;\n        if ($truthy(use_result)) {\n          vstack.$push(self.$__send__(method_id, tmp_v, vstack, tmp_v['$[]'](0)))\n        } else {\n          vstack.$push(self.$__send__(method_id, tmp_v, vstack))\n        };\n        tstack.$push(reduce_to);\n        if ($truthy(self.yydebug)) {\n          self.$racc_reduce(tmp_t, reduce_to, tstack, vstack)};\n        k1 = $rb_minus(reduce_to, nt_base);\n        if ($truthy((i = goto_pointer['$[]'](k1)))) {\n          \n          i = $rb_plus(i, state['$[]'](-1));\n          if ($truthy((function() {if ($truthy(($ret_or_18 = (function() {if ($truthy(($ret_or_19 = $rb_ge(i, 0)))) {\n            \n            return (curstate = goto_table['$[]'](i));\n          } else {\n            return $ret_or_19\n          }; return nil; })()))) {\n            return goto_check['$[]'](i)['$=='](k1)\n          } else {\n            return $ret_or_18\n          }; return nil; })())) {\n            return curstate};};\n        return goto_default['$[]'](k1);\n      }, $Parser__racc_do_reduce$14.$$arity = 2);\n      \n      Opal.def(self, '$on_error', $Parser_on_error$15 = function $$on_error(t, val, vstack) {\n        var self = this, $ret_or_20 = nil;\n\n        return self.$raise($$($nesting, 'ParseError'), self.$sprintf(\"\\nparse error on value %s (%s)\", val.$inspect(), (function() {if ($truthy(($ret_or_20 = self.$token_to_str(t)))) {\n          return $ret_or_20\n        } else {\n          return \"?\"\n        }; return nil; })()))\n      }, $Parser_on_error$15.$$arity = 3);\n      \n      Opal.def(self, '$yyerror', $Parser_yyerror$16 = function $$yyerror() {\n        var self = this;\n\n        return self.$throw(\"racc_jump\", 1)\n      }, $Parser_yyerror$16.$$arity = 0);\n      \n      Opal.def(self, '$yyaccept', $Parser_yyaccept$17 = function $$yyaccept() {\n        var self = this;\n\n        return self.$throw(\"racc_jump\", 2)\n      }, $Parser_yyaccept$17.$$arity = 0);\n      \n      Opal.def(self, '$yyerrok', $Parser_yyerrok$18 = function $$yyerrok() {\n        var self = this;\n\n        return (self.racc_error_status = 0)\n      }, $Parser_yyerrok$18.$$arity = 0);\n      \n      Opal.def(self, '$racc_read_token', $Parser_racc_read_token$19 = function $$racc_read_token(t, tok, val) {\n        var self = this;\n\n        \n        self.racc_debug_out.$print(\"read    \");\n        self.racc_debug_out.$print(tok.$inspect(), \"(\", self.$racc_token2str(t), \") \");\n        self.racc_debug_out.$puts(val.$inspect());\n        return self.racc_debug_out.$puts();\n      }, $Parser_racc_read_token$19.$$arity = 3);\n      \n      Opal.def(self, '$racc_shift', $Parser_racc_shift$20 = function $$racc_shift(tok, tstack, vstack) {\n        var self = this;\n\n        \n        self.racc_debug_out.$puts(\"\" + \"shift   \" + (self.$racc_token2str(tok)));\n        self.$racc_print_stacks(tstack, vstack);\n        return self.racc_debug_out.$puts();\n      }, $Parser_racc_shift$20.$$arity = 3);\n      \n      Opal.def(self, '$racc_reduce', $Parser_racc_reduce$21 = function $$racc_reduce(toks, sim, tstack, vstack) {\n        var $$22, self = this, out = nil;\n\n        \n        out = self.racc_debug_out;\n        out.$print(\"reduce \");\n        if ($truthy(toks['$empty?']())) {\n          out.$print(\" <none>\")\n        } else {\n          $send(toks, 'each', [], ($$22 = function(t){var self = $$22.$$s == null ? this : $$22.$$s;\n\n          \n            \n            if (t == null) {\n              t = nil;\n            };\n            return out.$print(\" \", self.$racc_token2str(t));}, $$22.$$s = self, $$22.$$arity = 1, $$22))\n        };\n        out.$puts(\"\" + \" --> \" + (self.$racc_token2str(sim)));\n        self.$racc_print_stacks(tstack, vstack);\n        return self.racc_debug_out.$puts();\n      }, $Parser_racc_reduce$21.$$arity = 4);\n      \n      Opal.def(self, '$racc_accept', $Parser_racc_accept$23 = function $$racc_accept() {\n        var self = this;\n\n        \n        self.racc_debug_out.$puts(\"accept\");\n        return self.racc_debug_out.$puts();\n      }, $Parser_racc_accept$23.$$arity = 0);\n      \n      Opal.def(self, '$racc_e_pop', $Parser_racc_e_pop$24 = function $$racc_e_pop(state, tstack, vstack) {\n        var self = this;\n\n        \n        self.racc_debug_out.$puts(\"error recovering mode: pop token\");\n        self.$racc_print_states(state);\n        self.$racc_print_stacks(tstack, vstack);\n        return self.racc_debug_out.$puts();\n      }, $Parser_racc_e_pop$24.$$arity = 3);\n      \n      Opal.def(self, '$racc_next_state', $Parser_racc_next_state$25 = function $$racc_next_state(curstate, state) {\n        var self = this;\n\n        \n        self.racc_debug_out.$puts(\"\" + \"goto    \" + (curstate));\n        self.$racc_print_states(state);\n        return self.racc_debug_out.$puts();\n      }, $Parser_racc_next_state$25.$$arity = 2);\n      \n      Opal.def(self, '$racc_print_stacks', $Parser_racc_print_stacks$26 = function $$racc_print_stacks(t, v) {\n        var $$27, self = this, out = nil;\n\n        \n        out = self.racc_debug_out;\n        out.$print(\"        [\");\n        $send(t, 'each_index', [], ($$27 = function(i){var self = $$27.$$s == null ? this : $$27.$$s;\n\n        \n          \n          if (i == null) {\n            i = nil;\n          };\n          return out.$print(\" (\", self.$racc_token2str(t['$[]'](i)), \" \", v['$[]'](i).$inspect(), \")\");}, $$27.$$s = self, $$27.$$arity = 1, $$27));\n        return out.$puts(\" ]\");\n      }, $Parser_racc_print_stacks$26.$$arity = 2);\n      \n      Opal.def(self, '$racc_print_states', $Parser_racc_print_states$28 = function $$racc_print_states(s) {\n        var $$29, self = this, out = nil;\n\n        \n        out = self.racc_debug_out;\n        out.$print(\"        [\");\n        $send(s, 'each', [], ($$29 = function(st){var self = $$29.$$s == null ? this : $$29.$$s;\n\n        \n          \n          if (st == null) {\n            st = nil;\n          };\n          return out.$print(\" \", st);}, $$29.$$s = self, $$29.$$arity = 1, $$29));\n        return out.$puts(\" ]\");\n      }, $Parser_racc_print_states$28.$$arity = 1);\n      \n      Opal.def(self, '$racc_token2str', $Parser_racc_token2str$30 = function $$racc_token2str(tok) {\n        var self = this, $ret_or_21 = nil;\n\n        if ($truthy(($ret_or_21 = $$$(self.$class(), 'Racc_token_to_s_table')['$[]'](tok)))) {\n          return $ret_or_21\n        } else {\n          return self.$raise(\"\" + \"[Racc Bug] can't convert token \" + (tok) + \" to string\")\n        }\n      }, $Parser_racc_token2str$30.$$arity = 1);\n      return (Opal.def(self, '$token_to_str', $Parser_token_to_str$31 = function $$token_to_str(t) {\n        var self = this;\n\n        return $$$(self.$class(), 'Racc_token_to_s_table')['$[]'](t)\n      }, $Parser_token_to_str$31.$$arity = 1), nil) && 'token_to_str';\n    })($nesting[0], null, $nesting);\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"strscan\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $klass = Opal.klass, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $super, $parent_nesting) {\n    var self = $klass($base, $super, 'StringScanner');\n\n    var $nesting = [self].concat($parent_nesting), $StringScanner_initialize$1, $StringScanner_beginning_of_line$ques$2, $StringScanner_scan$3, $StringScanner_scan_until$4, $StringScanner_$$$5, $StringScanner_check$6, $StringScanner_check_until$7, $StringScanner_peek$8, $StringScanner_eos$ques$9, $StringScanner_exist$ques$10, $StringScanner_skip$11, $StringScanner_skip_until$12, $StringScanner_get_byte$13, $StringScanner_match$ques$14, $StringScanner_pos$eq$15, $StringScanner_matched_size$16, $StringScanner_post_match$17, $StringScanner_pre_match$18, $StringScanner_reset$19, $StringScanner_rest$20, $StringScanner_rest$ques$21, $StringScanner_rest_size$22, $StringScanner_terminate$23, $StringScanner_unscan$24, $StringScanner_anchor$25;\n\n    self.$$prototype.pos = self.$$prototype.string = self.$$prototype.working = self.$$prototype.matched = self.$$prototype.prev_pos = self.$$prototype.match = nil;\n    \n    self.$attr_reader(\"pos\");\n    self.$attr_reader(\"matched\");\n    \n    Opal.def(self, '$initialize', $StringScanner_initialize$1 = function $$initialize(string) {\n      var self = this;\n\n      \n      self.string = string;\n      self.pos = 0;\n      self.matched = nil;\n      self.working = string;\n      return (self.match = []);\n    }, $StringScanner_initialize$1.$$arity = 1);\n    self.$attr_reader(\"string\");\n    \n    Opal.def(self, '$beginning_of_line?', $StringScanner_beginning_of_line$ques$2 = function() {\n      var self = this;\n\n      return self.pos === 0 || self.string.charAt(self.pos - 1) === \"\\n\"\n    }, $StringScanner_beginning_of_line$ques$2.$$arity = 0);\n    Opal.alias(self, \"bol?\", \"beginning_of_line?\");\n    \n    Opal.def(self, '$scan', $StringScanner_scan$3 = function $$scan(pattern) {\n      var self = this;\n\n      \n      pattern = self.$anchor(pattern);\n      \n      var result = pattern.exec(self.working);\n\n      if (result == null) {\n        return self.matched = nil;\n      }\n      else if (typeof(result) === 'object') {\n        self.prev_pos = self.pos;\n        self.pos     += result[0].length;\n        self.working  = self.working.substring(result[0].length);\n        self.matched  = result[0];\n        self.match    = result;\n\n        return result[0];\n      }\n      else if (typeof(result) === 'string') {\n        self.pos     += result.length;\n        self.working  = self.working.substring(result.length);\n\n        return result;\n      }\n      else {\n        return nil;\n      }\n    ;\n    }, $StringScanner_scan$3.$$arity = 1);\n    \n    Opal.def(self, '$scan_until', $StringScanner_scan_until$4 = function $$scan_until(pattern) {\n      var self = this;\n\n      \n      pattern = self.$anchor(pattern);\n      \n      var pos     = self.pos,\n          working = self.working,\n          result;\n\n      while (true) {\n        result   = pattern.exec(working);\n        pos     += 1;\n        working  = working.substr(1);\n\n        if (result == null) {\n          if (working.length === 0) {\n            self.match = [];\n            return self.matched = nil;\n          }\n\n          continue;\n        }\n\n        self.matched  = self.string.substr(self.pos, pos - self.pos - 1 + result[0].length);\n        self.match    = result;\n        self.prev_pos = pos - 1;\n        self.pos      = pos;\n        self.working  = working.substr(result[0].length);\n\n        return self.matched;\n      }\n    ;\n    }, $StringScanner_scan_until$4.$$arity = 1);\n    \n    Opal.def(self, '$[]', $StringScanner_$$$5 = function(idx) {\n      var self = this, $case = nil;\n\n      \n      if ($truthy(self.match['$empty?']())) {\n        return nil};\n      $case = idx;\n      if ($$($nesting, 'Symbol')['$===']($case)) {idx = idx.$to_s()}\n      else if ($$($nesting, 'String')['$===']($case)) {nil}\n      else {idx = $$($nesting, 'Opal')['$coerce_to!'](idx, $$($nesting, 'Integer'), \"to_int\")};\n      \n      var match = self.match;\n\n      if (idx < 0) {\n        idx += match.length;\n      }\n\n      if (idx < 0 || idx >= match.length) {\n        return nil;\n      }\n\n      if (match[idx] == null) {\n        return nil;\n      }\n\n      return match[idx];\n    ;\n    }, $StringScanner_$$$5.$$arity = 1);\n    \n    Opal.def(self, '$check', $StringScanner_check$6 = function $$check(pattern) {\n      var self = this;\n\n      \n      pattern = self.$anchor(pattern);\n      \n      var result = pattern.exec(self.working);\n\n      if (result == null) {\n        return self.matched = nil;\n      }\n\n      return self.matched = result[0];\n    ;\n    }, $StringScanner_check$6.$$arity = 1);\n    \n    Opal.def(self, '$check_until', $StringScanner_check_until$7 = function $$check_until(pattern) {\n      var self = this;\n\n      \n      var prev_pos = self.prev_pos,\n          pos      = self.pos;\n\n      var result = self.$scan_until(pattern);\n\n      if (result !== nil) {\n        self.matched = result.substr(-1);\n        self.working = self.string.substr(pos);\n      }\n\n      self.prev_pos = prev_pos;\n      self.pos      = pos;\n\n      return result;\n    \n    }, $StringScanner_check_until$7.$$arity = 1);\n    \n    Opal.def(self, '$peek', $StringScanner_peek$8 = function $$peek(length) {\n      var self = this;\n\n      return self.working.substring(0, length)\n    }, $StringScanner_peek$8.$$arity = 1);\n    \n    Opal.def(self, '$eos?', $StringScanner_eos$ques$9 = function() {\n      var self = this;\n\n      return self.working.length === 0\n    }, $StringScanner_eos$ques$9.$$arity = 0);\n    \n    Opal.def(self, '$exist?', $StringScanner_exist$ques$10 = function(pattern) {\n      var self = this;\n\n      \n      var result = pattern.exec(self.working);\n\n      if (result == null) {\n        return nil;\n      }\n      else if (result.index == 0) {\n        return 0;\n      }\n      else {\n        return result.index + 1;\n      }\n    \n    }, $StringScanner_exist$ques$10.$$arity = 1);\n    \n    Opal.def(self, '$skip', $StringScanner_skip$11 = function $$skip(pattern) {\n      var self = this;\n\n      \n      pattern = self.$anchor(pattern);\n      \n      var result = pattern.exec(self.working);\n\n      if (result == null) {\n        self.match = [];\n        return self.matched = nil;\n      }\n      else {\n        var match_str = result[0];\n        var match_len = match_str.length;\n\n        self.matched   = match_str;\n        self.match     = result;\n        self.prev_pos  = self.pos;\n        self.pos      += match_len;\n        self.working   = self.working.substring(match_len);\n\n        return match_len;\n      }\n    ;\n    }, $StringScanner_skip$11.$$arity = 1);\n    \n    Opal.def(self, '$skip_until', $StringScanner_skip_until$12 = function $$skip_until(pattern) {\n      var self = this;\n\n      \n      var result = self.$scan_until(pattern);\n\n      if (result === nil) {\n        return nil;\n      }\n      else {\n        self.matched = result.substr(-1);\n\n        return result.length;\n      }\n    \n    }, $StringScanner_skip_until$12.$$arity = 1);\n    \n    Opal.def(self, '$get_byte', $StringScanner_get_byte$13 = function $$get_byte() {\n      var self = this;\n\n      \n      var result = nil;\n\n      if (self.pos < self.string.length) {\n        self.prev_pos  = self.pos;\n        self.pos      += 1;\n        result      = self.matched = self.working.substring(0, 1);\n        self.working   = self.working.substring(1);\n      }\n      else {\n        self.matched = nil;\n      }\n\n      return result;\n    \n    }, $StringScanner_get_byte$13.$$arity = 0);\n    Opal.alias(self, \"getch\", \"get_byte\");\n    \n    Opal.def(self, '$match?', $StringScanner_match$ques$14 = function(pattern) {\n      var self = this;\n\n      \n      pattern = self.$anchor(pattern);\n      \n      var result = pattern.exec(self.working);\n\n      if (result == null) {\n        return nil;\n      }\n      else {\n        self.prev_pos = self.pos;\n\n        return result[0].length;\n      }\n    ;\n    }, $StringScanner_match$ques$14.$$arity = 1);\n    \n    Opal.def(self, '$pos=', $StringScanner_pos$eq$15 = function(pos) {\n      var self = this;\n\n      \n      \n      if (pos < 0) {\n        pos += self.string.$length();\n      }\n    ;\n      self.pos = pos;\n      return (self.working = self.string.slice(pos));\n    }, $StringScanner_pos$eq$15.$$arity = 1);\n    \n    Opal.def(self, '$matched_size', $StringScanner_matched_size$16 = function $$matched_size() {\n      var self = this;\n\n      \n      if (self.matched === nil) {\n        return nil;\n      }\n\n      return self.matched.length\n    \n    }, $StringScanner_matched_size$16.$$arity = 0);\n    \n    Opal.def(self, '$post_match', $StringScanner_post_match$17 = function $$post_match() {\n      var self = this;\n\n      \n      if (self.matched === nil) {\n        return nil;\n      }\n\n      return self.string.substr(self.pos);\n    \n    }, $StringScanner_post_match$17.$$arity = 0);\n    \n    Opal.def(self, '$pre_match', $StringScanner_pre_match$18 = function $$pre_match() {\n      var self = this;\n\n      \n      if (self.matched === nil) {\n        return nil;\n      }\n\n      return self.string.substr(0, self.prev_pos);\n    \n    }, $StringScanner_pre_match$18.$$arity = 0);\n    \n    Opal.def(self, '$reset', $StringScanner_reset$19 = function $$reset() {\n      var self = this;\n\n      \n      self.working = self.string;\n      self.matched = nil;\n      return (self.pos = 0);\n    }, $StringScanner_reset$19.$$arity = 0);\n    \n    Opal.def(self, '$rest', $StringScanner_rest$20 = function $$rest() {\n      var self = this;\n\n      return self.working\n    }, $StringScanner_rest$20.$$arity = 0);\n    \n    Opal.def(self, '$rest?', $StringScanner_rest$ques$21 = function() {\n      var self = this;\n\n      return self.working.length !== 0\n    }, $StringScanner_rest$ques$21.$$arity = 0);\n    \n    Opal.def(self, '$rest_size', $StringScanner_rest_size$22 = function $$rest_size() {\n      var self = this;\n\n      return self.$rest().$size()\n    }, $StringScanner_rest_size$22.$$arity = 0);\n    \n    Opal.def(self, '$terminate', $StringScanner_terminate$23 = function $$terminate() {\n      var self = this, $writer = nil;\n\n      \n      self.match = nil;\n      \n      $writer = [self.string.$length()];\n      $send(self, 'pos=', Opal.to_a($writer));\n      return $writer[$rb_minus($writer[\"length\"], 1)];;\n    }, $StringScanner_terminate$23.$$arity = 0);\n    \n    Opal.def(self, '$unscan', $StringScanner_unscan$24 = function $$unscan() {\n      var self = this;\n\n      \n      self.pos = self.prev_pos;\n      self.prev_pos = nil;\n      self.match = nil;\n      return self;\n    }, $StringScanner_unscan$24.$$arity = 0);\n    self.$private();\n    return (Opal.def(self, '$anchor', $StringScanner_anchor$25 = function $$anchor(pattern) {\n      var self = this;\n\n      \n      var flags = pattern.toString().match(/\\/([^\\/]+)$/);\n      flags = flags ? flags[1] : undefined;\n      return new RegExp('^(?:' + pattern.source + ')', flags);\n    \n    }, $StringScanner_anchor$25.$$arity = 1), nil) && 'anchor';\n  })($nesting[0], null, $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/normalize\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'Normalize');\n\n      var $nesting = [self].concat($parent_nesting), $Normalize_comparison_operator$1, $Normalize_target_number$2;\n\n      \n      self.$module_function();\n      \n      Opal.def(self, '$comparison_operator', $Normalize_comparison_operator$1 = function $$comparison_operator(op) {\n        var self = this, $case = nil;\n\n        return (function() {$case = op;\n        if (/<=|=</['$===']($case)) {return \"<=\"}\n        else if (/>=|=>/['$===']($case)) {return \">=\"}\n        else if (/<>|!=|=!/['$===']($case)) {return \"!=\"}\n        else if (/</['$===']($case)) {return \"<\"}\n        else if (/>/['$===']($case)) {return \">\"}\n        else if (/=/['$===']($case)) {return \"==\"}\n        else { return nil }})()\n      }, $Normalize_comparison_operator$1.$$arity = 1);\n      \n      Opal.def(self, '$target_number', $Normalize_target_number$2 = function $$target_number(val) {\n        var self = this;\n\n        if (val['$=='](\"?\")) {\n          return val\n        } else {\n          return val.$to_i()\n        }\n      }, $Normalize_target_number$2.$$arity = 1);\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/common_command/lexer\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2, $truthy = Opal.truthy;\n\n  \n  self.$require(\"strscan\");\n  self.$require(\"bcdice/normalize\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'CommonCommand');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Lexer');\n\n        var $nesting = [self].concat($parent_nesting), $Lexer_initialize$1, $Lexer_next_token$2, $Lexer_source$3;\n\n        self.$$prototype.scanner = nil;\n        \n        Opal.const_set($nesting[0], 'SYMBOLS', $hash2([\"+\", \"-\", \"*\", \"/\", \"(\", \")\", \"[\", \"]\", \"?\", \"@\"], {\"+\": \"PLUS\", \"-\": \"MINUS\", \"*\": \"ASTERISK\", \"/\": \"SLASH\", \"(\": \"PARENL\", \")\": \"PARENR\", \"[\": \"BRACKETL\", \"]\": \"BRACKETR\", \"?\": \"QUESTION\", \"@\": \"AT\"}).$freeze());\n        \n        Opal.def(self, '$initialize', $Lexer_initialize$1 = function $$initialize(source) {\n          var self = this, $ret_or_1 = nil;\n\n          \n          source = (function() {if ($truthy(($ret_or_1 = source.$split(\" \", 2).$first()))) {\n            return $ret_or_1\n          } else {\n            return \"\"\n          }; return nil; })();\n          return (self.scanner = $$($nesting, 'StringScanner').$new(source));\n        }, $Lexer_initialize$1.$$arity = 1);\n        \n        Opal.def(self, '$next_token', $Lexer_next_token$2 = function $$next_token() {\n          var self = this, number = nil, cmp_op = nil, char$ = nil, type = nil, $ret_or_2 = nil;\n\n          \n          if ($truthy(self.scanner['$eos?']())) {\n            return [false, \"$\"]};\n          if ($truthy((number = self.scanner.$scan(/\\d+/)))) {\n            return [\"NUMBER\", number.$to_i()]\n          } else if ($truthy((cmp_op = self.scanner.$scan(/[<>!=]+/)))) {\n            return [\"CMP_OP\", $$($nesting, 'Normalize').$comparison_operator(cmp_op)]\n          } else {\n            \n            char$ = self.scanner.$getch().$upcase();\n            type = (function() {if ($truthy(($ret_or_2 = $$($nesting, 'SYMBOLS')['$[]'](char$)))) {\n              return $ret_or_2\n            } else {\n              return char$.$to_sym()\n            }; return nil; })();\n            return [type, char$];\n          };\n        }, $Lexer_next_token$2.$$arity = 0);\n        return (Opal.def(self, '$source', $Lexer_source$3 = function $$source() {\n          var self = this;\n\n          return self.scanner.$string()\n        }, $Lexer_source$3.$$arity = 0), nil) && 'source';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/common_command/reroll_dice/node\"] = function(Opal) {\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'CommonCommand');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $parent_nesting) {\n        var self = $module($base, 'RerollDice');\n\n        var $nesting = [self].concat($parent_nesting);\n\n        (function($base, $parent_nesting) {\n          var self = $module($base, 'Node');\n\n          var $nesting = [self].concat($parent_nesting);\n\n          \n          (function($base, $super, $parent_nesting) {\n            var self = $klass($base, $super, 'Command');\n\n            var $nesting = [self].concat($parent_nesting), $Command_initialize$1, $Command_eval$2, $Command_roll$7, $Command_expr$9, $Command_result_with_text$11;\n\n            self.$$prototype.cmp_op = self.$$prototype.reroll_cmp_op = self.$$prototype.target_number_node = self.$$prototype.reroll_threshold_node = self.$$prototype.notations = self.$$prototype.source = nil;\n            \n            \n            Opal.def(self, '$initialize', $Command_initialize$1 = function $$initialize($kwargs) {\n              var secret, notations, source, cmp_op, target_number, reroll_cmp_op, reroll_threshold, self = this;\n\n              \n              \n              if ($kwargs == null) {\n                $kwargs = $hash2([], {});\n              } else if (!$kwargs.$$is_hash) {\n                throw Opal.ArgumentError.$new('expected kwargs');\n              };\n              \n              if (!Opal.hasOwnProperty.call($kwargs.$$smap, 'secret')) {\n                throw Opal.ArgumentError.$new('missing keyword: secret');\n              }\n              secret = $kwargs.$$smap[\"secret\"];;\n              \n              if (!Opal.hasOwnProperty.call($kwargs.$$smap, 'notations')) {\n                throw Opal.ArgumentError.$new('missing keyword: notations');\n              }\n              notations = $kwargs.$$smap[\"notations\"];;\n              \n              if (!Opal.hasOwnProperty.call($kwargs.$$smap, 'source')) {\n                throw Opal.ArgumentError.$new('missing keyword: source');\n              }\n              source = $kwargs.$$smap[\"source\"];;\n              \n              cmp_op = $kwargs.$$smap[\"cmp_op\"];\n              if (cmp_op == null) {\n                cmp_op = nil\n              };\n              \n              target_number = $kwargs.$$smap[\"target_number\"];\n              if (target_number == null) {\n                target_number = nil\n              };\n              \n              reroll_cmp_op = $kwargs.$$smap[\"reroll_cmp_op\"];\n              if (reroll_cmp_op == null) {\n                reroll_cmp_op = nil\n              };\n              \n              reroll_threshold = $kwargs.$$smap[\"reroll_threshold\"];\n              if (reroll_threshold == null) {\n                reroll_threshold = nil\n              };\n              self.secret = secret;\n              self.notations = notations;\n              self.cmp_op = cmp_op;\n              self.target_number_node = target_number;\n              self.reroll_cmp_op = reroll_cmp_op;\n              self.reroll_threshold_node = reroll_threshold;\n              return (self.source = source);\n            }, $Command_initialize$1.$$arity = 1);\n            \n            Opal.def(self, '$eval', $Command_eval$2 = function(game_system, randomizer) {\n              var $a, $b, $$3, $$4, $$5, $$6, self = this, round_type = nil, cmp_op = nil, $ret_or_1 = nil, reroll_cmp_op = nil, $ret_or_2 = nil, $ret_or_3 = nil, target_number = nil, $ret_or_4 = nil, reroll_threshold = nil, $ret_or_5 = nil, $ret_or_6 = nil, reroll_condition = nil, dice_queue = nil, dice_list_list = nil, dice_list = nil, one_count = nil, success_count = nil, sequence = nil;\n\n              \n              round_type = game_system.$round_type();\n              cmp_op = (function() {if ($truthy(($ret_or_1 = self.cmp_op))) {\n                return $ret_or_1\n              } else {\n                return game_system.$default_cmp_op()\n              }; return nil; })();\n              reroll_cmp_op = (function() {if ($truthy(($ret_or_2 = (function() {if ($truthy(($ret_or_3 = self.reroll_cmp_op))) {\n                return $ret_or_3\n              } else {\n                return cmp_op\n              }; return nil; })()))) {\n                return $ret_or_2\n              } else {\n                return \">=\"\n              }; return nil; })();\n              target_number = (function() {if ($truthy(($ret_or_4 = ($a = self.target_number_node, ($a === nil || $a == null) ? nil : $send($a, 'eval', [round_type]))))) {\n                return $ret_or_4\n              } else {\n                return game_system.$default_target_number()\n              }; return nil; })();\n              reroll_threshold = (function() {if ($truthy(($ret_or_5 = (function() {if ($truthy(($ret_or_6 = ($b = self.reroll_threshold_node, ($b === nil || $b == null) ? nil : $send($b, 'eval', [round_type]))))) {\n                return $ret_or_6\n              } else {\n                return game_system.$reroll_dice_reroll_threshold()\n              }; return nil; })()))) {\n                return $ret_or_5\n              } else {\n                return target_number\n              }; return nil; })();\n              reroll_condition = $$($nesting, 'RerollCondition').$new(reroll_cmp_op, reroll_threshold);\n              dice_queue = $send(self.notations, 'map', [], ($$3 = function(node){var self = $$3.$$s == null ? this : $$3.$$s;\n\n              \n                \n                if (node == null) {\n                  node = nil;\n                };\n                return node.$to_dice(round_type);}, $$3.$$s = self, $$3.$$arity = 1, $$3));\n              if ($truthy($send(dice_queue, 'all?', [], ($$4 = function(d){var self = $$4.$$s == null ? this : $$4.$$s;\n\n              \n                \n                if (d == null) {\n                  d = nil;\n                };\n                return reroll_condition['$valid?'](d.$sides());}, $$4.$$s = self, $$4.$$arity = 1, $$4)))) {\n              } else {\n                return self.$result_with_text(\"\" + (self.source) + \"  2R6>=5  2R6[5] \")\n              };\n              dice_list_list = self.$roll(dice_queue, randomizer, reroll_condition, game_system['$sort_barabara_dice?']());\n              dice_list = dice_list_list.$flatten();\n              one_count = dice_list_list.$take(self.notations.$size()).$flatten().$count(1);\n              success_count = (function() {if ($truthy(cmp_op)) {\n                return $send(dice_list, 'count', [], ($$5 = function(val){var self = $$5.$$s == null ? this : $$5.$$s;\n\n                \n                  \n                  if (val == null) {\n                    val = nil;\n                  };\n                  return val.$send(cmp_op, target_number);}, $$5.$$s = self, $$5.$$arity = 1, $$5))\n              } else {\n                return 0\n              }; return nil; })();\n              sequence = [self.$expr(round_type, reroll_condition, cmp_op, target_number), $send(dice_list_list, 'map', [], ($$6 = function(list){var self = $$6.$$s == null ? this : $$6.$$s;\n\n              \n                \n                if (list == null) {\n                  list = nil;\n                };\n                return list.$join(\",\");}, $$6.$$s = self, $$6.$$arity = 1, $$6)).$join(\" + \"), \"\" + \"\" + (success_count), game_system.$grich_text(one_count, dice_list.$size(), success_count)].$compact();\n              return self.$result_with_text(sequence.$join(\"  \"));\n            }, $Command_eval$2.$$arity = 2);\n            self.$private();\n            \n            Opal.def(self, '$roll', $Command_roll$7 = function $$roll(dice_queue, randomizer, reroll_condition, sort) {\n              var $a, $$8, self = this, dice_list_list = nil, loop_count = nil, $ret_or_7 = nil, dice = nil, dice_list = nil, reroll_count = nil;\n\n              \n              dice_list_list = [];\n              loop_count = 0;\n              while ($truthy((function() {if ($truthy(($ret_or_7 = dice_queue['$empty?']()['$!']()))) {\n                return $rb_lt(loop_count, $$($nesting, 'REROLL_LIMIT'))\n              } else {\n                return $ret_or_7\n              }; return nil; })())) {\n                \n                dice = dice_queue.$shift();\n                loop_count = $rb_plus(loop_count, 1);\n                dice_list = dice.$roll(randomizer);\n                if ($truthy(sort)) {\n                  dice_list['$sort!']()};\n                dice_list_list.$push(dice_list);\n                reroll_count = $send(dice_list, 'count', [], ($$8 = function(val){var self = $$8.$$s == null ? this : $$8.$$s;\n\n                \n                  \n                  if (val == null) {\n                    val = nil;\n                  };\n                  return reroll_condition['$reroll?'](val);}, $$8.$$s = self, $$8.$$arity = 1, $$8));\n                if ($truthy($rb_gt(reroll_count, 0))) {\n                  dice_queue.$push($$($nesting, 'Dice').$new(reroll_count, dice.$sides()))};\n              };\n              return dice_list_list;\n            }, $Command_roll$7.$$arity = 4);\n            \n            Opal.def(self, '$expr', $Command_expr$9 = function $$expr(round_type, reroll_condition, cmp_op, target_number) {\n              var $$10, self = this, notation = nil, reroll_cmp_op_text = nil, cmp_op_text = nil;\n\n              \n              notation = $send(self.notations, 'map', [], ($$10 = function(n){var self = $$10.$$s == null ? this : $$10.$$s;\n\n              \n                \n                if (n == null) {\n                  n = nil;\n                };\n                return n.$to_dice(round_type);}, $$10.$$s = self, $$10.$$arity = 1, $$10)).$join(\"+\");\n              reroll_cmp_op_text = (function() {if (reroll_condition.$cmp_op()['$=='](cmp_op)) {\n                return \"\"\n              } else {\n                return $$($nesting, 'Format').$comparison_operator(reroll_condition.$cmp_op())\n              }; return nil; })();\n              cmp_op_text = $$($nesting, 'Format').$comparison_operator(cmp_op);\n              return \"\" + \"(\" + (notation) + \"[\" + (reroll_cmp_op_text) + (reroll_condition.$threshold()) + \"]\" + (cmp_op_text) + (target_number) + \")\";\n            }, $Command_expr$9.$$arity = 4);\n            return (Opal.def(self, '$result_with_text', $Command_result_with_text$11 = function $$result_with_text(text) {\n              var $$12, self = this;\n\n              return $send($$($nesting, 'Result').$new(), 'tap', [], ($$12 = function(r){var self = $$12.$$s == null ? this : $$12.$$s, $writer = nil;\n                if (self.secret == null) self.secret = nil;\n\n              \n                \n                if (r == null) {\n                  r = nil;\n                };\n                \n                $writer = [self.secret];\n                $send(r, 'secret=', Opal.to_a($writer));\n                $writer[$rb_minus($writer[\"length\"], 1)];;\n                \n                $writer = [text];\n                $send(r, 'text=', Opal.to_a($writer));\n                return $writer[$rb_minus($writer[\"length\"], 1)];;}, $$12.$$s = self, $$12.$$arity = 1, $$12))\n            }, $Command_result_with_text$11.$$arity = 1), nil) && 'result_with_text';\n          })($nesting[0], null, $nesting);\n          (function($base, $super, $parent_nesting) {\n            var self = $klass($base, $super, 'RerollCondition');\n\n            var $nesting = [self].concat($parent_nesting), $RerollCondition_initialize$13, $RerollCondition_valid$ques$14, $RerollCondition_reroll$ques$15;\n\n            self.$$prototype.threshold = self.$$prototype.cmp_op = nil;\n            \n            self.$attr_reader(\"cmp_op\");\n            self.$attr_reader(\"threshold\");\n            \n            Opal.def(self, '$initialize', $RerollCondition_initialize$13 = function $$initialize(cmp_op, threshold) {\n              var self = this;\n\n              \n              self.cmp_op = cmp_op;\n              return (self.threshold = threshold);\n            }, $RerollCondition_initialize$13.$$arity = 2);\n            \n            Opal.def(self, '$valid?', $RerollCondition_valid$ques$14 = function(sides) {\n              var self = this, $case = nil;\n\n              \n              if ($truthy(self.threshold)) {\n              } else {\n                return false\n              };\n              return (function() {$case = self.cmp_op;\n              if (\"<=\"['$===']($case)) {return $rb_lt(self.threshold, sides)}\n              else if (\"<\"['$===']($case)) {return $rb_le(self.threshold, sides)}\n              else if (\">=\"['$===']($case)) {return $rb_gt(self.threshold, 1)}\n              else if (\">\"['$===']($case)) {return $rb_ge(self.threshold, 1)}\n              else if (\"!=\"['$===']($case)) {return Opal.Range.$new(1, sides, false)['$include?'](self.threshold)}\n              else {return true}})();\n            }, $RerollCondition_valid$ques$14.$$arity = 1);\n            return (Opal.def(self, '$reroll?', $RerollCondition_reroll$ques$15 = function(value) {\n              var self = this;\n\n              return value.$send(self.cmp_op, self.threshold)\n            }, $RerollCondition_reroll$ques$15.$$arity = 1), nil) && 'reroll?';\n          })($nesting[0], null, $nesting);\n          (function($base, $super, $parent_nesting) {\n            var self = $klass($base, $super, 'Notation');\n\n            var $nesting = [self].concat($parent_nesting), $Notation_initialize$16, $Notation_to_dice$17;\n\n            self.$$prototype.times = self.$$prototype.sides = nil;\n            \n            \n            Opal.def(self, '$initialize', $Notation_initialize$16 = function $$initialize(times, sides) {\n              var self = this;\n\n              \n              self.times = times;\n              return (self.sides = sides);\n            }, $Notation_initialize$16.$$arity = 2);\n            return (Opal.def(self, '$to_dice', $Notation_to_dice$17 = function $$to_dice(round_type) {\n              var self = this, times = nil, sides = nil;\n\n              \n              times = self.times.$eval(round_type);\n              sides = self.sides.$eval(round_type);\n              return $$($nesting, 'Dice').$new(times, sides);\n            }, $Notation_to_dice$17.$$arity = 1), nil) && 'to_dice';\n          })($nesting[0], null, $nesting);\n          (function($base, $super, $parent_nesting) {\n            var self = $klass($base, $super, 'Dice');\n\n            var $nesting = [self].concat($parent_nesting), $Dice_initialize$18, $Dice_roll$19, $Dice_to_s$20;\n\n            \n            self.$attr_reader(\"times\", \"sides\");\n            \n            Opal.def(self, '$initialize', $Dice_initialize$18 = function $$initialize(times, sides) {\n              var self = this;\n\n              \n              self.times = times;\n              return (self.sides = sides);\n            }, $Dice_initialize$18.$$arity = 2);\n            \n            Opal.def(self, '$roll', $Dice_roll$19 = function $$roll(randomizer) {\n              var self = this;\n\n              return randomizer.$roll_barabara(self.$times(), self.$sides())\n            }, $Dice_roll$19.$$arity = 1);\n            return (Opal.def(self, '$to_s', $Dice_to_s$20 = function $$to_s() {\n              var self = this;\n\n              return \"\" + (self.$times()) + \"R\" + (self.$sides())\n            }, $Dice_to_s$20.$$arity = 0), nil) && 'to_s';\n          })($nesting[0], null, $nesting);\n        })($nesting[0], $nesting)\n      })($nesting[0], $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/arithmetic/node\"] = function(Opal) {\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'Arithmetic');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $parent_nesting) {\n        var self = $module($base, 'Node');\n\n        var $nesting = [self].concat($parent_nesting);\n\n        \n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'BinaryOp');\n\n          var $nesting = [self].concat($parent_nesting), $BinaryOp_initialize$1, $BinaryOp_eval$2, $BinaryOp_output$3, $BinaryOp_s_exp$4, $BinaryOp_op_for_s_exp$5;\n\n          self.$$prototype.lhs = self.$$prototype.rhs = self.$$prototype.op = nil;\n          \n          \n          Opal.def(self, '$initialize', $BinaryOp_initialize$1 = function $$initialize(lhs, op, rhs) {\n            var self = this;\n\n            \n            self.lhs = lhs;\n            self.op = op;\n            return (self.rhs = rhs);\n          }, $BinaryOp_initialize$1.$$arity = 3);\n          \n          Opal.def(self, '$eval', $BinaryOp_eval$2 = function(round_type) {\n            var self = this, l = nil, r = nil;\n\n            \n            l = self.lhs.$eval(round_type);\n            r = self.rhs.$eval(round_type);\n            return l.$send(self.op, r);\n          }, $BinaryOp_eval$2.$$arity = 1);\n          \n          Opal.def(self, '$output', $BinaryOp_output$3 = function $$output() {\n            var self = this;\n\n            return \"\" + (self.lhs.$output()) + (self.op) + (self.rhs.$output())\n          }, $BinaryOp_output$3.$$arity = 0);\n          \n          Opal.def(self, '$s_exp', $BinaryOp_s_exp$4 = function $$s_exp() {\n            var self = this;\n\n            return \"\" + \"(\" + (self.$op_for_s_exp()) + \" \" + (self.lhs.$s_exp()) + \" \" + (self.rhs.$s_exp()) + \")\"\n          }, $BinaryOp_s_exp$4.$$arity = 0);\n          return (Opal.def(self, '$op_for_s_exp', $BinaryOp_op_for_s_exp$5 = function $$op_for_s_exp() {\n            var self = this;\n\n            return self.op\n          }, $BinaryOp_op_for_s_exp$5.$$arity = 0), nil) && 'op_for_s_exp';\n        })($nesting[0], null, $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'DivideBase');\n\n          var $nesting = [self].concat($parent_nesting), $DivideBase_initialize$6, $DivideBase_eval$7, $DivideBase_output$8, $DivideBase_rounding_method$9, $DivideBase_op_for_s_exp$10, $DivideBase_divide_and_round$11;\n\n          self.$$prototype.lhs = self.$$prototype.rhs = self.$$prototype.op = nil;\n          \n          \n          Opal.def(self, '$initialize', $DivideBase_initialize$6 = function $$initialize(lhs, rhs) {\n            var $iter = $DivideBase_initialize$6.$$p, $yield = $iter || nil, self = this;\n\n            if ($iter) $DivideBase_initialize$6.$$p = null;\n            return $send2(self, Opal.find_super_dispatcher(self, 'initialize', $DivideBase_initialize$6, false, true), 'initialize', [lhs, \"/\", rhs], null)\n          }, $DivideBase_initialize$6.$$arity = 2);\n          \n          Opal.def(self, '$eval', $DivideBase_eval$7 = function(round_type) {\n            var self = this, l = nil, r = nil;\n\n            \n            l = self.lhs.$eval(round_type);\n            r = self.rhs.$eval(round_type);\n            if (r['$=='](0)) {\n              self.$raise($$($nesting, 'ZeroDivisionError'))};\n            return self.$divide_and_round(l, r, round_type);\n          }, $DivideBase_eval$7.$$arity = 1);\n          \n          Opal.def(self, '$output', $DivideBase_output$8 = function $$output() {\n            var $iter = $DivideBase_output$8.$$p, $yield = $iter || nil, self = this, $zuper = nil, $zuper_i = nil, $zuper_ii = nil;\n\n            if ($iter) $DivideBase_output$8.$$p = null;\n            // Prepare super implicit arguments\n            for($zuper_i = 0, $zuper_ii = arguments.length, $zuper = new Array($zuper_ii); $zuper_i < $zuper_ii; $zuper_i++) {\n              $zuper[$zuper_i] = arguments[$zuper_i];\n            }\n            return \"\" + ($send2(self, Opal.find_super_dispatcher(self, 'output', $DivideBase_output$8, false, true), 'output', $zuper, $iter)) + (self.$rounding_method())\n          }, $DivideBase_output$8.$$arity = 0);\n          self.$private();\n          \n          Opal.def(self, '$rounding_method', $DivideBase_rounding_method$9 = function $$rounding_method() {\n            var self = this;\n\n            return $$$(self.$class(), 'ROUNDING_METHOD')\n          }, $DivideBase_rounding_method$9.$$arity = 0);\n          \n          Opal.def(self, '$op_for_s_exp', $DivideBase_op_for_s_exp$10 = function $$op_for_s_exp() {\n            var self = this;\n\n            return \"\" + (self.op) + (self.$rounding_method())\n          }, $DivideBase_op_for_s_exp$10.$$arity = 0);\n          return (Opal.def(self, '$divide_and_round', $DivideBase_divide_and_round$11 = function $$divide_and_round(_dividend, _divisor, _round_type) {\n            var self = this;\n\n            return self.$raise($$($nesting, 'NotImplementedError'))\n          }, $DivideBase_divide_and_round$11.$$arity = 3), nil) && 'divide_and_round';\n        })($nesting[0], $$($nesting, 'BinaryOp'), $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'DivideWithGameSystemDefault');\n\n          var $nesting = [self].concat($parent_nesting), $DivideWithGameSystemDefault_divide_and_round$12;\n\n          \n          Opal.const_set($nesting[0], 'ROUNDING_METHOD', \"\");\n          self.$private();\n          return (Opal.def(self, '$divide_and_round', $DivideWithGameSystemDefault_divide_and_round$12 = function $$divide_and_round(dividend, divisor, round_type) {\n            var self = this, $case = nil;\n\n            return (function() {$case = round_type;\n            if ($$$($$($nesting, 'RoundType'), 'CEIL')['$===']($case)) {return $rb_divide(dividend.$to_f(), divisor).$ceil()}\n            else if ($$$($$($nesting, 'RoundType'), 'ROUND')['$===']($case)) {return $rb_divide(dividend.$to_f(), divisor).$round()}\n            else {return $rb_divide(dividend, divisor).$to_i()}})()\n          }, $DivideWithGameSystemDefault_divide_and_round$12.$$arity = 3), nil) && 'divide_and_round';\n        })($nesting[0], $$($nesting, 'DivideBase'), $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'DivideWithCeil');\n\n          var $nesting = [self].concat($parent_nesting), $DivideWithCeil_divide_and_round$13;\n\n          \n          Opal.const_set($nesting[0], 'ROUNDING_METHOD', \"C\");\n          self.$private();\n          return (Opal.def(self, '$divide_and_round', $DivideWithCeil_divide_and_round$13 = function $$divide_and_round(dividend, divisor, _round_type) {\n            var self = this;\n\n            return $rb_divide(dividend.$to_f(), divisor).$ceil()\n          }, $DivideWithCeil_divide_and_round$13.$$arity = 3), nil) && 'divide_and_round';\n        })($nesting[0], $$($nesting, 'DivideBase'), $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'DivideWithRound');\n\n          var $nesting = [self].concat($parent_nesting), $DivideWithRound_divide_and_round$14;\n\n          \n          Opal.const_set($nesting[0], 'ROUNDING_METHOD', \"R\");\n          self.$private();\n          return (Opal.def(self, '$divide_and_round', $DivideWithRound_divide_and_round$14 = function $$divide_and_round(dividend, divisor, _round_type) {\n            var self = this;\n\n            return $rb_divide(dividend.$to_f(), divisor).$round()\n          }, $DivideWithRound_divide_and_round$14.$$arity = 3), nil) && 'divide_and_round';\n        })($nesting[0], $$($nesting, 'DivideBase'), $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'DivideWithFloor');\n\n          var $nesting = [self].concat($parent_nesting), $DivideWithFloor_divide_and_round$15;\n\n          \n          Opal.const_set($nesting[0], 'ROUNDING_METHOD', \"F\");\n          self.$private();\n          return (Opal.def(self, '$divide_and_round', $DivideWithFloor_divide_and_round$15 = function $$divide_and_round(dividend, divisor, _round_type) {\n            var self = this;\n\n            return $rb_divide(dividend, divisor).$to_i()\n          }, $DivideWithFloor_divide_and_round$15.$$arity = 3), nil) && 'divide_and_round';\n        })($nesting[0], $$($nesting, 'DivideBase'), $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'Negative');\n\n          var $nesting = [self].concat($parent_nesting), $Negative_initialize$16, $Negative_eval$17, $Negative_output$18, $Negative_s_exp$19;\n\n          self.$$prototype.body = nil;\n          \n          \n          Opal.def(self, '$initialize', $Negative_initialize$16 = function $$initialize(body) {\n            var self = this;\n\n            return (self.body = body)\n          }, $Negative_initialize$16.$$arity = 1);\n          \n          Opal.def(self, '$eval', $Negative_eval$17 = function(round_type) {\n            var self = this;\n\n            return self.body.$eval(round_type)['$-@']()\n          }, $Negative_eval$17.$$arity = 1);\n          \n          Opal.def(self, '$output', $Negative_output$18 = function $$output() {\n            var self = this;\n\n            return \"\" + \"-\" + (self.body.$output())\n          }, $Negative_output$18.$$arity = 0);\n          return (Opal.def(self, '$s_exp', $Negative_s_exp$19 = function $$s_exp() {\n            var self = this;\n\n            return \"\" + \"(- \" + (self.body.$s_exp()) + \")\"\n          }, $Negative_s_exp$19.$$arity = 0), nil) && 's_exp';\n        })($nesting[0], null, $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'Parenthesis');\n\n          var $nesting = [self].concat($parent_nesting), $Parenthesis_initialize$20, $Parenthesis_eval$21, $Parenthesis_output$22, $Parenthesis_s_exp$23;\n\n          self.$$prototype.expr = nil;\n          \n          \n          Opal.def(self, '$initialize', $Parenthesis_initialize$20 = function $$initialize(expr) {\n            var self = this;\n\n            return (self.expr = expr)\n          }, $Parenthesis_initialize$20.$$arity = 1);\n          \n          Opal.def(self, '$eval', $Parenthesis_eval$21 = function(round_type) {\n            var self = this;\n\n            return self.expr.$eval(round_type)\n          }, $Parenthesis_eval$21.$$arity = 1);\n          \n          Opal.def(self, '$output', $Parenthesis_output$22 = function $$output() {\n            var self = this;\n\n            return \"\" + \"(\" + (self.expr.$output()) + \")\"\n          }, $Parenthesis_output$22.$$arity = 0);\n          return (Opal.def(self, '$s_exp', $Parenthesis_s_exp$23 = function $$s_exp() {\n            var self = this;\n\n            return \"\" + \"(Parenthesis \" + (self.expr.$s_exp()) + \")\"\n          }, $Parenthesis_s_exp$23.$$arity = 0), nil) && 's_exp';\n        })($nesting[0], null, $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'Number');\n\n          var $nesting = [self].concat($parent_nesting), $Number_initialize$24, $Number_eval$25, $Number_output$26;\n\n          self.$$prototype.value = nil;\n          \n          \n          Opal.def(self, '$initialize', $Number_initialize$24 = function $$initialize(value) {\n            var self = this;\n\n            return (self.value = value)\n          }, $Number_initialize$24.$$arity = 1);\n          \n          Opal.def(self, '$eval', $Number_eval$25 = function(_round_type) {\n            var self = this;\n\n            return self.value\n          }, $Number_eval$25.$$arity = 1);\n          \n          Opal.def(self, '$output', $Number_output$26 = function $$output() {\n            var self = this;\n\n            return self.value.$to_s()\n          }, $Number_output$26.$$arity = 0);\n          return Opal.alias(self, \"s_exp\", \"output\");\n        })($nesting[0], null, $nesting);\n      })($nesting[0], $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/common_command/barabara_dice/parser\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash = Opal.hash, $hash2 = Opal.hash2, $truthy = Opal.truthy;\n\n  \n  self.$require(\"racc/parser.rb\");\n  self.$require(\"bcdice/common_command/lexer\");\n  self.$require(\"bcdice/common_command/reroll_dice/node\");\n  self.$require(\"bcdice/arithmetic/node\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'CommonCommand');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $parent_nesting) {\n        var self = $module($base, 'BarabaraDice');\n\n        var $nesting = [self].concat($parent_nesting);\n\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'Parser');\n\n          var $nesting = [self].concat($parent_nesting), $Parser_parse$1, $Parser_parse$2, $Parser_next_token$3, $Parser__reduce_1$4, $Parser__reduce_2$5, $Parser__reduce_3$6, $Parser__reduce_4$7, $Parser__reduce_5$8, $Parser__reduce_6$9, $Parser__reduce_7$10, $Parser__reduce_8$11, $Parser__reduce_9$12, $Parser__reduce_10$13, $Parser__reduce_12$14, $Parser__reduce_13$15, $Parser__reduce_15$16, $Parser__reduce_16$17, $Parser__reduce_17$18, $Parser__reduce_18$19, $Parser__reduce_19$20, $Parser__reduce_20$21, $Parser__reduce_21$22, $Parser__reduce_23$23, $Parser__reduce_24$24, $Parser__reduce_none$25, racc_action_table = nil, racc_action_check = nil, racc_action_pointer = nil, racc_action_default = nil, racc_goto_table = nil, racc_goto_check = nil, racc_goto_pointer = nil, racc_goto_default = nil, racc_reduce_table = nil, racc_reduce_n = nil, racc_shift_n = nil, racc_token_table = nil, racc_nt_base = nil, racc_use_result_var = nil;\n\n          self.$$prototype.lexer = nil;\n          \n          Opal.defs(self, '$parse', $Parser_parse$1 = function $$parse(source) {\n            var self = this;\n\n            return self.$new().$parse(source)\n          }, $Parser_parse$1.$$arity = 1);\n          \n          Opal.def(self, '$parse', $Parser_parse$2 = function $$parse(source) {\n            var self = this;\n\n            try {\n              \n              self.lexer = $$($nesting, 'Lexer').$new(source);\n              return self.$do_parse();\n            } catch ($err) {\n              if (Opal.rescue($err, [$$($nesting, 'ParseError')])) {\n                try {\n                  return nil\n                } finally { Opal.pop_exception() }\n              } else { throw $err; }\n            }\n          }, $Parser_parse$2.$$arity = 1);\n          self.$private();\n          \n          Opal.def(self, '$next_token', $Parser_next_token$3 = function $$next_token() {\n            var self = this;\n\n            return self.lexer.$next_token()\n          }, $Parser_next_token$3.$$arity = 0);\n          racc_action_table = [13, 9, 3, 9, 24, 25, 9, 9, 9, 26, 18, 19, 8, 12, 8, 18, 19, 8, 8, 8, 9, 4, 9, 38, 36, 37, 39, 18, 19, 18, 19, 8, 9, 8, 9, 27, 28, 24, 25, 18, 19, 18, 19, 8, 9, 8, 9, 27, 28, 27, 28, 18, 19, 18, 19, 8, 10, 8, 14];\n          racc_action_check = [5, 2, 0, 8, 15, 15, 13, 14, 12, 15, 8, 8, 2, 5, 8, 12, 12, 13, 14, 12, 18, 1, 19, 34, 34, 34, 34, 18, 18, 19, 19, 18, 24, 19, 25, 16, 16, 21, 21, 24, 24, 25, 25, 24, 27, 25, 28, 31, 31, 32, 32, 27, 27, 28, 28, 27, 4, 28, 7];\n          racc_action_pointer = [-6, 21, -1, nil, 56, -9, nil, 55, 1, nil, nil, nil, 6, 4, 5, -5, 24, nil, 18, 20, nil, 28, nil, nil, 30, 32, nil, 42, 44, nil, nil, 36, 38, nil, 19, nil, nil, nil, nil, nil];\n          racc_action_default = [-2, -25, -25, -3, -25, -4, -7, -25, -25, -24, 40, -1, -25, -25, -25, -25, -11, -14, -25, -25, -22, -5, -6, -8, -25, -25, -23, -25, -25, -20, -21, -9, -10, -12, -15, -13, -16, -17, -18, -19];\n          racc_goto_table = [7, 1, 6, 15, 2, 29, 30, 21, 31, 32, 5, 7, 23, 22, 33, 34, 11, 35];\n          racc_goto_check = [7, 1, 6, 5, 2, 9, 9, 5, 8, 8, 3, 7, 7, 6, 9, 9, 4, 10];\n          racc_goto_pointer = [nil, 1, 4, 8, 11, -5, 0, -2, -16, -13, -17];\n          racc_goto_default = [nil, nil, nil, nil, nil, nil, nil, 20, 16, 17, nil];\n          racc_reduce_table = [0, 0, \"racc_error\", 3, 24, \"_reduce_1\", 0, 25, \"_reduce_2\", 1, 25, \"_reduce_3\", 0, 27, \"_reduce_4\", 2, 27, \"_reduce_5\", 3, 26, \"_reduce_6\", 1, 26, \"_reduce_7\", 3, 29, \"_reduce_8\", 3, 28, \"_reduce_9\", 3, 28, \"_reduce_10\", 1, 28, \"_reduce_none\", 3, 31, \"_reduce_12\", 4, 31, \"_reduce_13\", 1, 31, \"_reduce_none\", 0, 33, \"_reduce_15\", 1, 33, \"_reduce_16\", 1, 33, \"_reduce_17\", 1, 33, \"_reduce_18\", 1, 33, \"_reduce_19\", 2, 32, \"_reduce_20\", 2, 32, \"_reduce_21\", 1, 32, \"_reduce_none\", 3, 30, \"_reduce_23\", 1, 30, \"_reduce_24\"];\n          racc_reduce_n = 25;\n          racc_shift_n = 40;\n          racc_token_table = $hash(false, 0, \"error\", 1, \"NUMBER\", 2, \"B\", 3, \"R\", 4, \"U\", 5, \"C\", 6, \"F\", 7, \"S\", 8, \"PLUS\", 9, \"MINUS\", 10, \"ASTERISK\", 11, \"SLASH\", 12, \"PARENL\", 13, \"PARENR\", 14, \"BRACKETL\", 15, \"BRACKETR\", 16, \"LESS\", 17, \"GREATER\", 18, \"EQUAL\", 19, \"NOT\", 20, \"AT\", 21, \"CMP_OP\", 22);\n          racc_nt_base = 23;\n          racc_use_result_var = true;\n          Opal.const_set($nesting[0], 'Racc_arg', [racc_action_table, racc_action_check, racc_action_default, racc_action_pointer, racc_goto_table, racc_goto_check, racc_goto_default, racc_goto_pointer, racc_nt_base, racc_reduce_table, racc_token_table, racc_shift_n, racc_reduce_n, racc_use_result_var]);\n          Opal.const_set($nesting[0], 'Racc_token_to_s_table', [\"$end\", \"error\", \"NUMBER\", \"B\", \"R\", \"U\", \"C\", \"F\", \"S\", \"PLUS\", \"MINUS\", \"ASTERISK\", \"SLASH\", \"PARENL\", \"PARENR\", \"BRACKETL\", \"BRACKETR\", \"LESS\", \"GREATER\", \"EQUAL\", \"NOT\", \"AT\", \"CMP_OP\", \"$start\", \"expr\", \"secret\", \"notations\", \"target\", \"add\", \"dice\", \"term\", \"mul\", \"unary\", \"round_type\"]);\n          Opal.const_set($nesting[0], 'Racc_debug_parser', false);\n          \n          Opal.def(self, '$_reduce_1', $Parser__reduce_1$4 = function $$_reduce_1(val, _values, result) {\n            var self = this;\n\n            \n            result = $$$($$($nesting, 'Node'), 'Command').$new($hash2([\"secret\", \"notations\", \"cmp_op\", \"target_number\"], {\"secret\": val['$[]'](0), \"notations\": val['$[]'](1), \"cmp_op\": val['$[]'](2)['$[]'](\"cmp_op\"), \"target_number\": val['$[]'](2)['$[]'](\"target\")}));\n            return result;\n          }, $Parser__reduce_1$4.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_2', $Parser__reduce_2$5 = function $$_reduce_2(val, _values, result) {\n            var self = this;\n\n            \n            result = false;\n            return result;\n          }, $Parser__reduce_2$5.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_3', $Parser__reduce_3$6 = function $$_reduce_3(val, _values, result) {\n            var self = this;\n\n            \n            result = true;\n            return result;\n          }, $Parser__reduce_3$6.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_4', $Parser__reduce_4$7 = function $$_reduce_4(val, _values, result) {\n            var self = this;\n\n            \n            result = $hash2([], {});\n            return result;\n          }, $Parser__reduce_4$7.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_5', $Parser__reduce_5$8 = function $$_reduce_5(val, _values, result) {\n            var $a, $b, self = this, cmp_op = nil, target = nil;\n\n            \n            $b = val, $a = Opal.to_ary($b), (cmp_op = ($a[0] == null ? nil : $a[0])), (target = ($a[1] == null ? nil : $a[1])), $b;\n            if ($truthy(cmp_op)) {\n            } else {\n              self.$raise($$($nesting, 'ParseError'))\n            };\n            result = $hash2([\"cmp_op\", \"target\"], {\"cmp_op\": cmp_op, \"target\": target});\n            return result;\n          }, $Parser__reduce_5$8.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_6', $Parser__reduce_6$9 = function $$_reduce_6(val, _values, result) {\n            var self = this, notations = nil;\n\n            \n            notations = val['$[]'](0);\n            notations.$push(val['$[]'](2));\n            result = notations;\n            return result;\n          }, $Parser__reduce_6$9.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_7', $Parser__reduce_7$10 = function $$_reduce_7(val, _values, result) {\n            var self = this;\n\n            \n            result = [val['$[]'](0)];\n            return result;\n          }, $Parser__reduce_7$10.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_8', $Parser__reduce_8$11 = function $$_reduce_8(val, _values, result) {\n            var self = this, times = nil, sides = nil;\n\n            \n            times = val['$[]'](0);\n            sides = val['$[]'](2);\n            result = $$$($$($nesting, 'Node'), 'Notation').$new(times, sides);\n            return result;\n          }, $Parser__reduce_8$11.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_9', $Parser__reduce_9$12 = function $$_reduce_9(val, _values, result) {\n            var self = this;\n\n            \n            result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'BinaryOp').$new(val['$[]'](0), \"+\", val['$[]'](2));\n            return result;\n          }, $Parser__reduce_9$12.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_10', $Parser__reduce_10$13 = function $$_reduce_10(val, _values, result) {\n            var self = this;\n\n            \n            result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'BinaryOp').$new(val['$[]'](0), \"-\", val['$[]'](2));\n            return result;\n          }, $Parser__reduce_10$13.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_12', $Parser__reduce_12$14 = function $$_reduce_12(val, _values, result) {\n            var self = this;\n\n            \n            result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'BinaryOp').$new(val['$[]'](0), \"*\", val['$[]'](2));\n            return result;\n          }, $Parser__reduce_12$14.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_13', $Parser__reduce_13$15 = function $$_reduce_13(val, _values, result) {\n            var self = this, divied_class = nil;\n\n            \n            divied_class = val['$[]'](3);\n            result = divied_class.$new(val['$[]'](0), val['$[]'](2));\n            return result;\n          }, $Parser__reduce_13$15.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_15', $Parser__reduce_15$16 = function $$_reduce_15(val, _values, result) {\n            var self = this;\n\n            \n            result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'DivideWithGameSystemDefault');\n            return result;\n          }, $Parser__reduce_15$16.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_16', $Parser__reduce_16$17 = function $$_reduce_16(val, _values, result) {\n            var self = this;\n\n            \n            result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'DivideWithCeil');\n            return result;\n          }, $Parser__reduce_16$17.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_17', $Parser__reduce_17$18 = function $$_reduce_17(val, _values, result) {\n            var self = this;\n\n            \n            result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'DivideWithCeil');\n            return result;\n          }, $Parser__reduce_17$18.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_18', $Parser__reduce_18$19 = function $$_reduce_18(val, _values, result) {\n            var self = this;\n\n            \n            result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'DivideWithRound');\n            return result;\n          }, $Parser__reduce_18$19.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_19', $Parser__reduce_19$20 = function $$_reduce_19(val, _values, result) {\n            var self = this;\n\n            \n            result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'DivideWithFloor');\n            return result;\n          }, $Parser__reduce_19$20.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_20', $Parser__reduce_20$21 = function $$_reduce_20(val, _values, result) {\n            var self = this;\n\n            \n            result = val['$[]'](1);\n            return result;\n          }, $Parser__reduce_20$21.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_21', $Parser__reduce_21$22 = function $$_reduce_21(val, _values, result) {\n            var self = this;\n\n            \n            result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'Negative').$new(val['$[]'](1));\n            return result;\n          }, $Parser__reduce_21$22.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_23', $Parser__reduce_23$23 = function $$_reduce_23(val, _values, result) {\n            var self = this;\n\n            \n            result = val['$[]'](1);\n            return result;\n          }, $Parser__reduce_23$23.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_24', $Parser__reduce_24$24 = function $$_reduce_24(val, _values, result) {\n            var self = this;\n\n            \n            result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'Number').$new(val['$[]'](0));\n            return result;\n          }, $Parser__reduce_24$24.$$arity = 3);\n          return (Opal.def(self, '$_reduce_none', $Parser__reduce_none$25 = function $$_reduce_none(val, _values, result) {\n            var self = this;\n\n            return val['$[]'](0)\n          }, $Parser__reduce_none$25.$$arity = 3), nil) && '_reduce_none';\n        })($nesting[0], $$$($$($nesting, 'Racc'), 'Parser'), $nesting)\n      })($nesting[0], $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/common_command/barabara_dice\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $send = Opal.send;\n\n  \n  self.$require(\"bcdice/common_command/barabara_dice/parser\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'CommonCommand');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $parent_nesting) {\n        var self = $module($base, 'BarabaraDice');\n\n        var $nesting = [self].concat($parent_nesting);\n\n        \n        Opal.const_set($nesting[0], 'PREFIX_PATTERN', /\\d+B\\d+/.$freeze());\n        (function(self, $parent_nesting) {\n          var $nesting = [self].concat($parent_nesting), $eval$1;\n\n          return (Opal.def(self, '$eval', $eval$1 = function(command, game_system, randomizer) {\n            var $a, self = this, cmd = nil;\n\n            \n            cmd = $$($nesting, 'Parser').$parse(command);\n            return ($a = cmd, ($a === nil || $a == null) ? nil : $send($a, 'eval', [game_system, randomizer]));\n          }, $eval$1.$$arity = 3), nil) && 'eval'\n        })(Opal.get_singleton_class(self), $nesting);\n      })($nesting[0], $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/table\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Table');\n\n        var $nesting = [self].concat($parent_nesting), $Table_from_i18n$1, $Table_initialize$2, $Table_roll$3, $Table_choice$4;\n\n        self.$$prototype.times = self.$$prototype.sides = self.$$prototype.name = self.$$prototype.items = nil;\n        \n        Opal.defs(self, '$from_i18n', $Table_from_i18n$1 = function $$from_i18n(key, locale) {\n          var self = this, table = nil;\n\n          \n          table = $$($nesting, 'I18n').$t(key, $hash2([\"locale\"], {\"locale\": locale}));\n          return self.$new(table['$[]'](\"name\"), table['$[]'](\"type\"), table['$[]'](\"items\"));\n        }, $Table_from_i18n$1.$$arity = 2);\n        \n        Opal.def(self, '$initialize', $Table_initialize$2 = function $$initialize(name, type, items) {\n          var self = this, m = nil;\n\n          \n          self.name = name;\n          self.items = items.$freeze();\n          m = /(\\d+)D(\\d+)/i.$match(type);\n          if ($truthy(m)) {\n          } else {\n            self.$raise($$($nesting, 'ArgumentError'), \"\" + \"Unexpected table type: \" + (type))\n          };\n          self.times = m['$[]'](1).$to_i();\n          return (self.sides = m['$[]'](2).$to_i());\n        }, $Table_initialize$2.$$arity = 3);\n        \n        Opal.def(self, '$roll', $Table_roll$3 = function $$roll(bcdice) {\n          var self = this, value = nil;\n\n          \n          value = bcdice.$roll_sum(self.times, self.sides);\n          return self.$choice(value);\n        }, $Table_roll$3.$$arity = 1);\n        return (Opal.def(self, '$choice', $Table_choice$4 = function $$choice(value) {\n          var self = this, index = nil;\n\n          \n          index = $rb_minus(value, self.times);\n          return $$($nesting, 'RollResult').$new(self.name, value, self.items['$[]'](index));\n        }, $Table_choice$4.$$arity = 1), nil) && 'choice';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $hash2 = Opal.hash2, $truthy = Opal.truthy, $send = Opal.send;\n\n  \n  self.$require(\"bcdice/common_command/barabara_dice\");\n  self.$require(\"bcdice/dice_table/table\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'NinjaSlayer');\n\n        var $nesting = [self].concat($parent_nesting), $NinjaSlayer_initialize$1, $NinjaSlayer_change_text$2, $NinjaSlayer_eval_game_system_specific_command$3, $NinjaSlayer_parse$4, $NinjaSlayer_parseEV$5, $NinjaSlayer_parseAT$6, $NinjaSlayer_parseEL$7, $NinjaSlayer_executeEV$8, $NinjaSlayer_executeAT$9, $NinjaSlayer_executeEL$11, $NinjaSlayer_integerValueOfDifficulty$14, $NinjaSlayer_bRollCommand$15;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"NinjaSlayer\");\n        Opal.const_set($nesting[0], 'NAME', \"TRPG\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"RPG\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"NJ\\n\" + \"NJx[y] or NJx@y or NJx\\n\" + \"x= y= NORMAL(4)\\n\" + \":NJ4@H HARD4\\n\" + \"EV\\n\" + \"EVx[y]/z or EVx@y/z or EVx/z or EVx[y] or EVx@y or EVx\\n\" + \"x= y= z=() NORMAL(4)\\n\" + \"\\n\" + \":EV5/3 NORMAL()53\\n\" + \"AT\\n\" + \"ATx[y] or ATx@y or ATx\\n\" + \"x= y= NORMAL(4) \\n\" + \":AT6[H] HARD,5\\n\" + \"SB\\n\" + \"EL\\n\" + \"ELx[y] or ELx@y or ELx\\n\" + \"x= y= NORMAL(4)\\n\" + \":EL6[H] HARD,5\\n\" + \"\\n\" + \"\\n\" + \"KIDS=K,EASY=E,NORMAL=N,HARD=H,ULTRA HARD=UH \\n\");\n        \n        Opal.def(self, '$initialize', $NinjaSlayer_initialize$1 = function $$initialize(command) {\n          var $iter = $NinjaSlayer_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $NinjaSlayer_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $NinjaSlayer_initialize$1, false, true), 'initialize', [command], null);\n          self.default_cmp_op = \">=\";\n          return (self.default_target_number = 4);\n        }, $NinjaSlayer_initialize$1.$$arity = 1);\n        Opal.const_set($nesting[0], 'DIFFICULTY_VALUE_RE', \"UH|[2-6KENH]\".$freeze());\n        Opal.const_set($nesting[0], 'DIFFICULTY_RE', (((((\"\" + \"(\\\\[(\") + ($$($nesting, 'DIFFICULTY_VALUE_RE'))) + \")\\\\]|@(\") + ($$($nesting, 'DIFFICULTY_VALUE_RE'))) + \"))\").$freeze());\n        Opal.const_set($nesting[0], 'NJ_RE', Opal.regexp([\"^(S)?NJ(\\\\d+)\", $$($nesting, 'DIFFICULTY_RE'), \"?$\"], 'i').$freeze());\n        Opal.const_set($nesting[0], 'EV_RE', Opal.regexp([\"^EV(\\\\d+)\", $$($nesting, 'DIFFICULTY_RE'), \"?(?:/(\\\\d+))?$\"], 'i').$freeze());\n        Opal.const_set($nesting[0], 'AT_RE', Opal.regexp([\"^AT(\\\\d+)\", $$($nesting, 'DIFFICULTY_RE'), \"?$\"], 'i').$freeze());\n        Opal.const_set($nesting[0], 'EL_RE', Opal.regexp([\"^EL(\\\\d+)\", $$($nesting, 'DIFFICULTY_RE'), \"?$\"], 'i').$freeze());\n        Opal.const_set($nesting[0], 'EV', $$($nesting, 'Struct').$new(\"num\", \"difficulty\", \"targetValue\"));\n        Opal.const_set($nesting[0], 'AT', $$($nesting, 'Struct').$new(\"num\", \"difficulty\"));\n        Opal.const_set($nesting[0], 'EL', $$($nesting, 'Struct').$new(\"num\", \"difficulty\"));\n        Opal.const_set($nesting[0], 'DIFFICULTY_SYMBOL_TO_INTEGER', $hash2([\"K\", \"E\", \"N\", \"H\", \"UH\"], {\"K\": 2, \"E\": 3, \"N\": 4, \"H\": 5, \"UH\": 6}).$freeze());\n        \n        Opal.def(self, '$change_text', $NinjaSlayer_change_text$2 = function $$change_text(str) {\n          var self = this, m = nil, b_roll = nil, $ret_or_1 = nil;\n\n          \n          m = $$($nesting, 'NJ_RE').$match(str);\n          if ($truthy(m)) {\n          } else {\n            return str\n          };\n          b_roll = self.$bRollCommand(m['$[]'](2), self.$integerValueOfDifficulty((function() {if ($truthy(($ret_or_1 = m['$[]'](4)))) {\n            return $ret_or_1\n          } else {\n            return m['$[]'](5)\n          }; return nil; })()));\n          return \"\" + (m['$[]'](1)) + (b_roll);\n        }, $NinjaSlayer_change_text$2.$$arity = 1);\n        \n        Opal.def(self, '$eval_game_system_specific_command', $NinjaSlayer_eval_game_system_specific_command$3 = function $$eval_game_system_specific_command(command) {\n          var self = this, table = nil, $case = nil, node = nil;\n\n          \n          self.$debug(\"eval_game_system_specific_command begin string\", command);\n          if ($truthy((table = $$($nesting, 'TABLES')['$[]'](command)))) {\n            return table.$roll(self.$randomizer())};\n          return (function() {$case = (node = self.$parse(command));\n          if ($$($nesting, 'EV')['$===']($case)) {return self.$executeEV(node)}\n          else if ($$($nesting, 'AT')['$===']($case)) {return self.$executeAT(node)}\n          else if ($$($nesting, 'EL')['$===']($case)) {return self.$executeEL(node)}\n          else {return nil}})();\n        }, $NinjaSlayer_eval_game_system_specific_command$3.$$arity = 1);\n        self.$private();\n        \n        Opal.def(self, '$parse', $NinjaSlayer_parse$4 = function $$parse(command) {\n          var self = this, $case = nil;\n\n          return (function() {$case = command;\n          if ($$($nesting, 'EV_RE')['$===']($case)) {return self.$parseEV($$($nesting, 'Regexp').$last_match())}\n          else if ($$($nesting, 'AT_RE')['$===']($case)) {return self.$parseAT($$($nesting, 'Regexp').$last_match())}\n          else if ($$($nesting, 'EL_RE')['$===']($case)) {return self.$parseEL($$($nesting, 'Regexp').$last_match())}\n          else {return nil}})()\n        }, $NinjaSlayer_parse$4.$$arity = 1);\n        \n        Opal.def(self, '$parseEV', $NinjaSlayer_parseEV$5 = function $$parseEV(m) {\n          var $a, self = this, num = nil, difficulty = nil, $ret_or_2 = nil, targetValue = nil;\n\n          \n          num = m['$[]'](1).$to_i();\n          difficulty = self.$integerValueOfDifficulty((function() {if ($truthy(($ret_or_2 = m['$[]'](3)))) {\n            return $ret_or_2\n          } else {\n            return m['$[]'](4)\n          }; return nil; })());\n          targetValue = ($a = m['$[]'](5), ($a === nil || $a == null) ? nil : $send($a, 'to_i', []));\n          return $$($nesting, 'EV').$new(num, difficulty, targetValue);\n        }, $NinjaSlayer_parseEV$5.$$arity = 1);\n        \n        Opal.def(self, '$parseAT', $NinjaSlayer_parseAT$6 = function $$parseAT(m) {\n          var self = this, num = nil, difficulty = nil, $ret_or_3 = nil;\n\n          \n          num = m['$[]'](1).$to_i();\n          difficulty = self.$integerValueOfDifficulty((function() {if ($truthy(($ret_or_3 = m['$[]'](3)))) {\n            return $ret_or_3\n          } else {\n            return m['$[]'](4)\n          }; return nil; })());\n          return $$($nesting, 'AT').$new(num, difficulty);\n        }, $NinjaSlayer_parseAT$6.$$arity = 1);\n        \n        Opal.def(self, '$parseEL', $NinjaSlayer_parseEL$7 = function $$parseEL(m) {\n          var self = this, num = nil, difficulty = nil, $ret_or_4 = nil;\n\n          \n          num = m['$[]'](1).$to_i();\n          difficulty = self.$integerValueOfDifficulty((function() {if ($truthy(($ret_or_4 = m['$[]'](3)))) {\n            return $ret_or_4\n          } else {\n            return m['$[]'](4)\n          }; return nil; })());\n          return $$($nesting, 'EL').$new(num, difficulty);\n        }, $NinjaSlayer_parseEL$7.$$arity = 1);\n        \n        Opal.def(self, '$executeEV', $NinjaSlayer_executeEV$8 = function $$executeEV(ev) {\n          var self = this, command = nil, roll_result = nil, parts = nil, $ret_or_5 = nil;\n\n          \n          command = self.$bRollCommand(ev.$num(), ev.$difficulty());\n          roll_result = $$$($$$($$($nesting, 'BCDice'), 'CommonCommand'), 'BarabaraDice').$eval(command, self, self.randomizer);\n          parts = [roll_result.$text()];\n          if ($truthy((function() {if ($truthy(($ret_or_5 = ev.$targetValue()))) {\n            return $rb_gt(roll_result.$success_num(), ev.$targetValue())\n          } else {\n            return $ret_or_5\n          }; return nil; })())) {\n            parts.$push(\"!!\")};\n          return parts.$join(\"  \");\n        }, $NinjaSlayer_executeEV$8.$$arity = 1);\n        \n        Opal.def(self, '$executeAT', $NinjaSlayer_executeAT$9 = function $$executeAT(at) {\n          var $$10, self = this, command = nil, roll_result = nil, values = nil, num_of_max_values = nil, parts = nil;\n\n          \n          command = self.$bRollCommand(at.$num(), at.$difficulty());\n          roll_result = $$$($$$($$($nesting, 'BCDice'), 'CommonCommand'), 'BarabaraDice').$eval(command, self, self.randomizer);\n          values = $send(roll_result.$rands(), 'map', [], ($$10 = function(v, _){var self = $$10.$$s == null ? this : $$10.$$s;\n\n          \n            \n            if (v == null) {\n              v = nil;\n            };\n            \n            if (_ == null) {\n              _ = nil;\n            };\n            return v;}, $$10.$$s = self, $$10.$$arity = 2, $$10));\n          num_of_max_values = values.$count(6);\n          parts = [roll_result.$text()];\n          if ($truthy($rb_ge(num_of_max_values, 2))) {\n            parts.$push(\"!!\")};\n          return parts.$join(\"  \");\n        }, $NinjaSlayer_executeAT$9.$$arity = 1);\n        \n        Opal.def(self, '$executeEL', $NinjaSlayer_executeEL$11 = function $$executeEL(el) {\n          var $$12, $$13, self = this, command = nil, roll_result = nil, values = nil, num_of_max_values = nil, sum_of_true_values = nil;\n\n          \n          command = self.$bRollCommand(el.$num(), el.$difficulty());\n          roll_result = $$$($$$($$($nesting, 'BCDice'), 'CommonCommand'), 'BarabaraDice').$eval(command, self, self.randomizer);\n          values = $send(roll_result.$rands(), 'map', [], ($$12 = function(v, _){var self = $$12.$$s == null ? this : $$12.$$s;\n\n          \n            \n            if (v == null) {\n              v = nil;\n            };\n            \n            if (_ == null) {\n              _ = nil;\n            };\n            return v;}, $$12.$$s = self, $$12.$$arity = 2, $$12));\n          num_of_max_values = values.$count(6);\n          sum_of_true_values = $send(values, 'count', [], ($$13 = function(v){var self = $$13.$$s == null ? this : $$13.$$s;\n\n          \n            \n            if (v == null) {\n              v = nil;\n            };\n            return $rb_ge(v, el.$difficulty());}, $$13.$$s = self, $$13.$$arity = 1, $$13));\n          if ($truthy($rb_ge(num_of_max_values, 1))) {\n            return [\"\" + (roll_result.$text()) + \" + \" + (num_of_max_values), $rb_plus(sum_of_true_values, num_of_max_values)].$join(\"  \")};\n          return roll_result.$text();\n        }, $NinjaSlayer_executeEL$11.$$arity = 1);\n        \n        Opal.def(self, '$integerValueOfDifficulty', $NinjaSlayer_integerValueOfDifficulty$14 = function $$integerValueOfDifficulty(s) {\n          var self = this;\n\n          \n          if ($truthy(s)) {\n          } else {\n            return 4\n          };\n          if ($truthy(/^[2-6]$/.$match(s))) {\n            return s.$to_i()};\n          return $$($nesting, 'DIFFICULTY_SYMBOL_TO_INTEGER').$fetch(s.$upcase());\n        }, $NinjaSlayer_integerValueOfDifficulty$14.$$arity = 1);\n        \n        Opal.def(self, '$bRollCommand', $NinjaSlayer_bRollCommand$15 = function $$bRollCommand(num, difficulty) {\n          var self = this;\n\n          return \"\" + (num) + \"B6>=\" + (difficulty)\n        }, $NinjaSlayer_bRollCommand$15.$$arity = 2);\n        Opal.const_set($nesting[0], 'SATSUBATSU_TABLE', [\"+11\", \"11D3DKKD3\", \"+1-211D3DKKD3\", \"D31D3DKKD3\", \"+121D3DKKD3\", \"D6DKKD6\"].$freeze());\n        Opal.const_set($nesting[0], 'TABLES', $hash2([\"SB\"], {\"SB\": $$$($$($nesting, 'DiceTable'), 'Table').$new(\"\", \"1D6\", $$($nesting, 'SATSUBATSU_TABLE'))}).$freeze());\n        return self.$register_prefix(\"NJ\", \"EV\", \"AT\", \"EL\", $$($nesting, 'TABLES').$keys());\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n})(Opal);\n"],"sourceRoot":"webpack:///"}