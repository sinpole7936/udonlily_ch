{"version":3,"sources":["./node_modules/bcdice/lib/bcdice/game_system/RuinBreakers.js"],"names":["require","Opal","modules","self","top","$nesting","nil","$$$","$$","$module","module","$hash2","hash2","$truthy","truthy","$base","$parent_nesting","concat","$eval$1","def","expr","$kwargs","round_type","$ret_or_1","$$is_hash","ArgumentError","$new","$$smap","$eval","$$arity","get_singleton_class","$rb_minus","lhs","rhs","$klass","klass","$super","$Table_from_i18n$1","$Table_initialize$2","$Table_roll$3","$Table_choice$4","$$prototype","times","sides","name","items","defs","$$from_i18n","key","locale","table","$t","$$initialize","type","m","$freeze","$match","$raise","$to_i","$$roll","bcdice","value","$roll_sum","$choice","$$choice","index","$rb_times","$rb_plus","$send","send","$RangeTable$1","$RangeTable_initialize$3","$RangeTable_fetch$4","$RangeTable_roll$6","$RangeTable_store$7","$RangeTable_coerce_to_int_range$11","$RangeTable_assert_min_sum_is_covered$12","$RangeTable_assert_max_sum_is_covered$13","$RangeTable_assert_no_gap_or_overlap_in_ranges$14","num_of_dice","num_of_sides","formatter","const_set","$$s","$alias_method","$$2","result","$name","$sum","$content","$attr_reader","dice_roll_method","$iter","$$p","$store","$$fetch","$$5","item","i","$range","randomizer","values","sum","$writer","$roll_barabara","$fetch","to_a","$private","$$store","$$8","$$9","$$10","items_with_range","sorted_items","r","c","$coerce_to_int_range","_","$min","$assert_min_sum_is_covered","$assert_max_sum_is_covered","$assert_no_gap_or_overlap_in_ranges","range","content","$$coerce_to_int_range","x","$case","$ret_or_2","$begin","$end","$class","$$assert_min_sum_is_covered","min_sum","$first","$$assert_max_sum_is_covered","max_sum","$last","$$assert_no_gap_or_overlap_in_ranges","$$15","i1","i2","r1","r2","max1","next_of_max1","$max","$rb_divide","$rb_lt","$rb_ge","$rb_le","$require","$RuinBreakers_eval_game_system_specific_command$1","$RuinBreakers_check_roll$2","$RuinBreakers_roll_fp_damage$3","$RuinBreakers_roll_fp_recovery$4","$$eval_game_system_specific_command","command","$check_roll","$roll_fp_damage","$roll_fp_recovery","$roll_tables","$$check_roll","$a","$b","success_rate","critical_border","fumble_border","total","compare_result","$ret_or_3","sequence","$roll_once","$join","$$roll_fp_damage","ruin_point","ruin_point_tens","ruin_point_ones","dice_list","dice_str","$divmod","to_ary","$$roll_fp_recovery","dice_count","$fdiv","$ceil","$register_prefix","$keys"],"mappings":"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","file":"default~RuinBreakers~index.js","sourcesContent":["require('./../opal');\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/arithmetic_evaluator\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $hash2 = Opal.hash2, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'ArithmeticEvaluator');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function(self, $parent_nesting) {\n        var $nesting = [self].concat($parent_nesting), $eval$1;\n\n        return (Opal.def(self, '$eval', $eval$1 = function(expr, $kwargs) {\n          var round_type, self = this, $ret_or_1 = nil;\n\n          \n          \n          if ($kwargs == null) {\n            $kwargs = $hash2([], {});\n          } else if (!$kwargs.$$is_hash) {\n            throw Opal.ArgumentError.$new('expected kwargs');\n          };\n          \n          round_type = $kwargs.$$smap[\"round_type\"];\n          if (round_type == null) {\n            round_type = $$$($$($nesting, 'RoundType'), 'FLOOR')\n          };\n          if ($truthy(expr)) {\n          } else {\n            return 0\n          };\n          if ($truthy(($ret_or_1 = $$($nesting, 'Arithmetic').$eval(expr, round_type)))) {\n            return $ret_or_1\n          } else {\n            return 0\n          };\n        }, $eval$1.$$arity = -2), nil) && 'eval'\n      })(Opal.get_singleton_class(self), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/table\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Table');\n\n        var $nesting = [self].concat($parent_nesting), $Table_from_i18n$1, $Table_initialize$2, $Table_roll$3, $Table_choice$4;\n\n        self.$$prototype.times = self.$$prototype.sides = self.$$prototype.name = self.$$prototype.items = nil;\n        \n        Opal.defs(self, '$from_i18n', $Table_from_i18n$1 = function $$from_i18n(key, locale) {\n          var self = this, table = nil;\n\n          \n          table = $$($nesting, 'I18n').$t(key, $hash2([\"locale\"], {\"locale\": locale}));\n          return self.$new(table['$[]'](\"name\"), table['$[]'](\"type\"), table['$[]'](\"items\"));\n        }, $Table_from_i18n$1.$$arity = 2);\n        \n        Opal.def(self, '$initialize', $Table_initialize$2 = function $$initialize(name, type, items) {\n          var self = this, m = nil;\n\n          \n          self.name = name;\n          self.items = items.$freeze();\n          m = /(\\d+)D(\\d+)/i.$match(type);\n          if ($truthy(m)) {\n          } else {\n            self.$raise($$($nesting, 'ArgumentError'), \"\" + \"Unexpected table type: \" + (type))\n          };\n          self.times = m['$[]'](1).$to_i();\n          return (self.sides = m['$[]'](2).$to_i());\n        }, $Table_initialize$2.$$arity = 3);\n        \n        Opal.def(self, '$roll', $Table_roll$3 = function $$roll(bcdice) {\n          var self = this, value = nil;\n\n          \n          value = bcdice.$roll_sum(self.times, self.sides);\n          return self.$choice(value);\n        }, $Table_roll$3.$$arity = 1);\n        return (Opal.def(self, '$choice', $Table_choice$4 = function $$choice(value) {\n          var self = this, index = nil;\n\n          \n          index = $rb_minus(value, self.times);\n          return $$($nesting, 'RollResult').$new(self.name, value, self.items['$[]'](index));\n        }, $Table_choice$4.$$arity = 1), nil) && 'choice';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/range_table\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send = Opal.send, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'RangeTable');\n\n        var $nesting = [self].concat($parent_nesting), $RangeTable$1, $RangeTable_initialize$3, $RangeTable_fetch$4, $RangeTable_roll$6, $RangeTable_store$7, $RangeTable_coerce_to_int_range$11, $RangeTable_assert_min_sum_is_covered$12, $RangeTable_assert_max_sum_is_covered$13, $RangeTable_assert_no_gap_or_overlap_in_ranges$14;\n\n        self.$$prototype.name = self.$$prototype.items = self.$$prototype.num_of_dice = self.$$prototype.num_of_sides = self.$$prototype.formatter = nil;\n        \n        Opal.const_set($nesting[0], 'RollResult', $send($$($nesting, 'Struct'), 'new', [\"sum\", \"values\", \"content\", \"formatted\"], ($RangeTable$1 = function(){var self = $RangeTable$1.$$s == null ? this : $RangeTable$1.$$s;\n\n        return self.$alias_method(\"to_s\", \"formatted\")}, $RangeTable$1.$$s = self, $RangeTable$1.$$arity = 0, $RangeTable$1)));\n        Opal.const_set($nesting[0], 'Item', $$($nesting, 'Struct').$new(\"range\", \"content\"));\n        Opal.const_set($nesting[0], 'DICE_ROLL_METHOD_RE', /^(\\d+)D(\\d+)$/i.$freeze());\n        Opal.const_set($nesting[0], 'DEFAULT_FORMATTER', $send(self, 'lambda', [], ($$2 = function(table, result){var self = $$2.$$s == null ? this : $$2.$$s;\n\n        \n          \n          if (table == null) {\n            table = nil;\n          };\n          \n          if (result == null) {\n            result = nil;\n          };\n          return \"\" + (table.$name()) + \"(\" + (result.$sum()) + \") ＞ \" + (result.$content());}, $$2.$$s = self, $$2.$$arity = 2, $$2)));\n        self.$attr_reader(\"name\");\n        self.$attr_reader(\"num_of_dice\");\n        self.$attr_reader(\"num_of_sides\");\n        \n        Opal.def(self, '$initialize', $RangeTable_initialize$3 = function $$initialize(name, dice_roll_method, items) {\n          var $iter = $RangeTable_initialize$3.$$p, formatter = $iter || nil, self = this, $ret_or_1 = nil, m = nil;\n\n          if ($iter) $RangeTable_initialize$3.$$p = null;\n          \n          \n          if ($iter) $RangeTable_initialize$3.$$p = null;;\n          self.name = name.$freeze();\n          self.formatter = (function() {if ($truthy(($ret_or_1 = formatter))) {\n            return $ret_or_1\n          } else {\n            return $$($nesting, 'DEFAULT_FORMATTER')\n          }; return nil; })();\n          m = $$($nesting, 'DICE_ROLL_METHOD_RE').$match(dice_roll_method);\n          if ($truthy(m)) {\n          } else {\n            self.$raise($$($nesting, 'ArgumentError'), \"\" + (self.name) + \": invalid dice roll method: \" + (dice_roll_method))\n          };\n          self.num_of_dice = m['$[]'](1).$to_i();\n          self.num_of_sides = m['$[]'](2).$to_i();\n          return self.$store(items);\n        }, $RangeTable_initialize$3.$$arity = 3);\n        \n        Opal.def(self, '$fetch', $RangeTable_fetch$4 = function $$fetch(value) {\n          var $$5, self = this, item = nil;\n\n          \n          item = $send(self.items, 'find', [], ($$5 = function(i){var self = $$5.$$s == null ? this : $$5.$$s;\n\n          \n            \n            if (i == null) {\n              i = nil;\n            };\n            return i.$range()['$include?'](value);}, $$5.$$s = self, $$5.$$arity = 1, $$5));\n          if ($truthy(item)) {\n          } else {\n            self.$raise($$($nesting, 'RangeError'), \"\" + (self.name) + \": value is out of range: \" + (value))\n          };\n          return item;\n        }, $RangeTable_fetch$4.$$arity = 1);\n        \n        Opal.def(self, '$roll', $RangeTable_roll$6 = function $$roll(randomizer) {\n          var self = this, values = nil, sum = nil, result = nil, $writer = nil;\n\n          \n          values = randomizer.$roll_barabara(self.num_of_dice, self.num_of_sides);\n          sum = values.$sum();\n          result = $$($nesting, 'RollResult').$new(sum, values, self.$fetch(sum).$content());\n          \n          $writer = [self.formatter['$[]'](self, result)];\n          $send(result, 'formatted=', Opal.to_a($writer));\n          $writer[$rb_minus($writer[\"length\"], 1)];;\n          return result;\n        }, $RangeTable_roll$6.$$arity = 1);\n        self.$private();\n        \n        Opal.def(self, '$store', $RangeTable_store$7 = function $$store(items) {\n          var $$8, $$9, $$10, self = this, items_with_range = nil, sorted_items = nil;\n\n          \n          items_with_range = $send(items, 'map', [], ($$8 = function(r, c){var self = $$8.$$s == null ? this : $$8.$$s;\n\n          \n            \n            if (r == null) {\n              r = nil;\n            };\n            \n            if (c == null) {\n              c = nil;\n            };\n            return [self.$coerce_to_int_range(r), c];}, $$8.$$s = self, $$8.$$arity = 2, $$8));\n          sorted_items = $send(items_with_range, 'sort_by', [], ($$9 = function(r, _){var self = $$9.$$s == null ? this : $$9.$$s;\n\n          \n            \n            if (r == null) {\n              r = nil;\n            };\n            \n            if (_ == null) {\n              _ = nil;\n            };\n            return r.$min();}, $$9.$$s = self, $$9.$$arity = 2, $$9));\n          self.$assert_min_sum_is_covered(sorted_items);\n          self.$assert_max_sum_is_covered(sorted_items);\n          self.$assert_no_gap_or_overlap_in_ranges(sorted_items);\n          self.items = $send(sorted_items, 'map', [], ($$10 = function(range, content){var self = $$10.$$s == null ? this : $$10.$$s;\n\n          \n            \n            if (range == null) {\n              range = nil;\n            };\n            \n            if (content == null) {\n              content = nil;\n            };\n            return $$($nesting, 'Item').$new(range, content.$freeze()).$freeze();}, $$10.$$s = self, $$10.$$arity = 2, $$10)).$freeze();\n          return self;\n        }, $RangeTable_store$7.$$arity = 1);\n        \n        Opal.def(self, '$coerce_to_int_range', $RangeTable_coerce_to_int_range$11 = function $$coerce_to_int_range(x) {\n          var self = this, $case = nil, $ret_or_2 = nil;\n\n          \n          $case = x;\n          if ($$($nesting, 'Integer')['$===']($case)) {return $$($nesting, 'Range').$new(x, x)}\n          else if ($$($nesting, 'Range')['$===']($case)) {if ($truthy((function() {if ($truthy(($ret_or_2 = x.$begin()['$is_a?']($$($nesting, 'Integer'))))) {\n            return x.$end()['$is_a?']($$($nesting, 'Integer'))\n          } else {\n            return $ret_or_2\n          }; return nil; })())) {\n            return x}};\n          return self.$raise($$($nesting, 'TypeError'), \"\" + (self.name) + \": \" + (x) + \" (\" + (x.$class()) + \") must be an Integer or a Range with Integers \");\n        }, $RangeTable_coerce_to_int_range$11.$$arity = 1);\n        \n        Opal.def(self, '$assert_min_sum_is_covered', $RangeTable_assert_min_sum_is_covered$12 = function $$assert_min_sum_is_covered(sorted_items) {\n          var self = this, min_sum = nil, range = nil;\n\n          \n          min_sum = self.num_of_dice;\n          range = sorted_items.$first()['$[]'](0);\n          if ($truthy(range['$include?'](min_sum))) {\n          } else {\n            self.$raise($$($nesting, 'RangeError'), \"\" + (self.name) + \": min value (\" + (min_sum) + \") is not covered: \" + (range))\n          };\n          return self;\n        }, $RangeTable_assert_min_sum_is_covered$12.$$arity = 1);\n        \n        Opal.def(self, '$assert_max_sum_is_covered', $RangeTable_assert_max_sum_is_covered$13 = function $$assert_max_sum_is_covered(sorted_items) {\n          var self = this, max_sum = nil, range = nil;\n\n          \n          max_sum = $rb_times(self.num_of_dice, self.num_of_sides);\n          range = sorted_items.$last()['$[]'](0);\n          if ($truthy(range['$include?'](max_sum))) {\n          } else {\n            self.$raise($$($nesting, 'RangeError'), \"\" + (self.name) + \": max value (\" + (max_sum) + \") is not covered: \" + (range))\n          };\n          return self;\n        }, $RangeTable_assert_max_sum_is_covered$13.$$arity = 1);\n        return (Opal.def(self, '$assert_no_gap_or_overlap_in_ranges', $RangeTable_assert_no_gap_or_overlap_in_ranges$14 = function $$assert_no_gap_or_overlap_in_ranges(sorted_items) {\n          var $$15, self = this;\n\n          \n          $send(sorted_items, 'each_cons', [2], ($$15 = function(i1, i2){var self = $$15.$$s == null ? this : $$15.$$s, r1 = nil, r2 = nil, max1 = nil, next_of_max1 = nil;\n            if (self.name == null) self.name = nil;\n\n          \n            \n            if (i1 == null) {\n              i1 = nil;\n            };\n            \n            if (i2 == null) {\n              i2 = nil;\n            };\n            r1 = i1['$[]'](0);\n            r2 = i2['$[]'](0);\n            max1 = r1.$max();\n            next_of_max1 = $rb_plus(max1, 1);\n            if ($truthy(r2['$include?'](max1))) {\n              self.$raise($$($nesting, 'RangeError'), \"\" + (self.name) + \": Range overlap: \" + (r1) + \" and \" + (r2))};\n            if ($truthy(r2['$include?'](next_of_max1))) {\n              return nil\n            } else {\n              return self.$raise($$($nesting, 'RangeError'), \"\" + (self.name) + \": Range gap: \" + (r1) + \" and \" + (r2))\n            };}, $$15.$$s = self, $$15.$$arity = 2, $$15));\n          return self;\n        }, $RangeTable_assert_no_gap_or_overlap_in_ranges$14.$$arity = 1), nil) && 'assert_no_gap_or_overlap_in_ranges';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy, $send = Opal.send, $hash2 = Opal.hash2, $range = Opal.range;\n\n  \n  self.$require(\"bcdice/arithmetic_evaluator\");\n  self.$require(\"bcdice/dice_table/table\");\n  self.$require(\"bcdice/dice_table/range_table\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'RuinBreakers');\n\n        var $nesting = [self].concat($parent_nesting), $RuinBreakers_eval_game_system_specific_command$1, $RuinBreakers_check_roll$2, $RuinBreakers_roll_fp_damage$3, $RuinBreakers_roll_fp_recovery$4;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"RuinBreakers\");\n        Opal.const_set($nesting[0], 'NAME', \"ルーインブレイカーズ\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"るういんふれいかあす\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"■ 基本判定 (RBx@y#z)\\n\" + \"  x：成功率、y：クリティカル値（省略可）、z：ファンブル値（省略可）\\n\" + \"  1D100を振って、成功率に応じて成功／失敗／クリティカル／ファンブルの判定を行います。(P.60)\\n\" + \"  クリティカル値を省略した場合は成功率の5分の1（切り捨て、最低1）\\n\" + \"  ファンブル値を省略した場合は、成功率が99以下の場合は96、100以上の場合は99\\n\" + \"  例） RB32, RB(45+20)/2, RB30@10, RB35+20#90, RB40-20+10@10#90\\n\" + \"\\n\" + \"■ FPへのダメージ (FPDx)\\n\" + \"  x：破滅ポイント\\n\" + \"  ルーインブレイクロール失敗時やラウンド終了時に、残っている\\n\" + \"  破滅ポイントに応じて発生するダメージのダイスロールを行います。(P.91,92)\\n\" + \"  例） FPD23\\n\" + \"\\n\" + \"■ FPの回復 (FPRx)\\n\" + \"  x：破滅ポイント\\n\" + \"  ルーインブレイク成功時に発生する、FPの回復量を決定するダイスロールを行います。(P.93)\\n\" + \"  例） FPR29\\n\" + \"\\n\" + \"■ 各種表\\n\" + \"  ・ポジティブ感情表 (PE)\\n\" + \"  ・ネガティブ感情表 (NE)\\n\" + \"  ・デウス・エクス・マキナ表 (DXM)\\n\" + \"  ・断罪チャート (JC)\\n\" + \"  ・破滅のイヤな感じ表 (RDF)\\n\" + \"  ・トラブルチャート／トラブル解決チャート (TC)\\n\" + \"  ・ドタバタアクション表 (DA)\\n\");\n        \n        Opal.def(self, '$eval_game_system_specific_command', $RuinBreakers_eval_game_system_specific_command$1 = function $$eval_game_system_specific_command(command) {\n          var self = this, $case = nil;\n\n          return (function() {$case = command;\n          if (/^RB/['$===']($case)) {return self.$check_roll(command)}\n          else if (/^FPD/['$===']($case)) {return self.$roll_fp_damage(command)}\n          else if (/^FPR/['$===']($case)) {return self.$roll_fp_recovery(command)}\n          else {return self.$roll_tables(command, $$($nesting, 'TABLES'))}})()\n        }, $RuinBreakers_eval_game_system_specific_command$1.$$arity = 1);\n        self.$private();\n        \n        Opal.def(self, '$check_roll', $RuinBreakers_check_roll$2 = function $$check_roll(command) {\n          var $a, $b, self = this, m = nil, success_rate = nil, critical_border = nil, $ret_or_1 = nil, fumble_border = nil, $ret_or_2 = nil, total = nil, result = nil, compare_result = nil, $writer = nil, $ret_or_3 = nil, sequence = nil;\n\n          \n          m = /^RB(-?\\d+([+\\-*\\/]\\d+)*)(@(\\d+))?(#(\\d+))?$/.$match(command);\n          if ($truthy(m)) {\n          } else {\n            return nil\n          };\n          success_rate = $$($nesting, 'ArithmeticEvaluator').$eval(m['$[]'](1)).$to_i();\n          critical_border = (function() {if ($truthy(($ret_or_1 = ($a = m['$[]'](4), ($a === nil || $a == null) ? nil : $send($a, 'to_i', []))))) {\n            return $ret_or_1\n          } else {\n            return [$rb_divide(success_rate, 5).$to_i(), 1].$max()\n          }; return nil; })();\n          fumble_border = (function() {if ($truthy(($ret_or_2 = ($b = m['$[]'](6), ($b === nil || $b == null) ? nil : $send($b, 'to_i', []))))) {\n            return $ret_or_2\n          } else {\n            \n            if ($truthy($rb_lt(success_rate, 100))) {\n              return 96\n            } else {\n              return 99\n            };\n          }; return nil; })();\n          total = self.randomizer.$roll_once(100);\n          result = $$($nesting, 'Result').$new();\n          compare_result = (function() {if ($truthy($rb_ge(total, fumble_border))) {\n            \n            \n            $writer = [true];\n            $send(result, 'fumble=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [true];\n            $send(result, 'failure=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            return \"ファンブル\";\n          } else if ($truthy((function() {if ($truthy(($ret_or_3 = total['$=='](1)))) {\n            return $ret_or_3\n          } else {\n            return $rb_le(total, critical_border)\n          }; return nil; })())) {\n            \n            \n            $writer = [true];\n            $send(result, 'critical=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [true];\n            $send(result, 'success=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            return \"クリティカル\";\n          } else if ($truthy($rb_le(total, success_rate))) {\n            \n            \n            $writer = [true];\n            $send(result, 'success=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            return \"成功\";\n          } else {\n            \n            \n            $writer = [true];\n            $send(result, 'failure=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            return \"失敗\";\n          }; return nil; })();\n          sequence = [\"\" + \"(1D100<=\" + (success_rate) + \"@\" + (critical_border) + \"#\" + (fumble_border) + \")\", total, compare_result];\n          \n          $writer = [sequence.$join(\" ＞ \")];\n          $send(result, 'text=', Opal.to_a($writer));\n          $writer[$rb_minus($writer[\"length\"], 1)];;\n          return result;\n        }, $RuinBreakers_check_roll$2.$$arity = 1);\n        \n        Opal.def(self, '$roll_fp_damage', $RuinBreakers_roll_fp_damage$3 = function $$roll_fp_damage(command) {\n          var $a, $b, self = this, m = nil, ruin_point = nil, ruin_point_tens = nil, ruin_point_ones = nil, dice_list = nil, total = nil, dice_str = nil, sequence = nil;\n\n          \n          m = /^FPD(\\d+)$/.$match(command);\n          if ($truthy(m)) {\n          } else {\n            return nil\n          };\n          ruin_point = m['$[]'](1).$to_i();\n          $b = ruin_point.$divmod(10), $a = Opal.to_ary($b), (ruin_point_tens = ($a[0] == null ? nil : $a[0])), (ruin_point_ones = ($a[1] == null ? nil : $a[1])), $b;\n          dice_list = self.randomizer.$roll_barabara($rb_plus(1, ruin_point_tens), 10);\n          total = dice_list.$sum();\n          dice_str = dice_list.$join(\",\");\n          sequence = [\"\" + \"((1+\" + (ruin_point_tens) + \")D10+\" + (ruin_point_ones) + \")\", \"\" + (total) + \"[\" + (dice_str) + \"]+\" + (ruin_point_ones), \"\" + ($rb_plus(total, ruin_point_ones)) + \"ダメージ\"];\n          return sequence.$join(\" ＞ \");\n        }, $RuinBreakers_roll_fp_damage$3.$$arity = 1);\n        \n        Opal.def(self, '$roll_fp_recovery', $RuinBreakers_roll_fp_recovery$4 = function $$roll_fp_recovery(command) {\n          var self = this, m = nil, ruin_point = nil, dice_count = nil, dice_list = nil, total = nil, dice_str = nil, sequence = nil;\n\n          \n          m = /^FPR(\\d+)$/.$match(command);\n          if ($truthy(m)) {\n          } else {\n            return nil\n          };\n          ruin_point = m['$[]'](1).$to_i();\n          dice_count = ruin_point.$fdiv(10).$ceil();\n          dice_list = self.randomizer.$roll_barabara(dice_count, 10);\n          total = dice_list.$sum();\n          dice_str = dice_list.$join(\",\");\n          sequence = [\"\" + \"(\" + (dice_count) + \"D10)\", \"\" + (total) + \"[\" + (dice_str) + \"]\", \"\" + (total) + \"回復\"];\n          return sequence.$join(\" ＞ \");\n        }, $RuinBreakers_roll_fp_recovery$4.$$arity = 1);\n        Opal.const_set($nesting[0], 'TABLES', $hash2([\"PE\", \"NE\", \"DXM\", \"JC\", \"RDF\", \"TC\", \"DA\"], {\"PE\": $$$($$($nesting, 'DiceTable'), 'RangeTable').$new(\"ポジティブ感情表\", \"1D100\", [[$range(1, 5, false), \"【希望】相手はまるで自分の過去、あるいは未来を見ているように感じる。\"], [$range(6, 10, false), \"【礼儀】相手に礼を尽くすべきだとあなたは考えている。\"], [$range(11, 15, false), \"【家族】相手とは家族のような関係となる。\"], [$range(16, 20, false), \"【恩人】相手から助けを受けたことがある。それは大事な思い出だ。\"], [$range(21, 25, false), \"【友人】相手とはなんとなくウマが合う。一緒にいると楽しい。\"], [$range(26, 30, false), \"【信用】相手は信用できる人物だと思う。\"], [$range(31, 35, false), \"【仲間】相手は同じ目的を持つ仲間だ。\"], [$range(36, 40, false), \"【庇護】相手のことを助けてあげたいと思っている。\"], [$range(41, 45, false), \"【尊敬】相手の行動、思考、思想などを尊敬している。\"], [$range(46, 50, false), \"【憧れ】相手の生き方、外見、能力などになんとなく憧れている。\"], [$range(51, 55, false), \"【好意】相手の主張、外見、生き方などに好意を抱いている。\"], [$range(56, 60, false), \"【忠義】相手に対して真摯に忠実でありたいと思っている。\"], [$range(61, 65, false), \"【目標】相手はあなたにとっての目標であり、理想の存在だ。\"], [$range(66, 70, false), \"【借り】相手から助けを受けた。それはいつか返すべき、借りだ。\"], [$range(71, 75, false), \"【貸し】相手には貸しがある。別に返してもらおうとは思っていない。\"], [$range(76, 80, false), \"【腐れ縁】相手は昔から何かというと縁がある。この縁は今も続いている。\"], [$range(81, 85, false), \"【相性】相手とはなんとなくうまくいく。相性がいいようだ。\"], [$range(86, 90, false), \"【有為】相手はあなたにとって益をもたらす人物だ、そう考えている。\"], [$range(91, 95, false), \"【秘密】相手の秘密を知っている。あるいはお互い秘密を共有している。\"], [$range(96, 100, false), \"【好敵手】相手のことを好敵手、ライバルだと思っている。\"]]), \"NE\": $$$($$($nesting, 'DiceTable'), 'RangeTable').$new(\"ネガティブ感情表\", \"1D100\", [[$range(1, 5, false), \"【同族嫌悪】1日に自分の忌むべき過去、あるいは自分自身を見ているように感じる。\"], [$range(6, 10, false), \"【侮蔑】相手を蔑む気持ちがある。どうにも、気に入らない。\"], [$range(11, 15, false), \"【反発】相手の主張や行動などに反発を感じる。相手を受け入れることに抵抗がある。\"], [$range(16, 20, false), \"【わだかまり】相手には言葉にしにくいもやもやとした感情を持っている。\"], [$range(21, 25, false), \"【隔たり】相手とはなんとなくウマが合わない。一緒にいても面白くない。\"], [$range(26, 30, false), \"【疑惑】相手は信用できない人物だと思っている。\"], [$range(31, 35, false), \"【裏切り】相手に裏切られたという気持ちがある。\"], [$range(36, 40, false), \"【妨害】相手のことを気に入らず、何かあれば、邪魔したいと思っている。\"], [$range(41, 45, false), \"【侮辱】相手の行動、思考、思想などを嫌悪している。\"], [$range(46, 50, false), \"【うらやみ】相手の生き方、外見、能力などをうらやんでいる。\"], [$range(51, 55, false), \"【害意】相手の主張、外見、生き方などを嫌い、害を与えたいと思っている。\"], [$range(56, 60, false), \"【不快】相手を不快な人間だと思っている。生理的に受け付けない。\"], [$range(61, 65, false), \"【反面】相手を反面教師としている。ああはなるまい、と。\"], [$range(66, 70, false), \"【詐欺】相手に騙されているように思う。何か嘘を吐かれているように思うのだ。\"], [$range(71, 75, false), \"【搾取】相手に自分の何かを奪われているような怒りを感じる。\"], [$range(76, 80, false), \"【悪縁】相手は昔から縁がある。この縁を絶ちきりたいと思っている。\"], [$range(81, 85, false), \"【相性】相手とはなんとなくうまくいかない。残念だが相性が悪い。\"], [$range(86, 90, false), \"【害悪】相手はあなたにとって害をもたらす、そう思っている。\"], [$range(91, 95, false), \"【怨恨】相手に恨みを持っている。この恨みを晴らす日は来るだろうか。\"], [$range(96, 100, false), \"【仇敵】相手のことを倒すべき相手と思っている。\"]]), \"DXM\": $$$($$($nesting, 'DiceTable'), 'RangeTable').$new(\"デウス・エクス・マキナ表\", \"1D10\", [[$range(1, 2, false), \"神降臨。エンディングフェイズに効果を発揮する。あなたの願いはかなう。願いの内容はGMと相談して決定すること。\"], [$range(3, 4, false), \"逃走。状況を無視してあなた以外のキャストはシーンから退場できる。\"], [$range(5, 6, false), \"命の雫。あなた以外のキャストのFPが3D10点だけ回復する。\"], [$range(7, 8, false), \"天変地異。巨大な嵐や地震、雷雨などが発生し、周囲は大混乱に陥る。トループやエキストラはシーン終了まで何も行なえない(戦闘不能として扱う)。\"], [$range(9, 10, false), \"不思議なことが起こった。あなたのFPが完全に回復する。\"]]), \"JC\": $$$($$($nesting, 'DiceTable'), 'Table').$new(\"断罪チャート\", \"1D10\", [\"【国王／女王】国レベルの代表者が現われて、あなたの主張を支持してくれる。\", \"【王子／王女】王子や王女といった国で知らぬ者がないような存在が、あなたの主張を支持してくれる。\", \"【高位聖職者】高位の聖職者が、あなたの主張を支持してくれる。\", \"【有力貴族】有力貴族が、あなたの主張を支持してくれる。\", \"【有力市民】有力市民が、あなたの主張を支持してくれる。\", \"【豪商】豪商が、あなたの主張を支持してくれる。\", \"【現役学生たち】アカデミーの学生たちが、あなたの主張を支持してくれる。\", \"【OB、OGたち】アカデミーのOBやOGが、あなたの主張を支持してくれる。\", \"【多くの人々】名も知れぬ多くの人々が、あなたの主張を支持してくれる。\", \"【外国の王侯貴族】外国の代表者が現われて、あなたの主張を支持してくれる。\"]), \"RDF\": $$$($$($nesting, 'DiceTable'), 'RangeTable').$new(\"破滅のイヤな感じ表\", \"1D100\", [[$range(1, 5, false), \"【水中で拘束】\\n演出：水中で長い髪の毛が全身に絡みついて動きが重くなるような感覚。\\nルーインブレイク成功：重い拘束から解き放たれたような快感。\"], [$range(6, 10, false), \"【鈍痛】\\n演出：こめかみから長い釘を差し込まれているような感覚。\\nルーインブレイク成功：痛みが消えてなくなる安堵感。\"], [$range(11, 15, false), \"【酸欠】\\n演出：空気が薄くなり呼吸をしても息苦しさが消えない感覚。\\nルーインブレイク成功：清浄な空気を吸った時の快感。\"], [$range(16, 20, false), \"【ヘッドロック】\\n演出：頭を締め上げられているような感覚。\\nルーインブレイク成功：痛みから逃れられた安心感。\"], [$range(21, 25, false), \"【悪寒】\\n演出：背中が冷やりとして悪寒が全身を突き抜けるような感覚。\\nルーインブレイク成功：悪寒が鎮まった平穏感。\"], [$range(26, 30, false), \"【熱病】\\n演出：熱病で浮かされたように頭がぼうっとする感覚。\\nルーインブレイク成功：落ち着きを取り戻した安息感。\"], [$range(31, 35, false), \"【高所恐怖】\\n演出：目もくらむような断崖の際に立たされたような感覚。\\nルーインブレイク成功：落下の恐怖から逃れた安堵感。\"], [$range(36, 40, false), \"【ガラスの破片】\\n演出：砕けた散ったガラスの破片を踏み続けるような感覚。\\nルーインブレイク成功：幻の痛みが消えていく安心感。\"], [$range(41, 45, false), \"【ジャリ感】\\n演出：口の中に砂を詰め込まれたような感覚。\\nルーインブレイク成功：口の中がすっきりしたような清浄感。\"], [$range(46, 50, false), \"【耳鳴り】\\n演出：耳をふさいでも聞こえる耳鳴りが響き続けているような感覚。\\nルーインブレイク成功：異音が消えた平安感。\"], [$range(51, 55, false), \"【孤独】\\n演出：虚空にただひとり浮かんでいるような孤独な感覚。\\nルーインブレイク成功：孤立から脱した安心感。\"], [$range(56, 60, false), \"【落下感】\\n演出：高所から落ち続けているような感覚。\\nルーインブレイク成功：地に足のついた安定感。\"], [$range(61, 65, false), \"【暗所恐怖】\\n演出：明るいはずなのに周囲が真っ暗で何も見えない不安な感覚。\\nルーインブレイク成功：周囲がハッキリ見える安息感。\"], [$range(66, 70, false), \"【擦過】\\n演出：心の表面をザラザラとしたもので削られているような感覚。\\nルーインブレイク成功：痛みから逃れられた安楽感。\"], [$range(71, 75, false), \"【幻聴】\\n演出：周囲に人がいて、絶えず自分の悪口を囁きあっているような感覚。\\nルーインブレイク成功：周囲への恐怖が消えた平穏感。\"], [$range(76, 80, false), \"【異臭】\\n演出：不快な香りが漂ってくるような感覚。\\nルーインブレイク成功：異臭を感じなくなった清浄感。\"], [$range(81, 85, false), \"【健忘感】\\n演出：何かを忘れていて、それが何かは思い出せないような感覚。\\nルーインブレイク成功：忘れごとを思い出せたときの開放感。\"], [$range(86, 90, false), \"【杞憂】\\n演出：天が崩れていつ落ちてくるかわからない感覚。\\nルーインブレイク成功：頭上がすっきりした痛快感。\"], [$range(91, 95, false), \"【背後恐怖】\\n演出：背後に人が立っているような感覚。\\nルーインブレイク成功：後方に憂いのない安心感。\"], [$range(96, 100, false), \"【夢中感】\\n演出：夢の中にいるような不安な感覚。\\nルーインブレイク成功：しっかりとした現実感。\"]]), \"TC\": $$$($$($nesting, 'DiceTable'), 'Table').$new(\"トラブルチャート／トラブル解決チャート\", \"1D10\", [\"【暴れ馬／交通事故】\\nトラブル：いきなり、暴れ馬がやってきて、キミは刎ねられた。\\n解決：時間はかかったが、事故は処理された。\", \"【突然の崩落／地下遺跡へ移動】\\nトラブル：周辺ごと地面が陥没し、地下へと導かれる。\\n解決：崩落した先は謎の古代文明の遺跡であった。\", \"【暗殺者の襲撃】\\nトラブル：凶刃がキャストを襲う。\\n解決：何とか暗殺者の手を逃れ、キミは生還した。\", \"【拉致・誘拐】\\nトラブル：突然、キミは黒覆面の男たちに馬車に押し込まれ、誘拐される。\\n解決：何とかして、キミは誘拐組織の手を逃れた。\", \"【爆発！！】\\nトラブル：爆発した！\\n解決：奇跡的にキミは無傷だ、周囲には破壊されたガレキが転がっている。\", \"【行きずりの強盗】\\nトラブル：訪れていた店やレストラン、銀行などが強盗に襲われる。\\n解決：通りすがりのヒーローが強盗を倒した。あれはいったい。\", \"【テロリストの襲撃／撃退】\\nトラブル：テロリストに襲われる。\\n解決：テロリストは撃退された。\", \"【交通マヒ／移動変更】\\nトラブル：直接、事故に行きあったわけではない事故によって起こった交通マヒによって身動きが取れない。\\n解決：交通機関を変更して移動することになった。\", \"【軍・警察の封鎖／大捕物】\\nトラブル：突如して軍や警察などの治安組織によって建物が封鎖されてしまった。\\n解決：建物内にいる犯人を巡り、大捕物が始った。\", \"【任意】\\nGMと相談してトラブルの内容を決めよう。\"]), \"DA\": $$$($$($nesting, 'DiceTable'), 'Table').$new(\"ドタバタアクション表\", \"1D10\", [\"【フードファイト（野菜）】大根ソードで切りつけ、カボチャハンマーで殴り抜け\", \"【ホコリの雲】ドカッ、バキ、ボカッ。キュウ。\", \"【リビングルームストーム】飛び交うソーサー、ポットの中には煎れたばかりの紅茶（抽出温度28度）が入っているぞ。\", \"【廊下でランナウェイ】廊下を走っては行けません。\", \"【図書館バトル】敏腕司書が、図書館の静寂を乱す者を残らず静かにさせていく。\", \"【パーティーファイト】優雅に踊り、紳士淑女の助けを借りて悪漢を退治しよう。\", \"【フードファイト（肉と骨）】ヒトに眠る野性を解き放て。羊の骨が最古の武器として再発見される。\", \"【イスと机】イスは盾であり、武器であり悪漢をけん制し、拘束する。\", \"【洗濯物ファイト】シーツで敵の動きを止めて、石鹸で転ばせよう。\", \"【任意】GMと相談して、イメージをふくらませよう。\"])}).$freeze());\n        return self.$register_prefix(\"RB\", \"FP[DR]\", $$($nesting, 'TABLES').$keys());\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n})(Opal);\n"],"sourceRoot":"webpack:///"}