{"version":3,"sources":["./node_modules/bcdice/lib/bcdice/game_system/SwordWorld2_5.js"],"names":["require","Opal","modules","self","top","$nesting","nil","$$$","$$","$module","module","$hash2","hash2","$truthy","truthy","$base","$parent_nesting","concat","$eval$1","def","expr","$kwargs","round_type","$ret_or_1","$$is_hash","ArgumentError","$new","$$smap","$eval","$$arity","get_singleton_class","$rb_minus","lhs","rhs","$send","send","$send2","send2","class_variable_set","$fallbacks$1","$fallbacks$eq$2","$$fallbacks","$a","$ret_or_2","$$cvars","$current","fallbacks","$writer","to_a","$Fallbacks_translate$3","$Fallbacks_extract_non_symbol_default$excl$6","$Fallbacks_exists$ques$8","$Fallbacks_on_fallback$10","$$translate","locale","key","options","$$4","$iter","$$p","$yield","default$","fallback_options","$ret_or_3","$zuper","$zuper_i","$zuper_ii","arguments","length","Array","$fetch","find_super_dispatcher","$merge","$fallbacks","fallback","$$s","$$5","result","find_iter_super_dispatcher","$$def","$to_s","$on_fallback","ret","$err","rescue","pop_exception","$throw","$returner","returner","$v","$$7","defaults","first_non_symbol_default","$flatten","$index","$$9","$private","$$on_fallback","_original_locale","_fallback_locale","_key","_optoins","$rb_gt","$rb_plus","$rb_le","$rb_times","$rb_ge","$klass","klass","$super","$Randomizer_initialize$1","$Randomizer_roll_barabara$2","$Randomizer_roll_sum$4","$Randomizer_roll_once$5","$Randomizer_roll_index$6","$Randomizer_roll_tens_d10$7","$Randomizer_roll_d9$8","$Randomizer_roll_d66$9","$Randomizer_rand_inner$11","$Randomizer_random$12","$Randomizer_push_to_detail$13","$$prototype","rand_results","detailed_rand_results","const_set","$$initialize","$attr_reader","$$roll_barabara","times","sides","$$3","$size","$raise","$roll_once","$$roll_sum","$roll_barabara","$sum","$$roll_once","dice","$rand_inner","$push_to_detail","$$roll_index","$$roll_tens_d10","$$roll_d9","$$roll_d66","sort_type","$$10","dice_list","$case","$$rand_inner","$random","$$random","$rand","$$push_to_detail","kind","value","detail","$push","$RollResult_initialize$1","$RollResult_to_s$2","$RollResult_last_body$3","$RollResult_empty$ques$4","table_name","body","$$to_s","$$last_body","$last_body","$ChainTable_initialize$1","$ChainTable_roll$2","items","name","type","m","$freeze","$match","$to_i","$$roll","randomizer","index","chosen","$roll_sum","$roll","$D66GridTable_from_i18n$1","$D66GridTable_initialize$2","$D66GridTable_roll$3","defs","$$from_i18n","table","$t","dice1","dice2","index1","index2","$require","$D66HalfGridTable_from_i18n$1","$D66HalfGridTable_initialize$2","items_1_2_3","items_4_5_6","$D66OneThirdTable_from_i18n$1","$D66OneThirdTable_initialize$2","items_1_2","items_3_4","items_5_6","$D66ParityTable_initialize$1","$D66ParityTable_roll$2","odd","even","second_table","$D66RangeTable_initialize$1","$D66RangeTable_roll$2","row","$D66Table_from_i18n$1","$D66Table_initialize$2","$D66Table_roll$3","$const_get","$RangeTable$1","$RangeTable_initialize$3","$RangeTable_fetch$4","$RangeTable_roll$6","$RangeTable_store$7","$RangeTable_coerce_to_int_range$11","$RangeTable_assert_min_sum_is_covered$12","$RangeTable_assert_max_sum_is_covered$13","$RangeTable_assert_no_gap_or_overlap_in_ranges$14","num_of_dice","num_of_sides","formatter","$alias_method","$$2","$name","$content","dice_roll_method","$store","$$fetch","item","i","$range","values","sum","$$store","$$8","items_with_range","sorted_items","r","c","$coerce_to_int_range","_","$min","$assert_min_sum_is_covered","$assert_max_sum_is_covered","$assert_no_gap_or_overlap_in_ranges","range","content","$$coerce_to_int_range","x","$begin","$end","$class","$$assert_min_sum_is_covered","min_sum","$first","$$assert_max_sum_is_covered","max_sum","$last","$$assert_no_gap_or_overlap_in_ranges","$$15","i1","i2","r1","r2","max1","next_of_max1","$max","$Category_initialize$1","$Category_roll$3","$Category_to_s$4","skills","s_format","$map","s","$skills","$Skill_initialize$1","$Skill_to_s$2","category_dice","row_dice","category_name","skill_name","$format","$hash","hash","$SaiFicSkillTable_from_i18n$1","$SaiFicSkillTable_initialize$3","$SaiFicSkillTable_roll_command$5","$SaiFicSkillTable_roll_category$6","$SaiFicSkillTable_roll_skill$7","$SaiFicSkillTable_prefixes$8","$SaiFicSkillTable_format_skill$9","rtt","rtt_format","rct","rct_format","rttn","rttn_format","categories","global","k","to_hash","$mlhs_tmp1","$b","to_ary","$$has_top_level_mlhs_arg","$to_a","$$roll_command","command","cat","$format_skill","$roll_skill","$roll_category","$dice","$$roll_category","$$roll_skill","$$prefixes","$compact","$$format_skill","format_string","skill","$category_dice","$row_dice","$category_name","$Table_from_i18n$1","$Table_initialize$2","$Table_roll$3","$Table_choice$4","bcdice","$choice","$$choice","$Translate_translate$1","kwrestargs","$translate","$Result_initialize$10","$Result_secret$ques$11","$Result_success$ques$12","$Result_failure$ques$13","$Result_critical$ques$14","$Result_fumble$ques$15","$Result_condition$eq$16","secret","success","failure","critical","fumble","$success$1","$failure$3","$critical$5","$fumble$7","$nothing$9","$$success","text","$$failure","$$critical","$$6","$$fumble","$$nothing","rands","detailed_rands","$attr_accessor","$attr_writer","condition","$rb_lt","$gvars","gvars","$Parser_racc_runtime_type$1","$Parser__racc_setup$2","$Parser__racc_init_sysvars$3","$Parser_do_parse$4","$Parser_next_token$5","$Parser__racc_do_parse_rb$6","$Parser_yyparse$8","$Parser__racc_yyparse_rb$9","$Parser__racc_evalact$12","$Parser__racc_do_reduce$14","$Parser_on_error$15","$Parser_yyerror$16","$Parser_yyaccept$17","$Parser_yyerrok$18","$Parser_racc_read_token$19","$Parser_racc_shift$20","$Parser_racc_reduce$21","$Parser_racc_accept$23","$Parser_racc_e_pop$24","$Parser_racc_next_state$25","$Parser_racc_print_stacks$26","$Parser_racc_print_states$28","$Parser_racc_token2str$30","$Parser_token_to_str$31","yydebug","racc_debug_out","racc_error_status","racc_t","racc_vstack","racc_val","racc_state","racc_tstack","$$racc_runtime_type","$$_racc_setup","arg","stderr","$$_racc_init_sysvars","racc_read_next","racc_user_yyerror","$$do_parse","$__send__","$_racc_setup","$$next_token","$$_racc_do_parse_rb","in_debug","action_table","action_check","action_default","action_pointer","token_table","tok","act","$_racc_init_sysvars","$c","$d","$e","$ret_or_4","$next_token","$racc_read_token","$_racc_evalact","$$yyparse","recv","mid","$$_racc_yyparse_rb","c_debug","$$11","val","$f","$ret_or_5","$ret_or_6","$ret_or_7","$ret_or_8","$ret_or_9","$ret_or_10","$ret_or_11","$ret_or_12","$ret_or_13","$$_racc_evalact","$$13","shift_n","reduce_n","$ret_or_14","$ret_or_15","code","$ret_or_16","$ret_or_17","$racc_shift","$_racc_do_reduce","$racc_accept","$on_error","$pop","$racc_e_pop","$inspect","$racc_next_state","$$_racc_do_reduce","goto_table","goto_check","goto_default","goto_pointer","nt_base","reduce_table","use_result","state","vstack","tstack","len","reduce_to","method_id","void_array","tmp_t","tmp_v","k1","$ret_or_18","$ret_or_19","curstate","$racc_reduce","$$on_error","t","$ret_or_20","$sprintf","$token_to_str","$$yyerror","$$yyaccept","$$yyerrok","$$racc_read_token","$print","$racc_token2str","$puts","$$racc_shift","$racc_print_stacks","$$racc_reduce","toks","sim","$$22","out","$$racc_accept","$$racc_e_pop","$racc_print_states","$$racc_next_state","$$racc_print_stacks","v","$$27","$$racc_print_states","$$29","st","$$racc_token2str","$ret_or_21","$$token_to_str","$rb_divide","$BinaryOp_initialize$1","$BinaryOp_eval$2","$BinaryOp_output$3","$BinaryOp_s_exp$4","$BinaryOp_op_for_s_exp$5","op","l","$$output","$output","$$s_exp","$op_for_s_exp","$s_exp","$$op_for_s_exp","$DivideBase_initialize$6","$DivideBase_eval$7","$DivideBase_output$8","$DivideBase_rounding_method$9","$DivideBase_op_for_s_exp$10","$DivideBase_divide_and_round$11","$divide_and_round","$rounding_method","$$rounding_method","$$divide_and_round","_dividend","_divisor","_round_type","$DivideWithGameSystemDefault_divide_and_round$12","dividend","divisor","$to_f","$ceil","$round","$DivideWithCeil_divide_and_round$13","$DivideWithRound_divide_and_round$14","$DivideWithFloor_divide_and_round$15","$Negative_initialize$16","$Negative_eval$17","$Negative_output$18","$Negative_s_exp$19","$Parenthesis_initialize$20","$Parenthesis_eval$21","$Parenthesis_output$22","$Parenthesis_s_exp$23","$Number_initialize$24","$Number_eval$25","$Number_output$26","alias","$StringScanner_initialize$1","$StringScanner_beginning_of_line$ques$2","$StringScanner_scan$3","$StringScanner_scan_until$4","$StringScanner_$$$5","$StringScanner_check$6","$StringScanner_check_until$7","$StringScanner_peek$8","$StringScanner_eos$ques$9","$StringScanner_exist$ques$10","$StringScanner_skip$11","$StringScanner_skip_until$12","$StringScanner_get_byte$13","$StringScanner_match$ques$14","$StringScanner_pos$eq$15","$StringScanner_matched_size$16","$StringScanner_post_match$17","$StringScanner_pre_match$18","$StringScanner_reset$19","$StringScanner_rest$20","$StringScanner_rest$ques$21","$StringScanner_rest_size$22","$StringScanner_terminate$23","$StringScanner_unscan$24","$StringScanner_anchor$25","pos","string","working","matched","prev_pos","match","charAt","$$scan","pattern","$anchor","exec","substring","$$scan_until","substr","idx","$$check","$$check_until","$scan_until","$$peek","$$skip","match_str","match_len","$$skip_until","$$get_byte","$length","slice","$$matched_size","$$post_match","$$pre_match","$$reset","$$rest","$$rest_size","$rest","$$terminate","$$unscan","$$anchor","flags","toString","undefined","RegExp","source","$Normalize_comparison_operator$1","$Normalize_target_number$2","$module_function","$$comparison_operator","$$target_number","$Lexer_initialize$1","$Lexer_next_token$3","$Lexer_source$5","scanner","notations","n","number","cmp_op","char$","token","$scan","$comparison_operator","$getch","$upcase","$to_sym","$$source","$string","$Parsed_initialize$1","$Parsed_question_target$ques$2","$Parsed_to_s$3","question_target","dollar","modify_number","target_number","suffix_position","f","d","target","$modifier","$join","$Parser_initialize$1","$Parser_disable_modifier$2","$Parser_enable_critical$3","$Parser_enable_fumble$4","$Parser_enable_dollar$5","$Parser_restrict_cmp_op_to$6","$Parser_enable_question_target$7","$Parser_parse$8","$Parser_parsed$9","$Parser_next_token$11","$Parser__reduce_1$12","$Parser__reduce_2$13","$Parser__reduce_3$14","$Parser__reduce_4$15","$Parser__reduce_5$16","$Parser__reduce_6$17","$Parser__reduce_7$18","$Parser__reduce_8$19","$Parser__reduce_9$20","$Parser__reduce_10$21","$Parser__reduce_11$22","$Parser__reduce_12$23","$Parser__reduce_13$24","$Parser__reduce_14$25","$Parser__reduce_15$26","$Parser__reduce_16$27","$Parser__reduce_18$28","$Parser__reduce_19$29","$Parser__reduce_21$30","$Parser__reduce_22$31","$Parser__reduce_23$32","$Parser__reduce_24$33","$Parser__reduce_25$34","$Parser__reduce_26$35","$Parser__reduce_27$36","$Parser__reduce_29$37","$Parser__reduce_30$38","$Parser__reduce_none$39","racc_action_table","racc_action_check","racc_action_pointer","racc_action_default","racc_goto_table","racc_goto_check","racc_goto_pointer","racc_goto_default","racc_reduce_table","racc_reduce_n","racc_shift_n","racc_token_table","racc_nt_base","racc_use_result_var","lexer","modifier","allowed_cmp_op","$post_args","call","extract_kwargs","hasOwnProperty","$$disable_modifier","$$enable_critical","$$enable_fumble","$$enable_dollar","$$restrict_cmp_op_to","ops","$$enable_question_target","$$parse","$do_parse","$$parsed","notation","option","p","$$_reduce_1","_values","$parsed","$$_reduce_2","$$_reduce_3","$$_reduce_4","$$_reduce_5","term","$$_reduce_6","$$_reduce_7","$$_reduce_8","$$_reduce_9","$$_reduce_10","$$_reduce_11","$$_reduce_12","$$_reduce_13","$$_reduce_14","$$_reduce_15","$$_reduce_16","$$_reduce_18","$$_reduce_19","divied_class","$$_reduce_21","$$_reduce_22","$$_reduce_23","$$_reduce_24","$$_reduce_25","$$_reduce_26","$$_reduce_27","$$_reduce_29","$$_reduce_30","$$_reduce_none","$Checker_check_result_legacy$1","$Checker_check_1D100$2","$Checker_check_1D20$3","$Checker_check_nD10$4","$Checker_check_2D6$5","$Checker_check_nD6$6","$$check_result_legacy","total","sides_list","value_list","dice_total","$to_proc","$check_1D100","$check_1D20","$check_2D6","$delete_prefix","$uniq","$check_nD10","$check_nD6","$$check_1D100","$$check_1D20","$$check_nD10","$$check_2D6","$$check_nD6","$Base_initialize$7","$Base_sort_add_dice$ques$8","$Base_sort_barabara_dice$ques$9","$Base_enabled_d9$ques$10","$Base_enable_debug$11","$Base_eval$12","$Base_change_text$13","$Base_check_result$14","$Base_grich_text$15","$Base_eval_common_command$16","$Base_dice_command$18","$Base_eval_game_system_specific_command$20","$Base_result_ndx$21","$Base_result_1d100$22","$Base_result_1d20$23","$Base_result_nd10$24","$Base_result_2d6$25","$Base_result_nd6$26","$Base_get_table_by_2d6$27","$Base_get_table_by_1d6$28","$Base_get_table_by_nD6$29","$Base_get_table_by_nDx$30","$Base_get_table_by_1d3$31","$Base_get_table_by_d66_swap$32","$Base_get_table_by_d66$33","$Base_get_table_by_number$34","$Base_get_table_value$36","$Base_roll_tables$37","$Base_debug$38","sort_add_dice","sort_barabara_dice","enabled_d9","raw_input","enabled_upcase_input","debug","$register_prefix$1","$register_prefix_from_super_class$2","$prefixes_pattern$3","$command_pattern$4","$eval$6","$$register_prefix","prefixes","$concat","$$register_prefix_from_super_class","$register_prefix","$superclass","$prefixes","$$prefixes_pattern","prefixes_pattern","regexp","$$command_pattern","pattarns","command_pattern","$source","$include","d66_sort_type","sides_implicit_d","upper_dice_reroll_threshold","reroll_dice_reroll_threshold","default_cmp_op","default_target_number","$$enable_debug","$process","$dice_command","$eval_common_command","$rand_results","$detailed_rand_results","$$change_text","$$check_result","$check_result_legacy","$result_1d100","$result_1d20","$result_2d6","$nothing","$result_nd10","$result_nd6","$result_ndx","$$grich_text","count_one","dice_total_count","count_success","$$eval_common_command","$$17","$change_text","$$dice_command","$$19","output","$prefixes_pattern","$eval_game_system_specific_command","$$eval_game_system_specific_command","$$result_ndx","$success","$failure","$$result_1d100","$$result_1d20","$$result_nd10","$$result_2d6","$$result_nd6","$$get_table_by_2d6","$get_table_by_nD6","$$get_table_by_1d6","$$get_table_by_nD6","count","$get_table_by_nDx","$$get_table_by_nDx","diceType","num","$get_table_value","$$get_table_by_1d3","$debug","$$get_table_by_d66_swap","$roll_d66","$get_table_by_number","$$get_table_by_d66","indexText","$$get_table_by_number","$$35","$$get_table_value","data","$call","$$roll_tables","tables","$$debug","$$39","targetStr","valueStrs","$warn","$load_path","$__dir__","$RatingLexer_initialize$1","$RatingLexer_next_token$2","$RatingLexer_source$3","$RatingParsed_initialize$1","$RatingParsed_half$2","$RatingParsed_critical$3","$RatingParsed_first_modify$4","$RatingParsed_first_to$5","$RatingParsed_rateup$6","$RatingParsed_kept_modify$7","$RatingParsed_modifier_after_half$8","$RatingParsed_to_s$9","modifier_after_half","first_modify","first_to","rateup","kept_modify","rate","greatest_fortune","$$half","crit","$half","$$first_modify","$$first_to","$$rateup","$$kept_modify","$$modifier_after_half","$critical","$first_modify","$first_to","$rateup","$kept_modify","$RatingParser_initialize$1","$RatingParser_set_debug$2","$RatingParser_parse$3","$RatingParser_parsed$4","$RatingParser_next_token$6","$RatingParser__reduce_1$7","$RatingParser__reduce_2$8","$RatingParser__reduce_3$9","$RatingParser__reduce_4$10","$RatingParser__reduce_5$11","$RatingParser__reduce_6$12","$RatingParser__reduce_7$13","$RatingParser__reduce_8$14","$RatingParser__reduce_9$15","$RatingParser__reduce_10$16","$RatingParser__reduce_11$17","$RatingParser__reduce_12$18","$RatingParser__reduce_13$19","$RatingParser__reduce_14$20","$RatingParser__reduce_15$21","$RatingParser__reduce_16$22","$RatingParser__reduce_17$23","$RatingParser__reduce_18$24","$RatingParser__reduce_19$25","$RatingParser__reduce_20$26","$RatingParser__reduce_21$27","$RatingParser__reduce_23$28","$RatingParser__reduce_24$29","$RatingParser__reduce_26$30","$RatingParser__reduce_27$31","$RatingParser__reduce_29$32","$RatingParser__reduce_30$33","$RatingParser__reduce_none$34","version","$$set_debug","$$_reduce_17","$$_reduce_20","$SwordWorld_initialize$1","$SwordWorld_result_2d6$2","$SwordWorld_eval_game_system_specific_command$3","$SwordWorld_rating_parser$4","$SwordWorld_rating$5","$SwordWorld_getSW2_0_RatingTable$8","$SwordWorld_getNewRates$9","$SwordWorld_rollDice$11","$SwordWorld_getResultText$12","rating_table","_dice_list","$fumble","$rating","$$rating_parser","$$rating","rate_sw2_0","keyMax","newRates","diceResultTotals","diceResults","rateResults","diceOnlyTotal","totalValue","round","result_text","$rating_parser","$parse","$getSW2_0_RatingTable","$rate","$getNewRates","$brk","new_brk","dice_raw","diceText","currentKey","rateValue","$rollDice","brk","$$brk","err","$getResultText","$$getSW2_0_RatingTable","$$getNewRates","rate_3","rate_4","rate_5","rate_6","rate_7","rate_8","rate_9","rate_10","rate_11","rate_12","zeroArray","rateText","rate_arr","$split","$$rollDice","_command","dice_str","$$getResultText","rating_total","sequence","round_text","total_text","$modifier_after_half","$TranscendentTest_initialize$1","$TranscendentTest_execute$2","$TranscendentTest_node_expression$4","$TranscendentTest_sum_of_dice$5","$TranscendentTest_dice_str$6","$TranscendentTest_result_status$8","critical_value","expression","modifier_str","$node_expression","$$execute","first_value_group","value_groups","total_sum","parts","$sum_of_dice","$result_status","$dice_str","$$node_expression","$$sum_of_dice","$$dice_str","value_groups_str","$$result_status","n_value_groups","$SwordWorld2_0_initialize$1","$SwordWorld2_0_eval_game_system_specific_command$2","$SwordWorld2_0_rating_parser$3","$SwordWorld2_0_rollDice$4","$SwordWorld2_0_growth$5","$SwordWorld2_0_growth_step$7","$SwordWorld2_0_get_ability_by_dice$8","$SwordWorld2_0_get_fumble_table$9","$SwordWorld2_0_get_tangle_table$10","transcendent_parser","cmd","node","$growth","$last_match","$enable_critical","$restrict_cmp_op_to","$modify_number","$cmp_op","$target_number","$execute","$get_fumble_table","$get_tangle_table","$greatest_fortune","$$growth","Range","$growth_step","$$growth_step","d1","d2","a1","a2","$get_ability_by_dice","$$get_ability_by_dice","$$get_fumble_table","$get_table_by_1d6","$$get_tangle_table","$SwordWorld2_5_eval_game_system_specific_command$1","$SwordWorld2_5_rating_parser$2","$SwordWorld2_5_druid_dice$3","$SwordWorld2_5_get_abyss_curse_table$4","power_list","druid_parser","$captures","$druid_dice","$get_abyss_curse_table","$$druid_dice","offset","power","$command","$capitalize","$$get_abyss_curse_table","table_result","additional","final_result","$value"],"mappings":"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","file":"default~SwordWorld2_5~index.js","sourcesContent":["require('./../opal');\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/arithmetic_evaluator\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $hash2 = Opal.hash2, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'ArithmeticEvaluator');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function(self, $parent_nesting) {\n        var $nesting = [self].concat($parent_nesting), $eval$1;\n\n        return (Opal.def(self, '$eval', $eval$1 = function(expr, $kwargs) {\n          var round_type, self = this, $ret_or_1 = nil;\n\n          \n          \n          if ($kwargs == null) {\n            $kwargs = $hash2([], {});\n          } else if (!$kwargs.$$is_hash) {\n            throw Opal.ArgumentError.$new('expected kwargs');\n          };\n          \n          round_type = $kwargs.$$smap[\"round_type\"];\n          if (round_type == null) {\n            round_type = $$$($$($nesting, 'RoundType'), 'FLOOR')\n          };\n          if ($truthy(expr)) {\n          } else {\n            return 0\n          };\n          if ($truthy(($ret_or_1 = $$($nesting, 'Arithmetic').$eval(expr, round_type)))) {\n            return $ret_or_1\n          } else {\n            return 0\n          };\n        }, $eval$1.$$arity = -2), nil) && 'eval'\n      })(Opal.get_singleton_class(self), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"i18n/backend/fallbacks\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $truthy = Opal.truthy, $send = Opal.send, $send2 = Opal.send2, $hash2 = Opal.hash2;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'I18n');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    \n    (Opal.class_variable_set($nesting[0], '@@fallbacks', nil));\n    (function(self, $parent_nesting) {\n      var $nesting = [self].concat($parent_nesting), $fallbacks$1, $fallbacks$eq$2;\n\n      \n      \n      Opal.def(self, '$fallbacks', $fallbacks$1 = function $$fallbacks() {\n        var $a, self = this, $ret_or_1 = nil, $ret_or_2 = nil;\n\n        \n        (Opal.class_variable_set($nesting[1], '@@fallbacks', (function() {if ($truthy(($ret_or_1 = (($a = $nesting[1].$$cvars['@@fallbacks']) == null ? nil : $a)))) {\n          return $ret_or_1\n        } else {\n          return $$$($$$($$($nesting, 'I18n'), 'Locale'), 'Fallbacks').$new()\n        }; return nil; })()));\n        if ($truthy(($ret_or_2 = $$($nesting, 'Thread').$current()['$[]'](\"i18n_fallbacks\")))) {\n          return $ret_or_2\n        } else {\n          return (($a = $nesting[1].$$cvars['@@fallbacks']) == null ? nil : $a)\n        };\n      }, $fallbacks$1.$$arity = 0);\n      return (Opal.def(self, '$fallbacks=', $fallbacks$eq$2 = function(fallbacks) {\n        var $a, self = this, $writer = nil;\n\n        \n        (Opal.class_variable_set($nesting[1], '@@fallbacks', (function() {if ($truthy(fallbacks['$is_a?']($$($nesting, 'Array')))) {\n          return $$$($$$($$($nesting, 'I18n'), 'Locale'), 'Fallbacks').$new(fallbacks)\n        } else {\n          return fallbacks\n        }; return nil; })()));\n        \n        $writer = [\"i18n_fallbacks\", (($a = $nesting[1].$$cvars['@@fallbacks']) == null ? nil : $a)];\n        $send($$($nesting, 'Thread').$current(), '[]=', Opal.to_a($writer));\n        return $writer[$rb_minus($writer[\"length\"], 1)];;\n      }, $fallbacks$eq$2.$$arity = 1), nil) && 'fallbacks=';\n    })(Opal.get_singleton_class(self), $nesting);\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'Backend');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $parent_nesting) {\n        var self = $module($base, 'Fallbacks');\n\n        var $nesting = [self].concat($parent_nesting), $Fallbacks_translate$3, $Fallbacks_extract_non_symbol_default$excl$6, $Fallbacks_exists$ques$8, $Fallbacks_on_fallback$10;\n\n        \n        \n        Opal.def(self, '$translate', $Fallbacks_translate$3 = function $$translate(locale, key, options) {try {\n\n          var $$4, $iter = $Fallbacks_translate$3.$$p, $yield = $iter || nil, self = this, default$ = nil, fallback_options = nil, $ret_or_3 = nil, $zuper = nil, $zuper_i = nil, $zuper_ii = nil;\n\n          if ($iter) $Fallbacks_translate$3.$$p = null;\n          // Prepare super implicit arguments\n          for($zuper_i = 0, $zuper_ii = arguments.length, $zuper = new Array($zuper_ii); $zuper_i < $zuper_ii; $zuper_i++) {\n            $zuper[$zuper_i] = arguments[$zuper_i];\n          }\n          \n          \n          if (options == null) {\n            options = $$($nesting, 'EMPTY_HASH');\n          };\n          if ($truthy(options.$fetch(\"fallback\", true))) {\n          } else {\n            return $send2(self, Opal.find_super_dispatcher(self, 'translate', $Fallbacks_translate$3, false, true), 'translate', $zuper, $iter)\n          };\n          if ($truthy(options['$[]'](\"fallback_in_progress\"))) {\n            return $send2(self, Opal.find_super_dispatcher(self, 'translate', $Fallbacks_translate$3, false, true), 'translate', $zuper, $iter)};\n          if ($truthy(options['$[]'](\"default\"))) {\n            default$ = self['$extract_non_symbol_default!'](options)};\n          fallback_options = options.$merge($hash2([\"fallback_in_progress\"], {\"fallback_in_progress\": true}));\n          $send($$($nesting, 'I18n').$fallbacks()['$[]'](locale), 'each', [], ($$4 = function(fallback){var self = $$4.$$s == null ? this : $$4.$$s, $$5;\n\n          \n            \n            if (fallback == null) {\n              fallback = nil;\n            };\n            try {\n              return $send(self, 'catch', [\"exception\"], ($$5 = function(){var self = $$5.$$s == null ? this : $$5.$$s, result = nil;\n\n              \n                result = $send2(self, Opal.find_iter_super_dispatcher(self, 'translate', ($$5.$$def || $$4.$$def || $Fallbacks_translate$3), false, false), 'translate', [fallback, key, fallback_options], null);\n                if ($truthy(result['$nil?']())) {\n                  return nil\n                } else {\n                  \n                  if ($truthy(locale.$to_s()['$!='](fallback.$to_s()))) {\n                    self.$on_fallback(locale, fallback, key, options)};\n                  Opal.ret(result);\n                };}, $$5.$$s = self, $$5.$$arity = 0, $$5))\n            } catch ($err) {\n              if (Opal.rescue($err, [$$$($$($nesting, 'I18n'), 'InvalidLocale')])) {\n                try {\n                  return nil\n                } finally { Opal.pop_exception() }\n              } else { throw $err; }\n            };}, $$4.$$s = self, $$4.$$arity = 1, $$4));\n          if ($truthy((function() {if ($truthy(($ret_or_3 = options['$key?'](\"default\")))) {\n            return options['$[]'](\"default\")['$nil?']()\n          } else {\n            return $ret_or_3\n          }; return nil; })())) {\n            return nil};\n          if ($truthy(default$)) {\n            return $send2(self, Opal.find_super_dispatcher(self, 'translate', $Fallbacks_translate$3, false, true), 'translate', [locale, nil, options.$merge($hash2([\"default\"], {\"default\": default$}))], null)};\n          return self.$throw(\"exception\", $$$($$($nesting, 'I18n'), 'MissingTranslation').$new(locale, key, options));\n          } catch ($returner) { if ($returner === Opal.returner) { return $returner.$v } throw $returner; }\n        }, $Fallbacks_translate$3.$$arity = -3);\n        \n        Opal.def(self, '$extract_non_symbol_default!', $Fallbacks_extract_non_symbol_default$excl$6 = function(options) {\n          var $$7, self = this, defaults = nil, first_non_symbol_default = nil, $writer = nil;\n\n          \n          defaults = [options['$[]'](\"default\")].$flatten();\n          first_non_symbol_default = $send(defaults, 'detect', [], ($$7 = function(default$){var self = $$7.$$s == null ? this : $$7.$$s;\n\n          \n            \n            if (default$ == null) {\n              default$ = nil;\n            };\n            return default$['$is_a?']($$($nesting, 'Symbol'))['$!']();}, $$7.$$s = self, $$7.$$arity = 1, $$7));\n          if ($truthy(first_non_symbol_default)) {\n            \n            $writer = [\"default\", defaults['$[]'](0, defaults.$index(first_non_symbol_default))];\n            $send(options, '[]=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];};\n          return first_non_symbol_default;\n        }, $Fallbacks_extract_non_symbol_default$excl$6.$$arity = 1);\n        \n        Opal.def(self, '$exists?', $Fallbacks_exists$ques$8 = function(locale, key, options) {try {\n\n          var $$9, $iter = $Fallbacks_exists$ques$8.$$p, $yield = $iter || nil, self = this, $zuper = nil, $zuper_i = nil, $zuper_ii = nil;\n\n          if ($iter) $Fallbacks_exists$ques$8.$$p = null;\n          // Prepare super implicit arguments\n          for($zuper_i = 0, $zuper_ii = arguments.length, $zuper = new Array($zuper_ii); $zuper_i < $zuper_ii; $zuper_i++) {\n            $zuper[$zuper_i] = arguments[$zuper_i];\n          }\n          \n          \n          if (options == null) {\n            options = $$($nesting, 'EMPTY_HASH');\n          };\n          if ($truthy(options.$fetch(\"fallback\", true))) {\n          } else {\n            return $send2(self, Opal.find_super_dispatcher(self, 'exists?', $Fallbacks_exists$ques$8, false, true), 'exists?', $zuper, $iter)\n          };\n          $send($$($nesting, 'I18n').$fallbacks()['$[]'](locale), 'each', [], ($$9 = function(fallback){var self = $$9.$$s == null ? this : $$9.$$s;\n\n          \n            \n            if (fallback == null) {\n              fallback = nil;\n            };\n            try {\n              if ($truthy($send2(self, Opal.find_iter_super_dispatcher(self, 'exists?', ($$9.$$def || $Fallbacks_exists$ques$8), false, false), 'exists?', [fallback, key], null))) {\n                Opal.ret(true)\n              } else {\n                return nil\n              }\n            } catch ($err) {\n              if (Opal.rescue($err, [$$$($$($nesting, 'I18n'), 'InvalidLocale')])) {\n                try {\n                  return nil\n                } finally { Opal.pop_exception() }\n              } else { throw $err; }\n            };}, $$9.$$s = self, $$9.$$arity = 1, $$9));\n          return false;\n          } catch ($returner) { if ($returner === Opal.returner) { return $returner.$v } throw $returner; }\n        }, $Fallbacks_exists$ques$8.$$arity = -3);\n        self.$private();\n        \n        Opal.def(self, '$on_fallback', $Fallbacks_on_fallback$10 = function $$on_fallback(_original_locale, _fallback_locale, _key, _optoins) {\n          var self = this;\n\n          return nil\n        }, $Fallbacks_on_fallback$10.$$arity = 4);\n      })($nesting[0], $nesting)\n    })($nesting[0], $nesting);\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/randomizer\"] = function(Opal) {\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    \n    (function($base, $super, $parent_nesting) {\n      var self = $klass($base, $super, 'Randomizer');\n\n      var $nesting = [self].concat($parent_nesting), $Randomizer_initialize$1, $Randomizer_roll_barabara$2, $Randomizer_roll_sum$4, $Randomizer_roll_once$5, $Randomizer_roll_index$6, $Randomizer_roll_tens_d10$7, $Randomizer_roll_d9$8, $Randomizer_roll_d66$9, $Randomizer_rand_inner$11, $Randomizer_random$12, $Randomizer_push_to_detail$13;\n\n      self.$$prototype.rand_results = self.$$prototype.detailed_rand_results = nil;\n      \n      Opal.const_set($nesting[0], 'UPPER_LIMIT_DICE_TIMES', 200);\n      Opal.const_set($nesting[0], 'UPPER_LIMIT_DICE_SIDES', 1000);\n      Opal.const_set($nesting[0], 'UPPER_LIMIT_RANDS', 10000);\n      \n      Opal.def(self, '$initialize', $Randomizer_initialize$1 = function $$initialize() {\n        var self = this;\n\n        \n        self.rand_results = [];\n        return (self.detailed_rand_results = []);\n      }, $Randomizer_initialize$1.$$arity = 0);\n      self.$attr_reader(\"rand_results\");\n      self.$attr_reader(\"detailed_rand_results\");\n      Opal.const_set($nesting[0], 'DetailedRandResult', $$($nesting, 'Struct').$new(\"kind\", \"sides\", \"value\"));\n      \n      Opal.def(self, '$roll_barabara', $Randomizer_roll_barabara$2 = function $$roll_barabara(times, sides) {\n        var $$3, self = this, $ret_or_1 = nil;\n\n        \n        if ($truthy($rb_gt($rb_plus(self.rand_results.$size(), times), $$($nesting, 'UPPER_LIMIT_RANDS')))) {\n          self.$raise($$($nesting, 'TooManyRandsError'))};\n        if ($truthy((function() {if ($truthy(($ret_or_1 = $rb_le(times, 0)))) {\n          return $ret_or_1\n        } else {\n          return $rb_gt(times, $$($nesting, 'UPPER_LIMIT_DICE_TIMES'))\n        }; return nil; })())) {\n          return []};\n        return $send($$($nesting, 'Array'), 'new', [times], ($$3 = function(){var self = $$3.$$s == null ? this : $$3.$$s;\n\n        return self.$roll_once(sides)}, $$3.$$s = self, $$3.$$arity = 0, $$3));\n      }, $Randomizer_roll_barabara$2.$$arity = 2);\n      \n      Opal.def(self, '$roll_sum', $Randomizer_roll_sum$4 = function $$roll_sum(times, sides) {\n        var self = this;\n\n        return self.$roll_barabara(times, sides).$sum()\n      }, $Randomizer_roll_sum$4.$$arity = 2);\n      \n      Opal.def(self, '$roll_once', $Randomizer_roll_once$5 = function $$roll_once(sides) {\n        var self = this, $ret_or_2 = nil, dice = nil;\n\n        \n        if ($truthy((function() {if ($truthy(($ret_or_2 = $rb_le(sides, 0)))) {\n          return $ret_or_2\n        } else {\n          return $rb_gt(sides, $$($nesting, 'UPPER_LIMIT_DICE_SIDES'))\n        }; return nil; })())) {\n          return 0};\n        dice = self.$rand_inner(sides);\n        self.$push_to_detail(\"normal\", sides, dice);\n        return dice;\n      }, $Randomizer_roll_once$5.$$arity = 1);\n      \n      Opal.def(self, '$roll_index', $Randomizer_roll_index$6 = function $$roll_index(sides) {\n        var self = this;\n\n        return $rb_minus(self.$roll_once(sides), 1)\n      }, $Randomizer_roll_index$6.$$arity = 1);\n      \n      Opal.def(self, '$roll_tens_d10', $Randomizer_roll_tens_d10$7 = function $$roll_tens_d10() {\n        var self = this, dice = nil, ret = nil;\n\n        \n        dice = self.$rand_inner(10);\n        if (dice['$=='](10)) {\n          dice = 0};\n        ret = $rb_times(dice, 10);\n        self.$push_to_detail(\"tens_d10\", 10, ret);\n        return ret;\n      }, $Randomizer_roll_tens_d10$7.$$arity = 0);\n      \n      Opal.def(self, '$roll_d9', $Randomizer_roll_d9$8 = function $$roll_d9() {\n        var self = this, dice = nil;\n\n        \n        dice = $rb_minus(self.$rand_inner(10), 1);\n        self.$push_to_detail(\"d9\", 10, dice);\n        return dice;\n      }, $Randomizer_roll_d9$8.$$arity = 0);\n      \n      Opal.def(self, '$roll_d66', $Randomizer_roll_d66$9 = function $$roll_d66(sort_type) {\n        var $$10, self = this, dice_list = nil, $case = nil;\n\n        \n        dice_list = $send($$($nesting, 'Array'), 'new', [2], ($$10 = function(){var self = $$10.$$s == null ? this : $$10.$$s;\n\n        return self.$roll_once(6)}, $$10.$$s = self, $$10.$$arity = 0, $$10));\n        $case = sort_type;\n        if ($$$($$($nesting, 'D66SortType'), 'ASC')['$===']($case)) {dice_list['$sort!']()}\n        else if ($$$($$($nesting, 'D66SortType'), 'DESC')['$===']($case)) {dice_list['$sort!']()['$reverse!']()};\n        return $rb_plus($rb_times(dice_list['$[]'](0), 10), dice_list['$[]'](1));\n      }, $Randomizer_roll_d66$9.$$arity = 1);\n      self.$private();\n      \n      Opal.def(self, '$rand_inner', $Randomizer_rand_inner$11 = function $$rand_inner(sides) {\n        var self = this, dice = nil;\n\n        \n        if ($truthy($rb_ge(self.rand_results.$size(), $$($nesting, 'UPPER_LIMIT_RANDS')))) {\n          self.$raise($$($nesting, 'TooManyRandsError'))};\n        dice = self.$random(sides);\n        self.rand_results['$<<']([dice, sides]);\n        return dice;\n      }, $Randomizer_rand_inner$11.$$arity = 1);\n      \n      Opal.def(self, '$random', $Randomizer_random$12 = function $$random(sides) {\n        var self = this;\n\n        return $rb_plus($$($nesting, 'Kernel').$rand(sides), 1)\n      }, $Randomizer_random$12.$$arity = 1);\n      return (Opal.def(self, '$push_to_detail', $Randomizer_push_to_detail$13 = function $$push_to_detail(kind, sides, value) {\n        var self = this, detail = nil;\n\n        \n        detail = $$($nesting, 'DetailedRandResult').$new(kind, sides, value);\n        return self.detailed_rand_results.$push(detail);\n      }, $Randomizer_push_to_detail$13.$$arity = 3), nil) && 'push_to_detail';\n    })($nesting[0], null, $nesting);\n    (function($base, $super, $parent_nesting) {\n      var self = $klass($base, $super, 'TooManyRandsError');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      return nil\n    })($nesting[0], $$($nesting, 'StandardError'), $nesting);\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/roll_result\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'RollResult');\n\n        var $nesting = [self].concat($parent_nesting), $RollResult_initialize$1, $RollResult_to_s$2, $RollResult_last_body$3, $RollResult_empty$ques$4;\n\n        self.$$prototype.table_name = self.$$prototype.value = self.$$prototype.body = nil;\n        \n        \n        Opal.def(self, '$initialize', $RollResult_initialize$1 = function $$initialize(table_name, value, body) {\n          var self = this;\n\n          \n          self.table_name = table_name;\n          self.value = value;\n          return (self.body = body);\n        }, $RollResult_initialize$1.$$arity = 3);\n        self.$attr_reader(\"table_name\");\n        self.$attr_reader(\"value\");\n        self.$attr_reader(\"body\");\n        \n        Opal.def(self, '$to_s', $RollResult_to_s$2 = function $$to_s() {\n          var self = this;\n\n          return \"\" + (self.table_name) + \"(\" + (self.value) + \")  \" + (self.body)\n        }, $RollResult_to_s$2.$$arity = 0);\n        \n        Opal.def(self, '$last_body', $RollResult_last_body$3 = function $$last_body() {\n          var self = this;\n\n          if ($truthy(self.body['$is_a?']($$($nesting, 'RollResult')))) {\n            return self.body.$last_body()\n          } else {\n            return self.body\n          }\n        }, $RollResult_last_body$3.$$arity = 0);\n        return (Opal.def(self, '$empty?', $RollResult_empty$ques$4 = function() {\n          var self = this;\n\n          return false\n        }, $RollResult_empty$ques$4.$$arity = 0), nil) && 'empty?';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/chain_table\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'ChainTable');\n\n        var $nesting = [self].concat($parent_nesting), $ChainTable_initialize$1, $ChainTable_roll$2;\n\n        self.$$prototype.times = self.$$prototype.sides = self.$$prototype.items = self.$$prototype.name = nil;\n        \n        \n        Opal.def(self, '$initialize', $ChainTable_initialize$1 = function $$initialize(name, type, items) {\n          var self = this, m = nil;\n\n          \n          self.name = name;\n          self.items = items.$freeze();\n          m = /(\\d+)D(\\d+)/i.$match(type);\n          if ($truthy(m)) {\n          } else {\n            self.$raise($$($nesting, 'ArgumentError'), \"\" + \"Unexpected table type: \" + (type))\n          };\n          self.times = m['$[]'](1).$to_i();\n          return (self.sides = m['$[]'](2).$to_i());\n        }, $ChainTable_initialize$1.$$arity = 3);\n        return (Opal.def(self, '$roll', $ChainTable_roll$2 = function $$roll(randomizer) {\n          var self = this, value = nil, index = nil, chosen = nil;\n\n          \n          value = randomizer.$roll_sum(self.times, self.sides);\n          index = $rb_minus(value, self.times);\n          chosen = self.items['$[]'](index);\n          if ($truthy(chosen['$respond_to?'](\"roll\"))) {\n            chosen = chosen.$roll(randomizer)};\n          return $$($nesting, 'RollResult').$new(self.name, value, chosen);\n        }, $ChainTable_roll$2.$$arity = 1), nil) && 'roll';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/d66_grid_table\"] = function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'D66GridTable');\n\n        var $nesting = [self].concat($parent_nesting), $D66GridTable_from_i18n$1, $D66GridTable_initialize$2, $D66GridTable_roll$3;\n\n        self.$$prototype.name = self.$$prototype.items = nil;\n        \n        Opal.defs(self, '$from_i18n', $D66GridTable_from_i18n$1 = function $$from_i18n(key, locale) {\n          var self = this, table = nil;\n\n          \n          table = $$($nesting, 'I18n').$t(key, $hash2([\"locale\", \"raise\"], {\"locale\": locale, \"raise\": true}));\n          return self.$new(table['$[]'](\"name\"), table['$[]'](\"items\"));\n        }, $D66GridTable_from_i18n$1.$$arity = 2);\n        \n        Opal.def(self, '$initialize', $D66GridTable_initialize$2 = function $$initialize(name, items) {\n          var self = this;\n\n          \n          self.name = name;\n          return (self.items = items.$freeze());\n        }, $D66GridTable_initialize$2.$$arity = 2);\n        return (Opal.def(self, '$roll', $D66GridTable_roll$3 = function $$roll(randomizer) {\n          var self = this, dice1 = nil, dice2 = nil, value = nil, index1 = nil, index2 = nil;\n\n          \n          dice1 = randomizer.$roll_once(6);\n          dice2 = randomizer.$roll_once(6);\n          value = $rb_plus($rb_times(dice1, 10), dice2);\n          index1 = $rb_minus(dice1, 1);\n          index2 = $rb_minus(dice2, 1);\n          return $$($nesting, 'RollResult').$new(self.name, value, self.items['$[]'](index1)['$[]'](index2));\n        }, $D66GridTable_roll$3.$$arity = 1), nil) && 'roll';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/d66_half_grid_table\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2;\n\n  \n  self.$require(\"bcdice/dice_table/d66_grid_table\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'D66HalfGridTable');\n\n        var $nesting = [self].concat($parent_nesting), $D66HalfGridTable_from_i18n$1, $D66HalfGridTable_initialize$2;\n\n        \n        Opal.defs(self, '$from_i18n', $D66HalfGridTable_from_i18n$1 = function $$from_i18n(key, locale) {\n          var self = this, table = nil;\n\n          \n          table = $$($nesting, 'I18n').$t(key, $hash2([\"locale\", \"raise\"], {\"locale\": locale, \"raise\": true}));\n          return self.$new(table['$[]'](\"name\"), table['$[]'](\"items_1_2_3\"), table['$[]'](\"items_4_5_6\"));\n        }, $D66HalfGridTable_from_i18n$1.$$arity = 2);\n        return (Opal.def(self, '$initialize', $D66HalfGridTable_initialize$2 = function $$initialize(name, items_1_2_3, items_4_5_6) {\n          var self = this;\n\n          \n          self.name = name;\n          return (self.items = [items_1_2_3, items_1_2_3, items_1_2_3, items_4_5_6, items_4_5_6, items_4_5_6].$freeze());\n        }, $D66HalfGridTable_initialize$2.$$arity = 3), nil) && 'initialize';\n      })($nesting[0], $$($nesting, 'D66GridTable'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/d66_one_third_table\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2;\n\n  \n  self.$require(\"bcdice/dice_table/d66_grid_table\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'D66OneThirdTable');\n\n        var $nesting = [self].concat($parent_nesting), $D66OneThirdTable_from_i18n$1, $D66OneThirdTable_initialize$2;\n\n        \n        Opal.defs(self, '$from_i18n', $D66OneThirdTable_from_i18n$1 = function $$from_i18n(key, locale) {\n          var self = this, table = nil;\n\n          \n          table = $$($nesting, 'I18n').$t(key, $hash2([\"locale\", \"raise\"], {\"locale\": locale, \"raise\": true}));\n          return self.$new(table['$[]'](\"name\"), table['$[]'](\"items_1_2\"), table['$[]'](\"items_3_4\"), table['$[]'](\"items_5_6\"));\n        }, $D66OneThirdTable_from_i18n$1.$$arity = 2);\n        return (Opal.def(self, '$initialize', $D66OneThirdTable_initialize$2 = function $$initialize(name, items_1_2, items_3_4, items_5_6) {\n          var self = this;\n\n          \n          self.name = name;\n          return (self.items = [items_1_2, items_1_2, items_3_4, items_3_4, items_5_6, items_5_6].$freeze());\n        }, $D66OneThirdTable_initialize$2.$$arity = 4), nil) && 'initialize';\n      })($nesting[0], $$($nesting, 'D66GridTable'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/d66_parity_table\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'D66ParityTable');\n\n        var $nesting = [self].concat($parent_nesting), $D66ParityTable_initialize$1, $D66ParityTable_roll$2;\n\n        self.$$prototype.odd = self.$$prototype.even = self.$$prototype.name = nil;\n        \n        \n        Opal.def(self, '$initialize', $D66ParityTable_initialize$1 = function $$initialize(name, odd, even) {\n          var self = this;\n\n          \n          self.name = name;\n          self.odd = odd.$freeze();\n          return (self.even = even.$freeze());\n        }, $D66ParityTable_initialize$1.$$arity = 3);\n        return (Opal.def(self, '$roll', $D66ParityTable_roll$2 = function $$roll(randomizer) {\n          var self = this, dice1 = nil, dice2 = nil, second_table = nil, result = nil, key = nil;\n\n          \n          dice1 = randomizer.$roll_once(6);\n          dice2 = randomizer.$roll_once(6);\n          if ($truthy(dice1['$odd?']())) {\n            second_table = self.odd\n          } else {\n            second_table = self.even\n          };\n          result = second_table['$[]']($rb_minus(dice2, 1));\n          key = $rb_plus($rb_times(dice1, 10), dice2);\n          return $$($nesting, 'RollResult').$new(self.name, key, result);\n        }, $D66ParityTable_roll$2.$$arity = 1), nil) && 'roll';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/d66_range_table\"] = function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'D66RangeTable');\n\n        var $nesting = [self].concat($parent_nesting), $D66RangeTable_initialize$1, $D66RangeTable_roll$2;\n\n        self.$$prototype.items = self.$$prototype.name = nil;\n        \n        \n        Opal.def(self, '$initialize', $D66RangeTable_initialize$1 = function $$initialize(name, items) {\n          var self = this;\n\n          \n          self.name = name;\n          return (self.items = items.$freeze());\n        }, $D66RangeTable_initialize$1.$$arity = 2);\n        return (Opal.def(self, '$roll', $D66RangeTable_roll$2 = function $$roll(randomizer) {\n          var $$3, self = this, dice1 = nil, dice2 = nil, key = nil, chosen = nil;\n\n          \n          dice1 = randomizer.$roll_once(6);\n          dice2 = randomizer.$roll_once(6);\n          key = $rb_plus($rb_times(dice1, 10), dice2);\n          chosen = $send(self.items, 'find', [], ($$3 = function(row){var self = $$3.$$s == null ? this : $$3.$$s;\n\n          \n            \n            if (row == null) {\n              row = nil;\n            };\n            return row['$[]'](0)['$include?'](key);}, $$3.$$s = self, $$3.$$arity = 1, $$3));\n          return $$($nesting, 'RollResult').$new(self.name, key, chosen['$[]'](1));\n        }, $D66RangeTable_roll$2.$$arity = 1), nil) && 'roll';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/d66_table\"] = function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'D66Table');\n\n        var $nesting = [self].concat($parent_nesting), $D66Table_from_i18n$1, $D66Table_initialize$2, $D66Table_roll$3;\n\n        self.$$prototype.sort_type = self.$$prototype.items = self.$$prototype.name = nil;\n        \n        Opal.defs(self, '$from_i18n', $D66Table_from_i18n$1 = function $$from_i18n(key, locale) {\n          var self = this, table = nil, sort_type = nil;\n\n          \n          table = $$($nesting, 'I18n').$t(key, $hash2([\"locale\"], {\"locale\": locale}));\n          sort_type = $$($nesting, 'D66SortType').$const_get(table['$[]'](\"d66_sort_type\"));\n          return self.$new(table['$[]'](\"name\"), sort_type, table['$[]'](\"items\"));\n        }, $D66Table_from_i18n$1.$$arity = 2);\n        \n        Opal.def(self, '$initialize', $D66Table_initialize$2 = function $$initialize(name, sort_type, items) {\n          var self = this;\n\n          \n          self.name = name;\n          self.sort_type = sort_type;\n          return (self.items = items.$freeze());\n        }, $D66Table_initialize$2.$$arity = 3);\n        return (Opal.def(self, '$roll', $D66Table_roll$3 = function $$roll(randomizer) {\n          var self = this, dice = nil, $case = nil, key = nil, chosen = nil, $ret_or_1 = nil;\n\n          \n          dice = randomizer.$roll_barabara(2, 6);\n          $case = self.sort_type;\n          if ($$$($$($nesting, 'D66SortType'), 'ASC')['$===']($case)) {dice['$sort!']()}\n          else if ($$$($$($nesting, 'D66SortType'), 'DESC')['$===']($case)) {dice['$sort!']()['$reverse!']()};\n          key = $rb_plus($rb_times(dice['$[]'](0), 10), dice['$[]'](1));\n          chosen = (function() {if ($truthy(($ret_or_1 = self.items['$[]'](key)))) {\n            return $ret_or_1\n          } else {\n            return self.items['$[]'](key.$to_s())\n          }; return nil; })();\n          if ($truthy(chosen['$respond_to?'](\"roll\"))) {\n            chosen = chosen.$roll(randomizer)};\n          return $$($nesting, 'RollResult').$new(self.name, key, chosen);\n        }, $D66Table_roll$3.$$arity = 1), nil) && 'roll';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/range_table\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send = Opal.send, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'RangeTable');\n\n        var $nesting = [self].concat($parent_nesting), $RangeTable$1, $RangeTable_initialize$3, $RangeTable_fetch$4, $RangeTable_roll$6, $RangeTable_store$7, $RangeTable_coerce_to_int_range$11, $RangeTable_assert_min_sum_is_covered$12, $RangeTable_assert_max_sum_is_covered$13, $RangeTable_assert_no_gap_or_overlap_in_ranges$14;\n\n        self.$$prototype.name = self.$$prototype.items = self.$$prototype.num_of_dice = self.$$prototype.num_of_sides = self.$$prototype.formatter = nil;\n        \n        Opal.const_set($nesting[0], 'RollResult', $send($$($nesting, 'Struct'), 'new', [\"sum\", \"values\", \"content\", \"formatted\"], ($RangeTable$1 = function(){var self = $RangeTable$1.$$s == null ? this : $RangeTable$1.$$s;\n\n        return self.$alias_method(\"to_s\", \"formatted\")}, $RangeTable$1.$$s = self, $RangeTable$1.$$arity = 0, $RangeTable$1)));\n        Opal.const_set($nesting[0], 'Item', $$($nesting, 'Struct').$new(\"range\", \"content\"));\n        Opal.const_set($nesting[0], 'DICE_ROLL_METHOD_RE', /^(\\d+)D(\\d+)$/i.$freeze());\n        Opal.const_set($nesting[0], 'DEFAULT_FORMATTER', $send(self, 'lambda', [], ($$2 = function(table, result){var self = $$2.$$s == null ? this : $$2.$$s;\n\n        \n          \n          if (table == null) {\n            table = nil;\n          };\n          \n          if (result == null) {\n            result = nil;\n          };\n          return \"\" + (table.$name()) + \"(\" + (result.$sum()) + \")  \" + (result.$content());}, $$2.$$s = self, $$2.$$arity = 2, $$2)));\n        self.$attr_reader(\"name\");\n        self.$attr_reader(\"num_of_dice\");\n        self.$attr_reader(\"num_of_sides\");\n        \n        Opal.def(self, '$initialize', $RangeTable_initialize$3 = function $$initialize(name, dice_roll_method, items) {\n          var $iter = $RangeTable_initialize$3.$$p, formatter = $iter || nil, self = this, $ret_or_1 = nil, m = nil;\n\n          if ($iter) $RangeTable_initialize$3.$$p = null;\n          \n          \n          if ($iter) $RangeTable_initialize$3.$$p = null;;\n          self.name = name.$freeze();\n          self.formatter = (function() {if ($truthy(($ret_or_1 = formatter))) {\n            return $ret_or_1\n          } else {\n            return $$($nesting, 'DEFAULT_FORMATTER')\n          }; return nil; })();\n          m = $$($nesting, 'DICE_ROLL_METHOD_RE').$match(dice_roll_method);\n          if ($truthy(m)) {\n          } else {\n            self.$raise($$($nesting, 'ArgumentError'), \"\" + (self.name) + \": invalid dice roll method: \" + (dice_roll_method))\n          };\n          self.num_of_dice = m['$[]'](1).$to_i();\n          self.num_of_sides = m['$[]'](2).$to_i();\n          return self.$store(items);\n        }, $RangeTable_initialize$3.$$arity = 3);\n        \n        Opal.def(self, '$fetch', $RangeTable_fetch$4 = function $$fetch(value) {\n          var $$5, self = this, item = nil;\n\n          \n          item = $send(self.items, 'find', [], ($$5 = function(i){var self = $$5.$$s == null ? this : $$5.$$s;\n\n          \n            \n            if (i == null) {\n              i = nil;\n            };\n            return i.$range()['$include?'](value);}, $$5.$$s = self, $$5.$$arity = 1, $$5));\n          if ($truthy(item)) {\n          } else {\n            self.$raise($$($nesting, 'RangeError'), \"\" + (self.name) + \": value is out of range: \" + (value))\n          };\n          return item;\n        }, $RangeTable_fetch$4.$$arity = 1);\n        \n        Opal.def(self, '$roll', $RangeTable_roll$6 = function $$roll(randomizer) {\n          var self = this, values = nil, sum = nil, result = nil, $writer = nil;\n\n          \n          values = randomizer.$roll_barabara(self.num_of_dice, self.num_of_sides);\n          sum = values.$sum();\n          result = $$($nesting, 'RollResult').$new(sum, values, self.$fetch(sum).$content());\n          \n          $writer = [self.formatter['$[]'](self, result)];\n          $send(result, 'formatted=', Opal.to_a($writer));\n          $writer[$rb_minus($writer[\"length\"], 1)];;\n          return result;\n        }, $RangeTable_roll$6.$$arity = 1);\n        self.$private();\n        \n        Opal.def(self, '$store', $RangeTable_store$7 = function $$store(items) {\n          var $$8, $$9, $$10, self = this, items_with_range = nil, sorted_items = nil;\n\n          \n          items_with_range = $send(items, 'map', [], ($$8 = function(r, c){var self = $$8.$$s == null ? this : $$8.$$s;\n\n          \n            \n            if (r == null) {\n              r = nil;\n            };\n            \n            if (c == null) {\n              c = nil;\n            };\n            return [self.$coerce_to_int_range(r), c];}, $$8.$$s = self, $$8.$$arity = 2, $$8));\n          sorted_items = $send(items_with_range, 'sort_by', [], ($$9 = function(r, _){var self = $$9.$$s == null ? this : $$9.$$s;\n\n          \n            \n            if (r == null) {\n              r = nil;\n            };\n            \n            if (_ == null) {\n              _ = nil;\n            };\n            return r.$min();}, $$9.$$s = self, $$9.$$arity = 2, $$9));\n          self.$assert_min_sum_is_covered(sorted_items);\n          self.$assert_max_sum_is_covered(sorted_items);\n          self.$assert_no_gap_or_overlap_in_ranges(sorted_items);\n          self.items = $send(sorted_items, 'map', [], ($$10 = function(range, content){var self = $$10.$$s == null ? this : $$10.$$s;\n\n          \n            \n            if (range == null) {\n              range = nil;\n            };\n            \n            if (content == null) {\n              content = nil;\n            };\n            return $$($nesting, 'Item').$new(range, content.$freeze()).$freeze();}, $$10.$$s = self, $$10.$$arity = 2, $$10)).$freeze();\n          return self;\n        }, $RangeTable_store$7.$$arity = 1);\n        \n        Opal.def(self, '$coerce_to_int_range', $RangeTable_coerce_to_int_range$11 = function $$coerce_to_int_range(x) {\n          var self = this, $case = nil, $ret_or_2 = nil;\n\n          \n          $case = x;\n          if ($$($nesting, 'Integer')['$===']($case)) {return $$($nesting, 'Range').$new(x, x)}\n          else if ($$($nesting, 'Range')['$===']($case)) {if ($truthy((function() {if ($truthy(($ret_or_2 = x.$begin()['$is_a?']($$($nesting, 'Integer'))))) {\n            return x.$end()['$is_a?']($$($nesting, 'Integer'))\n          } else {\n            return $ret_or_2\n          }; return nil; })())) {\n            return x}};\n          return self.$raise($$($nesting, 'TypeError'), \"\" + (self.name) + \": \" + (x) + \" (\" + (x.$class()) + \") must be an Integer or a Range with Integers \");\n        }, $RangeTable_coerce_to_int_range$11.$$arity = 1);\n        \n        Opal.def(self, '$assert_min_sum_is_covered', $RangeTable_assert_min_sum_is_covered$12 = function $$assert_min_sum_is_covered(sorted_items) {\n          var self = this, min_sum = nil, range = nil;\n\n          \n          min_sum = self.num_of_dice;\n          range = sorted_items.$first()['$[]'](0);\n          if ($truthy(range['$include?'](min_sum))) {\n          } else {\n            self.$raise($$($nesting, 'RangeError'), \"\" + (self.name) + \": min value (\" + (min_sum) + \") is not covered: \" + (range))\n          };\n          return self;\n        }, $RangeTable_assert_min_sum_is_covered$12.$$arity = 1);\n        \n        Opal.def(self, '$assert_max_sum_is_covered', $RangeTable_assert_max_sum_is_covered$13 = function $$assert_max_sum_is_covered(sorted_items) {\n          var self = this, max_sum = nil, range = nil;\n\n          \n          max_sum = $rb_times(self.num_of_dice, self.num_of_sides);\n          range = sorted_items.$last()['$[]'](0);\n          if ($truthy(range['$include?'](max_sum))) {\n          } else {\n            self.$raise($$($nesting, 'RangeError'), \"\" + (self.name) + \": max value (\" + (max_sum) + \") is not covered: \" + (range))\n          };\n          return self;\n        }, $RangeTable_assert_max_sum_is_covered$13.$$arity = 1);\n        return (Opal.def(self, '$assert_no_gap_or_overlap_in_ranges', $RangeTable_assert_no_gap_or_overlap_in_ranges$14 = function $$assert_no_gap_or_overlap_in_ranges(sorted_items) {\n          var $$15, self = this;\n\n          \n          $send(sorted_items, 'each_cons', [2], ($$15 = function(i1, i2){var self = $$15.$$s == null ? this : $$15.$$s, r1 = nil, r2 = nil, max1 = nil, next_of_max1 = nil;\n            if (self.name == null) self.name = nil;\n\n          \n            \n            if (i1 == null) {\n              i1 = nil;\n            };\n            \n            if (i2 == null) {\n              i2 = nil;\n            };\n            r1 = i1['$[]'](0);\n            r2 = i2['$[]'](0);\n            max1 = r1.$max();\n            next_of_max1 = $rb_plus(max1, 1);\n            if ($truthy(r2['$include?'](max1))) {\n              self.$raise($$($nesting, 'RangeError'), \"\" + (self.name) + \": Range overlap: \" + (r1) + \" and \" + (r2))};\n            if ($truthy(r2['$include?'](next_of_max1))) {\n              return nil\n            } else {\n              return self.$raise($$($nesting, 'RangeError'), \"\" + (self.name) + \": Range gap: \" + (r1) + \" and \" + (r2))\n            };}, $$15.$$s = self, $$15.$$arity = 2, $$15));\n          return self;\n        }, $RangeTable_assert_no_gap_or_overlap_in_ranges$14.$$arity = 1), nil) && 'assert_no_gap_or_overlap_in_ranges';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/sai_fic_skill_table/category\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'SaiFicSkillTable');\n\n        var $nesting = [self].concat($parent_nesting);\n\n        return (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'Category');\n\n          var $nesting = [self].concat($parent_nesting), $Category_initialize$1, $Category_roll$3, $Category_to_s$4;\n\n          self.$$prototype.name = nil;\n          \n          \n          Opal.def(self, '$initialize', $Category_initialize$1 = function $$initialize(name, skills, dice, s_format) {\n            var $$2, self = this;\n\n            \n            self.name = name;\n            self.skills = $send(skills.$map(), 'with_index', [2], ($$2 = function(s, index){var self = $$2.$$s == null ? this : $$2.$$s;\n\n            \n              \n              if (s == null) {\n                s = nil;\n              };\n              \n              if (index == null) {\n                index = nil;\n              };\n              return $$$($$($nesting, 'SaiFicSkillTable'), 'Skill').$new(name, s, dice, index, s_format);}, $$2.$$s = self, $$2.$$arity = 2, $$2));\n            return (self.dice = dice);\n          }, $Category_initialize$1.$$arity = 4);\n          \n          Opal.def(self, '$roll', $Category_roll$3 = function $$roll(randomizer) {\n            var self = this;\n\n            return self.$skills()['$[]']($rb_minus(randomizer.$roll_sum(2, 6), 2))\n          }, $Category_roll$3.$$arity = 1);\n          \n          Opal.def(self, '$to_s', $Category_to_s$4 = function $$to_s() {\n            var self = this;\n\n            return self.name\n          }, $Category_to_s$4.$$arity = 0);\n          return self.$attr_reader(\"name\", \"dice\", \"skills\");\n        })($nesting[0], null, $nesting)\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/sai_fic_skill_table/skill\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'SaiFicSkillTable');\n\n        var $nesting = [self].concat($parent_nesting);\n\n        return (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'Skill');\n\n          var $nesting = [self].concat($parent_nesting), $Skill_initialize$1, $Skill_to_s$2;\n\n          self.$$prototype.s_format = self.$$prototype.category_dice = self.$$prototype.row_dice = self.$$prototype.category_name = self.$$prototype.name = nil;\n          \n          \n          Opal.def(self, '$initialize', $Skill_initialize$1 = function $$initialize(category_name, skill_name, category_dice, row_dice, s_format) {\n            var self = this;\n\n            \n            self.category_name = category_name;\n            self.name = skill_name;\n            self.category_dice = category_dice;\n            self.row_dice = row_dice;\n            return (self.s_format = s_format);\n          }, $Skill_initialize$1.$$arity = 5);\n          \n          Opal.def(self, '$to_s', $Skill_to_s$2 = function $$to_s() {\n            var self = this;\n\n            return self.$format(self.s_format, $hash2([\"category_dice\", \"row_dice\", \"category_name\", \"skill_name\"], {\"category_dice\": self.category_dice, \"row_dice\": self.row_dice, \"category_name\": self.category_name, \"skill_name\": self.name}))\n          }, $Skill_to_s$2.$$arity = 0);\n          return self.$attr_reader(\"category_name\", \"name\", \"category_dice\", \"row_dice\");\n        })($nesting[0], null, $nesting)\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/sai_fic_skill_table\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2, $send = Opal.send, $hash = Opal.hash, $truthy = Opal.truthy;\n\n  \n  self.$require(\"bcdice/dice_table/sai_fic_skill_table/category\");\n  self.$require(\"bcdice/dice_table/sai_fic_skill_table/skill\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'SaiFicSkillTable');\n\n        var $nesting = [self].concat($parent_nesting), $SaiFicSkillTable_from_i18n$1, $SaiFicSkillTable_initialize$3, $SaiFicSkillTable_roll_command$5, $SaiFicSkillTable_roll_category$6, $SaiFicSkillTable_roll_skill$7, $SaiFicSkillTable_prefixes$8, $SaiFicSkillTable_format_skill$9;\n\n        self.$$prototype.rtt = self.$$prototype.rtt_format = self.$$prototype.rct = self.$$prototype.rct_format = self.$$prototype.rttn = self.$$prototype.rttn_format = self.$$prototype.categories = nil;\n        \n        Opal.defs(self, '$from_i18n', $SaiFicSkillTable_from_i18n$1 = function $$from_i18n(key, locale, $kwargs) {\n          var rtt, rct, rttn, $$2, self = this, global = nil, table = nil, items = nil;\n\n          \n          \n          if ($kwargs == null) {\n            $kwargs = $hash2([], {});\n          } else if (!$kwargs.$$is_hash) {\n            throw Opal.ArgumentError.$new('expected kwargs');\n          };\n          \n          rtt = $kwargs.$$smap[\"rtt\"];\n          if (rtt == null) {\n            rtt = nil\n          };\n          \n          rct = $kwargs.$$smap[\"rct\"];\n          if (rct == null) {\n            rct = nil\n          };\n          \n          rttn = $kwargs.$$smap[\"rttn\"];\n          if (rttn == null) {\n            rttn = nil\n          };\n          global = $$($nesting, 'I18n').$t(\"RTT\", $hash2([\"locale\", \"raise\", \"default\"], {\"locale\": locale, \"raise\": false, \"default\": $hash2([], {})}));\n          table = global.$merge($$($nesting, 'I18n').$t(key, $hash2([\"locale\", \"raise\"], {\"locale\": locale, \"raise\": true})));\n          items = table['$[]'](\"items\");\n          table = $send(table, 'select', [], ($$2 = function(k, _){var self = $$2.$$s == null ? this : $$2.$$s;\n\n          \n            \n            if (k == null) {\n              k = nil;\n            };\n            \n            if (_ == null) {\n              _ = nil;\n            };\n            return [\"rtt_format\", \"rttn_format\", \"rct_format\", \"s_format\"]['$include?'](k);}, $$2.$$s = self, $$2.$$arity = 2, $$2));\n          return self.$new(items, Opal.to_hash(table).$merge($hash2([\"rtt\", \"rct\", \"rttn\"], {\"rtt\": rtt, \"rct\": rct, \"rttn\": rttn})));\n        }, $SaiFicSkillTable_from_i18n$1.$$arity = -3);\n        Opal.const_set($nesting[0], 'DEFAULT_RTT', \"(%<category_dice>d,%<row_dice>d)  %<text>s\");\n        Opal.const_set($nesting[0], 'DEFAULT_RCT', \"(%<category_dice>d)  %<category_name>s\");\n        Opal.const_set($nesting[0], 'DEFAULT_RTTN', \"%<category_name>s(%<row_dice>d)  %<text>s\");\n        Opal.const_set($nesting[0], 'DEFAULT_S', \"%<skill_name>s%<category_name>s%<row_dice>d\");\n        \n        Opal.def(self, '$initialize', $SaiFicSkillTable_initialize$3 = function $$initialize(items, $kwargs) {\n          var rtt, rct, rttn, rtt_format, rct_format, rttn_format, s_format, $$4, self = this;\n\n          \n          \n          if ($kwargs == null) {\n            $kwargs = $hash2([], {});\n          } else if (!$kwargs.$$is_hash) {\n            throw Opal.ArgumentError.$new('expected kwargs');\n          };\n          \n          rtt = $kwargs.$$smap[\"rtt\"];\n          if (rtt == null) {\n            rtt = nil\n          };\n          \n          rct = $kwargs.$$smap[\"rct\"];\n          if (rct == null) {\n            rct = nil\n          };\n          \n          rttn = $kwargs.$$smap[\"rttn\"];\n          if (rttn == null) {\n            rttn = nil\n          };\n          \n          rtt_format = $kwargs.$$smap[\"rtt_format\"];\n          if (rtt_format == null) {\n            rtt_format = $$($nesting, 'DEFAULT_RTT')\n          };\n          \n          rct_format = $kwargs.$$smap[\"rct_format\"];\n          if (rct_format == null) {\n            rct_format = $$($nesting, 'DEFAULT_RCT')\n          };\n          \n          rttn_format = $kwargs.$$smap[\"rttn_format\"];\n          if (rttn_format == null) {\n            rttn_format = $$($nesting, 'DEFAULT_RTTN')\n          };\n          \n          s_format = $kwargs.$$smap[\"s_format\"];\n          if (s_format == null) {\n            s_format = $$($nesting, 'DEFAULT_S')\n          };\n          self.categories = $send(items.$map(), 'with_index', [1], ($$4 = function($mlhs_tmp1, index){var self = $$4.$$s == null ? this : $$4.$$s, $a, $b, name = nil, skills = nil;\n\n          \n            \n            if ($mlhs_tmp1 == null) {\n              $mlhs_tmp1 = nil;\n            };\n            \n            if (index == null) {\n              index = nil;\n            };\n            $b = $mlhs_tmp1, $a = Opal.to_ary($b), (name = ($a[0] == null ? nil : $a[0])), (skills = ($a[1] == null ? nil : $a[1])), $b;\n            return $$$($$($nesting, 'SaiFicSkillTable'), 'Category').$new(name, skills, index, s_format);}, $$4.$$s = self, $$4.$$arity = 2, $$4.$$has_top_level_mlhs_arg = true, $$4));\n          self.rtt = rtt;\n          self.rct = rct;\n          self.rttn = rttn.$to_a();\n          self.rtt_format = rtt_format;\n          self.rct_format = rct_format;\n          return (self.rttn_format = rttn_format);\n        }, $SaiFicSkillTable_initialize$3.$$arity = -2);\n        Opal.const_set($nesting[0], 'RTTN', [\"RTT1\", \"RTT2\", \"RTT3\", \"RTT4\", \"RTT5\", \"RTT6\"].$freeze());\n        self.$attr_reader(\"categories\");\n        \n        Opal.def(self, '$roll_command', $SaiFicSkillTable_roll_command$5 = function $$roll_command(randomizer, command) {\n          var self = this, c = nil, cat = nil, $ret_or_1 = nil, index = nil;\n\n          \n          c = command;\n          if ($truthy([\"RTT\", self.rtt]['$include?'](c))) {\n            return self.$format_skill(self.rtt_format, self.$roll_skill(randomizer))\n          } else if ($truthy([\"RCT\", self.rct]['$include?'](c))) {\n            \n            cat = self.$roll_category(randomizer);\n            return self.$format(self.rct_format, $hash2([\"category_dice\", \"category_name\"], {\"category_dice\": cat.$dice(), \"category_name\": cat.$name()}));\n          } else if ($truthy((function() {if ($truthy(($ret_or_1 = (index = $$($nesting, 'RTTN').$index(c))))) {\n            return $ret_or_1\n          } else {\n            \n            return (index = self.rttn.$index(c));\n          }; return nil; })())) {\n            return self.$format_skill(self.rttn_format, self.categories['$[]'](index).$roll(randomizer))\n          } else {\n            return nil\n          };\n        }, $SaiFicSkillTable_roll_command$5.$$arity = 2);\n        \n        Opal.def(self, '$roll_category', $SaiFicSkillTable_roll_category$6 = function $$roll_category(randomizer) {\n          var self = this;\n\n          return self.categories['$[]']($rb_minus(randomizer.$roll_once(6), 1))\n        }, $SaiFicSkillTable_roll_category$6.$$arity = 1);\n        \n        Opal.def(self, '$roll_skill', $SaiFicSkillTable_roll_skill$7 = function $$roll_skill(randomizer) {\n          var self = this;\n\n          return self.$roll_category(randomizer).$roll(randomizer)\n        }, $SaiFicSkillTable_roll_skill$7.$$arity = 1);\n        \n        Opal.def(self, '$prefixes', $SaiFicSkillTable_prefixes$8 = function $$prefixes() {\n          var self = this;\n\n          return $rb_plus([\"RTT[1-6]?\", \"RCT\", self.rtt, self.rct], self.rttn).$compact()\n        }, $SaiFicSkillTable_prefixes$8.$$arity = 0);\n        self.$private();\n        return (Opal.def(self, '$format_skill', $SaiFicSkillTable_format_skill$9 = function $$format_skill(format_string, skill) {\n          var self = this;\n\n          return self.$format(format_string, $hash2([\"category_dice\", \"row_dice\", \"category_name\", \"skill_name\", \"text\"], {\"category_dice\": skill.$category_dice(), \"row_dice\": skill.$row_dice(), \"category_name\": skill.$category_name(), \"skill_name\": skill.$name(), \"text\": skill.$to_s()}))\n        }, $SaiFicSkillTable_format_skill$9.$$arity = 2), nil) && 'format_skill';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table/table\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'DiceTable');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Table');\n\n        var $nesting = [self].concat($parent_nesting), $Table_from_i18n$1, $Table_initialize$2, $Table_roll$3, $Table_choice$4;\n\n        self.$$prototype.times = self.$$prototype.sides = self.$$prototype.name = self.$$prototype.items = nil;\n        \n        Opal.defs(self, '$from_i18n', $Table_from_i18n$1 = function $$from_i18n(key, locale) {\n          var self = this, table = nil;\n\n          \n          table = $$($nesting, 'I18n').$t(key, $hash2([\"locale\"], {\"locale\": locale}));\n          return self.$new(table['$[]'](\"name\"), table['$[]'](\"type\"), table['$[]'](\"items\"));\n        }, $Table_from_i18n$1.$$arity = 2);\n        \n        Opal.def(self, '$initialize', $Table_initialize$2 = function $$initialize(name, type, items) {\n          var self = this, m = nil;\n\n          \n          self.name = name;\n          self.items = items.$freeze();\n          m = /(\\d+)D(\\d+)/i.$match(type);\n          if ($truthy(m)) {\n          } else {\n            self.$raise($$($nesting, 'ArgumentError'), \"\" + \"Unexpected table type: \" + (type))\n          };\n          self.times = m['$[]'](1).$to_i();\n          return (self.sides = m['$[]'](2).$to_i());\n        }, $Table_initialize$2.$$arity = 3);\n        \n        Opal.def(self, '$roll', $Table_roll$3 = function $$roll(bcdice) {\n          var self = this, value = nil;\n\n          \n          value = bcdice.$roll_sum(self.times, self.sides);\n          return self.$choice(value);\n        }, $Table_roll$3.$$arity = 1);\n        return (Opal.def(self, '$choice', $Table_choice$4 = function $$choice(value) {\n          var self = this, index = nil;\n\n          \n          index = $rb_minus(value, self.times);\n          return $$($nesting, 'RollResult').$new(self.name, value, self.items['$[]'](index));\n        }, $Table_choice$4.$$arity = 1), nil) && 'choice';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/dice_table\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$;\n\n  \n  self.$require(\"bcdice/dice_table/roll_result\");\n  self.$require(\"bcdice/dice_table/chain_table\");\n  self.$require(\"bcdice/dice_table/d66_grid_table\");\n  self.$require(\"bcdice/dice_table/d66_half_grid_table\");\n  self.$require(\"bcdice/dice_table/d66_one_third_table\");\n  self.$require(\"bcdice/dice_table/d66_parity_table\");\n  self.$require(\"bcdice/dice_table/d66_range_table\");\n  self.$require(\"bcdice/dice_table/d66_table\");\n  self.$require(\"bcdice/dice_table/range_table\");\n  self.$require(\"bcdice/dice_table/sai_fic_skill_table\");\n  return self.$require(\"bcdice/dice_table/table\");\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/enum\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    \n    (function($base, $parent_nesting) {\n      var self = $module($base, 'D66SortType');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      \n      Opal.const_set($nesting[0], 'NO_SORT', \"no_sort\");\n      Opal.const_set($nesting[0], 'ASC', \"asc\");\n      Opal.const_set($nesting[0], 'DESC', \"desc\");\n    })($nesting[0], $nesting);\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'RoundType');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      \n      Opal.const_set($nesting[0], 'CEIL', \"ceil\");\n      Opal.const_set($nesting[0], 'FLOOR', \"floor\");\n      Opal.const_set($nesting[0], 'ROUND', \"round\");\n    })($nesting[0], $nesting);\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/translate\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $hash2 = Opal.hash2, $hash = Opal.hash;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'Translate');\n\n      var $nesting = [self].concat($parent_nesting), $Translate_translate$1;\n\n      \n      Opal.def(self, '$translate', $Translate_translate$1 = function $$translate(key, $kwargs) {\n        var options, self = this;\n        if (self.locale == null) self.locale = nil;\n\n        \n        \n        if ($kwargs == null) {\n          $kwargs = $hash2([], {});\n        } else if (!$kwargs.$$is_hash) {\n          throw Opal.ArgumentError.$new('expected kwargs');\n        };\n        \n        options = Opal.kwrestargs($kwargs, {});;\n        return $$($nesting, 'I18n').$translate(key, $hash2([\"locale\", \"raise\"], {\"locale\": self.locale, \"raise\": true}).$merge(Opal.to_hash(options)));\n      }, $Translate_translate$1.$$arity = -2)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/result\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send = Opal.send;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $super, $parent_nesting) {\n      var self = $klass($base, $super, 'Result');\n\n      var $nesting = [self].concat($parent_nesting), $Result_initialize$10, $Result_secret$ques$11, $Result_success$ques$12, $Result_failure$ques$13, $Result_critical$ques$14, $Result_fumble$ques$15, $Result_condition$eq$16;\n\n      self.$$prototype.secret = self.$$prototype.success = self.$$prototype.failure = self.$$prototype.critical = self.$$prototype.fumble = nil;\n      \n      (function(self, $parent_nesting) {\n        var $nesting = [self].concat($parent_nesting), $success$1, $failure$3, $critical$5, $fumble$7, $nothing$9;\n\n        \n        \n        Opal.def(self, '$success', $success$1 = function $$success(text) {\n          var $$2, self = this;\n\n          return $send(self.$new(), 'tap', [], ($$2 = function(r){var self = $$2.$$s == null ? this : $$2.$$s, $writer = nil;\n\n          \n            \n            if (r == null) {\n              r = nil;\n            };\n            \n            $writer = [text];\n            $send(r, 'text=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [true];\n            $send(r, 'success=', Opal.to_a($writer));\n            return $writer[$rb_minus($writer[\"length\"], 1)];;}, $$2.$$s = self, $$2.$$arity = 1, $$2))\n        }, $success$1.$$arity = 1);\n        \n        Opal.def(self, '$failure', $failure$3 = function $$failure(text) {\n          var $$4, self = this;\n\n          return $send(self.$new(), 'tap', [], ($$4 = function(r){var self = $$4.$$s == null ? this : $$4.$$s, $writer = nil;\n\n          \n            \n            if (r == null) {\n              r = nil;\n            };\n            \n            $writer = [text];\n            $send(r, 'text=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [true];\n            $send(r, 'failure=', Opal.to_a($writer));\n            return $writer[$rb_minus($writer[\"length\"], 1)];;}, $$4.$$s = self, $$4.$$arity = 1, $$4))\n        }, $failure$3.$$arity = 1);\n        \n        Opal.def(self, '$critical', $critical$5 = function $$critical(text) {\n          var $$6, self = this;\n\n          return $send(self.$new(), 'tap', [], ($$6 = function(r){var self = $$6.$$s == null ? this : $$6.$$s, $writer = nil;\n\n          \n            \n            if (r == null) {\n              r = nil;\n            };\n            \n            $writer = [text];\n            $send(r, 'text=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [true];\n            $send(r, 'critical=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [true];\n            $send(r, 'success=', Opal.to_a($writer));\n            return $writer[$rb_minus($writer[\"length\"], 1)];;}, $$6.$$s = self, $$6.$$arity = 1, $$6))\n        }, $critical$5.$$arity = 1);\n        \n        Opal.def(self, '$fumble', $fumble$7 = function $$fumble(text) {\n          var $$8, self = this;\n\n          return $send(self.$new(), 'tap', [], ($$8 = function(r){var self = $$8.$$s == null ? this : $$8.$$s, $writer = nil;\n\n          \n            \n            if (r == null) {\n              r = nil;\n            };\n            \n            $writer = [text];\n            $send(r, 'text=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [true];\n            $send(r, 'fumble=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [true];\n            $send(r, 'failure=', Opal.to_a($writer));\n            return $writer[$rb_minus($writer[\"length\"], 1)];;}, $$8.$$s = self, $$8.$$arity = 1, $$8))\n        }, $fumble$7.$$arity = 1);\n        return (Opal.def(self, '$nothing', $nothing$9 = function $$nothing() {\n          var self = this;\n\n          return \"nothing\"\n        }, $nothing$9.$$arity = 0), nil) && 'nothing';\n      })(Opal.get_singleton_class(self), $nesting);\n      \n      Opal.def(self, '$initialize', $Result_initialize$10 = function $$initialize(text) {\n        var self = this;\n\n        \n        \n        if (text == null) {\n          text = nil;\n        };\n        self.text = text;\n        self.rands = nil;\n        self.detailed_rands = nil;\n        self.secret = false;\n        self.success = false;\n        self.failure = false;\n        self.critical = false;\n        return (self.fumble = false);\n      }, $Result_initialize$10.$$arity = -1);\n      self.$attr_accessor(\"text\", \"rands\", \"detailed_rands\");\n      self.$attr_writer(\"secret\", \"success\", \"failure\", \"critical\", \"fumble\");\n      \n      Opal.def(self, '$secret?', $Result_secret$ques$11 = function() {\n        var self = this;\n\n        return self.secret\n      }, $Result_secret$ques$11.$$arity = 0);\n      \n      Opal.def(self, '$success?', $Result_success$ques$12 = function() {\n        var self = this;\n\n        return self.success\n      }, $Result_success$ques$12.$$arity = 0);\n      \n      Opal.def(self, '$failure?', $Result_failure$ques$13 = function() {\n        var self = this;\n\n        return self.failure\n      }, $Result_failure$ques$13.$$arity = 0);\n      \n      Opal.def(self, '$critical?', $Result_critical$ques$14 = function() {\n        var self = this;\n\n        return self.critical\n      }, $Result_critical$ques$14.$$arity = 0);\n      \n      Opal.def(self, '$fumble?', $Result_fumble$ques$15 = function() {\n        var self = this;\n\n        return self.fumble\n      }, $Result_fumble$ques$15.$$arity = 0);\n      return (Opal.def(self, '$condition=', $Result_condition$eq$16 = function(condition) {\n        var self = this;\n\n        \n        self.success = condition;\n        return (self.failure = condition['$!']());\n      }, $Result_condition$eq$16.$$arity = 1), nil) && 'condition=';\n    })($nesting[0], null, $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"racc/parser\"] = function(Opal) {\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  var $a, self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy, $gvars = Opal.gvars, $send = Opal.send;\n\n  \n  (function($base, $parent_nesting) {\n    var self = $module($base, 'Racc');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $super, $parent_nesting) {\n      var self = $klass($base, $super, 'ParseError');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      return nil\n    })($nesting[0], $$($nesting, 'StandardError'), $nesting)\n  })($nesting[0], $nesting);\n  if ($truthy((($a = $$$('::', 'ParseError', 'skip_raise')) ? 'constant' : nil))) {\n  } else {\n    Opal.const_set($nesting[0], 'ParseError', $$$($$($nesting, 'Racc'), 'ParseError'))\n  };\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'Racc');\n\n    var $nesting = [self].concat($parent_nesting), $a;\n\n    \n    if ($truthy((($a = $$($nesting, 'Racc_No_Extensions', 'skip_raise')) ? 'constant' : nil))) {\n    } else {\n      Opal.const_set($nesting[0], 'Racc_No_Extensions', false)\n    };\n    (function($base, $super, $parent_nesting) {\n      var self = $klass($base, $super, 'Parser');\n\n      var $nesting = [self].concat($parent_nesting), $Parser_racc_runtime_type$1, $Parser__racc_setup$2, $Parser__racc_init_sysvars$3, $Parser_do_parse$4, $Parser_next_token$5, $Parser__racc_do_parse_rb$6, $Parser_yyparse$8, $Parser__racc_yyparse_rb$9, $Parser__racc_evalact$12, $Parser__racc_do_reduce$14, $Parser_on_error$15, $Parser_yyerror$16, $Parser_yyaccept$17, $Parser_yyerrok$18, $Parser_racc_read_token$19, $Parser_racc_shift$20, $Parser_racc_reduce$21, $Parser_racc_accept$23, $Parser_racc_e_pop$24, $Parser_racc_next_state$25, $Parser_racc_print_stacks$26, $Parser_racc_print_states$28, $Parser_racc_token2str$30, $Parser_token_to_str$31;\n\n      self.$$prototype.yydebug = self.$$prototype.racc_debug_out = self.$$prototype.racc_error_status = self.$$prototype.racc_t = self.$$prototype.racc_vstack = self.$$prototype.racc_val = self.$$prototype.racc_state = self.$$prototype.racc_tstack = nil;\n      \n      Opal.const_set($nesting[0], 'Racc_Runtime_Version', \"1.4.6\");\n      Opal.const_set($nesting[0], 'Racc_Runtime_Revision', [\"originalRevision:\", \"1.8\"]['$[]'](1));\n      Opal.const_set($nesting[0], 'Racc_Runtime_Core_Version_R', \"1.4.6\");\n      Opal.const_set($nesting[0], 'Racc_Runtime_Core_Revision_R', [\"originalRevision:\", \"1.8\"]['$[]'](1));\n      Opal.const_set($nesting[0], 'Racc_Main_Parsing_Routine', \"_racc_do_parse_rb\");\n      Opal.const_set($nesting[0], 'Racc_YY_Parse_Method', \"_racc_yyparse_rb\");\n      Opal.const_set($nesting[0], 'Racc_Runtime_Core_Version', $$($nesting, 'Racc_Runtime_Core_Version_R'));\n      Opal.const_set($nesting[0], 'Racc_Runtime_Core_Revision', $$($nesting, 'Racc_Runtime_Core_Revision_R'));\n      Opal.const_set($nesting[0], 'Racc_Runtime_Type', \"ruby\");\n      Opal.defs($$($nesting, 'Parser'), '$racc_runtime_type', $Parser_racc_runtime_type$1 = function $$racc_runtime_type() {\n        var self = this;\n\n        return $$($nesting, 'Racc_Runtime_Type')\n      }, $Parser_racc_runtime_type$1.$$arity = 0);\n      \n      Opal.def(self, '$_racc_setup', $Parser__racc_setup$2 = function $$_racc_setup() {\n        var $a, $b, self = this, $ret_or_1 = nil, arg = nil, $writer = nil;\n        if ($gvars.stderr == null) $gvars.stderr = nil;\n\n        \n        if ($truthy($$$(self.$class(), 'Racc_debug_parser'))) {\n        } else {\n          self.yydebug = false\n        };\n        if ($truthy((($a = self['yydebug'], $a != null && $a !== nil) ? 'instance-variable' : nil))) {\n        } else {\n          self.yydebug = false\n        };\n        if ($truthy(self.yydebug)) {\n          \n          if ($truthy((($b = self['racc_debug_out'], $b != null && $b !== nil) ? 'instance-variable' : nil))) {\n          } else {\n            self.racc_debug_out = $gvars.stderr\n          };\n          self.racc_debug_out = (function() {if ($truthy(($ret_or_1 = self.racc_debug_out))) {\n            return $ret_or_1\n          } else {\n            return $gvars.stderr\n          }; return nil; })();};\n        arg = $$$(self.$class(), 'Racc_arg');\n        if ($truthy($rb_lt(arg.$size(), 14))) {\n          \n          $writer = [13, true];\n          $send(arg, '[]=', Opal.to_a($writer));\n          $writer[$rb_minus($writer[\"length\"], 1)];};\n        return arg;\n      }, $Parser__racc_setup$2.$$arity = 0);\n      \n      Opal.def(self, '$_racc_init_sysvars', $Parser__racc_init_sysvars$3 = function $$_racc_init_sysvars() {\n        var self = this;\n\n        \n        self.racc_state = [0];\n        self.racc_tstack = [];\n        self.racc_vstack = [];\n        self.racc_t = nil;\n        self.racc_val = nil;\n        self.racc_read_next = true;\n        self.racc_user_yyerror = false;\n        return (self.racc_error_status = 0);\n      }, $Parser__racc_init_sysvars$3.$$arity = 0);\n      \n      Opal.def(self, '$do_parse', $Parser_do_parse$4 = function $$do_parse() {\n        var self = this;\n\n        return self.$__send__($$($nesting, 'Racc_Main_Parsing_Routine'), self.$_racc_setup(), false)\n      }, $Parser_do_parse$4.$$arity = 0);\n      \n      Opal.def(self, '$next_token', $Parser_next_token$5 = function $$next_token() {\n        var self = this;\n\n        return self.$raise($$($nesting, 'NotImplementedError'), \"\" + (self.$class()) + \"#next_token is not defined\")\n      }, $Parser_next_token$5.$$arity = 0);\n      \n      Opal.def(self, '$_racc_do_parse_rb', $Parser__racc_do_parse_rb$6 = function $$_racc_do_parse_rb(arg, in_debug) {\n        var $a, $b, $$7, self = this, action_table = nil, action_check = nil, action_default = nil, action_pointer = nil, _ = nil, token_table = nil, tok = nil, act = nil, i = nil;\n\n        \n        $b = arg, $a = Opal.to_ary($b), (action_table = ($a[0] == null ? nil : $a[0])), (action_check = ($a[1] == null ? nil : $a[1])), (action_default = ($a[2] == null ? nil : $a[2])), (action_pointer = ($a[3] == null ? nil : $a[3])), (_ = ($a[4] == null ? nil : $a[4])), (_ = ($a[5] == null ? nil : $a[5])), (_ = ($a[6] == null ? nil : $a[6])), (_ = ($a[7] == null ? nil : $a[7])), (_ = ($a[8] == null ? nil : $a[8])), (_ = ($a[9] == null ? nil : $a[9])), (token_table = ($a[10] == null ? nil : $a[10])), (_ = ($a[11] == null ? nil : $a[11])), (_ = ($a[12] == null ? nil : $a[12])), (_ = ($a[13] == null ? nil : $a[13])), $b;\n        self.$_racc_init_sysvars();\n        tok = (act = (i = nil));\n        return $send(self, 'catch', [\"racc_end_parse\"], ($$7 = function(){var self = $$7.$$s == null ? this : $$7.$$s, $c, $d, $e, $ret_or_2 = nil, $ret_or_3 = nil, $ret_or_4 = nil;\n          if (self.racc_state == null) self.racc_state = nil;\n          if (self.racc_read_next == null) self.racc_read_next = nil;\n          if (self.racc_t == null) self.racc_t = nil;\n          if (self.yydebug == null) self.yydebug = nil;\n          if (self.racc_val == null) self.racc_val = nil;\n\n        while ($truthy(true)) {\n            \n            if ($truthy((i = action_pointer['$[]'](self.racc_state['$[]'](-1))))) {\n              \n              if ($truthy(self.racc_read_next)) {\n                if ($truthy(self.racc_t['$!='](0))) {\n                  \n                  $e = self.$next_token(), $d = Opal.to_ary($e), (tok = ($d[0] == null ? nil : $d[0])), (self.racc_val = ($d[1] == null ? nil : $d[1])), $e;\n                  if ($truthy(tok)) {\n                    self.racc_t = (function() {if ($truthy(($ret_or_2 = token_table['$[]'](tok)))) {\n                      return $ret_or_2\n                    } else {\n                      return 1\n                    }; return nil; })()\n                  } else {\n                    self.racc_t = 0\n                  };\n                  if ($truthy(self.yydebug)) {\n                    self.$racc_read_token(self.racc_t, tok, self.racc_val)};\n                  self.racc_read_next = false;}};\n              i = $rb_plus(i, self.racc_t);\n              if ($truthy((function() {if ($truthy(($ret_or_3 = (function() {if ($truthy(($ret_or_4 = $rb_ge(i, 0)))) {\n                return (act = action_table['$[]'](i))\n              } else {\n                return $ret_or_4\n              }; return nil; })()))) {\n                return action_check['$[]'](i)['$=='](self.racc_state['$[]'](-1))\n              } else {\n                return $ret_or_3\n              }; return nil; })())) {\n              } else {\n                act = action_default['$[]'](self.racc_state['$[]'](-1))\n              };\n            } else {\n              act = action_default['$[]'](self.racc_state['$[]'](-1))\n            };\n            while ($truthy((act = self.$_racc_evalact(act, arg)))) {\n              \n            };\n          }}, $$7.$$s = self, $$7.$$arity = 0, $$7));\n      }, $Parser__racc_do_parse_rb$6.$$arity = 2);\n      \n      Opal.def(self, '$yyparse', $Parser_yyparse$8 = function $$yyparse(recv, mid) {\n        var self = this;\n\n        return self.$__send__($$($nesting, 'Racc_YY_Parse_Method'), recv, mid, self.$_racc_setup(), true)\n      }, $Parser_yyparse$8.$$arity = 2);\n      \n      Opal.def(self, '$_racc_yyparse_rb', $Parser__racc_yyparse_rb$9 = function $$_racc_yyparse_rb(recv, mid, arg, c_debug) {\n        var $a, $b, $$10, self = this, action_table = nil, action_check = nil, action_default = nil, action_pointer = nil, _ = nil, token_table = nil, act = nil, i = nil;\n\n        \n        $b = arg, $a = Opal.to_ary($b), (action_table = ($a[0] == null ? nil : $a[0])), (action_check = ($a[1] == null ? nil : $a[1])), (action_default = ($a[2] == null ? nil : $a[2])), (action_pointer = ($a[3] == null ? nil : $a[3])), (_ = ($a[4] == null ? nil : $a[4])), (_ = ($a[5] == null ? nil : $a[5])), (_ = ($a[6] == null ? nil : $a[6])), (_ = ($a[7] == null ? nil : $a[7])), (_ = ($a[8] == null ? nil : $a[8])), (_ = ($a[9] == null ? nil : $a[9])), (token_table = ($a[10] == null ? nil : $a[10])), (_ = ($a[11] == null ? nil : $a[11])), (_ = ($a[12] == null ? nil : $a[12])), (_ = ($a[13] == null ? nil : $a[13])), $b;\n        self.$_racc_init_sysvars();\n        act = nil;\n        i = nil;\n        return $send(self, 'catch', [\"racc_end_parse\"], ($$10 = function(){var self = $$10.$$s == null ? this : $$10.$$s, $c, $d, $$11;\n          if (self.racc_state == null) self.racc_state = nil;\n\n        \n          while (!($truthy((i = action_pointer['$[]'](self.racc_state['$[]'](-1)))))) {\n            while ($truthy((act = self.$_racc_evalact(action_default['$[]'](self.racc_state['$[]'](-1)), arg)))) {\n              \n            }\n          };\n          return $send(recv, '__send__', [mid], ($$11 = function(tok, val){var self = $$11.$$s == null ? this : $$11.$$s, $e, $f, $ret_or_5 = nil, $ret_or_6 = nil, $ret_or_7 = nil, $ret_or_8 = nil, $ret_or_9 = nil, $ret_or_10 = nil, $ret_or_11 = nil, $ret_or_12 = nil, $ret_or_13 = nil;\n            if (self.racc_t == null) self.racc_t = nil;\n            if (self.racc_state == null) self.racc_state = nil;\n            if (self.racc_read_next == null) self.racc_read_next = nil;\n\n          \n            \n            if (tok == null) {\n              tok = nil;\n            };\n            \n            if (val == null) {\n              val = nil;\n            };\n            if ($truthy(tok)) {\n              self.racc_t = (function() {if ($truthy(($ret_or_5 = token_table['$[]'](tok)))) {\n                return $ret_or_5\n              } else {\n                return 1\n              }; return nil; })()\n            } else {\n              self.racc_t = 0\n            };\n            self.racc_val = val;\n            self.racc_read_next = false;\n            i = $rb_plus(i, self.racc_t);\n            if ($truthy((function() {if ($truthy(($ret_or_6 = (function() {if ($truthy(($ret_or_7 = $rb_ge(i, 0)))) {\n              return (act = action_table['$[]'](i))\n            } else {\n              return $ret_or_7\n            }; return nil; })()))) {\n              return action_check['$[]'](i)['$=='](self.racc_state['$[]'](-1))\n            } else {\n              return $ret_or_6\n            }; return nil; })())) {\n            } else {\n              act = action_default['$[]'](self.racc_state['$[]'](-1))\n            };\n            while ($truthy((act = self.$_racc_evalact(act, arg)))) {\n              \n            };\n            while ($truthy((function() {if ($truthy(($ret_or_8 = (function() {if ($truthy(($ret_or_9 = (i = action_pointer['$[]'](self.racc_state['$[]'](-1)))['$!']()))) {\n              return $ret_or_9\n            } else {\n              return self.racc_read_next['$!']()\n            }; return nil; })()))) {\n              return $ret_or_8\n            } else {\n              return self.racc_t['$=='](0)\n            }; return nil; })())) {\n              \n              if ($truthy((function() {if ($truthy(($ret_or_10 = (function() {if ($truthy(($ret_or_11 = (function() {if ($truthy(($ret_or_12 = (function() {if ($truthy(($ret_or_13 = i))) {\n                return (i = $rb_plus(i, self.racc_t))\n              } else {\n                return $ret_or_13\n              }; return nil; })()))) {\n                return $rb_ge(i, 0)\n              } else {\n                return $ret_or_12\n              }; return nil; })()))) {\n                return (act = action_table['$[]'](i))\n              } else {\n                return $ret_or_11\n              }; return nil; })()))) {\n                return action_check['$[]'](i)['$=='](self.racc_state['$[]'](-1))\n              } else {\n                return $ret_or_10\n              }; return nil; })())) {\n              } else {\n                act = action_default['$[]'](self.racc_state['$[]'](-1))\n              };\n              while ($truthy((act = self.$_racc_evalact(act, arg)))) {\n                \n              };\n            };}, $$11.$$s = self, $$11.$$arity = 2, $$11));}, $$10.$$s = self, $$10.$$arity = 0, $$10));\n      }, $Parser__racc_yyparse_rb$9.$$arity = 4);\n      \n      Opal.def(self, '$_racc_evalact', $Parser__racc_evalact$12 = function $$_racc_evalact(act, arg) {\n        var $a, $b, $$13, self = this, action_table = nil, action_check = nil, _ = nil, action_pointer = nil, shift_n = nil, reduce_n = nil, $ret_or_14 = nil, $ret_or_15 = nil, code = nil, $case = nil, i = nil, $ret_or_16 = nil, $ret_or_17 = nil;\n\n        \n        $b = arg, $a = Opal.to_ary($b), (action_table = ($a[0] == null ? nil : $a[0])), (action_check = ($a[1] == null ? nil : $a[1])), (_ = ($a[2] == null ? nil : $a[2])), (action_pointer = ($a[3] == null ? nil : $a[3])), (_ = ($a[4] == null ? nil : $a[4])), (_ = ($a[5] == null ? nil : $a[5])), (_ = ($a[6] == null ? nil : $a[6])), (_ = ($a[7] == null ? nil : $a[7])), (_ = ($a[8] == null ? nil : $a[8])), (_ = ($a[9] == null ? nil : $a[9])), (_ = ($a[10] == null ? nil : $a[10])), (shift_n = ($a[11] == null ? nil : $a[11])), (reduce_n = ($a[12] == null ? nil : $a[12])), (_ = ($a[13] == null ? nil : $a[13])), (_ = ($a[14] == null ? nil : $a[14])), $b;\n        if ($truthy((function() {if ($truthy(($ret_or_14 = $rb_gt(act, 0)))) {\n          return $rb_lt(act, shift_n)\n        } else {\n          return $ret_or_14\n        }; return nil; })())) {\n          \n          if ($truthy($rb_gt(self.racc_error_status, 0))) {\n            if (self.racc_t['$=='](1)) {\n            } else {\n              self.racc_error_status = $rb_minus(self.racc_error_status, 1)\n            }};\n          self.racc_vstack.$push(self.racc_val);\n          self.racc_state.$push(act);\n          self.racc_read_next = true;\n          if ($truthy(self.yydebug)) {\n            \n            self.racc_tstack.$push(self.racc_t);\n            self.$racc_shift(self.racc_t, self.racc_tstack, self.racc_vstack);};\n        } else if ($truthy((function() {if ($truthy(($ret_or_15 = $rb_lt(act, 0)))) {\n          return $rb_gt(act, reduce_n['$-@']())\n        } else {\n          return $ret_or_15\n        }; return nil; })())) {\n          \n          code = $send(self, 'catch', [\"racc_jump\"], ($$13 = function(){var self = $$13.$$s == null ? this : $$13.$$s;\n            if (self.racc_state == null) self.racc_state = nil;\n\n          \n            self.racc_state.$push(self.$_racc_do_reduce(arg, act));\n            return false;}, $$13.$$s = self, $$13.$$arity = 0, $$13));\n          if ($truthy(code)) {\n            $case = code;\n            if ((1)['$===']($case)) {\n            self.racc_user_yyerror = true;\n            return reduce_n['$-@']();}\n            else if ((2)['$===']($case)) {return shift_n}\n            else {self.$raise(\"[Racc Bug] unknown jump code\")}};\n        } else if (act['$=='](shift_n)) {\n          \n          if ($truthy(self.yydebug)) {\n            self.$racc_accept()};\n          self.$throw(\"racc_end_parse\", self.racc_vstack['$[]'](0));\n        } else if (act['$=='](reduce_n['$-@']())) {\n          \n          $case = self.racc_error_status;\n          if ((0)['$===']($case)) {if ($truthy(arg['$[]'](21))) {\n          } else {\n            self.$on_error(self.racc_t, self.racc_val, self.racc_vstack)\n          }}\n          else if ((3)['$===']($case)) {\n          if (self.racc_t['$=='](0)) {\n            self.$throw(\"racc_end_parse\", nil)};\n          self.racc_read_next = true;};\n          self.racc_user_yyerror = false;\n          self.racc_error_status = 3;\n          while ($truthy(true)) {\n            \n            if ($truthy((i = action_pointer['$[]'](self.racc_state['$[]'](-1))))) {\n              \n              i = $rb_plus(i, 1);\n              if ($truthy((function() {if ($truthy(($ret_or_16 = (function() {if ($truthy(($ret_or_17 = $rb_ge(i, 0)))) {\n                \n                return (act = action_table['$[]'](i));\n              } else {\n                return $ret_or_17\n              }; return nil; })()))) {\n                return action_check['$[]'](i)['$=='](self.racc_state['$[]'](-1))\n              } else {\n                return $ret_or_16\n              }; return nil; })())) {\n                break;};};\n            if ($truthy($rb_le(self.racc_state.$size(), 1))) {\n              self.$throw(\"racc_end_parse\", nil)};\n            self.racc_state.$pop();\n            self.racc_vstack.$pop();\n            if ($truthy(self.yydebug)) {\n              \n              self.racc_tstack.$pop();\n              self.$racc_e_pop(self.racc_state, self.racc_tstack, self.racc_vstack);};\n          };\n          return act;\n        } else {\n          self.$raise(\"\" + \"[Racc Bug] unknown action \" + (act.$inspect()))\n        };\n        if ($truthy(self.yydebug)) {\n          self.$racc_next_state(self.racc_state['$[]'](-1), self.racc_state)};\n        return nil;\n      }, $Parser__racc_evalact$12.$$arity = 2);\n      \n      Opal.def(self, '$_racc_do_reduce', $Parser__racc_do_reduce$14 = function $$_racc_do_reduce(arg, act) {\n        var $a, $b, self = this, _ = nil, goto_table = nil, goto_check = nil, goto_default = nil, goto_pointer = nil, nt_base = nil, reduce_table = nil, use_result = nil, state = nil, vstack = nil, tstack = nil, i = nil, len = nil, reduce_to = nil, method_id = nil, void_array = nil, tmp_t = nil, tmp_v = nil, $writer = nil, k1 = nil, $ret_or_18 = nil, $ret_or_19 = nil, curstate = nil;\n\n        \n        $b = arg, $a = Opal.to_ary($b), (_ = ($a[0] == null ? nil : $a[0])), (_ = ($a[1] == null ? nil : $a[1])), (_ = ($a[2] == null ? nil : $a[2])), (_ = ($a[3] == null ? nil : $a[3])), (goto_table = ($a[4] == null ? nil : $a[4])), (goto_check = ($a[5] == null ? nil : $a[5])), (goto_default = ($a[6] == null ? nil : $a[6])), (goto_pointer = ($a[7] == null ? nil : $a[7])), (nt_base = ($a[8] == null ? nil : $a[8])), (reduce_table = ($a[9] == null ? nil : $a[9])), (_ = ($a[10] == null ? nil : $a[10])), (_ = ($a[11] == null ? nil : $a[11])), (_ = ($a[12] == null ? nil : $a[12])), (use_result = ($a[13] == null ? nil : $a[13])), $b;\n        state = self.racc_state;\n        vstack = self.racc_vstack;\n        tstack = self.racc_tstack;\n        i = $rb_times(act, -3);\n        len = reduce_table['$[]'](i);\n        reduce_to = reduce_table['$[]']($rb_plus(i, 1));\n        method_id = reduce_table['$[]']($rb_plus(i, 2));\n        void_array = [];\n        if ($truthy(self.yydebug)) {\n          tmp_t = tstack['$[]'](len['$-@'](), len)};\n        tmp_v = vstack['$[]'](len['$-@'](), len);\n        if ($truthy(self.yydebug)) {\n          \n          $writer = [len['$-@'](), len, void_array];\n          $send(tstack, '[]=', Opal.to_a($writer));\n          $writer[$rb_minus($writer[\"length\"], 1)];};\n        \n        $writer = [len['$-@'](), len, void_array];\n        $send(vstack, '[]=', Opal.to_a($writer));\n        $writer[$rb_minus($writer[\"length\"], 1)];;\n        \n        $writer = [len['$-@'](), len, void_array];\n        $send(state, '[]=', Opal.to_a($writer));\n        $writer[$rb_minus($writer[\"length\"], 1)];;\n        if ($truthy(use_result)) {\n          vstack.$push(self.$__send__(method_id, tmp_v, vstack, tmp_v['$[]'](0)))\n        } else {\n          vstack.$push(self.$__send__(method_id, tmp_v, vstack))\n        };\n        tstack.$push(reduce_to);\n        if ($truthy(self.yydebug)) {\n          self.$racc_reduce(tmp_t, reduce_to, tstack, vstack)};\n        k1 = $rb_minus(reduce_to, nt_base);\n        if ($truthy((i = goto_pointer['$[]'](k1)))) {\n          \n          i = $rb_plus(i, state['$[]'](-1));\n          if ($truthy((function() {if ($truthy(($ret_or_18 = (function() {if ($truthy(($ret_or_19 = $rb_ge(i, 0)))) {\n            \n            return (curstate = goto_table['$[]'](i));\n          } else {\n            return $ret_or_19\n          }; return nil; })()))) {\n            return goto_check['$[]'](i)['$=='](k1)\n          } else {\n            return $ret_or_18\n          }; return nil; })())) {\n            return curstate};};\n        return goto_default['$[]'](k1);\n      }, $Parser__racc_do_reduce$14.$$arity = 2);\n      \n      Opal.def(self, '$on_error', $Parser_on_error$15 = function $$on_error(t, val, vstack) {\n        var self = this, $ret_or_20 = nil;\n\n        return self.$raise($$($nesting, 'ParseError'), self.$sprintf(\"\\nparse error on value %s (%s)\", val.$inspect(), (function() {if ($truthy(($ret_or_20 = self.$token_to_str(t)))) {\n          return $ret_or_20\n        } else {\n          return \"?\"\n        }; return nil; })()))\n      }, $Parser_on_error$15.$$arity = 3);\n      \n      Opal.def(self, '$yyerror', $Parser_yyerror$16 = function $$yyerror() {\n        var self = this;\n\n        return self.$throw(\"racc_jump\", 1)\n      }, $Parser_yyerror$16.$$arity = 0);\n      \n      Opal.def(self, '$yyaccept', $Parser_yyaccept$17 = function $$yyaccept() {\n        var self = this;\n\n        return self.$throw(\"racc_jump\", 2)\n      }, $Parser_yyaccept$17.$$arity = 0);\n      \n      Opal.def(self, '$yyerrok', $Parser_yyerrok$18 = function $$yyerrok() {\n        var self = this;\n\n        return (self.racc_error_status = 0)\n      }, $Parser_yyerrok$18.$$arity = 0);\n      \n      Opal.def(self, '$racc_read_token', $Parser_racc_read_token$19 = function $$racc_read_token(t, tok, val) {\n        var self = this;\n\n        \n        self.racc_debug_out.$print(\"read    \");\n        self.racc_debug_out.$print(tok.$inspect(), \"(\", self.$racc_token2str(t), \") \");\n        self.racc_debug_out.$puts(val.$inspect());\n        return self.racc_debug_out.$puts();\n      }, $Parser_racc_read_token$19.$$arity = 3);\n      \n      Opal.def(self, '$racc_shift', $Parser_racc_shift$20 = function $$racc_shift(tok, tstack, vstack) {\n        var self = this;\n\n        \n        self.racc_debug_out.$puts(\"\" + \"shift   \" + (self.$racc_token2str(tok)));\n        self.$racc_print_stacks(tstack, vstack);\n        return self.racc_debug_out.$puts();\n      }, $Parser_racc_shift$20.$$arity = 3);\n      \n      Opal.def(self, '$racc_reduce', $Parser_racc_reduce$21 = function $$racc_reduce(toks, sim, tstack, vstack) {\n        var $$22, self = this, out = nil;\n\n        \n        out = self.racc_debug_out;\n        out.$print(\"reduce \");\n        if ($truthy(toks['$empty?']())) {\n          out.$print(\" <none>\")\n        } else {\n          $send(toks, 'each', [], ($$22 = function(t){var self = $$22.$$s == null ? this : $$22.$$s;\n\n          \n            \n            if (t == null) {\n              t = nil;\n            };\n            return out.$print(\" \", self.$racc_token2str(t));}, $$22.$$s = self, $$22.$$arity = 1, $$22))\n        };\n        out.$puts(\"\" + \" --> \" + (self.$racc_token2str(sim)));\n        self.$racc_print_stacks(tstack, vstack);\n        return self.racc_debug_out.$puts();\n      }, $Parser_racc_reduce$21.$$arity = 4);\n      \n      Opal.def(self, '$racc_accept', $Parser_racc_accept$23 = function $$racc_accept() {\n        var self = this;\n\n        \n        self.racc_debug_out.$puts(\"accept\");\n        return self.racc_debug_out.$puts();\n      }, $Parser_racc_accept$23.$$arity = 0);\n      \n      Opal.def(self, '$racc_e_pop', $Parser_racc_e_pop$24 = function $$racc_e_pop(state, tstack, vstack) {\n        var self = this;\n\n        \n        self.racc_debug_out.$puts(\"error recovering mode: pop token\");\n        self.$racc_print_states(state);\n        self.$racc_print_stacks(tstack, vstack);\n        return self.racc_debug_out.$puts();\n      }, $Parser_racc_e_pop$24.$$arity = 3);\n      \n      Opal.def(self, '$racc_next_state', $Parser_racc_next_state$25 = function $$racc_next_state(curstate, state) {\n        var self = this;\n\n        \n        self.racc_debug_out.$puts(\"\" + \"goto    \" + (curstate));\n        self.$racc_print_states(state);\n        return self.racc_debug_out.$puts();\n      }, $Parser_racc_next_state$25.$$arity = 2);\n      \n      Opal.def(self, '$racc_print_stacks', $Parser_racc_print_stacks$26 = function $$racc_print_stacks(t, v) {\n        var $$27, self = this, out = nil;\n\n        \n        out = self.racc_debug_out;\n        out.$print(\"        [\");\n        $send(t, 'each_index', [], ($$27 = function(i){var self = $$27.$$s == null ? this : $$27.$$s;\n\n        \n          \n          if (i == null) {\n            i = nil;\n          };\n          return out.$print(\" (\", self.$racc_token2str(t['$[]'](i)), \" \", v['$[]'](i).$inspect(), \")\");}, $$27.$$s = self, $$27.$$arity = 1, $$27));\n        return out.$puts(\" ]\");\n      }, $Parser_racc_print_stacks$26.$$arity = 2);\n      \n      Opal.def(self, '$racc_print_states', $Parser_racc_print_states$28 = function $$racc_print_states(s) {\n        var $$29, self = this, out = nil;\n\n        \n        out = self.racc_debug_out;\n        out.$print(\"        [\");\n        $send(s, 'each', [], ($$29 = function(st){var self = $$29.$$s == null ? this : $$29.$$s;\n\n        \n          \n          if (st == null) {\n            st = nil;\n          };\n          return out.$print(\" \", st);}, $$29.$$s = self, $$29.$$arity = 1, $$29));\n        return out.$puts(\" ]\");\n      }, $Parser_racc_print_states$28.$$arity = 1);\n      \n      Opal.def(self, '$racc_token2str', $Parser_racc_token2str$30 = function $$racc_token2str(tok) {\n        var self = this, $ret_or_21 = nil;\n\n        if ($truthy(($ret_or_21 = $$$(self.$class(), 'Racc_token_to_s_table')['$[]'](tok)))) {\n          return $ret_or_21\n        } else {\n          return self.$raise(\"\" + \"[Racc Bug] can't convert token \" + (tok) + \" to string\")\n        }\n      }, $Parser_racc_token2str$30.$$arity = 1);\n      return (Opal.def(self, '$token_to_str', $Parser_token_to_str$31 = function $$token_to_str(t) {\n        var self = this;\n\n        return $$$(self.$class(), 'Racc_token_to_s_table')['$[]'](t)\n      }, $Parser_token_to_str$31.$$arity = 1), nil) && 'token_to_str';\n    })($nesting[0], null, $nesting);\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/arithmetic/node\"] = function(Opal) {\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'Arithmetic');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $parent_nesting) {\n        var self = $module($base, 'Node');\n\n        var $nesting = [self].concat($parent_nesting);\n\n        \n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'BinaryOp');\n\n          var $nesting = [self].concat($parent_nesting), $BinaryOp_initialize$1, $BinaryOp_eval$2, $BinaryOp_output$3, $BinaryOp_s_exp$4, $BinaryOp_op_for_s_exp$5;\n\n          self.$$prototype.lhs = self.$$prototype.rhs = self.$$prototype.op = nil;\n          \n          \n          Opal.def(self, '$initialize', $BinaryOp_initialize$1 = function $$initialize(lhs, op, rhs) {\n            var self = this;\n\n            \n            self.lhs = lhs;\n            self.op = op;\n            return (self.rhs = rhs);\n          }, $BinaryOp_initialize$1.$$arity = 3);\n          \n          Opal.def(self, '$eval', $BinaryOp_eval$2 = function(round_type) {\n            var self = this, l = nil, r = nil;\n\n            \n            l = self.lhs.$eval(round_type);\n            r = self.rhs.$eval(round_type);\n            return l.$send(self.op, r);\n          }, $BinaryOp_eval$2.$$arity = 1);\n          \n          Opal.def(self, '$output', $BinaryOp_output$3 = function $$output() {\n            var self = this;\n\n            return \"\" + (self.lhs.$output()) + (self.op) + (self.rhs.$output())\n          }, $BinaryOp_output$3.$$arity = 0);\n          \n          Opal.def(self, '$s_exp', $BinaryOp_s_exp$4 = function $$s_exp() {\n            var self = this;\n\n            return \"\" + \"(\" + (self.$op_for_s_exp()) + \" \" + (self.lhs.$s_exp()) + \" \" + (self.rhs.$s_exp()) + \")\"\n          }, $BinaryOp_s_exp$4.$$arity = 0);\n          return (Opal.def(self, '$op_for_s_exp', $BinaryOp_op_for_s_exp$5 = function $$op_for_s_exp() {\n            var self = this;\n\n            return self.op\n          }, $BinaryOp_op_for_s_exp$5.$$arity = 0), nil) && 'op_for_s_exp';\n        })($nesting[0], null, $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'DivideBase');\n\n          var $nesting = [self].concat($parent_nesting), $DivideBase_initialize$6, $DivideBase_eval$7, $DivideBase_output$8, $DivideBase_rounding_method$9, $DivideBase_op_for_s_exp$10, $DivideBase_divide_and_round$11;\n\n          self.$$prototype.lhs = self.$$prototype.rhs = self.$$prototype.op = nil;\n          \n          \n          Opal.def(self, '$initialize', $DivideBase_initialize$6 = function $$initialize(lhs, rhs) {\n            var $iter = $DivideBase_initialize$6.$$p, $yield = $iter || nil, self = this;\n\n            if ($iter) $DivideBase_initialize$6.$$p = null;\n            return $send2(self, Opal.find_super_dispatcher(self, 'initialize', $DivideBase_initialize$6, false, true), 'initialize', [lhs, \"/\", rhs], null)\n          }, $DivideBase_initialize$6.$$arity = 2);\n          \n          Opal.def(self, '$eval', $DivideBase_eval$7 = function(round_type) {\n            var self = this, l = nil, r = nil;\n\n            \n            l = self.lhs.$eval(round_type);\n            r = self.rhs.$eval(round_type);\n            if (r['$=='](0)) {\n              self.$raise($$($nesting, 'ZeroDivisionError'))};\n            return self.$divide_and_round(l, r, round_type);\n          }, $DivideBase_eval$7.$$arity = 1);\n          \n          Opal.def(self, '$output', $DivideBase_output$8 = function $$output() {\n            var $iter = $DivideBase_output$8.$$p, $yield = $iter || nil, self = this, $zuper = nil, $zuper_i = nil, $zuper_ii = nil;\n\n            if ($iter) $DivideBase_output$8.$$p = null;\n            // Prepare super implicit arguments\n            for($zuper_i = 0, $zuper_ii = arguments.length, $zuper = new Array($zuper_ii); $zuper_i < $zuper_ii; $zuper_i++) {\n              $zuper[$zuper_i] = arguments[$zuper_i];\n            }\n            return \"\" + ($send2(self, Opal.find_super_dispatcher(self, 'output', $DivideBase_output$8, false, true), 'output', $zuper, $iter)) + (self.$rounding_method())\n          }, $DivideBase_output$8.$$arity = 0);\n          self.$private();\n          \n          Opal.def(self, '$rounding_method', $DivideBase_rounding_method$9 = function $$rounding_method() {\n            var self = this;\n\n            return $$$(self.$class(), 'ROUNDING_METHOD')\n          }, $DivideBase_rounding_method$9.$$arity = 0);\n          \n          Opal.def(self, '$op_for_s_exp', $DivideBase_op_for_s_exp$10 = function $$op_for_s_exp() {\n            var self = this;\n\n            return \"\" + (self.op) + (self.$rounding_method())\n          }, $DivideBase_op_for_s_exp$10.$$arity = 0);\n          return (Opal.def(self, '$divide_and_round', $DivideBase_divide_and_round$11 = function $$divide_and_round(_dividend, _divisor, _round_type) {\n            var self = this;\n\n            return self.$raise($$($nesting, 'NotImplementedError'))\n          }, $DivideBase_divide_and_round$11.$$arity = 3), nil) && 'divide_and_round';\n        })($nesting[0], $$($nesting, 'BinaryOp'), $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'DivideWithGameSystemDefault');\n\n          var $nesting = [self].concat($parent_nesting), $DivideWithGameSystemDefault_divide_and_round$12;\n\n          \n          Opal.const_set($nesting[0], 'ROUNDING_METHOD', \"\");\n          self.$private();\n          return (Opal.def(self, '$divide_and_round', $DivideWithGameSystemDefault_divide_and_round$12 = function $$divide_and_round(dividend, divisor, round_type) {\n            var self = this, $case = nil;\n\n            return (function() {$case = round_type;\n            if ($$$($$($nesting, 'RoundType'), 'CEIL')['$===']($case)) {return $rb_divide(dividend.$to_f(), divisor).$ceil()}\n            else if ($$$($$($nesting, 'RoundType'), 'ROUND')['$===']($case)) {return $rb_divide(dividend.$to_f(), divisor).$round()}\n            else {return $rb_divide(dividend, divisor).$to_i()}})()\n          }, $DivideWithGameSystemDefault_divide_and_round$12.$$arity = 3), nil) && 'divide_and_round';\n        })($nesting[0], $$($nesting, 'DivideBase'), $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'DivideWithCeil');\n\n          var $nesting = [self].concat($parent_nesting), $DivideWithCeil_divide_and_round$13;\n\n          \n          Opal.const_set($nesting[0], 'ROUNDING_METHOD', \"C\");\n          self.$private();\n          return (Opal.def(self, '$divide_and_round', $DivideWithCeil_divide_and_round$13 = function $$divide_and_round(dividend, divisor, _round_type) {\n            var self = this;\n\n            return $rb_divide(dividend.$to_f(), divisor).$ceil()\n          }, $DivideWithCeil_divide_and_round$13.$$arity = 3), nil) && 'divide_and_round';\n        })($nesting[0], $$($nesting, 'DivideBase'), $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'DivideWithRound');\n\n          var $nesting = [self].concat($parent_nesting), $DivideWithRound_divide_and_round$14;\n\n          \n          Opal.const_set($nesting[0], 'ROUNDING_METHOD', \"R\");\n          self.$private();\n          return (Opal.def(self, '$divide_and_round', $DivideWithRound_divide_and_round$14 = function $$divide_and_round(dividend, divisor, _round_type) {\n            var self = this;\n\n            return $rb_divide(dividend.$to_f(), divisor).$round()\n          }, $DivideWithRound_divide_and_round$14.$$arity = 3), nil) && 'divide_and_round';\n        })($nesting[0], $$($nesting, 'DivideBase'), $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'DivideWithFloor');\n\n          var $nesting = [self].concat($parent_nesting), $DivideWithFloor_divide_and_round$15;\n\n          \n          Opal.const_set($nesting[0], 'ROUNDING_METHOD', \"F\");\n          self.$private();\n          return (Opal.def(self, '$divide_and_round', $DivideWithFloor_divide_and_round$15 = function $$divide_and_round(dividend, divisor, _round_type) {\n            var self = this;\n\n            return $rb_divide(dividend, divisor).$to_i()\n          }, $DivideWithFloor_divide_and_round$15.$$arity = 3), nil) && 'divide_and_round';\n        })($nesting[0], $$($nesting, 'DivideBase'), $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'Negative');\n\n          var $nesting = [self].concat($parent_nesting), $Negative_initialize$16, $Negative_eval$17, $Negative_output$18, $Negative_s_exp$19;\n\n          self.$$prototype.body = nil;\n          \n          \n          Opal.def(self, '$initialize', $Negative_initialize$16 = function $$initialize(body) {\n            var self = this;\n\n            return (self.body = body)\n          }, $Negative_initialize$16.$$arity = 1);\n          \n          Opal.def(self, '$eval', $Negative_eval$17 = function(round_type) {\n            var self = this;\n\n            return self.body.$eval(round_type)['$-@']()\n          }, $Negative_eval$17.$$arity = 1);\n          \n          Opal.def(self, '$output', $Negative_output$18 = function $$output() {\n            var self = this;\n\n            return \"\" + \"-\" + (self.body.$output())\n          }, $Negative_output$18.$$arity = 0);\n          return (Opal.def(self, '$s_exp', $Negative_s_exp$19 = function $$s_exp() {\n            var self = this;\n\n            return \"\" + \"(- \" + (self.body.$s_exp()) + \")\"\n          }, $Negative_s_exp$19.$$arity = 0), nil) && 's_exp';\n        })($nesting[0], null, $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'Parenthesis');\n\n          var $nesting = [self].concat($parent_nesting), $Parenthesis_initialize$20, $Parenthesis_eval$21, $Parenthesis_output$22, $Parenthesis_s_exp$23;\n\n          self.$$prototype.expr = nil;\n          \n          \n          Opal.def(self, '$initialize', $Parenthesis_initialize$20 = function $$initialize(expr) {\n            var self = this;\n\n            return (self.expr = expr)\n          }, $Parenthesis_initialize$20.$$arity = 1);\n          \n          Opal.def(self, '$eval', $Parenthesis_eval$21 = function(round_type) {\n            var self = this;\n\n            return self.expr.$eval(round_type)\n          }, $Parenthesis_eval$21.$$arity = 1);\n          \n          Opal.def(self, '$output', $Parenthesis_output$22 = function $$output() {\n            var self = this;\n\n            return \"\" + \"(\" + (self.expr.$output()) + \")\"\n          }, $Parenthesis_output$22.$$arity = 0);\n          return (Opal.def(self, '$s_exp', $Parenthesis_s_exp$23 = function $$s_exp() {\n            var self = this;\n\n            return \"\" + \"(Parenthesis \" + (self.expr.$s_exp()) + \")\"\n          }, $Parenthesis_s_exp$23.$$arity = 0), nil) && 's_exp';\n        })($nesting[0], null, $nesting);\n        (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'Number');\n\n          var $nesting = [self].concat($parent_nesting), $Number_initialize$24, $Number_eval$25, $Number_output$26;\n\n          self.$$prototype.value = nil;\n          \n          \n          Opal.def(self, '$initialize', $Number_initialize$24 = function $$initialize(value) {\n            var self = this;\n\n            return (self.value = value)\n          }, $Number_initialize$24.$$arity = 1);\n          \n          Opal.def(self, '$eval', $Number_eval$25 = function(_round_type) {\n            var self = this;\n\n            return self.value\n          }, $Number_eval$25.$$arity = 1);\n          \n          Opal.def(self, '$output', $Number_output$26 = function $$output() {\n            var self = this;\n\n            return self.value.$to_s()\n          }, $Number_output$26.$$arity = 0);\n          return Opal.alias(self, \"s_exp\", \"output\");\n        })($nesting[0], null, $nesting);\n      })($nesting[0], $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"strscan\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $klass = Opal.klass, $truthy = Opal.truthy, $send = Opal.send;\n\n  return (function($base, $super, $parent_nesting) {\n    var self = $klass($base, $super, 'StringScanner');\n\n    var $nesting = [self].concat($parent_nesting), $StringScanner_initialize$1, $StringScanner_beginning_of_line$ques$2, $StringScanner_scan$3, $StringScanner_scan_until$4, $StringScanner_$$$5, $StringScanner_check$6, $StringScanner_check_until$7, $StringScanner_peek$8, $StringScanner_eos$ques$9, $StringScanner_exist$ques$10, $StringScanner_skip$11, $StringScanner_skip_until$12, $StringScanner_get_byte$13, $StringScanner_match$ques$14, $StringScanner_pos$eq$15, $StringScanner_matched_size$16, $StringScanner_post_match$17, $StringScanner_pre_match$18, $StringScanner_reset$19, $StringScanner_rest$20, $StringScanner_rest$ques$21, $StringScanner_rest_size$22, $StringScanner_terminate$23, $StringScanner_unscan$24, $StringScanner_anchor$25;\n\n    self.$$prototype.pos = self.$$prototype.string = self.$$prototype.working = self.$$prototype.matched = self.$$prototype.prev_pos = self.$$prototype.match = nil;\n    \n    self.$attr_reader(\"pos\");\n    self.$attr_reader(\"matched\");\n    \n    Opal.def(self, '$initialize', $StringScanner_initialize$1 = function $$initialize(string) {\n      var self = this;\n\n      \n      self.string = string;\n      self.pos = 0;\n      self.matched = nil;\n      self.working = string;\n      return (self.match = []);\n    }, $StringScanner_initialize$1.$$arity = 1);\n    self.$attr_reader(\"string\");\n    \n    Opal.def(self, '$beginning_of_line?', $StringScanner_beginning_of_line$ques$2 = function() {\n      var self = this;\n\n      return self.pos === 0 || self.string.charAt(self.pos - 1) === \"\\n\"\n    }, $StringScanner_beginning_of_line$ques$2.$$arity = 0);\n    Opal.alias(self, \"bol?\", \"beginning_of_line?\");\n    \n    Opal.def(self, '$scan', $StringScanner_scan$3 = function $$scan(pattern) {\n      var self = this;\n\n      \n      pattern = self.$anchor(pattern);\n      \n      var result = pattern.exec(self.working);\n\n      if (result == null) {\n        return self.matched = nil;\n      }\n      else if (typeof(result) === 'object') {\n        self.prev_pos = self.pos;\n        self.pos     += result[0].length;\n        self.working  = self.working.substring(result[0].length);\n        self.matched  = result[0];\n        self.match    = result;\n\n        return result[0];\n      }\n      else if (typeof(result) === 'string') {\n        self.pos     += result.length;\n        self.working  = self.working.substring(result.length);\n\n        return result;\n      }\n      else {\n        return nil;\n      }\n    ;\n    }, $StringScanner_scan$3.$$arity = 1);\n    \n    Opal.def(self, '$scan_until', $StringScanner_scan_until$4 = function $$scan_until(pattern) {\n      var self = this;\n\n      \n      pattern = self.$anchor(pattern);\n      \n      var pos     = self.pos,\n          working = self.working,\n          result;\n\n      while (true) {\n        result   = pattern.exec(working);\n        pos     += 1;\n        working  = working.substr(1);\n\n        if (result == null) {\n          if (working.length === 0) {\n            self.match = [];\n            return self.matched = nil;\n          }\n\n          continue;\n        }\n\n        self.matched  = self.string.substr(self.pos, pos - self.pos - 1 + result[0].length);\n        self.match    = result;\n        self.prev_pos = pos - 1;\n        self.pos      = pos;\n        self.working  = working.substr(result[0].length);\n\n        return self.matched;\n      }\n    ;\n    }, $StringScanner_scan_until$4.$$arity = 1);\n    \n    Opal.def(self, '$[]', $StringScanner_$$$5 = function(idx) {\n      var self = this, $case = nil;\n\n      \n      if ($truthy(self.match['$empty?']())) {\n        return nil};\n      $case = idx;\n      if ($$($nesting, 'Symbol')['$===']($case)) {idx = idx.$to_s()}\n      else if ($$($nesting, 'String')['$===']($case)) {nil}\n      else {idx = $$($nesting, 'Opal')['$coerce_to!'](idx, $$($nesting, 'Integer'), \"to_int\")};\n      \n      var match = self.match;\n\n      if (idx < 0) {\n        idx += match.length;\n      }\n\n      if (idx < 0 || idx >= match.length) {\n        return nil;\n      }\n\n      if (match[idx] == null) {\n        return nil;\n      }\n\n      return match[idx];\n    ;\n    }, $StringScanner_$$$5.$$arity = 1);\n    \n    Opal.def(self, '$check', $StringScanner_check$6 = function $$check(pattern) {\n      var self = this;\n\n      \n      pattern = self.$anchor(pattern);\n      \n      var result = pattern.exec(self.working);\n\n      if (result == null) {\n        return self.matched = nil;\n      }\n\n      return self.matched = result[0];\n    ;\n    }, $StringScanner_check$6.$$arity = 1);\n    \n    Opal.def(self, '$check_until', $StringScanner_check_until$7 = function $$check_until(pattern) {\n      var self = this;\n\n      \n      var prev_pos = self.prev_pos,\n          pos      = self.pos;\n\n      var result = self.$scan_until(pattern);\n\n      if (result !== nil) {\n        self.matched = result.substr(-1);\n        self.working = self.string.substr(pos);\n      }\n\n      self.prev_pos = prev_pos;\n      self.pos      = pos;\n\n      return result;\n    \n    }, $StringScanner_check_until$7.$$arity = 1);\n    \n    Opal.def(self, '$peek', $StringScanner_peek$8 = function $$peek(length) {\n      var self = this;\n\n      return self.working.substring(0, length)\n    }, $StringScanner_peek$8.$$arity = 1);\n    \n    Opal.def(self, '$eos?', $StringScanner_eos$ques$9 = function() {\n      var self = this;\n\n      return self.working.length === 0\n    }, $StringScanner_eos$ques$9.$$arity = 0);\n    \n    Opal.def(self, '$exist?', $StringScanner_exist$ques$10 = function(pattern) {\n      var self = this;\n\n      \n      var result = pattern.exec(self.working);\n\n      if (result == null) {\n        return nil;\n      }\n      else if (result.index == 0) {\n        return 0;\n      }\n      else {\n        return result.index + 1;\n      }\n    \n    }, $StringScanner_exist$ques$10.$$arity = 1);\n    \n    Opal.def(self, '$skip', $StringScanner_skip$11 = function $$skip(pattern) {\n      var self = this;\n\n      \n      pattern = self.$anchor(pattern);\n      \n      var result = pattern.exec(self.working);\n\n      if (result == null) {\n        self.match = [];\n        return self.matched = nil;\n      }\n      else {\n        var match_str = result[0];\n        var match_len = match_str.length;\n\n        self.matched   = match_str;\n        self.match     = result;\n        self.prev_pos  = self.pos;\n        self.pos      += match_len;\n        self.working   = self.working.substring(match_len);\n\n        return match_len;\n      }\n    ;\n    }, $StringScanner_skip$11.$$arity = 1);\n    \n    Opal.def(self, '$skip_until', $StringScanner_skip_until$12 = function $$skip_until(pattern) {\n      var self = this;\n\n      \n      var result = self.$scan_until(pattern);\n\n      if (result === nil) {\n        return nil;\n      }\n      else {\n        self.matched = result.substr(-1);\n\n        return result.length;\n      }\n    \n    }, $StringScanner_skip_until$12.$$arity = 1);\n    \n    Opal.def(self, '$get_byte', $StringScanner_get_byte$13 = function $$get_byte() {\n      var self = this;\n\n      \n      var result = nil;\n\n      if (self.pos < self.string.length) {\n        self.prev_pos  = self.pos;\n        self.pos      += 1;\n        result      = self.matched = self.working.substring(0, 1);\n        self.working   = self.working.substring(1);\n      }\n      else {\n        self.matched = nil;\n      }\n\n      return result;\n    \n    }, $StringScanner_get_byte$13.$$arity = 0);\n    Opal.alias(self, \"getch\", \"get_byte\");\n    \n    Opal.def(self, '$match?', $StringScanner_match$ques$14 = function(pattern) {\n      var self = this;\n\n      \n      pattern = self.$anchor(pattern);\n      \n      var result = pattern.exec(self.working);\n\n      if (result == null) {\n        return nil;\n      }\n      else {\n        self.prev_pos = self.pos;\n\n        return result[0].length;\n      }\n    ;\n    }, $StringScanner_match$ques$14.$$arity = 1);\n    \n    Opal.def(self, '$pos=', $StringScanner_pos$eq$15 = function(pos) {\n      var self = this;\n\n      \n      \n      if (pos < 0) {\n        pos += self.string.$length();\n      }\n    ;\n      self.pos = pos;\n      return (self.working = self.string.slice(pos));\n    }, $StringScanner_pos$eq$15.$$arity = 1);\n    \n    Opal.def(self, '$matched_size', $StringScanner_matched_size$16 = function $$matched_size() {\n      var self = this;\n\n      \n      if (self.matched === nil) {\n        return nil;\n      }\n\n      return self.matched.length\n    \n    }, $StringScanner_matched_size$16.$$arity = 0);\n    \n    Opal.def(self, '$post_match', $StringScanner_post_match$17 = function $$post_match() {\n      var self = this;\n\n      \n      if (self.matched === nil) {\n        return nil;\n      }\n\n      return self.string.substr(self.pos);\n    \n    }, $StringScanner_post_match$17.$$arity = 0);\n    \n    Opal.def(self, '$pre_match', $StringScanner_pre_match$18 = function $$pre_match() {\n      var self = this;\n\n      \n      if (self.matched === nil) {\n        return nil;\n      }\n\n      return self.string.substr(0, self.prev_pos);\n    \n    }, $StringScanner_pre_match$18.$$arity = 0);\n    \n    Opal.def(self, '$reset', $StringScanner_reset$19 = function $$reset() {\n      var self = this;\n\n      \n      self.working = self.string;\n      self.matched = nil;\n      return (self.pos = 0);\n    }, $StringScanner_reset$19.$$arity = 0);\n    \n    Opal.def(self, '$rest', $StringScanner_rest$20 = function $$rest() {\n      var self = this;\n\n      return self.working\n    }, $StringScanner_rest$20.$$arity = 0);\n    \n    Opal.def(self, '$rest?', $StringScanner_rest$ques$21 = function() {\n      var self = this;\n\n      return self.working.length !== 0\n    }, $StringScanner_rest$ques$21.$$arity = 0);\n    \n    Opal.def(self, '$rest_size', $StringScanner_rest_size$22 = function $$rest_size() {\n      var self = this;\n\n      return self.$rest().$size()\n    }, $StringScanner_rest_size$22.$$arity = 0);\n    \n    Opal.def(self, '$terminate', $StringScanner_terminate$23 = function $$terminate() {\n      var self = this, $writer = nil;\n\n      \n      self.match = nil;\n      \n      $writer = [self.string.$length()];\n      $send(self, 'pos=', Opal.to_a($writer));\n      return $writer[$rb_minus($writer[\"length\"], 1)];;\n    }, $StringScanner_terminate$23.$$arity = 0);\n    \n    Opal.def(self, '$unscan', $StringScanner_unscan$24 = function $$unscan() {\n      var self = this;\n\n      \n      self.pos = self.prev_pos;\n      self.prev_pos = nil;\n      self.match = nil;\n      return self;\n    }, $StringScanner_unscan$24.$$arity = 0);\n    self.$private();\n    return (Opal.def(self, '$anchor', $StringScanner_anchor$25 = function $$anchor(pattern) {\n      var self = this;\n\n      \n      var flags = pattern.toString().match(/\\/([^\\/]+)$/);\n      flags = flags ? flags[1] : undefined;\n      return new RegExp('^(?:' + pattern.source + ')', flags);\n    \n    }, $StringScanner_anchor$25.$$arity = 1), nil) && 'anchor';\n  })($nesting[0], null, $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/normalize\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'Normalize');\n\n      var $nesting = [self].concat($parent_nesting), $Normalize_comparison_operator$1, $Normalize_target_number$2;\n\n      \n      self.$module_function();\n      \n      Opal.def(self, '$comparison_operator', $Normalize_comparison_operator$1 = function $$comparison_operator(op) {\n        var self = this, $case = nil;\n\n        return (function() {$case = op;\n        if (/<=|=</['$===']($case)) {return \"<=\"}\n        else if (/>=|=>/['$===']($case)) {return \">=\"}\n        else if (/<>|!=|=!/['$===']($case)) {return \"!=\"}\n        else if (/</['$===']($case)) {return \"<\"}\n        else if (/>/['$===']($case)) {return \">\"}\n        else if (/=/['$===']($case)) {return \"==\"}\n        else { return nil }})()\n      }, $Normalize_comparison_operator$1.$$arity = 1);\n      \n      Opal.def(self, '$target_number', $Normalize_target_number$2 = function $$target_number(val) {\n        var self = this;\n\n        if (val['$=='](\"?\")) {\n          return val\n        } else {\n          return val.$to_i()\n        }\n      }, $Normalize_target_number$2.$$arity = 1);\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/command/lexer\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2, $truthy = Opal.truthy, $send = Opal.send;\n\n  \n  self.$require(\"strscan\");\n  self.$require(\"bcdice/normalize\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'Command');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Lexer');\n\n        var $nesting = [self].concat($parent_nesting), $Lexer_initialize$1, $Lexer_next_token$3, $Lexer_source$5;\n\n        self.$$prototype.scanner = self.$$prototype.notations = nil;\n        \n        Opal.const_set($nesting[0], 'SYMBOLS', $hash2([\"+\", \"-\", \"*\", \"/\", \"(\", \")\", \"?\", \"@\", \"#\", \"$\"], {\"+\": \"PLUS\", \"-\": \"MINUS\", \"*\": \"ASTERISK\", \"/\": \"SLASH\", \"(\": \"PARENL\", \")\": \"PARENR\", \"?\": \"QUESTION\", \"@\": \"AT\", \"#\": \"SHARP\", \"$\": \"DOLLAR\"}).$freeze());\n        \n        Opal.def(self, '$initialize', $Lexer_initialize$1 = function $$initialize(source, notations) {\n          var $a, $b, $$2, self = this, $ret_or_1 = nil;\n\n          \n          source = (function() {if ($truthy(($ret_or_1 = ($b = ($a = source, ($a === nil || $a == null) ? nil : $send($a, 'split', [\" \", 2])), ($b === nil || $b == null) ? nil : $send($b, 'first', []))))) {\n            return $ret_or_1\n          } else {\n            return \"\"\n          }; return nil; })();\n          self.scanner = $$($nesting, 'StringScanner').$new(source);\n          return (self.notations = $send(notations, 'map', [], ($$2 = function(n){var self = $$2.$$s == null ? this : $$2.$$s;\n\n          \n            \n            if (n == null) {\n              n = nil;\n            };\n            if ($truthy(n['$is_a?']($$($nesting, 'String')))) {\n              return $$($nesting, 'Regexp').$new(n)\n            } else {\n              return n\n            };}, $$2.$$s = self, $$2.$$arity = 1, $$2)));\n        }, $Lexer_initialize$1.$$arity = 2);\n        \n        Opal.def(self, '$next_token', $Lexer_next_token$3 = function $$next_token() {try {\n\n          var $$4, self = this, number = nil, cmp_op = nil, type = nil, char$ = nil, $ret_or_2 = nil;\n\n          \n          if ($truthy(self.scanner['$eos?']())) {\n            return [false, \"$\"]};\n          $send(self.notations, 'each', [], ($$4 = function(n){var self = $$4.$$s == null ? this : $$4.$$s, token = nil;\n            if (self.scanner == null) self.scanner = nil;\n\n          \n            \n            if (n == null) {\n              n = nil;\n            };\n            token = self.scanner.$scan(n);\n            if ($truthy(token)) {\n              Opal.ret([\"NOTATION\", token])\n            } else {\n              return nil\n            };}, $$4.$$s = self, $$4.$$arity = 1, $$4));\n          if ($truthy((number = self.scanner.$scan(/\\d+/)))) {\n            return [\"NUMBER\", number.$to_i()]\n          } else if ($truthy((cmp_op = self.scanner.$scan(/[<>!=]+/)))) {\n            \n            cmp_op = $$($nesting, 'Normalize').$comparison_operator(cmp_op);\n            type = (function() {if ($truthy(cmp_op)) {\n              return \"CMP_OP\"\n            } else {\n              return \"ILLEGAL\"\n            }; return nil; })();\n            return [type, cmp_op];\n          } else {\n            \n            char$ = self.scanner.$getch().$upcase();\n            type = (function() {if ($truthy(($ret_or_2 = $$($nesting, 'SYMBOLS')['$[]'](char$)))) {\n              return $ret_or_2\n            } else {\n              return char$.$to_sym()\n            }; return nil; })();\n            return [type, char$];\n          };\n          } catch ($returner) { if ($returner === Opal.returner) { return $returner.$v } throw $returner; }\n        }, $Lexer_next_token$3.$$arity = 0);\n        return (Opal.def(self, '$source', $Lexer_source$5 = function $$source() {\n          var self = this;\n\n          return self.scanner.$string()\n        }, $Lexer_source$5.$$arity = 0), nil) && 'source';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/command/parsed\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'Command');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Parsed');\n\n        var $nesting = [self].concat($parent_nesting), $Parsed_initialize$1, $Parsed_question_target$ques$2, $Parsed_to_s$3;\n\n        self.$$prototype.question_target = self.$$prototype.critical = self.$$prototype.fumble = self.$$prototype.dollar = self.$$prototype.modify_number = self.$$prototype.target_number = self.$$prototype.command = self.$$prototype.cmp_op = nil;\n        \n        self.$attr_accessor(\"command\");\n        self.$attr_accessor(\"critical\");\n        self.$attr_accessor(\"fumble\");\n        self.$attr_accessor(\"dollar\");\n        self.$attr_accessor(\"modify_number\");\n        self.$attr_accessor(\"cmp_op\");\n        self.$attr_accessor(\"target_number\");\n        self.$attr_writer(\"question_target\");\n        \n        Opal.def(self, '$initialize', $Parsed_initialize$1 = function $$initialize() {\n          var self = this;\n\n          \n          self.critical = nil;\n          self.fumble = nil;\n          self.dollar = nil;\n          self.cmp_op = nil;\n          self.target_number = nil;\n          return (self.question_target = false);\n        }, $Parsed_initialize$1.$$arity = 0);\n        \n        Opal.def(self, '$question_target?', $Parsed_question_target$ques$2 = function() {\n          var self = this;\n\n          return self.question_target\n        }, $Parsed_question_target$ques$2.$$arity = 0);\n        return (Opal.def(self, '$to_s', $Parsed_to_s$3 = function $$to_s(suffix_position) {\n          var self = this, c = nil, f = nil, d = nil, m = nil, target = nil, $case = nil;\n\n          \n          \n          if (suffix_position == null) {\n            suffix_position = \"after_command\";\n          };\n          c = (function() {if ($truthy(self.critical)) {\n            return \"\" + \"@\" + (self.critical)\n          } else {\n            return nil\n          }; return nil; })();\n          f = (function() {if ($truthy(self.fumble)) {\n            return \"\" + \"#\" + (self.fumble)\n          } else {\n            return nil\n          }; return nil; })();\n          d = (function() {if ($truthy(self.dollar)) {\n            return \"\" + \"$\" + (self.dollar)\n          } else {\n            return nil\n          }; return nil; })();\n          m = $$($nesting, 'Format').$modifier(self.modify_number);\n          target = (function() {if ($truthy(self.question_target)) {\n            return \"?\"\n          } else {\n            return self.target_number\n          }; return nil; })();\n          return (function() {$case = suffix_position;\n          if (\"after_command\"['$===']($case)) {return [self.command, c, f, d, m, self.cmp_op, target].$join()}\n          else if (\"after_modify_number\"['$===']($case)) {return [self.command, m, c, f, d, self.cmp_op, target].$join()}\n          else if (\"after_target_number\"['$===']($case)) {return [self.command, m, self.cmp_op, target, c, f, d].$join()}\n          else { return nil }})();\n        }, $Parsed_to_s$3.$$arity = -1), nil) && 'to_s';\n      })($nesting[0], null, $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/command/parser\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $klass = Opal.klass, $module = Opal.module, $hash2 = Opal.hash2, $send2 = Opal.send2, $send = Opal.send, $hash = Opal.hash, $truthy = Opal.truthy;\n\n  \n  self.$require(\"racc/parser.rb\");\n  self.$require(\"bcdice/arithmetic/node\");\n  self.$require(\"bcdice/command/lexer\");\n  self.$require(\"bcdice/command/parsed\");\n  (function($base, $super, $parent_nesting) {\n    var self = $klass($base, $super, 'Parser');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    return nil\n  })($$$($$($nesting, 'BCDice'), 'Command'), $$$($$($nesting, 'Racc'), 'Parser'), $nesting);\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'Command');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'Parser');\n\n        var $nesting = [self].concat($parent_nesting), $Parser_initialize$1, $Parser_disable_modifier$2, $Parser_enable_critical$3, $Parser_enable_fumble$4, $Parser_enable_dollar$5, $Parser_restrict_cmp_op_to$6, $Parser_enable_question_target$7, $Parser_parse$8, $Parser_parsed$9, $Parser_next_token$11, $Parser__reduce_1$12, $Parser__reduce_2$13, $Parser__reduce_3$14, $Parser__reduce_4$15, $Parser__reduce_5$16, $Parser__reduce_6$17, $Parser__reduce_7$18, $Parser__reduce_8$19, $Parser__reduce_9$20, $Parser__reduce_10$21, $Parser__reduce_11$22, $Parser__reduce_12$23, $Parser__reduce_13$24, $Parser__reduce_14$25, $Parser__reduce_15$26, $Parser__reduce_16$27, $Parser__reduce_18$28, $Parser__reduce_19$29, $Parser__reduce_21$30, $Parser__reduce_22$31, $Parser__reduce_23$32, $Parser__reduce_24$33, $Parser__reduce_25$34, $Parser__reduce_26$35, $Parser__reduce_27$36, $Parser__reduce_29$37, $Parser__reduce_30$38, $Parser__reduce_none$39, racc_action_table = nil, racc_action_check = nil, racc_action_pointer = nil, racc_action_default = nil, racc_goto_table = nil, racc_goto_check = nil, racc_goto_pointer = nil, racc_goto_default = nil, racc_reduce_table = nil, racc_reduce_n = nil, racc_shift_n = nil, racc_token_table = nil, racc_nt_base = nil, racc_use_result_var = nil;\n\n        self.$$prototype.notations = self.$$prototype.lexer = self.$$prototype.modifier = self.$$prototype.critical = self.$$prototype.fumble = self.$$prototype.dollar = self.$$prototype.allowed_cmp_op = self.$$prototype.question_target = nil;\n        \n        \n        Opal.def(self, '$initialize', $Parser_initialize$1 = function $$initialize($a, $b) {\n          var $post_args, $kwargs, notations, round_type, $iter = $Parser_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $Parser_initialize$1.$$p = null;\n          \n          \n          $post_args = Opal.slice.call(arguments, 0, arguments.length);\n          \n          $kwargs = Opal.extract_kwargs($post_args);\n          \n          if ($kwargs == null) {\n            $kwargs = $hash2([], {});\n          } else if (!$kwargs.$$is_hash) {\n            throw Opal.ArgumentError.$new('expected kwargs');\n          };\n          \n          notations = $post_args;;\n          \n          if (!Opal.hasOwnProperty.call($kwargs.$$smap, 'round_type')) {\n            throw Opal.ArgumentError.$new('missing keyword: round_type');\n          }\n          round_type = $kwargs.$$smap[\"round_type\"];;\n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $Parser_initialize$1, false, true), 'initialize', [], null);\n          self.notations = notations;\n          self.round_type = round_type;\n          self.modifier = true;\n          self.critical = false;\n          self.fumble = false;\n          self.dollar = false;\n          self.allowed_cmp_op = [nil, \">=\", \">\", \"<=\", \"<\", \"==\", \"!=\"];\n          return (self.question_target = false);\n        }, $Parser_initialize$1.$$arity = -2);\n        \n        Opal.def(self, '$disable_modifier', $Parser_disable_modifier$2 = function $$disable_modifier() {\n          var self = this;\n\n          \n          self.modifier = false;\n          return self;\n        }, $Parser_disable_modifier$2.$$arity = 0);\n        \n        Opal.def(self, '$enable_critical', $Parser_enable_critical$3 = function $$enable_critical() {\n          var self = this;\n\n          \n          self.critical = true;\n          return self;\n        }, $Parser_enable_critical$3.$$arity = 0);\n        \n        Opal.def(self, '$enable_fumble', $Parser_enable_fumble$4 = function $$enable_fumble() {\n          var self = this;\n\n          \n          self.fumble = true;\n          return self;\n        }, $Parser_enable_fumble$4.$$arity = 0);\n        \n        Opal.def(self, '$enable_dollar', $Parser_enable_dollar$5 = function $$enable_dollar() {\n          var self = this;\n\n          \n          self.dollar = true;\n          return self;\n        }, $Parser_enable_dollar$5.$$arity = 0);\n        \n        Opal.def(self, '$restrict_cmp_op_to', $Parser_restrict_cmp_op_to$6 = function $$restrict_cmp_op_to($a) {\n          var $post_args, ops, self = this;\n\n          \n          \n          $post_args = Opal.slice.call(arguments, 0, arguments.length);\n          \n          ops = $post_args;;\n          self.allowed_cmp_op = ops;\n          return self;\n        }, $Parser_restrict_cmp_op_to$6.$$arity = -1);\n        \n        Opal.def(self, '$enable_question_target', $Parser_enable_question_target$7 = function $$enable_question_target() {\n          var self = this;\n\n          \n          self.question_target = true;\n          return self;\n        }, $Parser_enable_question_target$7.$$arity = 0);\n        \n        Opal.def(self, '$parse', $Parser_parse$8 = function $$parse(source) {\n          var self = this;\n\n          try {\n            \n            self.lexer = $$($nesting, 'Lexer').$new(source, self.notations);\n            return self.$do_parse();\n          } catch ($err) {\n            if (Opal.rescue($err, [$$($nesting, 'ParseError'), $$($nesting, 'ZeroDivisionError')])) {\n              try {\n                return nil\n              } finally { Opal.pop_exception() }\n            } else { throw $err; }\n          }\n        }, $Parser_parse$8.$$arity = 1);\n        self.$private();\n        \n        Opal.def(self, '$parsed', $Parser_parsed$9 = function $$parsed(notation, option, modifier, target) {\n          var $$10, self = this;\n\n          return $send($$($nesting, 'Parsed').$new(), 'tap', [], ($$10 = function(p){var self = $$10.$$s == null ? this : $$10.$$s, $a, $b, $c, $d, $writer = nil;\n            if (self.round_type == null) self.round_type = nil;\n\n          \n            \n            if (p == null) {\n              p = nil;\n            };\n            \n            $writer = [notation];\n            $send(p, 'command=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [($a = option['$[]'](\"critical\"), ($a === nil || $a == null) ? nil : $send($a, 'eval', [self.round_type]))];\n            $send(p, 'critical=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [($b = option['$[]'](\"fumble\"), ($b === nil || $b == null) ? nil : $send($b, 'eval', [self.round_type]))];\n            $send(p, 'fumble=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [($c = option['$[]'](\"dollar\"), ($c === nil || $c == null) ? nil : $send($c, 'eval', [self.round_type]))];\n            $send(p, 'dollar=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [modifier.$eval(self.round_type)];\n            $send(p, 'modify_number=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [target['$[]'](\"cmp_op\")];\n            $send(p, 'cmp_op=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            if (target['$[]'](\"target\")['$=='](\"?\")) {\n              \n              \n              $writer = [true];\n              $send(p, 'question_target=', Opal.to_a($writer));\n              $writer[$rb_minus($writer[\"length\"], 1)];;\n              \n              $writer = [0];\n              $send(p, 'target_number=', Opal.to_a($writer));\n              return $writer[$rb_minus($writer[\"length\"], 1)];;\n            } else {\n              \n              \n              $writer = [false];\n              $send(p, 'question_target=', Opal.to_a($writer));\n              $writer[$rb_minus($writer[\"length\"], 1)];;\n              \n              $writer = [($d = target['$[]'](\"target\"), ($d === nil || $d == null) ? nil : $send($d, 'eval', [self.round_type]))];\n              $send(p, 'target_number=', Opal.to_a($writer));\n              return $writer[$rb_minus($writer[\"length\"], 1)];;\n            };}, $$10.$$s = self, $$10.$$arity = 1, $$10))\n        }, $Parser_parsed$9.$$arity = 4);\n        \n        Opal.def(self, '$next_token', $Parser_next_token$11 = function $$next_token() {\n          var self = this;\n\n          return self.lexer.$next_token()\n        }, $Parser_next_token$11.$$arity = 0);\n        racc_action_table = [24, 6, 7, 16, 17, 20, 21, 16, 17, 23, 6, 7, 14, 36, 37, 31, 11, 12, 13, 14, 24, 2, 24, 36, 37, 20, 21, 20, 21, 23, 24, 23, 24, 41, 42, 20, 21, 20, 21, 23, 24, 23, 24, 36, 37, 20, 21, 20, 21, 23, 24, 23, 24, 36, 37, 20, 21, 20, 21, 23, 24, 23, 24, 36, 37, 20, 21, 20, 21, 23, 24, 23, 24, 36, 37, 20, 21, 20, 21, 23, 24, 23, 24, 36, 37, 20, 21, 20, 21, 23, 3, 23, 41, 42, 8, nil, nil, 45, 11, 12, 13, 14, 51, 49, 50, 52];\n        racc_action_check = [14, 2, 2, 9, 9, 14, 14, 5, 5, 14, 4, 4, 9, 18, 18, 14, 4, 4, 4, 4, 6, 0, 7, 25, 25, 6, 6, 7, 7, 6, 11, 7, 12, 30, 30, 11, 11, 12, 12, 11, 13, 12, 16, 32, 32, 13, 13, 16, 16, 13, 17, 16, 20, 34, 34, 17, 17, 20, 20, 17, 21, 20, 23, 35, 35, 21, 21, 23, 23, 21, 36, 23, 37, 46, 46, 36, 36, 37, 37, 36, 41, 37, 42, 47, 47, 41, 41, 42, 42, 41, 1, 42, 40, 40, 3, nil, nil, 40, 15, 15, 15, 15, 44, 44, 44, 44];\n        racc_action_pointer = [3, 90, -6, 94, 3, 0, 18, 20, nil, -4, nil, 28, 30, 38, -2, 85, 40, 48, 4, nil, 50, 58, nil, 60, nil, 14, nil, nil, nil, nil, 26, nil, 34, nil, 44, 54, 68, 70, nil, nil, 85, 78, 80, nil, 99, nil, 64, 74, nil, nil, nil, nil, nil];\n        racc_action_default = [-31, -31, -4, -31, -12, -4, -31, -31, 53, -12, -3, -31, -31, -31, -31, -12, -31, -31, -8, -20, -31, -31, -28, -31, -30, -9, -1, -5, -6, -7, -13, -14, -17, -2, -10, -11, -31, -31, -26, -27, -31, -31, -31, -18, -21, -29, -15, -16, -19, -22, -23, -24, -25];\n        racc_goto_table = [18, 25, 1, 27, 28, 29, 30, 48, nil, 10, 34, 35, 38, 39, 26, 40, 4, nil, nil, 15, 33, 5, nil, 9, nil, nil, nil, nil, 43, 44, nil, nil, nil, nil, nil, 46, 47];\n        racc_goto_check = [6, 6, 1, 5, 5, 5, 7, 8, nil, 4, 6, 6, 5, 5, 4, 7, 2, nil, nil, 2, 4, 3, nil, 3, nil, nil, nil, nil, 5, 5, nil, nil, nil, nil, nil, 6, 6];\n        racc_goto_pointer = [nil, 2, 14, 19, 5, -8, -6, -8, -37, nil];\n        racc_goto_default = [nil, nil, nil, nil, nil, 19, 32, nil, nil, 22];\n        racc_reduce_table = [0, 0, \"racc_error\", 4, 20, \"_reduce_1\", 4, 20, \"_reduce_2\", 3, 20, \"_reduce_3\", 0, 21, \"_reduce_4\", 3, 21, \"_reduce_5\", 3, 21, \"_reduce_6\", 3, 21, \"_reduce_7\", 2, 22, \"_reduce_8\", 2, 22, \"_reduce_9\", 3, 22, \"_reduce_10\", 3, 22, \"_reduce_11\", 0, 23, \"_reduce_12\", 2, 23, \"_reduce_13\", 2, 23, \"_reduce_14\", 3, 26, \"_reduce_15\", 3, 26, \"_reduce_16\", 1, 26, \"_reduce_none\", 3, 25, \"_reduce_18\", 4, 25, \"_reduce_19\", 1, 25, \"_reduce_none\", 0, 27, \"_reduce_21\", 1, 27, \"_reduce_22\", 1, 27, \"_reduce_23\", 1, 27, \"_reduce_24\", 1, 27, \"_reduce_25\", 2, 24, \"_reduce_26\", 2, 24, \"_reduce_27\", 1, 24, \"_reduce_none\", 3, 28, \"_reduce_29\", 1, 28, \"_reduce_30\"];\n        racc_reduce_n = 31;\n        racc_shift_n = 53;\n        racc_token_table = $hash(false, 0, \"error\", 1, \"NUMBER\", 2, \"R\", 3, \"U\", 4, \"C\", 5, \"F\", 6, \"PLUS\", 7, \"MINUS\", 8, \"ASTERISK\", 9, \"SLASH\", 10, \"PARENL\", 11, \"PARENR\", 12, \"AT\", 13, \"SHARP\", 14, \"DOLLAR\", 15, \"CMP_OP\", 16, \"QUESTION\", 17, \"NOTATION\", 18);\n        racc_nt_base = 19;\n        racc_use_result_var = true;\n        Opal.const_set($nesting[0], 'Racc_arg', [racc_action_table, racc_action_check, racc_action_default, racc_action_pointer, racc_goto_table, racc_goto_check, racc_goto_default, racc_goto_pointer, racc_nt_base, racc_reduce_table, racc_token_table, racc_shift_n, racc_reduce_n, racc_use_result_var]);\n        Opal.const_set($nesting[0], 'Racc_token_to_s_table', [\"$end\", \"error\", \"NUMBER\", \"R\", \"U\", \"C\", \"F\", \"PLUS\", \"MINUS\", \"ASTERISK\", \"SLASH\", \"PARENL\", \"PARENR\", \"AT\", \"SHARP\", \"DOLLAR\", \"CMP_OP\", \"QUESTION\", \"NOTATION\", \"$start\", \"expr\", \"option\", \"modifier\", \"target\", \"unary\", \"mul\", \"add\", \"round_type\", \"term\"]);\n        Opal.const_set($nesting[0], 'Racc_debug_parser', false);\n        \n        Opal.def(self, '$_reduce_1', $Parser__reduce_1$12 = function $$_reduce_1(val, _values, result) {\n          var $a, $b, self = this, notation = nil, option = nil, modifier = nil, target = nil;\n\n          \n          if ($truthy(self.modifier)) {\n          } else {\n            self.$raise($$($nesting, 'ParseError'))\n          };\n          $b = val, $a = Opal.to_ary($b), (notation = ($a[0] == null ? nil : $a[0])), (option = ($a[1] == null ? nil : $a[1])), (modifier = ($a[2] == null ? nil : $a[2])), (target = ($a[3] == null ? nil : $a[3])), $b;\n          result = self.$parsed(notation, option, modifier, target);\n          return result;\n        }, $Parser__reduce_1$12.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_2', $Parser__reduce_2$13 = function $$_reduce_2(val, _values, result) {\n          var $a, $b, self = this, notation = nil, modifier = nil, option = nil, target = nil;\n\n          \n          if ($truthy(self.modifier)) {\n          } else {\n            self.$raise($$($nesting, 'ParseError'))\n          };\n          $b = val, $a = Opal.to_ary($b), (notation = ($a[0] == null ? nil : $a[0])), (modifier = ($a[1] == null ? nil : $a[1])), (option = ($a[2] == null ? nil : $a[2])), (target = ($a[3] == null ? nil : $a[3])), $b;\n          result = self.$parsed(notation, option, modifier, target);\n          return result;\n        }, $Parser__reduce_2$13.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_3', $Parser__reduce_3$14 = function $$_reduce_3(val, _values, result) {\n          var $a, $b, self = this, notation = nil, option = nil, target = nil;\n\n          \n          $b = val, $a = Opal.to_ary($b), (notation = ($a[0] == null ? nil : $a[0])), (option = ($a[1] == null ? nil : $a[1])), (target = ($a[2] == null ? nil : $a[2])), $b;\n          result = self.$parsed(notation, option, $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'Number').$new(0), target);\n          return result;\n        }, $Parser__reduce_3$14.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_4', $Parser__reduce_4$15 = function $$_reduce_4(val, _values, result) {\n          var self = this;\n\n          \n          result = $hash2([], {});\n          return result;\n        }, $Parser__reduce_4$15.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_5', $Parser__reduce_5$16 = function $$_reduce_5(val, _values, result) {\n          var $a, $b, self = this, option = nil, _ = nil, term = nil, $ret_or_1 = nil, $writer = nil;\n\n          \n          $b = val, $a = Opal.to_ary($b), (option = ($a[0] == null ? nil : $a[0])), (_ = ($a[1] == null ? nil : $a[1])), (term = ($a[2] == null ? nil : $a[2])), $b;\n          if ($truthy((function() {if ($truthy(($ret_or_1 = self.critical))) {\n            return option['$[]'](\"critical\")['$nil?']()\n          } else {\n            return $ret_or_1\n          }; return nil; })())) {\n          } else {\n            self.$raise($$($nesting, 'ParseError'))\n          };\n          \n          $writer = [\"critical\", term];\n          $send(option, '[]=', Opal.to_a($writer));\n          $writer[$rb_minus($writer[\"length\"], 1)];;\n          result = option;\n          return result;\n        }, $Parser__reduce_5$16.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_6', $Parser__reduce_6$17 = function $$_reduce_6(val, _values, result) {\n          var $a, $b, self = this, option = nil, _ = nil, term = nil, $ret_or_2 = nil, $writer = nil;\n\n          \n          $b = val, $a = Opal.to_ary($b), (option = ($a[0] == null ? nil : $a[0])), (_ = ($a[1] == null ? nil : $a[1])), (term = ($a[2] == null ? nil : $a[2])), $b;\n          if ($truthy((function() {if ($truthy(($ret_or_2 = self.fumble))) {\n            return option['$[]'](\"fumble\")['$nil?']()\n          } else {\n            return $ret_or_2\n          }; return nil; })())) {\n          } else {\n            self.$raise($$($nesting, 'ParseError'))\n          };\n          \n          $writer = [\"fumble\", term];\n          $send(option, '[]=', Opal.to_a($writer));\n          $writer[$rb_minus($writer[\"length\"], 1)];;\n          result = option;\n          return result;\n        }, $Parser__reduce_6$17.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_7', $Parser__reduce_7$18 = function $$_reduce_7(val, _values, result) {\n          var $a, $b, self = this, option = nil, _ = nil, term = nil, $ret_or_3 = nil, $writer = nil;\n\n          \n          $b = val, $a = Opal.to_ary($b), (option = ($a[0] == null ? nil : $a[0])), (_ = ($a[1] == null ? nil : $a[1])), (term = ($a[2] == null ? nil : $a[2])), $b;\n          if ($truthy((function() {if ($truthy(($ret_or_3 = self.dollar))) {\n            return option['$[]'](\"dollar\")['$nil?']()\n          } else {\n            return $ret_or_3\n          }; return nil; })())) {\n          } else {\n            self.$raise($$($nesting, 'ParseError'))\n          };\n          \n          $writer = [\"dollar\", term];\n          $send(option, '[]=', Opal.to_a($writer));\n          $writer[$rb_minus($writer[\"length\"], 1)];;\n          result = option;\n          return result;\n        }, $Parser__reduce_7$18.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_8', $Parser__reduce_8$19 = function $$_reduce_8(val, _values, result) {\n          var self = this;\n\n          \n          result = val['$[]'](1);\n          return result;\n        }, $Parser__reduce_8$19.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_9', $Parser__reduce_9$20 = function $$_reduce_9(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'Negative').$new(val['$[]'](1));\n          return result;\n        }, $Parser__reduce_9$20.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_10', $Parser__reduce_10$21 = function $$_reduce_10(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'BinaryOp').$new(val['$[]'](0), \"+\", val['$[]'](2));\n          return result;\n        }, $Parser__reduce_10$21.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_11', $Parser__reduce_11$22 = function $$_reduce_11(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'BinaryOp').$new(val['$[]'](0), \"-\", val['$[]'](2));\n          return result;\n        }, $Parser__reduce_11$22.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_12', $Parser__reduce_12$23 = function $$_reduce_12(val, _values, result) {\n          var self = this;\n\n          \n          if ($truthy(self.allowed_cmp_op['$include?'](nil))) {\n          } else {\n            self.$raise($$($nesting, 'ParseError'))\n          };\n          result = $hash2([], {});\n          return result;\n        }, $Parser__reduce_12$23.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_13', $Parser__reduce_13$24 = function $$_reduce_13(val, _values, result) {\n          var $a, $b, self = this, cmp_op = nil, target = nil;\n\n          \n          $b = val, $a = Opal.to_ary($b), (cmp_op = ($a[0] == null ? nil : $a[0])), (target = ($a[1] == null ? nil : $a[1])), $b;\n          if ($truthy(self.allowed_cmp_op['$include?'](cmp_op))) {\n          } else {\n            self.$raise($$($nesting, 'ParseError'))\n          };\n          result = $hash2([\"cmp_op\", \"target\"], {\"cmp_op\": cmp_op, \"target\": target});\n          return result;\n        }, $Parser__reduce_13$24.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_14', $Parser__reduce_14$25 = function $$_reduce_14(val, _values, result) {\n          var self = this, cmp_op = nil;\n\n          \n          cmp_op = val['$[]'](0);\n          if ($truthy(self.question_target)) {\n          } else {\n            self.$raise($$($nesting, 'ParseError'))\n          };\n          if ($truthy(self.allowed_cmp_op['$include?'](cmp_op))) {\n          } else {\n            self.$raise($$($nesting, 'ParseError'))\n          };\n          result = $hash2([\"cmp_op\", \"target\"], {\"cmp_op\": cmp_op, \"target\": \"?\"});\n          return result;\n        }, $Parser__reduce_14$25.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_15', $Parser__reduce_15$26 = function $$_reduce_15(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'BinaryOp').$new(val['$[]'](0), \"+\", val['$[]'](2));\n          return result;\n        }, $Parser__reduce_15$26.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_16', $Parser__reduce_16$27 = function $$_reduce_16(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'BinaryOp').$new(val['$[]'](0), \"-\", val['$[]'](2));\n          return result;\n        }, $Parser__reduce_16$27.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_18', $Parser__reduce_18$28 = function $$_reduce_18(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'BinaryOp').$new(val['$[]'](0), \"*\", val['$[]'](2));\n          return result;\n        }, $Parser__reduce_18$28.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_19', $Parser__reduce_19$29 = function $$_reduce_19(val, _values, result) {\n          var self = this, divied_class = nil;\n\n          \n          divied_class = val['$[]'](3);\n          result = divied_class.$new(val['$[]'](0), val['$[]'](2));\n          return result;\n        }, $Parser__reduce_19$29.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_21', $Parser__reduce_21$30 = function $$_reduce_21(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'DivideWithGameSystemDefault');\n          return result;\n        }, $Parser__reduce_21$30.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_22', $Parser__reduce_22$31 = function $$_reduce_22(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'DivideWithCeil');\n          return result;\n        }, $Parser__reduce_22$31.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_23', $Parser__reduce_23$32 = function $$_reduce_23(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'DivideWithCeil');\n          return result;\n        }, $Parser__reduce_23$32.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_24', $Parser__reduce_24$33 = function $$_reduce_24(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'DivideWithRound');\n          return result;\n        }, $Parser__reduce_24$33.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_25', $Parser__reduce_25$34 = function $$_reduce_25(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'DivideWithFloor');\n          return result;\n        }, $Parser__reduce_25$34.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_26', $Parser__reduce_26$35 = function $$_reduce_26(val, _values, result) {\n          var self = this;\n\n          \n          result = val['$[]'](1);\n          return result;\n        }, $Parser__reduce_26$35.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_27', $Parser__reduce_27$36 = function $$_reduce_27(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'Negative').$new(val['$[]'](1));\n          return result;\n        }, $Parser__reduce_27$36.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_29', $Parser__reduce_29$37 = function $$_reduce_29(val, _values, result) {\n          var self = this;\n\n          \n          result = val['$[]'](1);\n          return result;\n        }, $Parser__reduce_29$37.$$arity = 3);\n        \n        Opal.def(self, '$_reduce_30', $Parser__reduce_30$38 = function $$_reduce_30(val, _values, result) {\n          var self = this;\n\n          \n          result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'Number').$new(val['$[]'](0));\n          return result;\n        }, $Parser__reduce_30$38.$$arity = 3);\n        return (Opal.def(self, '$_reduce_none', $Parser__reduce_none$39 = function $$_reduce_none(val, _values, result) {\n          var self = this;\n\n          return val['$[]'](0)\n        }, $Parser__reduce_none$39.$$arity = 3), nil) && '_reduce_none';\n      })($nesting[0], $$$($$($nesting, 'Racc'), 'Parser'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/deprecated/checker\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $send = Opal.send, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'Deprecated');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $parent_nesting) {\n        var self = $module($base, 'Checker');\n\n        var $nesting = [self].concat($parent_nesting), $Checker_check_result_legacy$1, $Checker_check_1D100$2, $Checker_check_1D20$3, $Checker_check_nD10$4, $Checker_check_2D6$5, $Checker_check_nD6$6;\n\n        \n        self.$private();\n        \n        Opal.def(self, '$check_result_legacy', $Checker_check_result_legacy$1 = function $$check_result_legacy(total, rand_results, cmp_op, target) {\n          var self = this, sides_list = nil, value_list = nil, dice_total = nil, ret = nil, $case = nil, $ret_or_1 = nil, $ret_or_2 = nil;\n\n          \n          sides_list = $send(rand_results, 'map', [], \"sides\".$to_proc());\n          value_list = $send(rand_results, 'map', [], \"value\".$to_proc());\n          dice_total = value_list.$sum();\n          ret = (function() {$case = sides_list;\n          if ([100]['$===']($case)) {return self.$check_1D100(total, dice_total, cmp_op, target)}\n          else if ([20]['$===']($case)) {return self.$check_1D20(total, dice_total, cmp_op, target)}\n          else if ([6, 6]['$===']($case)) {return self.$check_2D6(total, dice_total, value_list, cmp_op, target)}\n          else { return nil }})();\n          if ($truthy((function() {if ($truthy(($ret_or_1 = ret['$nil?']()))) {\n            return $ret_or_1\n          } else {\n            return ret['$empty?']()\n          }; return nil; })())) {\n          } else {\n            return $$($nesting, 'Result').$new(ret.$delete_prefix(\"  \"))\n          };\n          ret = (function() {$case = sides_list.$uniq();\n          if ([10]['$===']($case)) {return self.$check_nD10(total, dice_total, value_list, cmp_op, target)}\n          else if ([6]['$===']($case)) {return self.$check_nD6(total, dice_total, value_list, cmp_op, target)}\n          else { return nil }})();\n          if ($truthy((function() {if ($truthy(($ret_or_2 = ret['$nil?']()))) {\n            return $ret_or_2\n          } else {\n            return ret['$empty?']()\n          }; return nil; })())) {\n          } else {\n            return $$($nesting, 'Result').$new(ret.$delete_prefix(\"  \"))\n          };\n          return nil;\n        }, $Checker_check_result_legacy$1.$$arity = 4);\n        \n        Opal.def(self, '$check_1D100', $Checker_check_1D100$2 = function $$check_1D100(total, dice_total, cmp_op, target) {\n          var self = this;\n\n          return nil\n        }, $Checker_check_1D100$2.$$arity = 4);\n        \n        Opal.def(self, '$check_1D20', $Checker_check_1D20$3 = function $$check_1D20(total, dice_total, cmp_op, target) {\n          var self = this;\n\n          return nil\n        }, $Checker_check_1D20$3.$$arity = 4);\n        \n        Opal.def(self, '$check_nD10', $Checker_check_nD10$4 = function $$check_nD10(total, dice_total, dice_list, cmp_op, target) {\n          var self = this;\n\n          return nil\n        }, $Checker_check_nD10$4.$$arity = 5);\n        \n        Opal.def(self, '$check_2D6', $Checker_check_2D6$5 = function $$check_2D6(total, dice_total, dice_list, cmp_op, target) {\n          var self = this;\n\n          return nil\n        }, $Checker_check_2D6$5.$$arity = 5);\n        \n        Opal.def(self, '$check_nD6', $Checker_check_nD6$6 = function $$check_nD6(total, dice_total, dice_list, cmp_op, target) {\n          var self = this;\n\n          return nil\n        }, $Checker_check_nD6$6.$$arity = 5);\n      })($nesting[0], $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/base\"] = function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy, $send = Opal.send, $range = Opal.range, $writer = nil;\n\n  \n  self.$require(\"i18n\");\n  self.$require(\"i18n/backend/fallbacks\");\n  self.$require(\"bcdice/randomizer\");\n  self.$require(\"bcdice/dice_table\");\n  self.$require(\"bcdice/enum\");\n  self.$require(\"bcdice/translate\");\n  self.$require(\"bcdice/result\");\n  self.$require(\"bcdice/command/parser\");\n  self.$require(\"bcdice/deprecated/checker\");\n  (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $super, $parent_nesting) {\n      var self = $klass($base, $super, 'Base');\n\n      var $nesting = [self].concat($parent_nesting), $Base_initialize$7, $Base_sort_add_dice$ques$8, $Base_sort_barabara_dice$ques$9, $Base_enabled_d9$ques$10, $Base_enable_debug$11, $Base_eval$12, $Base_change_text$13, $Base_check_result$14, $Base_grich_text$15, $Base_eval_common_command$16, $Base_dice_command$18, $Base_eval_game_system_specific_command$20, $Base_result_ndx$21, $Base_result_1d100$22, $Base_result_1d20$23, $Base_result_nd10$24, $Base_result_2d6$25, $Base_result_nd6$26, $Base_get_table_by_2d6$27, $Base_get_table_by_1d6$28, $Base_get_table_by_nD6$29, $Base_get_table_by_nDx$30, $Base_get_table_by_1d3$31, $Base_get_table_by_d66_swap$32, $Base_get_table_by_d66$33, $Base_get_table_by_number$34, $Base_get_table_value$36, $Base_roll_tables$37, $Base_debug$38;\n\n      self.$$prototype.sort_add_dice = self.$$prototype.sort_barabara_dice = self.$$prototype.enabled_d9 = self.$$prototype.raw_input = self.$$prototype.randomizer = self.$$prototype.enabled_upcase_input = self.$$prototype.debug = nil;\n      \n      (function(self, $parent_nesting) {\n        var $nesting = [self].concat($parent_nesting), $register_prefix$1, $register_prefix_from_super_class$2, $prefixes_pattern$3, $command_pattern$4, $eval$6;\n\n        \n        self.$attr_reader(\"prefixes\");\n        \n        Opal.def(self, '$register_prefix', $register_prefix$1 = function $$register_prefix($a) {\n          var $post_args, prefixes, self = this, $ret_or_1 = nil;\n          if (self.prefixes == null) self.prefixes = nil;\n\n          \n          \n          $post_args = Opal.slice.call(arguments, 0, arguments.length);\n          \n          prefixes = $post_args;;\n          self.prefixes = (function() {if ($truthy(($ret_or_1 = self.prefixes))) {\n            return $ret_or_1\n          } else {\n            return []\n          }; return nil; })();\n          return self.prefixes.$concat(prefixes.$flatten());\n        }, $register_prefix$1.$$arity = -1);\n        \n        Opal.def(self, '$register_prefix_from_super_class', $register_prefix_from_super_class$2 = function $$register_prefix_from_super_class() {\n          var self = this;\n\n          return self.$register_prefix(self.$superclass().$prefixes())\n        }, $register_prefix_from_super_class$2.$$arity = 0);\n        \n        Opal.def(self, '$prefixes_pattern', $prefixes_pattern$3 = function $$prefixes_pattern() {\n          var self = this, $ret_or_2 = nil, $ret_or_3 = nil;\n          if (self.prefixes_pattern == null) self.prefixes_pattern = nil;\n          if (self.prefixes == null) self.prefixes = nil;\n\n          \n          self.prefixes_pattern = (function() {if ($truthy(($ret_or_2 = self.prefixes_pattern))) {\n            return $ret_or_2\n          } else {\n            return nil\n          }; return nil; })();\n          if ($truthy(self.prefixes_pattern)) {\n            return self.prefixes_pattern};\n          self.prefixes = (function() {if ($truthy(($ret_or_3 = self.prefixes))) {\n            return $ret_or_3\n          } else {\n            return []\n          }; return nil; })();\n          self.prefixes.$freeze();\n          return (self.prefixes_pattern = (function() {if ($truthy(self.prefixes['$empty?']())) {\n            return /(?!)/\n          } else {\n            return Opal.regexp([\"^(S)?(\", self.prefixes.$join(\"|\"), \")\"], 'i')\n          }; return nil; })().$freeze());\n        }, $prefixes_pattern$3.$$arity = 0);\n        \n        Opal.def(self, '$command_pattern', $command_pattern$4 = function $$command_pattern() {\n          var $$5, self = this, $ret_or_4 = nil, $ret_or_5 = nil, pattarns = nil;\n          if (self.command_pattern == null) self.command_pattern = nil;\n          if (self.prefixes == null) self.prefixes = nil;\n\n          \n          self.command_pattern = (function() {if ($truthy(($ret_or_4 = self.command_pattern))) {\n            return $ret_or_4\n          } else {\n            return nil\n          }; return nil; })();\n          if ($truthy(self.command_pattern)) {\n            return self.command_pattern};\n          self.prefixes = (function() {if ($truthy(($ret_or_5 = self.prefixes))) {\n            return $ret_or_5\n          } else {\n            return []\n          }; return nil; })();\n          self.prefixes.$freeze();\n          pattarns = $rb_plus($send($$$($$($nesting, 'CommonCommand'), 'COMMANDS'), 'map', [], ($$5 = function(c){var self = $$5.$$s == null ? this : $$5.$$s;\n\n          \n            \n            if (c == null) {\n              c = nil;\n            };\n            return $$$(c, 'PREFIX_PATTERN').$source();}, $$5.$$s = self, $$5.$$arity = 1, $$5)), self.prefixes);\n          return (self.command_pattern = Opal.regexp([\"^S?(\", pattarns.$join(\"|\"), \")\"], 'i').$freeze());\n        }, $command_pattern$4.$$arity = 0);\n        return (Opal.def(self, '$eval', $eval$6 = function(command) {\n          var self = this;\n\n          return self.$new(command).$eval()\n        }, $eval$6.$$arity = 1), nil) && 'eval';\n      })(Opal.get_singleton_class(self), $nesting);\n      self.$include($$($nesting, 'Translate'));\n      self.$include($$$($$($nesting, 'Deprecated'), 'Checker'));\n      \n      Opal.def(self, '$initialize', $Base_initialize$7 = function $$initialize(command) {\n        var self = this;\n\n        \n        self.raw_input = command;\n        self.sort_add_dice = false;\n        self.sort_barabara_dice = false;\n        self.d66_sort_type = $$$($$($nesting, 'D66SortType'), 'NO_SORT');\n        self.enabled_d9 = false;\n        self.round_type = $$$($$($nesting, 'RoundType'), 'FLOOR');\n        self.sides_implicit_d = 6;\n        self.upper_dice_reroll_threshold = nil;\n        self.reroll_dice_reroll_threshold = nil;\n        self.default_cmp_op = nil;\n        self.default_target_number = nil;\n        self.enabled_upcase_input = true;\n        self.locale = \"ja_jp\";\n        self.randomizer = $$$($$($nesting, 'BCDice'), 'Randomizer').$new();\n        return (self.debug = false);\n      }, $Base_initialize$7.$$arity = 1);\n      self.$attr_accessor(\"randomizer\");\n      self.$attr_reader(\"d66_sort_type\");\n      self.$attr_reader(\"round_type\");\n      self.$attr_reader(\"sides_implicit_d\");\n      self.$attr_reader(\"upper_dice_reroll_threshold\");\n      self.$attr_reader(\"reroll_dice_reroll_threshold\");\n      self.$attr_reader(\"default_cmp_op\");\n      self.$attr_reader(\"default_target_number\");\n      \n      Opal.def(self, '$sort_add_dice?', $Base_sort_add_dice$ques$8 = function() {\n        var self = this;\n\n        return self.sort_add_dice\n      }, $Base_sort_add_dice$ques$8.$$arity = 0);\n      \n      Opal.def(self, '$sort_barabara_dice?', $Base_sort_barabara_dice$ques$9 = function() {\n        var self = this;\n\n        return self.sort_barabara_dice\n      }, $Base_sort_barabara_dice$ques$9.$$arity = 0);\n      \n      Opal.def(self, '$enabled_d9?', $Base_enabled_d9$ques$10 = function() {\n        var self = this;\n\n        return self.enabled_d9\n      }, $Base_enabled_d9$ques$10.$$arity = 0);\n      \n      Opal.def(self, '$enable_debug', $Base_enable_debug$11 = function $$enable_debug() {\n        var self = this;\n\n        return (self.debug = true)\n      }, $Base_enable_debug$11.$$arity = 0);\n      \n      Opal.def(self, '$eval', $Base_eval$12 = function() {\n        var self = this, command = nil, result = nil, $ret_or_6 = nil, $writer = nil;\n\n        \n        command = $$$($$($nesting, 'BCDice'), 'Preprocessor').$process(self.raw_input, self);\n        result = (function() {if ($truthy(($ret_or_6 = self.$dice_command(command)))) {\n          return $ret_or_6\n        } else {\n          return self.$eval_common_command(self.raw_input)\n        }; return nil; })();\n        if ($truthy(result)) {\n        } else {\n          return nil\n        };\n        \n        $writer = [self.randomizer.$rand_results()];\n        $send(result, 'rands=', Opal.to_a($writer));\n        $writer[$rb_minus($writer[\"length\"], 1)];;\n        \n        $writer = [self.randomizer.$detailed_rand_results()];\n        $send(result, 'detailed_rands=', Opal.to_a($writer));\n        $writer[$rb_minus($writer[\"length\"], 1)];;\n        return result;\n      }, $Base_eval$12.$$arity = 0);\n      \n      Opal.def(self, '$change_text', $Base_change_text$13 = function $$change_text(string) {\n        var self = this;\n\n        return string\n      }, $Base_change_text$13.$$arity = 1);\n      \n      Opal.def(self, '$check_result', $Base_check_result$14 = function $$check_result(total, rand_results, cmp_op, target) {\n        var self = this, ret = nil, sides_list = nil, value_list = nil, dice_total = nil, $case = nil;\n\n        \n        ret = self.$check_result_legacy(total, rand_results, cmp_op, target);\n        if ($truthy(ret)) {\n          return ret};\n        sides_list = $send(rand_results, 'map', [], \"sides\".$to_proc());\n        value_list = $send(rand_results, 'map', [], \"value\".$to_proc());\n        dice_total = value_list.$sum();\n        ret = (function() {$case = sides_list;\n        if ([100]['$===']($case)) {return self.$result_1d100(total, dice_total, cmp_op, target)}\n        else if ([20]['$===']($case)) {return self.$result_1d20(total, dice_total, cmp_op, target)}\n        else if ([6, 6]['$===']($case)) {return self.$result_2d6(total, dice_total, value_list, cmp_op, target)}\n        else { return nil }})();\n        if (ret['$==']($$($nesting, 'Result').$nothing())) {\n          return nil};\n        if ($truthy(ret)) {\n          return ret};\n        ret = (function() {$case = sides_list.$uniq();\n        if ([10]['$===']($case)) {return self.$result_nd10(total, dice_total, value_list, cmp_op, target)}\n        else if ([6]['$===']($case)) {return self.$result_nd6(total, dice_total, value_list, cmp_op, target)}\n        else { return nil }})();\n        if (ret['$==']($$($nesting, 'Result').$nothing())) {\n          return nil};\n        if ($truthy(ret)) {\n          return ret};\n        return self.$result_ndx(total, cmp_op, target);\n      }, $Base_check_result$14.$$arity = 4);\n      \n      Opal.def(self, '$grich_text', $Base_grich_text$15 = function $$grich_text(count_one, dice_total_count, count_success) {\n        var self = this;\n\n        return nil\n      }, $Base_grich_text$15.$$arity = 3);\n      self.$private();\n      \n      Opal.def(self, '$eval_common_command', $Base_eval_common_command$16 = function $$eval_common_command(command) {try {\n\n        var $$17, self = this;\n\n        \n        command = self.$change_text(command);\n        $send($$$($$($nesting, 'CommonCommand'), 'COMMANDS'), 'each', [], ($$17 = function(klass){var self = $$17.$$s == null ? this : $$17.$$s, result = nil;\n          if (self.randomizer == null) self.randomizer = nil;\n\n        \n          \n          if (klass == null) {\n            klass = nil;\n          };\n          result = klass.$eval(command, self, self.randomizer);\n          if ($truthy(result)) {\n            Opal.ret(result)\n          } else {\n            return nil\n          };}, $$17.$$s = self, $$17.$$arity = 1, $$17));\n        return nil;\n        } catch ($returner) { if ($returner === Opal.returner) { return $returner.$v } throw $returner; }\n      }, $Base_eval_common_command$16.$$arity = 1);\n      \n      Opal.def(self, '$dice_command', $Base_dice_command$18 = function $$dice_command(command) {\n        var $$19, self = this, m = nil, secret = nil, output = nil, $writer = nil, $ret_or_7 = nil, $ret_or_8 = nil, $ret_or_9 = nil;\n\n        \n        if ($truthy(self.enabled_upcase_input)) {\n          command = command.$upcase()};\n        m = self.$class().$prefixes_pattern().$match(command);\n        if ($truthy(m)) {\n        } else {\n          return nil\n        };\n        secret = m['$[]'](1)['$nil?']()['$!']();\n        if ($truthy(secret)) {\n          command = command['$[]']($range(1, -1, false))};\n        output = self.$eval_game_system_specific_command(command);\n        if ($truthy(output['$is_a?']($$($nesting, 'Result')))) {\n          \n          \n          $writer = [(function() {if ($truthy(($ret_or_7 = output['$secret?']()))) {\n            return $ret_or_7\n          } else {\n            return secret\n          }; return nil; })()];\n          $send(output, 'secret=', Opal.to_a($writer));\n          $writer[$rb_minus($writer[\"length\"], 1)];;\n          return output;\n        } else if ($truthy((function() {if ($truthy(($ret_or_8 = (function() {if ($truthy(($ret_or_9 = output['$nil?']()))) {\n          return $ret_or_9\n        } else {\n          return output['$empty?']()\n        }; return nil; })()))) {\n          return $ret_or_8\n        } else {\n          return output['$=='](\"1\")\n        }; return nil; })())) {\n          return nil\n        } else {\n          return $send($$($nesting, 'Result').$new(), 'tap', [], ($$19 = function(r){var self = $$19.$$s == null ? this : $$19.$$s;\n\n          \n            \n            if (r == null) {\n              r = nil;\n            };\n            \n            $writer = [output.$to_s()];\n            $send(r, 'text=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [secret];\n            $send(r, 'secret=', Opal.to_a($writer));\n            return $writer[$rb_minus($writer[\"length\"], 1)];;}, $$19.$$s = self, $$19.$$arity = 1, $$19))\n        };\n      }, $Base_dice_command$18.$$arity = 1);\n      \n      Opal.def(self, '$eval_game_system_specific_command', $Base_eval_game_system_specific_command$20 = function $$eval_game_system_specific_command(command) {\n        var self = this;\n\n        return nil\n      }, $Base_eval_game_system_specific_command$20.$$arity = 1);\n      \n      Opal.def(self, '$result_ndx', $Base_result_ndx$21 = function $$result_ndx(total, cmp_op, target) {\n        var self = this;\n\n        if ($truthy(target['$is_a?']($$($nesting, 'String')))) {\n          return nil\n        } else if ($truthy(total.$send(cmp_op, target))) {\n          return $$($nesting, 'Result').$success(self.$translate(\"success\"))\n        } else {\n          return $$($nesting, 'Result').$failure(self.$translate(\"failure\"))\n        }\n      }, $Base_result_ndx$21.$$arity = 3);\n      \n      Opal.def(self, '$result_1d100', $Base_result_1d100$22 = function $$result_1d100(total, dice_total, cmp_op, target) {\n        var self = this;\n\n        return nil\n      }, $Base_result_1d100$22.$$arity = 4);\n      \n      Opal.def(self, '$result_1d20', $Base_result_1d20$23 = function $$result_1d20(total, dice_total, cmp_op, target) {\n        var self = this;\n\n        return nil\n      }, $Base_result_1d20$23.$$arity = 4);\n      \n      Opal.def(self, '$result_nd10', $Base_result_nd10$24 = function $$result_nd10(total, dice_total, value_list, cmp_op, target) {\n        var self = this;\n\n        return nil\n      }, $Base_result_nd10$24.$$arity = 5);\n      \n      Opal.def(self, '$result_2d6', $Base_result_2d6$25 = function $$result_2d6(total, dice_total, value_list, cmp_op, target) {\n        var self = this;\n\n        return nil\n      }, $Base_result_2d6$25.$$arity = 5);\n      \n      Opal.def(self, '$result_nd6', $Base_result_nd6$26 = function $$result_nd6(total, dice_total, value_list, cmp_op, target) {\n        var self = this;\n\n        return nil\n      }, $Base_result_nd6$26.$$arity = 5);\n      \n      Opal.def(self, '$get_table_by_2d6', $Base_get_table_by_2d6$27 = function $$get_table_by_2d6(table) {\n        var self = this;\n\n        return self.$get_table_by_nD6(table, 2)\n      }, $Base_get_table_by_2d6$27.$$arity = 1);\n      \n      Opal.def(self, '$get_table_by_1d6', $Base_get_table_by_1d6$28 = function $$get_table_by_1d6(table) {\n        var self = this;\n\n        return self.$get_table_by_nD6(table, 1)\n      }, $Base_get_table_by_1d6$28.$$arity = 1);\n      \n      Opal.def(self, '$get_table_by_nD6', $Base_get_table_by_nD6$29 = function $$get_table_by_nD6(table, count) {\n        var self = this;\n\n        return self.$get_table_by_nDx(table, count, 6)\n      }, $Base_get_table_by_nD6$29.$$arity = 2);\n      \n      Opal.def(self, '$get_table_by_nDx', $Base_get_table_by_nDx$30 = function $$get_table_by_nDx(table, count, diceType) {\n        var self = this, num = nil, text = nil;\n\n        \n        num = self.randomizer.$roll_sum(count, diceType);\n        text = self.$get_table_value(table['$[]']($rb_minus(num, count)));\n        if ($truthy(text['$nil?']())) {\n          return [\"1\", 0]};\n        return [text, num];\n      }, $Base_get_table_by_nDx$30.$$arity = 3);\n      \n      Opal.def(self, '$get_table_by_1d3', $Base_get_table_by_1d3$31 = function $$get_table_by_1d3(table) {\n        var self = this, count = nil, num = nil, index = nil, text = nil;\n\n        \n        self.$debug(\"get_table_by_1d3\");\n        count = 1;\n        num = self.randomizer.$roll_sum(count, 6);\n        self.$debug(\"num\", num);\n        index = $rb_divide($rb_minus(num, 1), 2).$to_i();\n        self.$debug(\"index\", index);\n        text = table['$[]'](index);\n        if ($truthy(text['$nil?']())) {\n          return [\"1\", 0]};\n        return [text, num];\n      }, $Base_get_table_by_1d3$31.$$arity = 1);\n      \n      Opal.def(self, '$get_table_by_d66_swap', $Base_get_table_by_d66_swap$32 = function $$get_table_by_d66_swap(table) {\n        var self = this, number = nil;\n\n        \n        number = self.randomizer.$roll_d66($$$($$($nesting, 'D66SortType'), 'ASC'));\n        return [self.$get_table_by_number(number, table), number];\n      }, $Base_get_table_by_d66_swap$32.$$arity = 1);\n      \n      Opal.def(self, '$get_table_by_d66', $Base_get_table_by_d66$33 = function $$get_table_by_d66(table) {\n        var self = this, dice1 = nil, dice2 = nil, num = nil, text = nil, indexText = nil;\n\n        \n        dice1 = self.randomizer.$roll_once(6);\n        dice2 = self.randomizer.$roll_once(6);\n        num = $rb_plus($rb_times($rb_minus(dice1, 1), 6), $rb_minus(dice2, 1));\n        text = table['$[]'](num);\n        indexText = \"\" + (dice1) + (dice2);\n        if ($truthy(text['$nil?']())) {\n          return [\"1\", indexText]};\n        return [text, indexText];\n      }, $Base_get_table_by_d66$33.$$arity = 1);\n      \n      Opal.def(self, '$get_table_by_number', $Base_get_table_by_number$34 = function $$get_table_by_number(index, table, default$) {try {\n\n        var $$35, self = this;\n\n        \n        \n        if (default$ == null) {\n          default$ = \"1\";\n        };\n        $send(table, 'each', [], ($$35 = function(item){var self = $$35.$$s == null ? this : $$35.$$s, number = nil;\n\n        \n          \n          if (item == null) {\n            item = nil;\n          };\n          number = item['$[]'](0);\n          if ($truthy($rb_ge(number, index))) {\n            Opal.ret(self.$get_table_value(item['$[]'](1)))\n          } else {\n            return nil\n          };}, $$35.$$s = self, $$35.$$arity = 1, $$35));\n        return self.$get_table_value(default$);\n        } catch ($returner) { if ($returner === Opal.returner) { return $returner.$v } throw $returner; }\n      }, $Base_get_table_by_number$34.$$arity = -3);\n      \n      Opal.def(self, '$get_table_value', $Base_get_table_value$36 = function $$get_table_value(data) {\n        var self = this;\n\n        \n        if ($truthy(data['$is_a?']($$($nesting, 'Proc')))) {\n          return data.$call()};\n        return data;\n      }, $Base_get_table_value$36.$$arity = 1);\n      \n      Opal.def(self, '$roll_tables', $Base_roll_tables$37 = function $$roll_tables(command, tables) {\n        var self = this, table = nil;\n\n        \n        table = tables['$[]'](command);\n        if ($truthy(table)) {\n        } else {\n          return nil\n        };\n        return table.$roll(self.randomizer).$to_s();\n      }, $Base_roll_tables$37.$$arity = 2);\n      return (Opal.def(self, '$debug', $Base_debug$38 = function $$debug(target, $a) {\n        var $post_args, values, $$39, self = this, targetStr = nil, valueStrs = nil;\n\n        \n        \n        $post_args = Opal.slice.call(arguments, 1, arguments.length);\n        \n        values = $post_args;;\n        if ($truthy(self.debug)) {\n        } else {\n          return nil\n        };\n        targetStr = (function() {if ($truthy(target['$is_a?']($$($nesting, 'String')))) {\n          return target\n        } else {\n          return target.$inspect()\n        }; return nil; })();\n        if ($truthy(values['$empty?']())) {\n          return self.$warn(targetStr)\n        } else {\n          \n          valueStrs = $send(values, 'map', [], ($$39 = function(value){var self = $$39.$$s == null ? this : $$39.$$s;\n\n          \n            \n            if (value == null) {\n              value = nil;\n            };\n            if ($truthy(value['$is_a?']($$($nesting, 'String')))) {\n              return \"\" + \"\\\"\" + (value) + \"\\\"\"\n            } else {\n              return value.$inspect()\n            };}, $$39.$$s = self, $$39.$$arity = 1, $$39));\n          return self.$warn(\"\" + (targetStr) + \": \" + (valueStrs.$join(\", \")));\n        };\n      }, $Base_debug$38.$$arity = -2), nil) && 'debug';\n    })($nesting[0], null, $nesting)\n  })($nesting[0], $nesting);\n  $$$($$$($$($nesting, 'I18n'), 'Backend'), 'Simple').$include($$$($$$($$($nesting, 'I18n'), 'Backend'), 'Fallbacks'));\n  $$($nesting, 'I18n').$load_path()['$<<']($$($nesting, 'Dir')['$[]']($$($nesting, 'File').$join(self.$__dir__(), \"../../i18n/**/*.yml\")));\n  \n  $writer = [\"ja_jp\"];\n  $send($$($nesting, 'I18n'), 'default_locale=', Opal.to_a($writer));\n  $writer[$rb_minus($writer[\"length\"], 1)];;\n  \n  $writer = [[\"ja_jp\"]];\n  $send($$($nesting, 'I18n').$fallbacks(), 'defaults=', Opal.to_a($writer));\n  return $writer[$rb_minus($writer[\"length\"], 1)];;\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/game_system/sword_world/rating_lexer\"] = function(Opal) {\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2, $truthy = Opal.truthy, $send = Opal.send;\n\n  \n  self.$require(\"strscan\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'SwordWorld');\n\n        var $nesting = [self].concat($parent_nesting);\n\n        return (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'RatingLexer');\n\n          var $nesting = [self].concat($parent_nesting), $RatingLexer_initialize$1, $RatingLexer_next_token$2, $RatingLexer_source$3;\n\n          self.$$prototype.scanner = nil;\n          \n          Opal.const_set($nesting[0], 'SYMBOLS', $hash2([\"+\", \"-\", \"*\", \"/\", \"(\", \")\", \"[\", \"]\", \"@\", \"#\", \"$\"], {\"+\": \"PLUS\", \"-\": \"MINUS\", \"*\": \"ASTERISK\", \"/\": \"SLASH\", \"(\": \"PARENL\", \")\": \"PARENR\", \"[\": \"BRACKETL\", \"]\": \"BRACKETR\", \"@\": \"AT\", \"#\": \"SHARP\", \"$\": \"DOLLAR\"}).$freeze());\n          \n          Opal.def(self, '$initialize', $RatingLexer_initialize$1 = function $$initialize(source) {\n            var $a, $b, self = this, $ret_or_1 = nil;\n\n            \n            source = (function() {if ($truthy(($ret_or_1 = ($b = ($a = source, ($a === nil || $a == null) ? nil : $send($a, 'split', [\" \", 2])), ($b === nil || $b == null) ? nil : $send($b, 'first', []))))) {\n              return $ret_or_1\n            } else {\n              return \"\"\n            }; return nil; })();\n            return (self.scanner = $$($nesting, 'StringScanner').$new(source));\n          }, $RatingLexer_initialize$1.$$arity = 1);\n          \n          Opal.def(self, '$next_token', $RatingLexer_next_token$2 = function $$next_token() {\n            var self = this, number = nil, char$ = nil, type = nil, $ret_or_2 = nil;\n\n            \n            if ($truthy(self.scanner['$eos?']())) {\n              return [false, \"$\"]};\n            if ($truthy((number = self.scanner.$scan(/\\d+/)))) {\n              return [\"NUMBER\", number.$to_i()]\n            } else {\n              \n              char$ = self.scanner.$getch().$upcase();\n              type = (function() {if ($truthy(($ret_or_2 = $$($nesting, 'SYMBOLS')['$[]'](char$)))) {\n                return $ret_or_2\n              } else {\n                return char$.$to_sym()\n              }; return nil; })();\n              return [type, char$];\n            };\n          }, $RatingLexer_next_token$2.$$arity = 0);\n          return (Opal.def(self, '$source', $RatingLexer_source$3 = function $$source() {\n            var self = this;\n\n            return self.scanner.$string()\n          }, $RatingLexer_source$3.$$arity = 0), nil) && 'source';\n        })($nesting[0], null, $nesting)\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/game_system/sword_world/rating_parsed\"] = function(Opal) {\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'SwordWorld');\n\n        var $nesting = [self].concat($parent_nesting);\n\n        return (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'RatingParsed');\n\n          var $nesting = [self].concat($parent_nesting), $RatingParsed_initialize$1, $RatingParsed_half$2, $RatingParsed_critical$3, $RatingParsed_first_modify$4, $RatingParsed_first_to$5, $RatingParsed_rateup$6, $RatingParsed_kept_modify$7, $RatingParsed_modifier_after_half$8, $RatingParsed_to_s$9;\n\n          self.$$prototype.modifier_after_half = self.$$prototype.critical = self.$$prototype.first_modify = self.$$prototype.first_to = self.$$prototype.rateup = self.$$prototype.kept_modify = self.$$prototype.rate = self.$$prototype.greatest_fortune = self.$$prototype.modifier = nil;\n          \n          self.$attr_accessor(\"rate\");\n          self.$attr_writer(\"critical\");\n          self.$attr_writer(\"kept_modify\");\n          self.$attr_writer(\"first_to\");\n          self.$attr_writer(\"first_modify\");\n          self.$attr_writer(\"rateup\");\n          self.$attr_accessor(\"greatest_fortune\");\n          self.$attr_accessor(\"modifier\");\n          self.$attr_writer(\"modifier_after_half\");\n          \n          Opal.def(self, '$initialize', $RatingParsed_initialize$1 = function $$initialize() {\n            var self = this;\n\n            \n            self.critical = nil;\n            self.kept_modify = nil;\n            self.first_to = nil;\n            self.first_modify = nil;\n            self.greatest_fortune = false;\n            return (self.rateup = nil);\n          }, $RatingParsed_initialize$1.$$arity = 0);\n          \n          Opal.def(self, '$half', $RatingParsed_half$2 = function $$half() {\n            var self = this;\n\n            return self.modifier_after_half['$nil?']()['$!']()\n          }, $RatingParsed_half$2.$$arity = 0);\n          \n          Opal.def(self, '$critical', $RatingParsed_critical$3 = function $$critical() {\n            var self = this, crit = nil, $ret_or_1 = nil;\n\n            \n            crit = (function() {if ($truthy(($ret_or_1 = self.critical))) {\n              return $ret_or_1\n            } else {\n              \n              if ($truthy(self.$half())) {\n                return 13\n              } else {\n                return 10\n              };\n            }; return nil; })();\n            if ($truthy($rb_lt(crit, 3))) {\n              crit = 3};\n            return crit;\n          }, $RatingParsed_critical$3.$$arity = 0);\n          \n          Opal.def(self, '$first_modify', $RatingParsed_first_modify$4 = function $$first_modify() {\n            var self = this, $ret_or_2 = nil;\n\n            return (function() {if ($truthy(($ret_or_2 = self.first_modify))) {\n              return $ret_or_2\n            } else {\n              return 0\n            }; return nil; })()\n          }, $RatingParsed_first_modify$4.$$arity = 0);\n          \n          Opal.def(self, '$first_to', $RatingParsed_first_to$5 = function $$first_to() {\n            var self = this, $ret_or_3 = nil;\n\n            return (function() {if ($truthy(($ret_or_3 = self.first_to))) {\n              return $ret_or_3\n            } else {\n              return 0\n            }; return nil; })()\n          }, $RatingParsed_first_to$5.$$arity = 0);\n          \n          Opal.def(self, '$rateup', $RatingParsed_rateup$6 = function $$rateup() {\n            var self = this, $ret_or_4 = nil;\n\n            return (function() {if ($truthy(($ret_or_4 = self.rateup))) {\n              return $ret_or_4\n            } else {\n              return 0\n            }; return nil; })()\n          }, $RatingParsed_rateup$6.$$arity = 0);\n          \n          Opal.def(self, '$kept_modify', $RatingParsed_kept_modify$7 = function $$kept_modify() {\n            var self = this, $ret_or_5 = nil;\n\n            return (function() {if ($truthy(($ret_or_5 = self.kept_modify))) {\n              return $ret_or_5\n            } else {\n              return 0\n            }; return nil; })()\n          }, $RatingParsed_kept_modify$7.$$arity = 0);\n          \n          Opal.def(self, '$modifier_after_half', $RatingParsed_modifier_after_half$8 = function $$modifier_after_half() {\n            var self = this, $ret_or_6 = nil;\n\n            return (function() {if ($truthy(($ret_or_6 = self.modifier_after_half))) {\n              return $ret_or_6\n            } else {\n              return 0\n            }; return nil; })()\n          }, $RatingParsed_modifier_after_half$8.$$arity = 0);\n          return (Opal.def(self, '$to_s', $RatingParsed_to_s$9 = function $$to_s() {\n            var self = this, output = nil;\n\n            \n            output = \"\" + \"KeyNo.\" + (self.rate);\n            if ($truthy($rb_lt(self.$critical(), 13))) {\n              output = $rb_plus(output, \"\" + \"c[\" + (self.$critical()) + \"]\")};\n            if ($truthy(self.$first_modify()['$!='](0))) {\n              output = $rb_plus(output, \"\" + \"m[\" + ($$($nesting, 'Format').$modifier(self.$first_modify())) + \"]\")};\n            if ($truthy(self.$first_to()['$!='](0))) {\n              output = $rb_plus(output, \"\" + \"m[\" + (self.$first_to()) + \"]\")};\n            if ($truthy(self.$rateup()['$!='](0))) {\n              output = $rb_plus(output, \"\" + \"r[\" + (self.$rateup()) + \"]\")};\n            if ($truthy(self.greatest_fortune)) {\n              output = $rb_plus(output, \"gf\")};\n            if ($truthy(self.$kept_modify()['$!='](0))) {\n              output = $rb_plus(output, \"\" + \"a[\" + ($$($nesting, 'Format').$modifier(self.$kept_modify())) + \"]\")};\n            if ($truthy(self.modifier['$!='](0))) {\n              output = $rb_plus(output, $$($nesting, 'Format').$modifier(self.modifier))};\n            return output;\n          }, $RatingParsed_to_s$9.$$arity = 0), nil) && 'to_s';\n        })($nesting[0], null, $nesting)\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/game_system/sword_world/rating_parser\"] = function(Opal) {\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2, $send2 = Opal.send2, $send = Opal.send, $hash = Opal.hash, $truthy = Opal.truthy;\n\n  \n  self.$require(\"racc/parser.rb\");\n  self.$require(\"bcdice/arithmetic/node\");\n  self.$require(\"bcdice/enum\");\n  self.$require(\"bcdice/game_system/sword_world/rating_lexer\");\n  self.$require(\"bcdice/game_system/sword_world/rating_parsed\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'SwordWorld');\n\n        var $nesting = [self].concat($parent_nesting);\n\n        return (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'RatingParser');\n\n          var $nesting = [self].concat($parent_nesting), $RatingParser_initialize$1, $RatingParser_set_debug$2, $RatingParser_parse$3, $RatingParser_parsed$4, $RatingParser_next_token$6, $RatingParser__reduce_1$7, $RatingParser__reduce_2$8, $RatingParser__reduce_3$9, $RatingParser__reduce_4$10, $RatingParser__reduce_5$11, $RatingParser__reduce_6$12, $RatingParser__reduce_7$13, $RatingParser__reduce_8$14, $RatingParser__reduce_9$15, $RatingParser__reduce_10$16, $RatingParser__reduce_11$17, $RatingParser__reduce_12$18, $RatingParser__reduce_13$19, $RatingParser__reduce_14$20, $RatingParser__reduce_15$21, $RatingParser__reduce_16$22, $RatingParser__reduce_17$23, $RatingParser__reduce_18$24, $RatingParser__reduce_19$25, $RatingParser__reduce_20$26, $RatingParser__reduce_21$27, $RatingParser__reduce_23$28, $RatingParser__reduce_24$29, $RatingParser__reduce_26$30, $RatingParser__reduce_27$31, $RatingParser__reduce_29$32, $RatingParser__reduce_30$33, $RatingParser__reduce_none$34, racc_action_table = nil, racc_action_check = nil, racc_action_pointer = nil, racc_action_default = nil, racc_goto_table = nil, racc_goto_check = nil, racc_goto_pointer = nil, racc_goto_default = nil, racc_reduce_table = nil, racc_reduce_n = nil, racc_shift_n = nil, racc_token_table = nil, racc_nt_base = nil, racc_use_result_var = nil;\n\n          self.$$prototype.lexer = self.$$prototype.version = nil;\n          \n          \n          Opal.def(self, '$initialize', $RatingParser_initialize$1 = function $$initialize($kwargs) {\n            var version, round_type, $iter = $RatingParser_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n            if ($iter) $RatingParser_initialize$1.$$p = null;\n            \n            \n            if ($kwargs == null) {\n              $kwargs = $hash2([], {});\n            } else if (!$kwargs.$$is_hash) {\n              throw Opal.ArgumentError.$new('expected kwargs');\n            };\n            \n            version = $kwargs.$$smap[\"version\"];\n            if (version == null) {\n              version = \"v1_0\"\n            };\n            \n            round_type = $kwargs.$$smap[\"round_type\"];\n            if (round_type == null) {\n              round_type = $$$($$($nesting, 'RoundType'), 'CEIL')\n            };\n            $send2(self, Opal.find_super_dispatcher(self, 'initialize', $RatingParser_initialize$1, false, true), 'initialize', [], null);\n            self.version = version;\n            return (self.round_type = round_type);\n          }, $RatingParser_initialize$1.$$arity = -1);\n          \n          Opal.def(self, '$set_debug', $RatingParser_set_debug$2 = function $$set_debug() {\n            var self = this;\n\n            \n            self.yydebug = true;\n            return self;\n          }, $RatingParser_set_debug$2.$$arity = 0);\n          \n          Opal.def(self, '$parse', $RatingParser_parse$3 = function $$parse(source) {\n            var self = this;\n\n            try {\n              \n              self.lexer = $$($nesting, 'RatingLexer').$new(source);\n              return self.$do_parse();\n            } catch ($err) {\n              if (Opal.rescue($err, [$$($nesting, 'ParseError'), $$($nesting, 'ZeroDivisionError')])) {\n                try {\n                  return nil\n                } finally { Opal.pop_exception() }\n              } else { throw $err; }\n            }\n          }, $RatingParser_parse$3.$$arity = 1);\n          self.$private();\n          \n          Opal.def(self, '$parsed', $RatingParser_parsed$4 = function $$parsed(rate, modifier, option) {\n            var $$5, self = this;\n\n            return $send($$($nesting, 'RatingParsed').$new(), 'tap', [], ($$5 = function(p){var self = $$5.$$s == null ? this : $$5.$$s, $a, $b, $c, $d, $writer = nil;\n              if (self.round_type == null) self.round_type = nil;\n\n            \n              \n              if (p == null) {\n                p = nil;\n              };\n              \n              $writer = [rate];\n              $send(p, 'rate=', Opal.to_a($writer));\n              $writer[$rb_minus($writer[\"length\"], 1)];;\n              \n              $writer = [($a = option['$[]'](\"critical\"), ($a === nil || $a == null) ? nil : $send($a, 'eval', [self.round_type]))];\n              $send(p, 'critical=', Opal.to_a($writer));\n              $writer[$rb_minus($writer[\"length\"], 1)];;\n              \n              $writer = [($b = option['$[]'](\"kept_modify\"), ($b === nil || $b == null) ? nil : $send($b, 'eval', [self.round_type]))];\n              $send(p, 'kept_modify=', Opal.to_a($writer));\n              $writer[$rb_minus($writer[\"length\"], 1)];;\n              \n              $writer = [option['$[]'](\"first_to\")];\n              $send(p, 'first_to=', Opal.to_a($writer));\n              $writer[$rb_minus($writer[\"length\"], 1)];;\n              \n              $writer = [option['$[]'](\"first_modify\")];\n              $send(p, 'first_modify=', Opal.to_a($writer));\n              $writer[$rb_minus($writer[\"length\"], 1)];;\n              \n              $writer = [($c = option['$[]'](\"rateup\"), ($c === nil || $c == null) ? nil : $send($c, 'eval', [self.round_type]))];\n              $send(p, 'rateup=', Opal.to_a($writer));\n              $writer[$rb_minus($writer[\"length\"], 1)];;\n              \n              $writer = [option.$fetch(\"greatest_fortune\", false)];\n              $send(p, 'greatest_fortune=', Opal.to_a($writer));\n              $writer[$rb_minus($writer[\"length\"], 1)];;\n              \n              $writer = [modifier.$eval(self.round_type)];\n              $send(p, 'modifier=', Opal.to_a($writer));\n              $writer[$rb_minus($writer[\"length\"], 1)];;\n              \n              $writer = [($d = option['$[]'](\"modifier_after_half\"), ($d === nil || $d == null) ? nil : $send($d, 'eval', [self.round_type]))];\n              $send(p, 'modifier_after_half=', Opal.to_a($writer));\n              return $writer[$rb_minus($writer[\"length\"], 1)];;}, $$5.$$s = self, $$5.$$arity = 1, $$5))\n          }, $RatingParser_parsed$4.$$arity = 3);\n          \n          Opal.def(self, '$next_token', $RatingParser_next_token$6 = function $$next_token() {\n            var self = this;\n\n            return self.lexer.$next_token()\n          }, $RatingParser_next_token$6.$$arity = 0);\n          racc_action_table = [15, 14, 16, 5, 18, 19, 51, 52, 21, 22, 11, 53, 12, 17, 13, 15, 14, 16, 4, 18, 19, 4, 8, 3, 28, 11, 28, 12, 17, 13, 24, 25, 24, 25, 27, 28, 27, 28, 49, 50, 9, 24, 25, 24, 25, 27, 28, 27, 28, 49, 50, 35, 24, 25, 24, 25, 27, 28, 27, 28, 49, 50, 42, 24, 25, 24, 25, 27, 28, 27, 28, 49, 50, 47, 24, 25, 24, 25, 27, 28, 27, 28, 49, 50, 48, 24, 25, 24, 25, 27, 28, 27, 28, 49, 50, nil, 24, 25, 24, 25, 27, 28, 27, 28, 49, 50, nil, 24, 25, 24, 25, 27, 30, 27, nil, nil, nil, nil, 31, 32];\n          racc_action_check = [6, 6, 6, 1, 6, 6, 45, 45, 10, 10, 6, 45, 6, 6, 6, 20, 20, 20, 3, 20, 20, 0, 4, 0, 11, 20, 12, 20, 20, 20, 11, 11, 12, 12, 11, 14, 12, 15, 37, 37, 5, 14, 14, 15, 15, 14, 17, 15, 18, 39, 39, 16, 17, 17, 18, 18, 17, 19, 18, 21, 40, 40, 23, 19, 19, 21, 21, 19, 22, 21, 24, 41, 41, 31, 22, 22, 24, 24, 22, 25, 24, 27, 46, 46, 32, 25, 25, 27, 27, 25, 49, 27, 50, 56, 56, nil, 49, 49, 50, 50, 49, 51, 50, 52, 57, 57, nil, 51, 51, 52, 52, 51, 13, 52, nil, nil, nil, nil, 13, 13];\n          racc_action_pointer = [18, 3, nil, 15, 20, 40, -4, nil, nil, nil, 0, 22, 24, 110, 33, 35, 44, 44, 46, 55, 11, 57, 66, 47, 68, 77, nil, 79, nil, nil, nil, 71, 82, nil, nil, nil, nil, 28, nil, 39, 50, 61, nil, nil, nil, -2, 72, nil, nil, 88, 90, 99, 101, nil, nil, nil, 83, 94];\n          racc_action_default = [-31, -31, -4, -31, -31, -31, -1, -4, -3, 58, -5, -31, -31, -31, -11, -31, -31, -31, -31, -31, -2, -31, -31, -31, -31, -31, -28, -31, -30, -7, -8, -31, -31, -12, -13, -14, -15, -16, -25, -17, -18, -19, -6, -26, -27, -31, -22, -9, -10, -31, -31, -31, -31, -29, -23, -24, -20, -21];\n          racc_goto_table = [23, 29, 2, 33, 34, 7, 36, 37, 39, 1, 40, 41, 6, 43, 44, 45, 46, 20, nil, nil, nil, nil, nil, nil, nil, nil, nil, nil, nil, nil, nil, nil, nil, nil, nil, nil, nil, nil, 54, 55, 56, 57];\n          racc_goto_check = [5, 5, 2, 5, 5, 2, 5, 6, 6, 1, 6, 6, 3, 5, 5, 7, 6, 3, nil, nil, nil, nil, nil, nil, nil, nil, nil, nil, nil, nil, nil, nil, nil, nil, nil, nil, nil, nil, 5, 5, 6, 6];\n          racc_goto_pointer = [nil, 9, 2, 10, nil, -11, -11, -12, nil];\n          racc_goto_default = [nil, nil, nil, nil, 10, 38, nil, nil, 26];\n          racc_reduce_table = [0, 0, \"racc_error\", 2, 20, \"_reduce_1\", 3, 20, \"_reduce_2\", 2, 21, \"_reduce_3\", 0, 22, \"_reduce_4\", 2, 22, \"_reduce_5\", 4, 22, \"_reduce_6\", 3, 22, \"_reduce_7\", 3, 22, \"_reduce_8\", 4, 22, \"_reduce_9\", 4, 22, \"_reduce_10\", 2, 22, \"_reduce_11\", 3, 22, \"_reduce_12\", 3, 22, \"_reduce_13\", 3, 22, \"_reduce_14\", 3, 22, \"_reduce_15\", 2, 23, \"_reduce_16\", 2, 23, \"_reduce_17\", 3, 23, \"_reduce_18\", 3, 23, \"_reduce_19\", 3, 26, \"_reduce_20\", 3, 26, \"_reduce_21\", 1, 26, \"_reduce_none\", 3, 25, \"_reduce_23\", 3, 25, \"_reduce_24\", 1, 25, \"_reduce_none\", 2, 24, \"_reduce_26\", 2, 24, \"_reduce_27\", 1, 24, \"_reduce_none\", 3, 27, \"_reduce_29\", 1, 27, \"_reduce_30\"];\n          racc_reduce_n = 31;\n          racc_shift_n = 58;\n          racc_token_table = $hash(false, 0, \"error\", 1, \"NUMBER\", 2, \"K\", 3, \"R\", 4, \"H\", 5, \"G\", 6, \"F\", 7, \"PLUS\", 8, \"MINUS\", 9, \"ASTERISK\", 10, \"SLASH\", 11, \"PARENL\", 12, \"PARENR\", 13, \"BRACKETL\", 14, \"BRACKETR\", 15, \"AT\", 16, \"SHARP\", 17, \"DOLLAR\", 18);\n          racc_nt_base = 19;\n          racc_use_result_var = true;\n          Opal.const_set($nesting[0], 'Racc_arg', [racc_action_table, racc_action_check, racc_action_default, racc_action_pointer, racc_goto_table, racc_goto_check, racc_goto_default, racc_goto_pointer, racc_nt_base, racc_reduce_table, racc_token_table, racc_shift_n, racc_reduce_n, racc_use_result_var]);\n          Opal.const_set($nesting[0], 'Racc_token_to_s_table', [\"$end\", \"error\", \"NUMBER\", \"K\", \"R\", \"H\", \"G\", \"F\", \"PLUS\", \"MINUS\", \"ASTERISK\", \"SLASH\", \"PARENL\", \"PARENR\", \"BRACKETL\", \"BRACKETR\", \"AT\", \"SHARP\", \"DOLLAR\", \"$start\", \"expr\", \"rate\", \"option\", \"modifier\", \"unary\", \"mul\", \"add\", \"term\"]);\n          Opal.const_set($nesting[0], 'Racc_debug_parser', false);\n          \n          Opal.def(self, '$_reduce_1', $RatingParser__reduce_1$7 = function $$_reduce_1(val, _values, result) {\n            var $a, $b, self = this, rate = nil, option = nil, modifier = nil, $ret_or_1 = nil;\n\n            \n            $b = val, $a = Opal.to_ary($b), (rate = ($a[0] == null ? nil : $a[0])), (option = ($a[1] == null ? nil : $a[1])), $b;\n            modifier = (function() {if ($truthy(($ret_or_1 = option['$[]'](\"modifier\")))) {\n              return $ret_or_1\n            } else {\n              return $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'Number').$new(0)\n            }; return nil; })();\n            result = self.$parsed(rate, modifier, option);\n            return result;\n          }, $RatingParser__reduce_1$7.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_2', $RatingParser__reduce_2$8 = function $$_reduce_2(val, _values, result) {\n            var $a, $b, self = this, _ = nil, rate = nil, option = nil, $ret_or_2 = nil, $writer = nil, modifier = nil, $ret_or_3 = nil;\n\n            \n            $b = val, $a = Opal.to_ary($b), (_ = ($a[0] == null ? nil : $a[0])), (rate = ($a[1] == null ? nil : $a[1])), (option = ($a[2] == null ? nil : $a[2])), $b;\n            if ($truthy(($ret_or_2 = option['$[]'](\"modifier_after_half\")))) {\n              $ret_or_2\n            } else {\n              \n              $writer = [\"modifier_after_half\", $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'Number').$new(0)];\n              $send(option, '[]=', Opal.to_a($writer));\n              $writer[$rb_minus($writer[\"length\"], 1)];\n            };\n            modifier = (function() {if ($truthy(($ret_or_3 = option['$[]'](\"modifier\")))) {\n              return $ret_or_3\n            } else {\n              return $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'Number').$new(0)\n            }; return nil; })();\n            result = self.$parsed(rate, modifier, option);\n            return result;\n          }, $RatingParser__reduce_2$8.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_3', $RatingParser__reduce_3$9 = function $$_reduce_3(val, _values, result) {\n            var self = this;\n\n            \n            result = val['$[]'](1).$to_i();\n            return result;\n          }, $RatingParser__reduce_3$9.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_4', $RatingParser__reduce_4$10 = function $$_reduce_4(val, _values, result) {\n            var self = this;\n\n            \n            result = $hash2([], {});\n            return result;\n          }, $RatingParser__reduce_4$10.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_5', $RatingParser__reduce_5$11 = function $$_reduce_5(val, _values, result) {\n            var $a, $b, self = this, option = nil, term = nil, $writer = nil;\n\n            \n            $b = val, $a = Opal.to_ary($b), (option = ($a[0] == null ? nil : $a[0])), (term = ($a[1] == null ? nil : $a[1])), $b;\n            if ($truthy(option['$[]'](\"modifier\")['$nil?']())) {\n            } else {\n              self.$raise($$($nesting, 'ParseError'))\n            };\n            \n            $writer = [\"modifier\", term];\n            $send(option, '[]=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            result = option;\n            return result;\n          }, $RatingParser__reduce_5$11.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_6', $RatingParser__reduce_6$12 = function $$_reduce_6(val, _values, result) {\n            var $a, $b, self = this, option = nil, _ = nil, term = nil, $writer = nil;\n\n            \n            $b = val, $a = Opal.to_ary($b), (option = ($a[0] == null ? nil : $a[0])), (_ = ($a[1] == null ? nil : $a[1])), (term = ($a[2] == null ? nil : $a[2])), (_ = ($a[3] == null ? nil : $a[3])), $b;\n            if ($truthy(option['$[]'](\"critical\")['$nil?']())) {\n            } else {\n              self.$raise($$($nesting, 'ParseError'))\n            };\n            \n            $writer = [\"critical\", term];\n            $send(option, '[]=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            result = option;\n            return result;\n          }, $RatingParser__reduce_6$12.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_7', $RatingParser__reduce_7$13 = function $$_reduce_7(val, _values, result) {\n            var $a, $b, self = this, option = nil, _ = nil, term = nil, $writer = nil;\n\n            \n            $b = val, $a = Opal.to_ary($b), (option = ($a[0] == null ? nil : $a[0])), (_ = ($a[1] == null ? nil : $a[1])), (term = ($a[2] == null ? nil : $a[2])), $b;\n            if ($truthy(option['$[]'](\"critical\")['$nil?']())) {\n            } else {\n              self.$raise($$($nesting, 'ParseError'))\n            };\n            \n            $writer = [\"critical\", term];\n            $send(option, '[]=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            result = option;\n            return result;\n          }, $RatingParser__reduce_7$13.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_8', $RatingParser__reduce_8$14 = function $$_reduce_8(val, _values, result) {\n            var $a, $b, self = this, option = nil, _ = nil, term = nil, $ret_or_4 = nil, $writer = nil;\n\n            \n            $b = val, $a = Opal.to_ary($b), (option = ($a[0] == null ? nil : $a[0])), (_ = ($a[1] == null ? nil : $a[1])), (term = ($a[2] == null ? nil : $a[2])), $b;\n            if ($truthy((function() {if ($truthy(($ret_or_4 = option['$[]'](\"first_to\")['$nil?']()))) {\n              return option['$[]'](\"first_modify\")['$nil?']()\n            } else {\n              return $ret_or_4\n            }; return nil; })())) {\n            } else {\n              self.$raise($$($nesting, 'ParseError'))\n            };\n            \n            $writer = [\"first_to\", term.$to_i()];\n            $send(option, '[]=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            result = option;\n            return result;\n          }, $RatingParser__reduce_8$14.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_9', $RatingParser__reduce_9$15 = function $$_reduce_9(val, _values, result) {\n            var $a, $b, self = this, option = nil, _ = nil, term = nil, $ret_or_5 = nil, $writer = nil;\n\n            \n            $b = val, $a = Opal.to_ary($b), (option = ($a[0] == null ? nil : $a[0])), (_ = ($a[1] == null ? nil : $a[1])), (_ = ($a[2] == null ? nil : $a[2])), (term = ($a[3] == null ? nil : $a[3])), $b;\n            if ($truthy((function() {if ($truthy(($ret_or_5 = option['$[]'](\"first_to\")['$nil?']()))) {\n              return option['$[]'](\"first_modify\")['$nil?']()\n            } else {\n              return $ret_or_5\n            }; return nil; })())) {\n            } else {\n              self.$raise($$($nesting, 'ParseError'))\n            };\n            \n            $writer = [\"first_modify\", term.$to_i()];\n            $send(option, '[]=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            result = option;\n            return result;\n          }, $RatingParser__reduce_9$15.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_10', $RatingParser__reduce_10$16 = function $$_reduce_10(val, _values, result) {\n            var $a, $b, self = this, option = nil, _ = nil, term = nil, $ret_or_6 = nil, $writer = nil;\n\n            \n            $b = val, $a = Opal.to_ary($b), (option = ($a[0] == null ? nil : $a[0])), (_ = ($a[1] == null ? nil : $a[1])), (_ = ($a[2] == null ? nil : $a[2])), (term = ($a[3] == null ? nil : $a[3])), $b;\n            if ($truthy((function() {if ($truthy(($ret_or_6 = option['$[]'](\"first_to\")['$nil?']()))) {\n              return option['$[]'](\"first_modify\")['$nil?']()\n            } else {\n              return $ret_or_6\n            }; return nil; })())) {\n            } else {\n              self.$raise($$($nesting, 'ParseError'))\n            };\n            \n            $writer = [\"first_modify\", term.$to_i()['$-@']()];\n            $send(option, '[]=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            result = option;\n            return result;\n          }, $RatingParser__reduce_10$16.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_11', $RatingParser__reduce_11$17 = function $$_reduce_11(val, _values, result) {\n            var $a, $b, self = this, option = nil, _ = nil, $writer = nil;\n\n            \n            $b = val, $a = Opal.to_ary($b), (option = ($a[0] == null ? nil : $a[0])), (_ = ($a[1] == null ? nil : $a[1])), $b;\n            if ($truthy(option['$[]'](\"modifier_after_half\")['$nil?']())) {\n            } else {\n              self.$raise($$($nesting, 'ParseError'))\n            };\n            \n            $writer = [\"modifier_after_half\", $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'Number').$new(0)];\n            $send(option, '[]=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            result = option;\n            return result;\n          }, $RatingParser__reduce_11$17.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_12', $RatingParser__reduce_12$18 = function $$_reduce_12(val, _values, result) {\n            var $a, $b, self = this, option = nil, _ = nil, term = nil, $writer = nil;\n\n            \n            $b = val, $a = Opal.to_ary($b), (option = ($a[0] == null ? nil : $a[0])), (_ = ($a[1] == null ? nil : $a[1])), (term = ($a[2] == null ? nil : $a[2])), $b;\n            if ($truthy(option['$[]'](\"modifier_after_half\")['$nil?']())) {\n            } else {\n              self.$raise($$($nesting, 'ParseError'))\n            };\n            \n            $writer = [\"modifier_after_half\", term];\n            $send(option, '[]=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            result = option;\n            return result;\n          }, $RatingParser__reduce_12$18.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_13', $RatingParser__reduce_13$19 = function $$_reduce_13(val, _values, result) {\n            var $a, $b, self = this, option = nil, _ = nil, term = nil, $ret_or_7 = nil, $writer = nil;\n\n            \n            $b = val, $a = Opal.to_ary($b), (option = ($a[0] == null ? nil : $a[0])), (_ = ($a[1] == null ? nil : $a[1])), (term = ($a[2] == null ? nil : $a[2])), $b;\n            if ($truthy((function() {if ($truthy(($ret_or_7 = [\"v2_5\", \"v2_0\"]['$include?'](self.version)))) {\n              return option['$[]'](\"rateup\")['$nil?']()\n            } else {\n              return $ret_or_7\n            }; return nil; })())) {\n            } else {\n              self.$raise($$($nesting, 'ParseError'))\n            };\n            \n            $writer = [\"rateup\", term];\n            $send(option, '[]=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            result = option;\n            return result;\n          }, $RatingParser__reduce_13$19.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_14', $RatingParser__reduce_14$20 = function $$_reduce_14(val, _values, result) {\n            var $a, $b, self = this, option = nil, _ = nil, $ret_or_8 = nil, $writer = nil;\n\n            \n            $b = val, $a = Opal.to_ary($b), (option = ($a[0] == null ? nil : $a[0])), (_ = ($a[1] == null ? nil : $a[1])), (_ = ($a[2] == null ? nil : $a[2])), $b;\n            if ($truthy((function() {if ($truthy(($ret_or_8 = [\"v2_5\", \"v2_0\"]['$include?'](self.version)))) {\n              return option['$[]'](\"greatest_fortune\")['$nil?']()\n            } else {\n              return $ret_or_8\n            }; return nil; })())) {\n            } else {\n              self.$raise($$($nesting, 'ParseError'))\n            };\n            \n            $writer = [\"greatest_fortune\", true];\n            $send(option, '[]=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            result = option;\n            return result;\n          }, $RatingParser__reduce_14$20.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_15', $RatingParser__reduce_15$21 = function $$_reduce_15(val, _values, result) {\n            var $a, $b, self = this, option = nil, _ = nil, term = nil, $ret_or_9 = nil, $writer = nil;\n\n            \n            $b = val, $a = Opal.to_ary($b), (option = ($a[0] == null ? nil : $a[0])), (_ = ($a[1] == null ? nil : $a[1])), (term = ($a[2] == null ? nil : $a[2])), $b;\n            if ($truthy((function() {if ($truthy(($ret_or_9 = self.version['$=='](\"v2_5\")))) {\n              return option['$[]'](\"kept_modify\")['$nil?']()\n            } else {\n              return $ret_or_9\n            }; return nil; })())) {\n            } else {\n              self.$raise($$($nesting, 'ParseError'))\n            };\n            \n            $writer = [\"kept_modify\", term];\n            $send(option, '[]=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            result = option;\n            return result;\n          }, $RatingParser__reduce_15$21.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_16', $RatingParser__reduce_16$22 = function $$_reduce_16(val, _values, result) {\n            var self = this;\n\n            \n            result = val['$[]'](1);\n            return result;\n          }, $RatingParser__reduce_16$22.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_17', $RatingParser__reduce_17$23 = function $$_reduce_17(val, _values, result) {\n            var self = this;\n\n            \n            result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'Negative').$new(val['$[]'](1));\n            return result;\n          }, $RatingParser__reduce_17$23.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_18', $RatingParser__reduce_18$24 = function $$_reduce_18(val, _values, result) {\n            var self = this;\n\n            \n            result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'BinaryOp').$new(val['$[]'](0), \"+\", val['$[]'](2));\n            return result;\n          }, $RatingParser__reduce_18$24.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_19', $RatingParser__reduce_19$25 = function $$_reduce_19(val, _values, result) {\n            var self = this;\n\n            \n            result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'BinaryOp').$new(val['$[]'](0), \"-\", val['$[]'](2));\n            return result;\n          }, $RatingParser__reduce_19$25.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_20', $RatingParser__reduce_20$26 = function $$_reduce_20(val, _values, result) {\n            var self = this;\n\n            \n            result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'BinaryOp').$new(val['$[]'](0), \"+\", val['$[]'](2));\n            return result;\n          }, $RatingParser__reduce_20$26.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_21', $RatingParser__reduce_21$27 = function $$_reduce_21(val, _values, result) {\n            var self = this;\n\n            \n            result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'BinaryOp').$new(val['$[]'](0), \"-\", val['$[]'](2));\n            return result;\n          }, $RatingParser__reduce_21$27.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_23', $RatingParser__reduce_23$28 = function $$_reduce_23(val, _values, result) {\n            var self = this;\n\n            \n            result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'BinaryOp').$new(val['$[]'](0), \"*\", val['$[]'](2));\n            return result;\n          }, $RatingParser__reduce_23$28.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_24', $RatingParser__reduce_24$29 = function $$_reduce_24(val, _values, result) {\n            var self = this;\n\n            \n            result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'DivideWithGameSystemDefault').$new(val['$[]'](0), val['$[]'](2));\n            return result;\n          }, $RatingParser__reduce_24$29.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_26', $RatingParser__reduce_26$30 = function $$_reduce_26(val, _values, result) {\n            var self = this;\n\n            \n            result = val['$[]'](1);\n            return result;\n          }, $RatingParser__reduce_26$30.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_27', $RatingParser__reduce_27$31 = function $$_reduce_27(val, _values, result) {\n            var self = this;\n\n            \n            result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'Negative').$new(val['$[]'](1));\n            return result;\n          }, $RatingParser__reduce_27$31.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_29', $RatingParser__reduce_29$32 = function $$_reduce_29(val, _values, result) {\n            var self = this;\n\n            \n            result = val['$[]'](1);\n            return result;\n          }, $RatingParser__reduce_29$32.$$arity = 3);\n          \n          Opal.def(self, '$_reduce_30', $RatingParser__reduce_30$33 = function $$_reduce_30(val, _values, result) {\n            var self = this;\n\n            \n            result = $$$($$$($$($nesting, 'Arithmetic'), 'Node'), 'Number').$new(val['$[]'](0));\n            return result;\n          }, $RatingParser__reduce_30$33.$$arity = 3);\n          return (Opal.def(self, '$_reduce_none', $RatingParser__reduce_none$34 = function $$_reduce_none(val, _values, result) {\n            var self = this;\n\n            return val['$[]'](0)\n          }, $RatingParser__reduce_none$34.$$arity = 3), nil) && '_reduce_none';\n        })($nesting[0], $$$($$($nesting, 'Racc'), 'Parser'), $nesting)\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/game_system/SwordWorld\"] = function(Opal) {\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_le(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  function $rb_gt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs > rhs : lhs['$>'](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  function $rb_divide(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs / rhs : lhs['$/'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $truthy = Opal.truthy, $send = Opal.send;\n\n  \n  self.$require(\"bcdice/base\");\n  self.$require(\"bcdice/game_system/sword_world/rating_parser\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'SwordWorld');\n\n        var $nesting = [self].concat($parent_nesting), $SwordWorld_initialize$1, $SwordWorld_result_2d6$2, $SwordWorld_eval_game_system_specific_command$3, $SwordWorld_rating_parser$4, $SwordWorld_rating$5, $SwordWorld_getSW2_0_RatingTable$8, $SwordWorld_getNewRates$9, $SwordWorld_rollDice$11, $SwordWorld_getResultText$12;\n\n        self.$$prototype.rating_table = self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"SwordWorld\");\n        Opal.const_set($nesting[0], 'NAME', \"RPG\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"SW(Kx[c]+m$f) (x:, c:, m:, f:)\\n\");\n        self.$register_prefix(\"H?K\");\n        \n        Opal.def(self, '$initialize', $SwordWorld_initialize$1 = function $$initialize(command) {\n          var $iter = $SwordWorld_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $SwordWorld_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $SwordWorld_initialize$1, false, true), 'initialize', [command], null);\n          return (self.rating_table = 0);\n        }, $SwordWorld_initialize$1.$$arity = 1);\n        \n        Opal.def(self, '$result_2d6', $SwordWorld_result_2d6$2 = function $$result_2d6(total, dice_total, _dice_list, cmp_op, target) {\n          var self = this, $ret_or_1 = nil;\n\n          if ($truthy($rb_ge(dice_total, 12))) {\n            return $$($nesting, 'Result').$critical(\"\")\n          } else if ($truthy($rb_le(dice_total, 2))) {\n            return $$($nesting, 'Result').$fumble(\"\")\n          } else if ($truthy((function() {if ($truthy(($ret_or_1 = cmp_op['$!='](\">=\")))) {\n            return $ret_or_1\n          } else {\n            return target['$=='](\"?\")\n          }; return nil; })())) {\n            return nil\n          } else if ($truthy($rb_ge(total, target))) {\n            return $$($nesting, 'Result').$success(\"\")\n          } else {\n            return $$($nesting, 'Result').$failure(\"\")\n          }\n        }, $SwordWorld_result_2d6$2.$$arity = 5);\n        \n        Opal.def(self, '$eval_game_system_specific_command', $SwordWorld_eval_game_system_specific_command$3 = function $$eval_game_system_specific_command(command) {\n          var self = this;\n\n          return self.$rating(command)\n        }, $SwordWorld_eval_game_system_specific_command$3.$$arity = 1);\n        self.$private();\n        \n        Opal.def(self, '$rating_parser', $SwordWorld_rating_parser$4 = function $$rating_parser() {\n          var self = this;\n\n          return $$($nesting, 'RatingParser').$new()\n        }, $SwordWorld_rating_parser$4.$$arity = 0);\n        \n        Opal.def(self, '$rating', $SwordWorld_rating$5 = function $$rating(string) {\n          var $$6, $a, $b, $$7, self = this, command = nil, rate_sw2_0 = nil, keyMax = nil, newRates = nil, output = nil, diceResultTotals = nil, diceResults = nil, rateResults = nil, dice = nil, diceOnlyTotal = nil, totalValue = nil, round = nil, first_to = nil, first_modify = nil, result_text = nil, critical = nil, fumble = nil;\n\n          \n          self.$debug(\"rating string\", string);\n          command = self.$rating_parser().$parse(string);\n          if ($truthy(command)) {\n          } else {\n            \n            self.$debug(\"not matched\");\n            return \"1\";\n          };\n          rate_sw2_0 = self.$getSW2_0_RatingTable();\n          keyMax = $rb_minus(rate_sw2_0.$length(), 1);\n          self.$debug(\"keyMax\", keyMax);\n          if ($truthy($rb_gt(command.$rate(), keyMax))) {\n            return \"\" + \"\" + (keyMax) + \"\"};\n          newRates = self.$getNewRates(rate_sw2_0);\n          output = \"\" + (command) + \"  \";\n          diceResultTotals = [];\n          diceResults = [];\n          rateResults = [];\n          dice = 0;\n          diceOnlyTotal = 0;\n          totalValue = 0;\n          round = 0;\n          first_to = command.$first_to();\n          first_modify = command.$first_modify();\n          (function(){var $brk = Opal.new_brk(); try {return $send(self, 'loop', [], ($$6 = function(){var self = $$6.$$s == null ? this : $$6.$$s, $a, $b, dice_raw = nil, diceText = nil, $ret_or_2 = nil, currentKey = nil, rateValue = nil;\n\n          \n            $b = self.$rollDice(command), $a = Opal.to_ary($b), (dice_raw = ($a[0] == null ? nil : $a[0])), (diceText = ($a[1] == null ? nil : $a[1])), $b;\n            dice = dice_raw;\n            if ($truthy(first_to['$!='](0))) {\n              \n              dice = (dice_raw = first_to);\n              first_to = 0;\n            } else if ($truthy(first_modify['$!='](0))) {\n              \n              dice = $rb_plus(dice, first_modify);\n              first_modify = 0;};\n            if ($truthy($rb_le(dice_raw, 2))) {\n              \n              diceResultTotals['$<<'](dice_raw.$to_s());\n              diceResults['$<<'](diceText.$to_s());\n              rateResults['$<<'](\"**\");\n              round = $rb_plus(round, 1);\n              \n              Opal.brk(nil, $brk);};\n            if ($truthy((function() {if ($truthy(($ret_or_2 = command.$kept_modify()['$!='](0)))) {\n              \n              return dice['$!='](2);\n            } else {\n              return $ret_or_2\n            }; return nil; })())) {\n              dice = $rb_plus(dice, command.$kept_modify())};\n            if ($truthy($rb_lt(dice, 2))) {\n              dice = 2};\n            if ($truthy($rb_gt(dice, 12))) {\n              dice = 12};\n            currentKey = [$rb_plus(command.$rate(), $rb_times(round, command.$rateup())), keyMax].$min();\n            self.$debug(\"currentKey\", currentKey);\n            rateValue = newRates['$[]'](dice)['$[]'](currentKey);\n            self.$debug(\"rateValue\", rateValue);\n            totalValue = $rb_plus(totalValue, rateValue);\n            diceOnlyTotal = $rb_plus(diceOnlyTotal, dice);\n            diceResultTotals['$<<'](dice.$to_s());\n            diceResults['$<<'](diceText.$to_s());\n            rateResults['$<<']((function() {if ($truthy($rb_gt(dice, 2))) {\n              return rateValue\n            } else {\n              return \"**\"\n            }; return nil; })());\n            round = $rb_plus(round, 1);\n            if ($truthy($rb_ge(dice, command.$critical()))) {\n              return nil\n            } else {\n              \n              Opal.brk(nil, $brk)\n            };}, $$6.$$s = self, $$6.$$brk = $brk, $$6.$$arity = 0, $$6))\n          } catch (err) { if (err === $brk) { return err.$v } else { throw err } }})();\n          $b = self.$getResultText(totalValue, command, diceResults, diceResultTotals, rateResults, diceOnlyTotal, round), $a = Opal.to_ary($b), (result_text = ($a[0] == null ? nil : $a[0])), (critical = ($a[1] == null ? nil : $a[1])), (fumble = ($a[2] == null ? nil : $a[2])), $b;\n          output = $rb_plus(output, result_text);\n          return $send($$($nesting, 'Result').$new(), 'tap', [], ($$7 = function(r){var self = $$7.$$s == null ? this : $$7.$$s, $writer = nil;\n\n          \n            \n            if (r == null) {\n              r = nil;\n            };\n            \n            $writer = [output];\n            $send(r, 'text=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [critical];\n            $send(r, 'critical=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];;\n            \n            $writer = [fumble];\n            $send(r, 'fumble=', Opal.to_a($writer));\n            return $writer[$rb_minus($writer[\"length\"], 1)];;}, $$7.$$s = self, $$7.$$arity = 1, $$7));\n        }, $SwordWorld_rating$5.$$arity = 1);\n        \n        Opal.def(self, '$getSW2_0_RatingTable', $SwordWorld_getSW2_0_RatingTable$8 = function $$getSW2_0_RatingTable() {\n          var self = this, rate_sw2_0 = nil;\n\n          \n          rate_sw2_0 = [\"*,0,0,0,1,2,2,3,3,4,4\", \"*,0,0,0,1,2,3,3,3,4,4\", \"*,0,0,0,1,2,3,4,4,4,4\", \"*,0,0,1,1,2,3,4,4,4,5\", \"*,0,0,1,2,2,3,4,4,5,5\", \"*,0,1,1,2,2,3,4,5,5,5\", \"*,0,1,1,2,3,3,4,5,5,5\", \"*,0,1,1,2,3,4,4,5,5,6\", \"*,0,1,2,2,3,4,4,5,6,6\", \"*,0,1,2,3,3,4,4,5,6,7\", \"*,1,1,2,3,3,4,5,5,6,7\", \"*,1,2,2,3,3,4,5,6,6,7\", \"*,1,2,2,3,4,4,5,6,6,7\", \"*,1,2,3,3,4,4,5,6,7,7\", \"*,1,2,3,4,4,4,5,6,7,8\", \"*,1,2,3,4,4,5,5,6,7,8\", \"*,1,2,3,4,4,5,6,7,7,8\", \"*,1,2,3,4,5,5,6,7,7,8\", \"*,1,2,3,4,5,6,6,7,7,8\", \"*,1,2,3,4,5,6,7,7,8,9\", \"*,1,2,3,4,5,6,7,8,9,10\", \"*,1,2,3,4,6,6,7,8,9,10\", \"*,1,2,3,5,6,6,7,8,9,10\", \"*,2,2,3,5,6,7,7,8,9,10\", \"*,2,3,4,5,6,7,7,8,9,10\", \"*,2,3,4,5,6,7,8,8,9,10\", \"*,2,3,4,5,6,8,8,9,9,10\", \"*,2,3,4,6,6,8,8,9,9,10\", \"*,2,3,4,6,6,8,9,9,10,10\", \"*,2,3,4,6,7,8,9,9,10,10\", \"*,2,4,4,6,7,8,9,10,10,10\", \"*,2,4,5,6,7,8,9,10,10,11\", \"*,3,4,5,6,7,8,10,10,10,11\", \"*,3,4,5,6,8,8,10,10,10,11\", \"*,3,4,5,6,8,9,10,10,11,11\", \"*,3,4,5,7,8,9,10,10,11,12\", \"*,3,5,5,7,8,9,10,11,11,12\", \"*,3,5,6,7,8,9,10,11,12,12\", \"*,3,5,6,7,8,10,10,11,12,13\", \"*,4,5,6,7,8,10,11,11,12,13\", \"*,4,5,6,7,9,10,11,11,12,13\", \"*,4,6,6,7,9,10,11,12,12,13\", \"*,4,6,7,7,9,10,11,12,13,13\", \"*,4,6,7,8,9,10,11,12,13,14\", \"*,4,6,7,8,10,10,11,12,13,14\", \"*,4,6,7,9,10,10,11,12,13,14\", \"*,4,6,7,9,10,10,12,13,13,14\", \"*,4,6,7,9,10,11,12,13,13,15\", \"*,4,6,7,9,10,12,12,13,13,15\", \"*,4,6,7,10,10,12,12,13,14,15\", \"*,4,6,8,10,10,12,12,13,15,15\", \"*,5,7,8,10,10,12,12,13,15,15\", \"*,5,7,8,10,11,12,12,13,15,15\", \"*,5,7,9,10,11,12,12,14,15,15\", \"*,5,7,9,10,11,12,13,14,15,16\", \"*,5,7,10,10,11,12,13,14,16,16\", \"*,5,8,10,10,11,12,13,15,16,16\", \"*,5,8,10,11,11,12,13,15,16,17\", \"*,5,8,10,11,12,12,13,15,16,17\", \"*,5,9,10,11,12,12,14,15,16,17\", \"*,5,9,10,11,12,13,14,15,16,18\", \"*,5,9,10,11,12,13,14,16,17,18\", \"*,5,9,10,11,13,13,14,16,17,18\", \"*,5,9,10,11,13,13,15,17,17,18\", \"*,5,9,10,11,13,14,15,17,17,18\", \"*,5,9,10,12,13,14,15,17,18,18\", \"*,5,9,10,12,13,15,15,17,18,19\", \"*,5,9,10,12,13,15,16,17,19,19\", \"*,5,9,10,12,14,15,16,17,19,19\", \"*,5,9,10,12,14,16,16,17,19,19\", \"*,5,9,10,12,14,16,17,18,19,19\", \"*,5,9,10,13,14,16,17,18,19,20\", \"*,5,9,10,13,15,16,17,18,19,20\", \"*,5,9,10,13,15,16,17,19,20,21\", \"*,6,9,10,13,15,16,18,19,20,21\", \"*,6,9,10,13,16,16,18,19,20,21\", \"*,6,9,10,13,16,17,18,19,20,21\", \"*,6,9,10,13,16,17,18,20,21,22\", \"*,6,9,10,13,16,17,19,20,22,23\", \"*,6,9,10,13,16,18,19,20,22,23\", \"*,6,9,10,13,16,18,20,21,22,23\", \"*,6,9,10,13,17,18,20,21,22,23\", \"*,6,9,10,14,17,18,20,21,22,24\", \"*,6,9,11,14,17,18,20,21,23,24\", \"*,6,9,11,14,17,19,20,21,23,24\", \"*,6,9,11,14,17,19,21,22,23,24\", \"*,7,10,11,14,17,19,21,22,23,25\", \"*,7,10,12,14,17,19,21,22,24,25\", \"*,7,10,12,14,18,19,21,22,24,25\", \"*,7,10,12,15,18,19,21,22,24,26\", \"*,7,10,12,15,18,19,21,23,25,26\", \"*,7,11,13,15,18,19,21,23,25,26\", \"*,7,11,13,15,18,20,21,23,25,27\", \"*,8,11,13,15,18,20,22,23,25,27\", \"*,8,11,13,16,18,20,22,23,25,28\", \"*,8,11,14,16,18,20,22,23,26,28\", \"*,8,11,14,16,19,20,22,23,26,28\", \"*,8,12,14,16,19,20,22,24,26,28\", \"*,8,12,15,16,19,20,22,24,27,28\", \"*,8,12,15,17,19,20,22,24,27,29\", \"*,8,12,15,18,19,20,22,24,27,30\"];\n          return rate_sw2_0;\n        }, $SwordWorld_getSW2_0_RatingTable$8.$$arity = 0);\n        \n        Opal.def(self, '$getNewRates', $SwordWorld_getNewRates$9 = function $$getNewRates(rate_sw2_0) {\n          var $$10, self = this, rate_3 = nil, rate_4 = nil, rate_5 = nil, rate_6 = nil, rate_7 = nil, rate_8 = nil, rate_9 = nil, rate_10 = nil, rate_11 = nil, rate_12 = nil, zeroArray = nil, $writer = nil, newRates = nil;\n\n          \n          rate_3 = [];\n          rate_4 = [];\n          rate_5 = [];\n          rate_6 = [];\n          rate_7 = [];\n          rate_8 = [];\n          rate_9 = [];\n          rate_10 = [];\n          rate_11 = [];\n          rate_12 = [];\n          zeroArray = [];\n          $send(rate_sw2_0, 'each', [], ($$10 = function(rateText){var self = $$10.$$s == null ? this : $$10.$$s, rate_arr = nil;\n\n          \n            \n            if (rateText == null) {\n              rateText = nil;\n            };\n            rate_arr = rateText.$split(/,/);\n            zeroArray.$push(0);\n            rate_3.$push(rate_arr['$[]'](1).$to_i());\n            rate_4.$push(rate_arr['$[]'](2).$to_i());\n            rate_5.$push(rate_arr['$[]'](3).$to_i());\n            rate_6.$push(rate_arr['$[]'](4).$to_i());\n            rate_7.$push(rate_arr['$[]'](5).$to_i());\n            rate_8.$push(rate_arr['$[]'](6).$to_i());\n            rate_9.$push(rate_arr['$[]'](7).$to_i());\n            rate_10.$push(rate_arr['$[]'](8).$to_i());\n            rate_11.$push(rate_arr['$[]'](9).$to_i());\n            return rate_12.$push(rate_arr['$[]'](10).$to_i());}, $$10.$$s = self, $$10.$$arity = 1, $$10));\n          if (self.rating_table['$=='](1)) {\n            \n            $writer = [31, (($writer = [32, (($writer = [33, 10]), $send(rate_12, '[]=', Opal.to_a($writer)), $writer[$rb_minus($writer[\"length\"], 1)])]), $send(rate_12, '[]=', Opal.to_a($writer)), $writer[$rb_minus($writer[\"length\"], 1)])];\n            $send(rate_12, '[]=', Opal.to_a($writer));\n            $writer[$rb_minus($writer[\"length\"], 1)];};\n          newRates = [zeroArray, zeroArray, zeroArray, rate_3, rate_4, rate_5, rate_6, rate_7, rate_8, rate_9, rate_10, rate_11, rate_12];\n          return newRates;\n        }, $SwordWorld_getNewRates$9.$$arity = 1);\n        \n        Opal.def(self, '$rollDice', $SwordWorld_rollDice$11 = function $$rollDice(_command) {\n          var self = this, dice_list = nil, total = nil, dice_str = nil;\n\n          \n          dice_list = self.randomizer.$roll_barabara(2, 6);\n          total = dice_list.$sum();\n          dice_str = dice_list.$join(\",\");\n          return [total, dice_str];\n        }, $SwordWorld_rollDice$11.$$arity = 1);\n        return (Opal.def(self, '$getResultText', $SwordWorld_getResultText$12 = function $$getResultText(rating_total, command, diceResults, diceResultTotals, rateResults, dice_total, round) {\n          var self = this, sequence = nil, $ret_or_3 = nil, text = nil, round_text = nil, total = nil, total_text = nil;\n\n          \n          sequence = [];\n          sequence.$push(\"\" + \"2D:[\" + (diceResults.$join(\" \")) + \"]=\" + (diceResultTotals.$join(\",\")));\n          if ($truthy($rb_le(dice_total, 2))) {\n            \n            sequence.$push(rateResults.$join(\",\"));\n            sequence.$push(\"\");\n            return [sequence.$join(\"  \"), false, true];};\n          if ($truthy((function() {if ($truthy(($ret_or_3 = $rb_gt(rateResults.$size(), 1)))) {\n            return $ret_or_3\n          } else {\n            return command.$modifier()['$!='](0)\n          }; return nil; })())) {\n            \n            text = $rb_plus(rateResults.$join(\",\"), $$($nesting, 'Format').$modifier(command.$modifier()));\n            if ($truthy(command.$half())) {\n              \n              text = \"\" + \"(\" + (text) + \")/2\";\n              if ($truthy(command.$modifier_after_half()['$!='](0))) {\n                text = $rb_plus(text, $$($nesting, 'Format').$modifier(command.$modifier_after_half()))};};\n            sequence.$push(text);\n          } else if ($truthy(command.$half())) {\n            \n            text = \"\" + (rateResults.$first()) + \"/2\";\n            if ($truthy(command.$modifier_after_half()['$!='](0))) {\n              text = $rb_plus(text, $$($nesting, 'Format').$modifier(command.$modifier_after_half()))};\n            sequence.$push(text);};\n          if ($truthy($rb_gt(round, 1))) {\n            \n            round_text = \"\" + ($rb_minus(round, 1)) + \"\";\n            sequence.$push(round_text);};\n          total = $rb_plus(rating_total, command.$modifier());\n          if ($truthy(command.$half())) {\n            \n            total = $rb_divide(total, 2.0).$ceil();\n            if ($truthy(command.$modifier_after_half()['$!='](0))) {\n              total = $rb_plus(total, command.$modifier_after_half())};};\n          total_text = total.$to_s();\n          sequence.$push(total_text);\n          return [sequence.$join(\"  \"), $rb_gt(round, 1), false];\n        }, $SwordWorld_getResultText$12.$$arity = 7), nil) && 'getResultText';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/game_system/sword_world/transcendent_test\"] = function(Opal) {\n  function $rb_lt(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2, $truthy = Opal.truthy, $send = Opal.send;\n\n  \n  self.$require(\"bcdice/result\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'SwordWorld2_0');\n\n        var $nesting = [self].concat($parent_nesting);\n\n        return (function($base, $super, $parent_nesting) {\n          var self = $klass($base, $super, 'TranscendentTest');\n\n          var $nesting = [self].concat($parent_nesting), $TranscendentTest_initialize$1, $TranscendentTest_execute$2, $TranscendentTest_node_expression$4, $TranscendentTest_sum_of_dice$5, $TranscendentTest_dice_str$6, $TranscendentTest_result_status$8;\n\n          self.$$prototype.modifier = self.$$prototype.critical_value = self.$$prototype.expression = self.$$prototype.modifier_str = self.$$prototype.target = self.$$prototype.cmp_op = nil;\n          \n          Opal.const_set($nesting[0], 'RESULT_STR', $hash2([\"success\", \"failure\", \"super_success\", \"critical\", \"fumble\"], {\"success\": \"\", \"failure\": \"\", \"super_success\": \"\", \"critical\": \"\", \"fumble\": \"\"}).$freeze());\n          \n          Opal.def(self, '$initialize', $TranscendentTest_initialize$1 = function $$initialize(critical_value, modifier, cmp_op, target) {\n            var self = this;\n\n            \n            self.critical_value = critical_value;\n            self.modifier = modifier;\n            self.cmp_op = cmp_op;\n            self.target = target;\n            self.modifier_str = $$($nesting, 'Format').$modifier(self.modifier);\n            return (self.expression = self.$node_expression());\n          }, $TranscendentTest_initialize$1.$$arity = 4);\n          \n          Opal.def(self, '$execute', $TranscendentTest_execute$2 = function $$execute(randomizer) {\n            var $a, $$3, self = this, first_value_group = nil, value_groups = nil, fumble = nil, critical = nil, $ret_or_1 = nil, sum = nil, total_sum = nil, result = nil, parts = nil;\n\n            \n            if ($truthy($rb_lt(self.critical_value, 3))) {\n              return \"\" + \"(\" + (self.expression) + \")  3\"};\n            first_value_group = randomizer.$roll_barabara(2, 6);\n            value_groups = [first_value_group];\n            fumble = first_value_group['$==']([1, 1]);\n            critical = first_value_group['$==']([6, 6]);\n            if ($truthy((function() {if ($truthy(($ret_or_1 = fumble['$!']()))) {\n              return critical['$!']()\n            } else {\n              return $ret_or_1\n            }; return nil; })())) {\n              while ($truthy($rb_ge(self.$sum_of_dice(value_groups.$last()), self.critical_value))) {\n                value_groups.$push(randomizer.$roll_barabara(2, 6))\n              }};\n            sum = self.$sum_of_dice(value_groups);\n            total_sum = $rb_plus(sum, self.modifier);\n            result = self.$result_status(total_sum, value_groups.$length(), fumble, critical);\n            parts = [\"\" + \"(\" + (self.expression) + \")\", \"\" + (self.$dice_str(value_groups, sum)) + (self.modifier_str), total_sum, $$($nesting, 'RESULT_STR')['$[]'](result)].$compact();\n            return $send($$($nesting, 'Result').$new(), 'tap', [], ($$3 = function(r){var self = $$3.$$s == null ? this : $$3.$$s, $writer = nil;\n\n            \n              \n              if (r == null) {\n                r = nil;\n              };\n              \n              $writer = [parts.$join(\"  \")];\n              $send(r, 'text=', Opal.to_a($writer));\n              $writer[$rb_minus($writer[\"length\"], 1)];;\n              \n              $writer = [result['$=='](\"fumble\")];\n              $send(r, 'fumble=', Opal.to_a($writer));\n              $writer[$rb_minus($writer[\"length\"], 1)];;\n              \n              $writer = [result['$=='](\"critical\")];\n              $send(r, 'critical=', Opal.to_a($writer));\n              $writer[$rb_minus($writer[\"length\"], 1)];;\n              \n              $writer = [[\"success\", \"super_success\", \"critical\"]['$include?'](result)];\n              $send(r, 'success=', Opal.to_a($writer));\n              $writer[$rb_minus($writer[\"length\"], 1)];;\n              \n              $writer = [[\"failure\", \"fumble\"]['$include?'](result)];\n              $send(r, 'failure=', Opal.to_a($writer));\n              return $writer[$rb_minus($writer[\"length\"], 1)];;}, $$3.$$s = self, $$3.$$arity = 1, $$3));\n          }, $TranscendentTest_execute$2.$$arity = 1);\n          self.$private();\n          \n          Opal.def(self, '$node_expression', $TranscendentTest_node_expression$4 = function $$node_expression() {\n            var self = this, lhs = nil;\n\n            \n            lhs = \"\" + \"2D6@\" + (self.critical_value) + (self.modifier_str);\n            return (function() {if ($truthy(self.target)) {\n              return \"\" + (lhs) + (self.cmp_op) + (self.target)\n            } else {\n              return lhs\n            }; return nil; })();\n          }, $TranscendentTest_node_expression$4.$$arity = 0);\n          \n          Opal.def(self, '$sum_of_dice', $TranscendentTest_sum_of_dice$5 = function $$sum_of_dice(value_groups) {\n            var self = this;\n\n            return value_groups.$flatten().$sum()\n          }, $TranscendentTest_sum_of_dice$5.$$arity = 1);\n          \n          Opal.def(self, '$dice_str', $TranscendentTest_dice_str$6 = function $$dice_str(value_groups, sum) {\n            var $$7, self = this, value_groups_str = nil;\n\n            \n            value_groups_str = $send(value_groups, 'map', [], ($$7 = function(values){var self = $$7.$$s == null ? this : $$7.$$s;\n\n            \n              \n              if (values == null) {\n                values = nil;\n              };\n              return \"\" + \"[\" + (values.$join(\",\")) + \"]\";}, $$7.$$s = self, $$7.$$arity = 1, $$7)).$join();\n            return \"\" + (sum) + (value_groups_str);\n          }, $TranscendentTest_dice_str$6.$$arity = 2);\n          return (Opal.def(self, '$result_status', $TranscendentTest_result_status$8 = function $$result_status(total_sum, n_value_groups, fumble, critical) {\n            var self = this, $ret_or_2 = nil;\n\n            \n            if ($truthy(self.target)) {\n            } else {\n              return \"no_target\"\n            };\n            if ($truthy(fumble)) {\n              return \"fumble\"};\n            if ($truthy(critical)) {\n              return \"critical\"};\n            if ($truthy(total_sum.$send(self.cmp_op, self.target))) {\n              if ($truthy((function() {if ($truthy(($ret_or_2 = $rb_ge(n_value_groups, 2)))) {\n                return $rb_ge(total_sum, 41)\n              } else {\n                return $ret_or_2\n              }; return nil; })())) {\n                return \"super_success\"\n              } else {\n                return \"success\"\n              }\n            } else {\n              return \"failure\"\n            };\n          }, $TranscendentTest_result_status$8.$$arity = 4), nil) && 'result_status';\n        })($nesting[0], null, $nesting)\n      })($nesting[0], $$($nesting, 'SwordWorld'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\nOpal.modules[\"bcdice/game_system/SwordWorld2_0\"] = function(Opal) {\n  function $rb_times(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);\n  }\n  function $rb_minus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send2 = Opal.send2, $truthy = Opal.truthy, $hash2 = Opal.hash2, $send = Opal.send;\n\n  \n  self.$require(\"bcdice/arithmetic_evaluator\");\n  self.$require(\"bcdice/game_system/SwordWorld\");\n  self.$require(\"bcdice/game_system/sword_world/transcendent_test\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'SwordWorld2_0');\n\n        var $nesting = [self].concat($parent_nesting), $SwordWorld2_0_initialize$1, $SwordWorld2_0_eval_game_system_specific_command$2, $SwordWorld2_0_rating_parser$3, $SwordWorld2_0_rollDice$4, $SwordWorld2_0_growth$5, $SwordWorld2_0_growth_step$7, $SwordWorld2_0_get_ability_by_dice$8, $SwordWorld2_0_get_fumble_table$9, $SwordWorld2_0_get_tangle_table$10;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"SwordWorld2.0\");\n        Opal.const_set($nesting[0], 'NAME', \"2.0\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"2.0\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"\\n\" + \"\\n\" + \"(Kx)\\n\" + \"\\\"K+\\\"\\n\" + \"K20+K30\\n\" + \"\\n\" + \"\\n\" + \"K20K10+5k30k10+10Sk10-1k10+5+2\\n\" + \"\\n\" + \"\\n\" + \"\\\"[]\\\"\\n\" + \"10\\n\" + \"13()\\n\" + \"@\\n\" + \"K20[10]K10+5[9]k30[10]k10[9]+10k10-5@9\\n\" + \"\\n\" + \" (HKx, KxH+N)\\n\" + \"\\\"H\\\"\\n\" + \"\\n\" + \"\\n\" + \"\\n\" + \"HK20K20hHK10-5@9K10-5@9HK20gfHK20+8H+2K20+8H(1+1)\\n\" + \"\\n\" + \"\\n\" + \"$\\n\" + \"$\\n\" + \"\\n\" + \"K20$+1K10+5$9k10-5@9$+2k10[9]+10$9\\n\" + \"\\n\" + \" r10\\n\" + \"K20r10K30+24@8R10K40+24@8$12r10\\n\" + \"\\n\" + \" gf\\n\" + \"K20gfK30+24@8GFK40+24@8$12r10gf\\n\" + \"\\n\" + \"2d6 2D6@10 \\n\" + \"2D6@102D6@10+11>=30\\n\" + \"\\n\" + \"(Gr)\\n\" + \"\\n\" + \"Gr3\\n\" + \"\\n\" + \"(FT)\\n\" + \"\\n\" + \"\\n\" + \"(TT)\\n\" + \"\\n\");\n        self.$register_prefix(\"H?K\", \"Gr\", \"2D6?@\\\\d+\", \"FT\", \"TT\");\n        \n        Opal.def(self, '$initialize', $SwordWorld2_0_initialize$1 = function $$initialize(command) {\n          var $iter = $SwordWorld2_0_initialize$1.$$p, $yield = $iter || nil, self = this;\n\n          if ($iter) $SwordWorld2_0_initialize$1.$$p = null;\n          \n          $send2(self, Opal.find_super_dispatcher(self, 'initialize', $SwordWorld2_0_initialize$1, false, true), 'initialize', [command], null);\n          return (self.rating_table = 2);\n        }, $SwordWorld2_0_initialize$1.$$arity = 1);\n        \n        Opal.def(self, '$eval_game_system_specific_command', $SwordWorld2_0_eval_game_system_specific_command$2 = function $$eval_game_system_specific_command(command) {\n          var $iter = $SwordWorld2_0_eval_game_system_specific_command$2.$$p, $yield = $iter || nil, self = this, $case = nil, transcendent_parser = nil, cmd = nil, node = nil;\n\n          if ($iter) $SwordWorld2_0_eval_game_system_specific_command$2.$$p = null;\n          return (function() {$case = command;\n          if (/^Gr(\\d+)?/i['$===']($case)) {if ($truthy(command['$=~'](/^Gr(\\d+)/i))) {\n            return self.$growth($$($nesting, 'Regexp').$last_match(1).$to_i())\n          } else {\n            return self.$growth()\n          }}\n          else if (/^2D6?@\\d+/i['$===']($case)) {\n          transcendent_parser = $$$($$($nesting, 'Command'), 'Parser').$new(/2D6?/i, $hash2([\"round_type\"], {\"round_type\": $$$($$$($$($nesting, 'BCDice'), 'RoundType'), 'CEIL')})).$enable_critical().$restrict_cmp_op_to(nil, \">=\", \">\");\n          cmd = transcendent_parser.$parse(command);\n          if ($truthy(cmd)) {\n          } else {\n            return nil\n          };\n          node = $$($nesting, 'TranscendentTest').$new(cmd.$critical(), cmd.$modify_number(), cmd.$cmp_op(), cmd.$target_number());\n          return node.$execute(self.randomizer);}\n          else if (\"FT\"['$===']($case)) {return self.$get_fumble_table()}\n          else if (\"TT\"['$===']($case)) {return self.$get_tangle_table()}\n          else {return $send2(self, Opal.find_super_dispatcher(self, 'eval_game_system_specific_command', $SwordWorld2_0_eval_game_system_specific_command$2, false, true), 'eval_game_system_specific_command', [command], null)}})()\n        }, $SwordWorld2_0_eval_game_system_specific_command$2.$$arity = 1);\n        \n        Opal.def(self, '$rating_parser', $SwordWorld2_0_rating_parser$3 = function $$rating_parser() {\n          var self = this;\n\n          return $$($nesting, 'RatingParser').$new($hash2([\"version\"], {\"version\": \"v2_0\"}))\n        }, $SwordWorld2_0_rating_parser$3.$$arity = 0);\n        \n        Opal.def(self, '$rollDice', $SwordWorld2_0_rollDice$4 = function $$rollDice(command) {\n          var $iter = $SwordWorld2_0_rollDice$4.$$p, $yield = $iter || nil, self = this, dice = nil;\n\n          if ($iter) $SwordWorld2_0_rollDice$4.$$p = null;\n          \n          if ($truthy(command.$greatest_fortune())) {\n          } else {\n            return $send2(self, Opal.find_super_dispatcher(self, 'rollDice', $SwordWorld2_0_rollDice$4, false, true), 'rollDice', [command], null)\n          };\n          dice = self.randomizer.$roll_once(6);\n          return [$rb_times(dice, 2), \"\" + (dice) + \",\" + (dice)];\n        }, $SwordWorld2_0_rollDice$4.$$arity = 1);\n        \n        Opal.def(self, '$growth', $SwordWorld2_0_growth$5 = function $$growth(count) {\n          var $$6, self = this;\n\n          \n          \n          if (count == null) {\n            count = 1;\n          };\n          return $send(Opal.Range.$new(1, count, false), 'map', [], ($$6 = function(){var self = $$6.$$s == null ? this : $$6.$$s;\n\n          return self.$growth_step()}, $$6.$$s = self, $$6.$$arity = 0, $$6)).$join(\" | \");\n        }, $SwordWorld2_0_growth$5.$$arity = -1);\n        \n        Opal.def(self, '$growth_step', $SwordWorld2_0_growth_step$7 = function $$growth_step() {\n          var self = this, d1 = nil, d2 = nil, a1 = nil, a2 = nil;\n\n          \n          d1 = self.randomizer.$roll_once(6);\n          d2 = self.randomizer.$roll_once(6);\n          a1 = self.$get_ability_by_dice(d1);\n          a2 = self.$get_ability_by_dice(d2);\n          return (function() {if ($truthy(a1['$!='](a2))) {\n            return \"\" + \"[\" + (d1) + \",\" + (d2) + \"]->(\" + (a1) + \" or \" + (a2) + \")\"\n          } else {\n            return \"\" + \"[\" + (d1) + \",\" + (d2) + \"]->(\" + (a1) + \")\"\n          }; return nil; })();\n        }, $SwordWorld2_0_growth_step$7.$$arity = 0);\n        \n        Opal.def(self, '$get_ability_by_dice', $SwordWorld2_0_get_ability_by_dice$8 = function $$get_ability_by_dice(dice) {\n          var self = this;\n\n          return [\"\", \"\", \"\", \"\", \"\", \"\"]['$[]']($rb_minus(dice, 1))\n        }, $SwordWorld2_0_get_ability_by_dice$8.$$arity = 1);\n        \n        Opal.def(self, '$get_fumble_table', $SwordWorld2_0_get_fumble_table$9 = function $$get_fumble_table() {\n          var $a, $b, self = this, table = nil, text = nil, num = nil;\n\n          \n          table = [\"2+50\", \"\", \"\", \"2\", \"2\", \"\"];\n          $b = self.$get_table_by_1d6(table), $a = Opal.to_ary($b), (text = ($a[0] == null ? nil : $a[0])), (num = ($a[1] == null ? nil : $a[1])), $b;\n          return \"\" + \"(\" + (num) + \")  \" + (text);\n        }, $SwordWorld2_0_get_fumble_table$9.$$arity = 0);\n        return (Opal.def(self, '$get_tangle_table', $SwordWorld2_0_get_tangle_table$10 = function $$get_tangle_table() {\n          var $a, $b, self = this, table = nil, text = nil, num = nil;\n\n          \n          table = [\"-2\", \"\", \"-2\", \"-2 \", \"-1\", \"-2 \"];\n          $b = self.$get_table_by_1d6(table), $a = Opal.to_ary($b), (text = ($a[0] == null ? nil : $a[0])), (num = ($a[1] == null ? nil : $a[1])), $b;\n          return \"\" + \"(\" + (num) + \")  \" + (text);\n        }, $SwordWorld2_0_get_tangle_table$10.$$arity = 0), nil) && 'get_tangle_table';\n      })($nesting[0], $$($nesting, 'SwordWorld'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n};\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send = Opal.send, $hash2 = Opal.hash2, $truthy = Opal.truthy, $send2 = Opal.send2, $range = Opal.range;\n\n  \n  self.$require(\"bcdice/game_system/SwordWorld2_0\");\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'SwordWorld2_5');\n\n        var $nesting = [self].concat($parent_nesting), $SwordWorld2_5_eval_game_system_specific_command$1, $SwordWorld2_5_rating_parser$2, $SwordWorld2_5_druid_dice$3, $SwordWorld2_5_get_abyss_curse_table$4;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"SwordWorld2.5\");\n        Opal.const_set($nesting[0], 'NAME', \"2.5\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"2.5\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"\\n\" + \"\\n\" + \"(Kx)\\n\" + \"\\\"K+\\\"\\n\" + \"K20+K30\\n\" + \"\\n\" + \"\\n\" + \"K20K10+5k30k10+10Sk10-1k10+5+2\\n\" + \"\\n\" + \"\\n\" + \"\\\"[]\\\"\\n\" + \"10\\n\" + \"13()\\n\" + \"@\\n\" + \"K20[10]K10+5[9]k30[10]k10[9]+10k10-5@9\\n\" + \"\\n\" + \" (HKx, KxH+N)\\n\" + \"\\\"H\\\"\\n\" + \"\\n\" + \"\\n\" + \"\\n\" + \"HK20K20hHK10-5@9K10-5@9HK20gfHK20+8H+2K20+8H+(1+1)\\n\" + \"\\n\" + \"\\n\" + \"$\\n\" + \"$\\n\" + \"\\n\" + \"K20$+1K10+5$9k10-5@9$+2k10[9]+10$9\\n\" + \"\\n\" + \"\\n\" + \"\\n\" + \"\\n\" + \"K20#1k10-5@9#2\\n\" + \"\\n\" + \" r5\\n\" + \"K20r5K30+24@8R5K40+24@8$12r5\\n\" + \"\\n\" + \" gf\\n\" + \"K20gfK30+24@8GFK40+24@8$12r5gf\\n\" + \"\\n\" + \"2d6 2D6@10 \\n\" + \"2D6@102D6@10+11>=30\\n\" + \"\\n\" + \"(Gr)\\n\" + \"\\n\" + \"Gr3\\n\" + \"\\n\" + \"(FT)\\n\" + \"\\n\" + \"\\n\" + \"(TT)\\n\" + \"\\n\" + \"\\n\" + \"(Dru[2-6,7-9,10-12])\\n\" + \"Dru[0,3,6]+10-3\\n\" + \"\\n\" + \"(ABT)\\n\" + \"\\n\");\n        self.$register_prefix(\"H?K\", \"Gr\", \"2D6?@\\\\d+\", \"FT\", \"TT\", \"Dru\", \"ABT\");\n        Opal.const_set($nesting[0], 'ABYSS_CURSE_TABLE', $$$($$($nesting, 'DiceTable'), 'D66GridTable').$new(\"\", [[\"HP5\", \"\", \"HP1-2\", \"2\", \"+1\", \"20\"], [\"+2\", \"0\", \"-1\", \"-1\", \"2\", \"123-1\"], [\"-1\", \"\", \"-2\", \"\", \"1\", \"MPMP1\"], [\"\", \"1d1\", \"1d1\", \"1d1\", \"1d1\", \"-21371\"], [\"411371\", \"-4\", \"-1-1-4\", \"HP1\", \"-1\", \"2d11\"], [\"-4\", \"101-1\", \"108-1\", \"110HPMP\", \"-4\", \"\"]]));\n        Opal.const_set($nesting[0], 'ABYSS_CURSE_CATEGORY_TABLE', $$$($$($nesting, 'DiceTable'), 'D66ParityTable').$new(\"\", [\"\", \"\", \"\", \"\", \"\", \"\"], [\"\", \"\", \"\", \"\", \"\", \"\"]));\n        Opal.const_set($nesting[0], 'ABYSS_CURSE_ATTR_TABLE', $$$($$($nesting, 'DiceTable'), 'D66ParityTable').$new(\"\", [\"\", \"\", \"\", \"\", \"\", \"\"], [\"\", \"\", \"\", \"\", \"\", \"\"]));\n        \n        Opal.def(self, '$eval_game_system_specific_command', $SwordWorld2_5_eval_game_system_specific_command$1 = function $$eval_game_system_specific_command(command) {\n          var $iter = $SwordWorld2_5_eval_game_system_specific_command$1.$$p, $yield = $iter || nil, self = this, $case = nil, power_list = nil, druid_parser = nil, cmd = nil;\n\n          if ($iter) $SwordWorld2_5_eval_game_system_specific_command$1.$$p = null;\n          return (function() {$case = command;\n          if (/^dru\\[(\\d+),(\\d+),(\\d+)\\]/i['$===']($case)) {\n          power_list = $send($$($nesting, 'Regexp').$last_match().$captures(), 'map', [], \"to_i\".$to_proc());\n          druid_parser = $$$($$($nesting, 'Command'), 'Parser').$new(/dru\\[\\d+,\\d+,\\d+\\]/i, $hash2([\"round_type\"], {\"round_type\": $$$($$$($$($nesting, 'BCDice'), 'RoundType'), 'CEIL')}));\n          cmd = druid_parser.$parse(command);\n          if ($truthy(cmd)) {\n          } else {\n            return nil\n          };\n          return self.$druid_dice(cmd, power_list);}\n          else if (\"ABT\"['$===']($case)) {return self.$get_abyss_curse_table()}\n          else {return $send2(self, Opal.find_super_dispatcher(self, 'eval_game_system_specific_command', $SwordWorld2_5_eval_game_system_specific_command$1, false, true), 'eval_game_system_specific_command', [command], null)}})()\n        }, $SwordWorld2_5_eval_game_system_specific_command$1.$$arity = 1);\n        \n        Opal.def(self, '$rating_parser', $SwordWorld2_5_rating_parser$2 = function $$rating_parser() {\n          var self = this;\n\n          return $$($nesting, 'RatingParser').$new($hash2([\"version\"], {\"version\": \"v2_5\"}))\n        }, $SwordWorld2_5_rating_parser$2.$$arity = 0);\n        \n        Opal.def(self, '$druid_dice', $SwordWorld2_5_druid_dice$3 = function $$druid_dice(command, power_list) {\n          var self = this, dice_list = nil, dice_total = nil, offset = nil, $case = nil, power = nil, total = nil, sequence = nil;\n\n          \n          dice_list = self.randomizer.$roll_barabara(2, 6);\n          dice_total = dice_list.$sum();\n          offset = (function() {$case = dice_total;\n          if ($range(2, 6, false)['$===']($case)) {return 0}\n          else if ($range(7, 9, false)['$===']($case)) {return 1}\n          else if ($range(10, 12, false)['$===']($case)) {return 2}\n          else { return nil }})();\n          power = power_list['$[]'](offset);\n          total = $rb_plus(power, command.$modify_number());\n          sequence = [\"\" + \"(\" + (command.$command().$capitalize()) + ($$($nesting, 'Format').$modifier(command.$modify_number())) + \")\", \"\" + \"2D[\" + (dice_list.$join(\",\")) + \"]=\" + (dice_total), \"\" + (power) + ($$($nesting, 'Format').$modifier(command.$modify_number())), total];\n          return sequence.$join(\"  \");\n        }, $SwordWorld2_5_druid_dice$3.$$arity = 2);\n        return (Opal.def(self, '$get_abyss_curse_table', $SwordWorld2_5_get_abyss_curse_table$4 = function $$get_abyss_curse_table() {\n          var self = this, table_result = nil, additional = nil, $case = nil, final_result = nil;\n\n          \n          table_result = $$($nesting, 'ABYSS_CURSE_TABLE').$roll(self.randomizer);\n          additional = (function() {$case = table_result.$value();\n          if ((14)['$===']($case)) {return $$($nesting, 'ABYSS_CURSE_CATEGORY_TABLE').$roll(self.randomizer).$to_s()}\n          else if ((25)['$===']($case)) {return $$($nesting, 'ABYSS_CURSE_ATTR_TABLE').$roll(self.randomizer).$to_s()}\n          else { return nil }})();\n          final_result = [table_result.$to_s(), additional].$compact();\n          return final_result.$join(\"\\n\");\n        }, $SwordWorld2_5_get_abyss_curse_table$4.$$arity = 0), nil) && 'get_abyss_curse_table';\n      })($nesting[0], $$($nesting, 'SwordWorld2_0'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting);\n})(Opal);\n"],"sourceRoot":"webpack:///"}