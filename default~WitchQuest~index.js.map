{"version":3,"sources":["./node_modules/bcdice/lib/bcdice/game_system/WitchQuest.js"],"names":["require","Opal","$rb_plus","lhs","rhs","$rb_ge","self","top","$nesting","nil","$$$","$$","$module","module","$klass","klass","$send","send","$truthy","truthy","$base","$parent_nesting","concat","$super","$WitchQuest_eval_game_system_specific_command$1","$WitchQuest_challenge$2","$WitchQuest_getSuccessText$4","$WitchQuest_getStructureEncounter$5","$WitchQuest_getPersonTable1$6","$WitchQuest_getPersonTable2$8","$WitchQuest_getPersonTable3$10","$WitchQuest_getPersonTable4$12","$WitchQuest_getPersonTable$13","$$prototype","randomizer","const_set","$register_prefix","def","$$eval_game_system_specific_command","command","$case","number","$last_match","$to_i","$challenge","$getStructureEncounter","$$arity","$$challenge","$$3","success","results","successText","$$s","value1","value2","$roll_once","$join","$getSuccessText","$$getSuccessText","table","$last","$first","$get_table_by_number","$$getStructureEncounter","$a","$b","tables","text","index","person","$debug","$get_table_by_1d6","to_ary","$getPersonTable1","$$getPersonTable1","gotoNextTable","$$7","$getPersonTable2","$getPersonTable","$$getPersonTable2","$$9","$getPersonTable3","$$getPersonTable3","$$11","$getPersonTable4","$$getPersonTable4","$$getPersonTable","$roll_d66"],"mappings":"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","file":"default~WitchQuest~index.js","sourcesContent":["require('./../opal');\n\n/* Generated by Opal 1.1.1 */\n(function(Opal) {\n  function $rb_plus(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);\n  }\n  function $rb_ge(lhs, rhs) {\n    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);\n  }\n  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.$$$, $$ = Opal.$$, $module = Opal.module, $klass = Opal.klass, $send = Opal.send, $truthy = Opal.truthy;\n\n  return (function($base, $parent_nesting) {\n    var self = $module($base, 'BCDice');\n\n    var $nesting = [self].concat($parent_nesting);\n\n    (function($base, $parent_nesting) {\n      var self = $module($base, 'GameSystem');\n\n      var $nesting = [self].concat($parent_nesting);\n\n      (function($base, $super, $parent_nesting) {\n        var self = $klass($base, $super, 'WitchQuest');\n\n        var $nesting = [self].concat($parent_nesting), $WitchQuest_eval_game_system_specific_command$1, $WitchQuest_challenge$2, $WitchQuest_getSuccessText$4, $WitchQuest_getStructureEncounter$5, $WitchQuest_getPersonTable1$6, $WitchQuest_getPersonTable2$8, $WitchQuest_getPersonTable3$10, $WitchQuest_getPersonTable4$12, $WitchQuest_getPersonTable$13;\n\n        self.$$prototype.randomizer = nil;\n        \n        Opal.const_set($nesting[0], 'ID', \"WitchQuest\");\n        Opal.const_set($nesting[0], 'NAME', \"ウィッチクエスト\");\n        Opal.const_set($nesting[0], 'SORT_KEY', \"ういつちくえすと\");\n        Opal.const_set($nesting[0], 'HELP_MESSAGE', \"\" + \"・チャレンジ(成功判定)(WQn)\\n\" + \"　n回2d6ダイスを振って判定を行います。\\n\" + \"　例）WQ3\\n\" + \"・SET（ストラクチャーカードの遭遇表(SETn)\\n\" + \"　ストラクチャーカードの番号(n)の遭遇表結果を得ます。\\n\" + \"　例）SET1　SET48\\n\");\n        self.$register_prefix(\"WQ\", \"SET\");\n        \n        Opal.def(self, '$eval_game_system_specific_command', $WitchQuest_eval_game_system_specific_command$1 = function $$eval_game_system_specific_command(command) {\n          var self = this, $case = nil, number = nil;\n\n          \n          $case = command;\n          if (/WQ(\\d+)/['$===']($case)) {\n          number = $$($nesting, 'Regexp').$last_match(1).$to_i();\n          return self.$challenge(number);}\n          else if (/SET(\\d+)/['$===']($case)) {\n          number = $$($nesting, 'Regexp').$last_match(1).$to_i();\n          return self.$getStructureEncounter(number);};\n          return nil;\n        }, $WitchQuest_eval_game_system_specific_command$1.$$arity = 1);\n        \n        Opal.def(self, '$challenge', $WitchQuest_challenge$2 = function $$challenge(number) {\n          var $$3, self = this, success = nil, results = nil, successText = nil;\n\n          \n          success = 0;\n          results = [];\n          $send(number, 'times', [], ($$3 = function(){var self = $$3.$$s == null ? this : $$3.$$s, value1 = nil, value2 = nil;\n            if (self.randomizer == null) self.randomizer = nil;\n\n          \n            value1 = self.randomizer.$roll_once(6);\n            value2 = self.randomizer.$roll_once(6);\n            if (value1['$=='](value2)) {\n              success = $rb_plus(success, 1)};\n            return results['$<<'](\"\" + (value1) + \",\" + (value2));}, $$3.$$s = self, $$3.$$arity = 0, $$3));\n          successText = $rb_plus(\"\" + \"(\" + (results.$join(\" / \")) + \") ＞ \", self.$getSuccessText(success));\n          return successText;\n        }, $WitchQuest_challenge$2.$$arity = 1);\n        \n        Opal.def(self, '$getSuccessText', $WitchQuest_getSuccessText$4 = function $$getSuccessText(success) {\n          var self = this, table = nil;\n\n          \n          table = [[0, \"失敗\"], [1, \"１レベル成功(成功)\"], [2, \"２レベル成功(大成功)\"], [3, \"３レベル成功(奇跡的大成功)\"], [4, \"４レベル成功(歴史的大成功)\"], [5, \"５レベル成功(伝説的大成功)\"], [6, \"６レベル成功(神話的大成功)\"]];\n          if ($truthy($rb_ge(success, table.$last().$first()))) {\n            return table.$last().$last()};\n          return self.$get_table_by_number(success, table);\n        }, $WitchQuest_getSuccessText$4.$$arity = 1);\n        \n        Opal.def(self, '$getStructureEncounter', $WitchQuest_getStructureEncounter$5 = function $$getStructureEncounter(number) {\n          var $a, $b, self = this, tables = nil, table = nil, text = nil, index = nil, person = nil;\n\n          \n          self.$debug(\"getStructureEncounter number\", number);\n          tables = [[1, [\"船から降りてきた\", \"魚を売っている\", \"仕事で忙しそうな\", \"異国から来た\", \"おもしろおかしい\", \"汗水流している\"]], [2, [\"おかしな格好をした\", \"歌を歌っている\", \"ステキな笑顔をした\", \"日なたぼっこをしている\", \"悩んでいる\", \"旅をしている\"]], [3, [\"待ちぼうけをしている\", \"壁に登っている\", \"タバコを吸っている\", \"踊りを踊っている\", \"幸せそうな\", \"向こうから走ってくる\"]], [4, [\"見張りをしている\", \"しゃべれない\", \"見張りをしている\", \"一輪車に乗った\", \"元気いっぱいの\", \"真面目な\"]], [5, [\"ウソつきな\", \"買い物をしている\", \"ギターを弾いている\", \"あなたのほうをじっと見ている\", \"ポップコーンを売っている\", \"屋台を出している\"]], [6, [\"子供を探している\", \"時計を直している\", \"物乞いをしている\", \"気象実験をしている\", \"飛び降りようとしている\", \"時間をきにしている\"]], [7, [\"目の見えない\", \"金持ちそうな\", \"一人歩きをしたことがない\", \"ふられてしまった\", \"待ち合わせをしている\", \"道に迷った\"]], [8, [\"お祈りをしている\", \"スケッチをしている\", \"勉強熱心な\", \"記念碑を壊そうとしている\", \"大きな声で文句をいっている\", \"記念撮影している\"]], [9, [\"隠れている\", \"はしごに登っている\", \"鐘を鳴らしている\", \"共通語の通じない\", \"記憶を失った\", \"あなたのほうにバタッと倒れた\"]], [10, [\"暇そうな\", \"笑ったことがない\", \"ぶくぶくと太った\", \"後継者を探している\", \"王様におつかえしている\", \"愛国心旺盛な\"]], [11, [\"閉じ込められた\", \"悲しそうな\", \"怒っている\", \"降りれなくなっている\", \"もの憂げな\", \"飛ぼうとしている\"]], [12, [\"釣りをしている\", \"泳いでいる\", \"川に物を落としてしまった\", \"砂金を掘っている\", \"川にゴミを捨てている\", \"カエルに化かされてしまった\"]], [13, [\"世間話をしている\", \"結婚を薦めたがる\", \"いやらしい話の好きな\", \"選択をしている\", \"水を汲んでいる\", \"井戸に落ちてしまった\"]], [14, [\"人におごりたがる\", \"踊り子をしている\", \"賭けをしている\", \"泣き上戸な\", \"飲み比べをしている\", \"自慢話をしている\"]], [15, [\"素朴そうな\", \"田舎者の\", \"あなたをだまそうとしている\", \"ケンカをしている\", \"泊まるお金のない\", \"あなたに依頼をしにきた\"]], [16, [\"悪い占いの結果しか言わない\", \"あなたに嫉妬している\", \"魅惑的な\", \"おしつけがましい\", \"いいかげんな占いしかしない\", \"変わった占いをしている\"]], [17, [\"かくれんぼをしている\", \"あまやどりをしている\", \"(ここにはだれもいません)\", \"家の掃除をしている\", \"取り壊しをしようとしている\", \"昔ここに住んでいた\"]], [18, [\"畑を耕している\", \"畑を荒らしている\", \"畑泥棒の\", \"収穫している\", \"日焼けして真っ黒な\", \"嫁いできた(婿にきた)\"]], [19, [\"粉をひいている\", \"馬に乗って風車に突進している\", \"風が吹かなくて困っている\", \"寝ている\", \"筋骨りゅうりゅうな\", \"遊んでいる\"]], [20, [\"パーティーをしている\", \"酔っ払っている\", \"酒を仕込んでいる\", \"即売会をしている\", \"笑っている\", \"太った\"]], [21, [\"ひとりたたずむ\", \"花から生まれた\", \"花が大好きな\", \"花粉症の\", \"花を買いにきた\", \"ラグビーをやって花をあらしてる\"]], [22, [\"几帳面な\", \"眼鏡をかけた\", \"なまいきな\", \"なわとびをしている\", \"困っている\", \"ませている\"]], [23, [\"本を読んでいる\", \"世間話をしたがる\", \"派手な格好をした\", \"勉強熱心な\", \"うるさい\", \"魔女のことについて調べている\"]], [24, [\"神父さんに相談をしている\", \"結婚式を挙げている\", \"物静かな\", \"片足の無い\", \"熱い視線を送ってくる\", \"挑発してくる\"]], [25, [\"頑固な\", \"刀の切れ味をためしたがる\", \"いいかげんな性格の\", \"スグに弟子にしたがる\", \"見せの前でウロウロしている\", \"道を尋ねている\"]], [26, [\"不機嫌な\", \"客の意見を聞かない\", \"物を売らない\", \"不幸な気前のいい\", \"発明家の\"]], [27, [\"恋人にプレゼントを探している\", \"香り中毒になった\", \"客に手伝わせる\", \"おまじないの好きな\", \"人好きのする\", \"いじめっこな\"]], [28, [\"騒がしい\", \"お菓子を食べて涙を流している\", \"笑いの止まらない\", \"甘い物に目がない\", \"別れ話をしている\", \"あなたをお茶に誘う\"]], [29, [\"フランスパンを盗んで走る\", \"しらけた顔をした\", \"店番をする\", \"あなたをバイトで使いたがる\", \"変なパンしか作らない\", \"朝が苦手な\"]], [30, [\"偏屈な\", \"威勢のいい\", \"ケンカっぱやい\", \"野次馬根性の強い\", \"肉が食べれない\", \"心優しく気前がいい\"]], [31, [\"夫婦ケンカをしている\", \"猫に魚を盗られた\", \"助けを求めている\", \"魚の種類がわからない\", \"『おいしい』としかいわない\", \"あやしい\"]], [32, [\"ヤンキー風の\", \"自分がかっこいいと思っている\", \"力自慢の\", \"元は王様だといいはる\", \"魔女のファンだという\", \"子沢山の\"]], [33, [\"わがままな\", \"かっこいい\", \"独り言を言っている\", \"変わった料理しかださない\", \"目茶苦茶辛い料理を食べている\", \"デートをしている\"]], [34, [\"仮病を使っている\", \"不治の病を持った\", \"”おめでた”の\", \"フケた顔した\", \"髪の毛を染めた\", \"(健康でも)病名をいいたがる\"]], [35, [\"実験をしたがる\", \"精力をつけたがっている\", \"惚れ薬を探している\", \"薬づけになっている\", \"この町まで薬を売りに来た\", \"睡眠薬で自殺をしようとしている\"]], [36, [\"服まで質に入れた\", \"値段にケチをつけている\", \"疲れている\", \"子供を質に入れようとしている\", \"涙もろい\", \"人間不信な\"]], [37, [\"着飾った\", \"おねだりしている\", \"退屈そうな\", \"見栄っぱりな\", \"高いものを薦める\", \"宝石など買うつもりのない\"]], [38, [\"だだをこねている\", \"ぬいぐるみを抱いている\", \"あなたを侵略者と考えている\", \"あなたの”おしり”にさわる\", \"幸せのおもちゃを売っている\", \"あなたを自分の子と間違えている\"]], [39, [\"人の話を聞かない\", \"気分屋な\", \"カリアゲしかできない\", \"うわさ話の好きな\", \"自動販売機を開発したという\", \"おせっかいな\"]], [40, [\"お風呂あがりの\", \"こきつかわれている\", \"シェイプアップしている\", \"人から追われている\", \"人の体をじろじろと見る\", \"この町を案内してほしいという\"]], [41, [\"サングラスをかけた\", \"みんな自分のファンと思っている\", \"あなたを役者と勘違いしている\", \"あなたはスターになれるという\", \"手品をしている\", \"『いそがしい』をいい続けている\"]], [42, [\"ギャンブルをしている\", \"競技に出場している\", \"全財産を賭けている\", \"勇敢な\", \"参加者を募っている\", \"情けない競技(闘技)をしてる\"]], [43, [\"ダンスを踊っている\", \"ブレイクダンスをして場違いな\", \"子供を背中におんぶしている\", \"あなたと踊りたがる\", \"踊ったことのない\", \"食べることに夢中な\"]], [44, [\"２階からお金をばらまいている\", \"窓の奥で涙をながしている\", \"窓から忍びこもう\", \"ピアノを弾いている\", \"ここに住んでいる\", \"家に招待したがる\"]], [45, [\"馬にブラシをかけている\", \"気性の激しい\", \"騎手を探している\", \"馬と話ができる\", \"馬の生まれ変わりという\", \"馬を安楽死させようか迷っている\"]], [46, [\"いたずら好きな\", \"ライバル意識の強い\", \"魔法の下手な\", \"魔法を信じない\", \"自分を神と思っている\", \"魔法を使って人を化かしたがる\"]], [47, [\"傷だらけな\", \"両手に宝物を持った\", \"かわいい\", \"地図を見ながら出てきている\", \"剣を持った\", \"ダンジョンの主といわれる\"]], [48, [\"墓参りをしている\", \"耳の遠い\", \"死んでしまった\", \"葬式をしている\", \"きもだめしをしている\", \"墓守をしている\"]]];\n          table = self.$get_table_by_number(number, tables, nil);\n          if ($truthy(table['$nil?']())) {\n            return nil};\n          $b = self.$get_table_by_1d6(table), $a = Opal.to_ary($b), (text = ($a[0] == null ? nil : $a[0])), (index = ($a[1] == null ? nil : $a[1])), $b;\n          person = self.$getPersonTable1();\n          return \"\" + \"SET\" + (number) + \" ＞ \" + (index) + \":\" + (text) + (person);\n        }, $WitchQuest_getStructureEncounter$5.$$arity = 1);\n        \n        Opal.def(self, '$getPersonTable1', $WitchQuest_getPersonTable1$6 = function $$getPersonTable1() {\n          var self = this, gotoNextTable = nil, table = nil;\n\n          \n          gotoNextTable = $send(self, 'lambda', [], ($$7 = function(){var self = $$7.$$s == null ? this : $$7.$$s;\n\n          return $rb_plus(\"表２へ\", self.$getPersonTable2())}, $$7.$$s = self, $$7.$$arity = 0, $$7));\n          table = [[11, \"おじさん\"], [12, \"おばさん\"], [13, \"おじいさん\"], [14, \"おばあさん\"], [15, \"男の子\"], [16, \"女の子\"], [22, \"美少女\"], [23, \"美少年\"], [24, \"青年\"], [25, \"少年\"], [26, \"男女(カップル)\"], [33, \"新婚さん\"], [34, \"お兄さん\"], [35, \"お姉さん\"], [36, \"店主(お店の人)\"], [44, \"王様\"], [45, \"衛兵\"], [46, \"魔女\"], [55, \"お姫様\"], [56, gotoNextTable], [66, gotoNextTable]];\n          return self.$getPersonTable(table);\n        }, $WitchQuest_getPersonTable1$6.$$arity = 0);\n        \n        Opal.def(self, '$getPersonTable2', $WitchQuest_getPersonTable2$8 = function $$getPersonTable2() {\n          var self = this, gotoNextTable = nil, table = nil;\n\n          \n          gotoNextTable = $send(self, 'lambda', [], ($$9 = function(){var self = $$9.$$s == null ? this : $$9.$$s;\n\n          return $rb_plus(\"表３へ\", self.$getPersonTable3())}, $$9.$$s = self, $$9.$$arity = 0, $$9));\n          table = [[11, \"魔法使い\"], [12, \"観光客\"], [13, \"先生\"], [14, \"探偵\"], [15, \"刷\"], [16, \"お嬢様\"], [22, \"お嬢様\"], [23, \"紳士\"], [24, \"ご婦人\"], [25, \"女王様\"], [26, \"職人さん\"], [33, \"女子高生\"], [34, \"学生\"], [35, \"剣闘士\"], [36, \"鳥\"], [44, \"猫\"], [45, \"犬\"], [46, \"カエル\"], [55, \"蛇\"], [56, gotoNextTable], [66, gotoNextTable]];\n          return self.$getPersonTable(table);\n        }, $WitchQuest_getPersonTable2$8.$$arity = 0);\n        \n        Opal.def(self, '$getPersonTable3', $WitchQuest_getPersonTable3$10 = function $$getPersonTable3() {\n          var self = this, gotoNextTable = nil, table = nil;\n\n          \n          gotoNextTable = $send(self, 'lambda', [], ($$11 = function(){var self = $$11.$$s == null ? this : $$11.$$s;\n\n          return $rb_plus(\"表４へ\", self.$getPersonTable4())}, $$11.$$s = self, $$11.$$arity = 0, $$11));\n          table = [[11, \"貴族\"], [12, \"いるか\"], [13, \"だいこん\"], [14, \"じゃがいも\"], [15, \"にんじん\"], [16, \"ドラゴン\"], [22, \"ゾンビ\"], [23, \"幽霊\"], [24, \"うさぎ\"], [25, \"天使\"], [26, \"悪魔\"], [33, \"赤ちゃん\"], [34, \"馬\"], [35, \"石\"], [36, \"お母さん\"], [44, \"妖精\"], [45, \"守護霊\"], [46, \"猫神様\"], [55, \"ロボット\"], [56, \"恐ろしい人\"], [66, gotoNextTable]];\n          return self.$getPersonTable(table);\n        }, $WitchQuest_getPersonTable3$10.$$arity = 0);\n        \n        Opal.def(self, '$getPersonTable4', $WitchQuest_getPersonTable4$12 = function $$getPersonTable4() {\n          var self = this, table = nil;\n\n          \n          table = [[11, \"魔女エディス\"], [12, \"魔女レーデルラン\"], [13, \"魔女キリル\"], [14, \"大魔女”ロロ”様\"], [15, \"エディスのお母さん”エリー”\"], [16, \"猫トンガリ\"], [22, \"猫ヒューベ\"], [23, \"猫ゆうのす\"], [24, \"猫集会の集団の一団\"], [25, \"岩\"], [26, \"PCの母\"], [33, \"PCの父\"], [34, \"PCの兄\"], [35, \"PCの姉\"], [36, \"PCの弟\"], [44, \"PCの妹\"], [45, \"PCの遠い親戚\"], [46, \"PCの死んだはずの両親\"], [55, \"初恋の人\"], [56, \"分かれた女(男)、不倫中の相手、または独身PCの場合、二股をかけている二人の両方\"], [66, \"宇宙人\"]];\n          return self.$getPersonTable(table);\n        }, $WitchQuest_getPersonTable4$12.$$arity = 0);\n        return (Opal.def(self, '$getPersonTable', $WitchQuest_getPersonTable$13 = function $$getPersonTable(table) {\n          var self = this, number = nil;\n\n          \n          number = self.randomizer.$roll_d66($$$($$($nesting, 'D66SortType'), 'ASC'));\n          self.$debug(\"getPersonTable number\", number);\n          return $rb_plus(\"\" + \" ＞ \" + (number) + \":\", self.$get_table_by_number(number, table));\n        }, $WitchQuest_getPersonTable$13.$$arity = 1), nil) && 'getPersonTable';\n      })($nesting[0], $$($nesting, 'Base'), $nesting)\n    })($nesting[0], $nesting)\n  })($nesting[0], $nesting)\n})(Opal);\n"],"sourceRoot":"webpack:///"}